{
    "ClientConfiguration": {
        "ConfigurationName": "Simple Учет",
        "ConfigurationDescription": "Простое решение для работы с штрихкодами товаров. Поставляется в комплекте с расширением для 1С. Подробнее про расширение Вы можете узнать по ссылке: https://www.simple-kit.ru/products/simple-uchet/ ",
        "ConfigurationVersion": "0.1.11.0",
        "Processes": [
            {
                "type": "Process",
                "ProcessName": "Документы",
                "hidden": false,
                "DefineOnBackPressed": true,
                "login_screen": false,
                "PlanFactHeader": "...",
                "SC": false,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Плитки",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "Tiles",
                                "Value": "@tiles",
                                "Variable": "tiles",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@gtin",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@series",
                                        "Variable": ""
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "tiles_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "tiles_on_input",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Документы",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "height_value": "",
                                "width_value": "",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "height_value": "",
                                        "width_value": "",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "type": "SpinnerLayout",
                                                "Value": "@doc_type_select",
                                                "Variable": "doc_type_click",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "left",
                                                "gravity_vertical": "center",
                                                "weight": "1"
                                            },
                                            {
                                                "type": "SpinnerLayout",
                                                "Value": "@doc_status_select",
                                                "Variable": "doc_status_click",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "left",
                                                "gravity_vertical": "center",
                                                "weight": "1"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@docCards",
                                        "Variable": "doc_cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "docs_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "docs_on_select",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Документ товары",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "height_value": "",
                                "width_value": "",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "height_value": "",
                                        "width_value": "",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "vertical",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "LinearLayout",
                                                        "Variable": "",
                                                        "Elements": [
                                                            {
                                                                "TextSize": "24",
                                                                "TextColor": "#7A005C",
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@doc_n",
                                                                "Variable": ""
                                                            },
                                                            {
                                                                "TextBold": false,
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@doc_date",
                                                                "Variable": "doc_date"
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@warehouse",
                                                                "Variable": "warehouse"
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@countragent",
                                                                "Variable": "countragent"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TableLayout",
                                        "Value": "@doc_goods_table",
                                        "Variable": "doc_goods_table"
                                    },
                                    {
                                        "BackgroundColor": "#FFFFFF",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Выгрузить документ",
                                        "Variable": "btn_doc_mark_verified"
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "CButtons",
                                                "Value": "",
                                                "Variable": ""
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode_camera"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Все строки",
                                "Variable": "btn_rows_filter_off"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Необработанные строки",
                                "Variable": "btn_rows_filter_on"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Ввести штрихкод",
                                "Variable": "btn_barcodes"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Выгрузить документ",
                                "Variable": "btn_doc_mark_verified"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "doc_details_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "doc_details_listener",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Товар",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Doc_data",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "24",
                                                "TextColor": "#7A005C",
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "left",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@Good",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_good_select"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@properties",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_properties"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@Series",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_series"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@Unit",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_unit"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "План",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@qtty_plan",
                                                        "Variable": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Факт",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "EditTextNumeric",
                                                        "Value": "@qtty",
                                                        "Variable": "qtty"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "Цена",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "EditTextNumeric",
                                                "Value": "@price",
                                                "Variable": "price"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "Button",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@barcode_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            },
                            {
                                "type": "HorizontalGallery",
                                "Value": "@photoGallery",
                                "Variable": "photoGallery"
                            },
                            {
                                "type": "photo",
                                "Value": "",
                                "Variable": "photo"
                            },
                            {
                                "type": "photoGallery",
                                "Value": "",
                                "Variable": "photo"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "elem_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "elem_on_click",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Товар выбор",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextSize": "16",
                                        "TextColor": "",
                                        "TextBold": false,
                                        "TextItalic": false,
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Doc_data",
                                        "Variable": "",
                                        "style_name": "",
                                        "drawable": "forward"
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "vertical",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "match_parent",
                                                "width": "match_parent",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "horizontal",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "weight": "1",
                                                        "type": "LinearLayout",
                                                        "Variable": "",
                                                        "Elements": [
                                                            {
                                                                "TextColor": "#000000",
                                                                "TextBold": true,
                                                                "height": "wrap_content",
                                                                "width": "wrap_content",
                                                                "gravity_horizontal": "left",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "Артикул:",
                                                                "Variable": ""
                                                            },
                                                            {
                                                                "TextColor": "#000000",
                                                                "height": "wrap_content",
                                                                "width": "wrap_content",
                                                                "gravity_horizontal": "left",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@good_art",
                                                                "Variable": ""
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "horizontal",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "right",
                                                        "weight": "7",
                                                        "type": "LinearLayout",
                                                        "Variable": "",
                                                        "Elements": [
                                                            {
                                                                "TextColor": "#000000",
                                                                "height": "wrap_content",
                                                                "width": "wrap_content",
                                                                "gravity_horizontal": "right",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@good_str",
                                                                "Variable": ""
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "TextColor": "#000000",
                                                        "TextBold": true,
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "left",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Серия:",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextColor": "#000000",
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "left",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@good_sn",
                                                        "Variable": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "TextColor": "#000000",
                                                        "TextBold": true,
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "left",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Характеристика:",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextColor": "#000000",
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@good_property",
                                                        "Variable": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "TextColor": "#cc0000",
                                                        "TextBold": true,
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "left",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Цена:",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextColor": "#cc0000",
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@good_price",
                                                        "Variable": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "TextColor": "#000000",
                                                        "TextBold": true,
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "left",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Упаковка:",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextColor": "#000000",
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@good_unit",
                                                        "Variable": ""
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "#7A005C",
                                        "TextBold": true,
                                        "BackgroundColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Good",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "План",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "TextColor": "",
                                                        "TextBold": false,
                                                        "TextItalic": false,
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@qtty_plan",
                                                        "Variable": "qtty_plan",
                                                        "style_name": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "fact_qtty_input",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Факт",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "TextColor": "",
                                                        "TextBold": false,
                                                        "TextItalic": false,
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "EditTextNumeric",
                                                        "Value": "@qtty",
                                                        "Variable": "qtty",
                                                        "style_name": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "fact_qtty_note",
                                                "Elements": [
                                                    {
                                                        "TextColor": "",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Факт",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "TextColor": "#000000",
                                                        "TextBold": false,
                                                        "TextItalic": false,
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@qtty",
                                                        "Variable": "",
                                                        "style_name": ""
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "#FFFFFF",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "Button",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@barcode_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "elem_viev_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "elem_viev_on_click",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Документ штрихкоды",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@barc_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "doc_barcodes_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "doc_barcodes_listener",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Удаление штрихкода",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Товар с такой маркировкой уже есть в документе!",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "#7A005C",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@good",
                                        "Variable": "id_good"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@code_art",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@unit_name",
                                        "Variable": "id_unit"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@barcode_value",
                                        "Variable": "barcode_value1"
                                    },
                                    {
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Отменить",
                                                "Variable": "btn_barcode_cancel"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Удалить",
                                                "Variable": "btn_barcode_delete"
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "delete_barcode_screen_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "delete_barcode_screen_click",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Ошибка сканера",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@scanned_barcode",
                                        "Variable": "scanned_barcode"
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "ОШИБКА",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Товар не найден по штрихкоду!",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Сканер отключен",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Продолжить сканирование",
                                        "Variable": "btn_continue_scan"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "barcode_error_screen_listener",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "ВвестиШтрихкод",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": false,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Введите значение штрихкода",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "EditTextText",
                                        "Value": "@fld_barcode",
                                        "Variable": "fld_barcode"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "ПотокШтрихкодовДокумента",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextSize": "18",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@doc_type",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "24",
                                                "TextColor": "#7A005C",
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@doc_n",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@doc_date",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "|| ||| ||",
                                                "Variable": "btn_barcodes"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@warehouse",
                                        "Variable": ""
                                    },
                                    {
                                        "orientation": "vertical",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@countragent",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@doc_barc_flow",
                                        "Variable": "doc_barc_flow"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Выгрузить документ",
                                        "Variable": "btn_doc_mark_verified"
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode_camera"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "barcode_flow_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "barcode_flow_listener",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    }
                ]
            },
            {
                "type": "Process",
                "ProcessName": "Групповая обработка",
                "hidden": false,
                "DefineOnBackPressed": true,
                "login_screen": false,
                "PlanFactHeader": "...",
                "SC": false,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Плитки",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "Tiles",
                                "Value": "@tiles",
                                "Variable": "tiles",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@gtin",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@series",
                                        "Variable": ""
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "tiles_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "tiles_on_input",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Документы",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "height_value": "",
                                "width_value": "",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "type": "SpinnerLayout",
                                                "Value": "@doc_type_select",
                                                "Variable": "doc_type_click",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "weight": "1"
                                            },
                                            {
                                                "type": "SpinnerLayout",
                                                "Value": "@doc_status_select",
                                                "Variable": "doc_status_click",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "weight": "1"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@docCards",
                                        "Variable": "doc_cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "docs_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "docs_on_select",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Документ товары",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "height_value": "",
                                "width_value": "",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "height_value": "",
                                        "width_value": "",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "vertical",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "LinearLayout",
                                                        "Variable": "",
                                                        "Elements": [
                                                            {
                                                                "TextSize": "24",
                                                                "TextColor": "#7A005C",
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@doc_n",
                                                                "Variable": ""
                                                            },
                                                            {
                                                                "TextBold": false,
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@doc_date",
                                                                "Variable": "doc_date"
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@warehouse",
                                                                "Variable": "warehouse"
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@countragent",
                                                                "Variable": "countragent"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TableLayout",
                                        "Value": "@doc_goods_table",
                                        "Variable": "doc_goods_table"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@doc_goods_cards",
                                        "Variable": "doc_goods_cards"
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "CButtons",
                                                "Value": "",
                                                "Variable": ""
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode_camera"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Все строки",
                                "Variable": "btn_rows_filter_off"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Необработанные строки",
                                "Variable": "btn_rows_filter_on"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "doc_details_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "doc_details_listener",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "listener": "",
                                "action": "runasync",
                                "type": "python",
                                "method": "doc_details_barcode_scanned",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Товар",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Doc_data",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "24",
                                                "TextColor": "#7A005C",
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "left",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@Good",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_good_select"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@properties",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_properties"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@Series",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_series"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@Unit",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_unit"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "План",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@qtty_plan",
                                                        "Variable": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Факт",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "EditTextNumeric",
                                                        "Value": "@qtty",
                                                        "Variable": "qtty"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "Цена",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "EditTextNumeric",
                                                "Value": "@price",
                                                "Variable": "price"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "Button",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@barcode_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            },
                            {
                                "type": "HorizontalGallery",
                                "Value": "@photoGallery",
                                "Variable": "photoGallery"
                            },
                            {
                                "type": "photo",
                                "Value": "",
                                "Variable": "photo"
                            },
                            {
                                "type": "photoGallery",
                                "Value": "",
                                "Variable": "photo"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "elem_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "elem_on_click",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Товар выбор",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Doc_data",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "#7A005C",
                                        "TextBold": true,
                                        "BackgroundColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Good",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Good_info",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "План",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@qtty_plan",
                                                        "Variable": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Факт",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "EditTextNumeric",
                                                        "Value": "@qtty",
                                                        "Variable": "qtty"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "Цена",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "EditTextNumeric",
                                                "Value": "@price",
                                                "Variable": "price"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "#FFFFFF",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "Button",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@barcode_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "elem_viev_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "elem_viev_on_click",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Документ штрихкоды",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@barc_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "doc_barcodes_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "doc_barcodes_listener",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Удаление штрихкода",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Товар с такой маркировкой уже есть в документе!",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "#7A005C",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@good",
                                        "Variable": "id_good"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@code_art",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@unit_name",
                                        "Variable": "id_unit"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@barcode_value",
                                        "Variable": "barcode_value1"
                                    },
                                    {
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Отменить",
                                                "Variable": "btn_barcode_cancel"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Удалить",
                                                "Variable": "btn_barcode_delete"
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "delete_barcode_screen_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "delete_barcode_screen_click",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Ошибка сканера",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@scanned_barcode",
                                        "Variable": "scanned_barcode"
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "ОШИБКА",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Товар не найден по штрихкоду!",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Сканер отключен",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Продолжить сканирование",
                                        "Variable": "btn_continue_scan"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "barcode_error_screen_listener",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "ВвестиШтрихкод",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": false,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Введите значение штрихкода",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "EditTextText",
                                        "Value": "@fld_barcode",
                                        "Variable": "fld_barcode"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "ПотокШтрихкодовДокумента",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextSize": "18",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@doc_type",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "24",
                                                "TextColor": "#7A005C",
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@doc_n",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@doc_date",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "|| ||| ||",
                                                "Variable": "btn_barcodes"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@warehouse",
                                        "Variable": ""
                                    },
                                    {
                                        "orientation": "vertical",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@countragent",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@doc_barc_flow",
                                        "Variable": "doc_barc_flow"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Отметить к отправке",
                                        "Variable": "btn_doc_mark_verified"
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode_camera"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "barcode_flow_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "barcode_flow_listener",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Подтвердите действие",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": false,
                        "hideToolBarScreen": false,
                        "noConfirmation": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextSize": "",
                                        "TextColor": "",
                                        "TextBold": false,
                                        "TextItalic": false,
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Вы открываете документ для групповой работы. В этом режиме данные передаются в 1С при каждом сканировании, а ввод количества вручную недоступен. Хотите продолжить?",
                                        "Variable": "",
                                        "style_name": "",
                                        "drawable": "forward"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    }
                ]
            },
            {
                "type": "Process",
                "ProcessName": "Универсальный справочник",
                "hidden": true,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Справочник",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@cards",
                                        "Variable": "current_card"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "online",
                                "method": "universal_cards_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "online",
                                "method": "universal_cards_listener",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    }
                ]
            },
            {
                "type": "Process",
                "ProcessName": "Товары",
                "DefineOnBackPressed": true,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Товары список",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextItalic": false,
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "2",
                                                "type": "TextView",
                                                "Value": "Категория:",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "object",
                                                "Value": "@select_goods_type",
                                                "Variable": "select_goods_type"
                                            }
                                        ]
                                    },
                                    {
                                        "TextColor": "#ff0000",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@error_txt",
                                        "Variable": "error_txt"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@goods_cards",
                                        "Variable": "goods_cards"
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "goods_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "goods_on_input",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Цены товара",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextColor": "18",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@name",
                                        "Variable": ""
                                    },
                                    {
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@code",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@type_name",
                                                "Variable": ""
                                            }
                                        ]
                                    },
                                    {
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@good_prices",
                                        "Variable": "good_prices"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "price_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "price_on_click",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Выбор",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@cards",
                                        "Variable": "cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "good_types_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "good_types_on_click",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Карточка товара",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "buttons",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "ProgressButton",
                                                "Value": "Цены",
                                                "Variable": "to_prices"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "2",
                                                "type": "TextView",
                                                "Value": "",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "ProgressButton",
                                                "Value": "Остатки",
                                                "Variable": "to_remains"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "vertical",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "name",
                                        "Elements": [
                                            {
                                                "TextSize": "22",
                                                "TextColor": "#7A005C",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@good_name",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@item_key",
                                                "Variable": "item_key"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "vertical",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "good_info",
                                        "Elements": [
                                            {
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@good_type",
                                                "Variable": "good_type"
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "art",
                                                "Elements": [
                                                    {
                                                        "TextBold": true,
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Артикул:",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextBold": false,
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@good_art",
                                                        "Variable": "good_art"
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "code",
                                                "Elements": [
                                                    {
                                                        "TextBold": true,
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Код:",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@good_code",
                                                        "Variable": "good_code"
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "descr",
                                                "Elements": [
                                                    {
                                                        "TextBold": true,
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Описание:",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@good_descr",
                                                        "Variable": "good_descr"
                                                    }
                                                ]
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "CardsLayout",
                                                "Value": "@barcode_cards",
                                                "Variable": "barcode_cards"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@load_info",
                                        "Variable": "load_info"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "good_card_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "good_card_on_input",
                                "postExecute": ""
                            },
                            {
                                "event": "onPostStart",
                                "action": "run",
                                "type": "python",
                                "method": "get_good_variants",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    }
                ]
            },
            {
                "type": "Process",
                "ProcessName": "Параметры",
                "hidden": false,
                "DefineOnBackPressed": true,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Настройки и обмен",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextSize": "25",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@ip_adr",
                                        "Variable": "text_ip"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Настройки маркировки",
                                        "Variable": "",
                                        "drawable": "plus"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CheckBox",
                                        "Value": "ИспользоватьМаркировку",
                                        "Variable": "use_mark"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CheckBox",
                                        "Value": "Разрешить ввод факт товара",
                                        "Variable": "allow_fact_input"
                                    },
                                    {
                                        "TextSize": "",
                                        "TextColor": "",
                                        "TextBold": false,
                                        "TextItalic": false,
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "EditTextText",
                                        "Value": "@path",
                                        "Variable": "path",
                                        "style_name": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Настройки HTTP подключения",
                                        "Variable": "btn_http_settings"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Настройки шрифтов",
                                        "Variable": "btn_size"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Настройки звука",
                                        "Variable": "btn_sound_settings"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Тест сканера",
                                        "Variable": "btn_test_barcode"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Лог ошибок",
                                        "Variable": "btn_err_log"
                                    },
                                    {
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Очистить базу",
                                        "Variable": "bnt_clear_tables"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Выгрузить данные на  HTTP сервер",
                                        "Variable": "btn_upload_docs"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Обмен с HTTP 1c сервером",
                                        "Variable": "btn_timer"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "settings_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "settings_on_click",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "СписокФайлов",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "MultilineText",
                                        "Value": "@files_list",
                                        "Variable": "files_list"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "file_list_on_start",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Настройки Шрифтов",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Размеры",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@TitleTextSize",
                                        "Variable": "TitleTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@CardTitleTextSize",
                                        "Variable": "CardTitleTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@CardDateTextSize",
                                        "Variable": "CardDateTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@CardTextSize",
                                        "Variable": "CardTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@GoodsCardTitleTextSize",
                                        "Variable": "GoodsCardTitleTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@goodsTextSize",
                                        "Variable": "goodsTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@SeriesPropertiesTextSize",
                                        "Variable": "SeriesPropertiesTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@DocTypeCardTextSize",
                                        "Variable": "DocTypeCardTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@titleDocTypeCardTextSize",
                                        "Variable": "titleDocTypeCardTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Сохранить",
                                        "Variable": "btn_on_save"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "font_sizes_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "font_size_settings_listener",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Тест сканера",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextSize": "20",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Отсканируйте штрихкод",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_1",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_2",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_3",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_4",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_5",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_6",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_7",
                                        "Variable": ""
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode_camera"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "test_barcode_listener",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Ошибки",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "MultilineText",
                                        "Value": "@error_log",
                                        "Variable": "error_log"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Очистить",
                                        "Variable": "btn_clear_err"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "settings_errors_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "settings_errors_on_click",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Настройки http соединения",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextSize": "25",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Адрес сервера",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@url",
                                        "Variable": "url"
                                    },
                                    {
                                        "TextSize": "20",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Пользователь",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@user",
                                        "Variable": "user"
                                    },
                                    {
                                        "TextSize": "20",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Пароль",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@pass",
                                        "Variable": "pass"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Ваше имя для идентификации в 1С",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@user_name",
                                        "Variable": "user_name"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "@btn_test_connection",
                                        "Variable": "btn_test_connection"
                                    },
                                    {
                                        "TextSize": "20",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@ANDROID_ID",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "ProgressButton",
                                                "Value": "Отменить",
                                                "Variable": "btn_cancel"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "ProgressButton",
                                                "Value": "Сохранить",
                                                "Variable": "btn_save"
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode_camera2"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "http_settings_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "http_settings_on_click",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "type": "Operation",
                        "Name": "Настройка звука",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Номер мелодии",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "",
                                        "TextColor": "",
                                        "TextBold": false,
                                        "TextItalic": false,
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@signal_num_card",
                                        "Variable": "signal_num_value",
                                        "style_name": ""
                                    },
                                    {
                                        "TextSize": "",
                                        "TextColor": "",
                                        "TextBold": false,
                                        "TextItalic": false,
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@beep_duration_card",
                                        "Variable": "beep_duration_value",
                                        "style_name": ""
                                    },
                                    {
                                        "TextSize": "",
                                        "TextColor": "",
                                        "TextBold": false,
                                        "TextItalic": false,
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Тест звука",
                                        "Variable": "btn_test_sound",
                                        "style_name": ""
                                    },
                                    {
                                        "TextSize": "",
                                        "TextColor": "",
                                        "TextBold": false,
                                        "TextItalic": false,
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Сохранить и закрыть",
                                        "Variable": "btn_on_save",
                                        "style_name": ""
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "sound_settings_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "sound_settings_listener",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    }
                ]
            },
            {
                "type": "Process",
                "ProcessName": "Отладка",
                "hidden": true,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Отладочный экран",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": true,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Настройки маркировки",
                                        "Variable": "",
                                        "drawable": "plus"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CheckBox",
                                        "Value": "ИспользоватьМаркировку",
                                        "Variable": "use_mark"
                                    },
                                    {
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "EditTextText",
                                        "Value": "@ip_host",
                                        "Variable": "ip_host"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Скопировать базу на компьютер",
                                        "Variable": "btn_copy_base"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "EditTextText",
                                        "Value": "@path",
                                        "Variable": "path"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CheckBox",
                                        "Value": "Удалять файлы после загрузки",
                                        "Variable": "delete_files"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Загрузить локальные csv файлы",
                                        "Variable": "btn_local_files"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Выгрузить изменения в csv ",
                                        "Variable": "btn_export"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Создать таблицы БД",
                                        "Variable": "btn_init"
                                    },
                                    {
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Список локальных файлов",
                                        "Variable": "btn_files_list"
                                    },
                                    {
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Версия конфигурации",
                                        "Variable": "btn_conf_version"
                                    },
                                    {
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Очистить базу",
                                        "Variable": "bnt_clear_tables"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onInput",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "debug_listener",
                                "postExecute": ""
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    }
                ]
            }
        ],
        "ConfigurationSettings": {
            "uid": "a6ce59bc3f714a5284213f6e293e3e91",
            "vendor": "Simple",
            "vendor_url": "",
            "vendor_auth": "",
            "handler_split_mode": false,
            "handler_code": "",
            "handler_url": "",
            "handler_auth": "",
            "dictionaries": ""
        },
        "ConfigurationTags": "Py,off-line,ActiveCV®",
        "FaceRecognitionURL": "",
        "ForegroundService": false,
        "StopForegroundServiceOnExit": false,
        "RunPython": true,
        "LaunchProcess": "",
        "MainMenu": [
            {
                "MenuId": "01",
                "MenuItem": "faq",
                "MenuTitle": "FAQ",
                "MenuTop": false
            }
        ],
        "Mediafile": [],
        "PyHandlers": "aW1wb3J0IGRiX3NlcnZpY2VzCmZyb20gcnUudHJhdmVsZm9vZC5zaW1wbGVfdWkgaW1wb3J0IFNpbXBsZVV0aWxpdGVzIGFzIHN1Q2xhc3MKCmltcG9ydCB1aV9iYXJjb2RlcwppbXBvcnQgdWlfY3N2CmltcG9ydCB1aV9nbG9iYWwKaW1wb3J0IHVpX2Zvcm1fZGF0YQppbXBvcnQgdWlfZm9ybV9kYXRhMiBhcyB1aV90YWJsZXNfc3RydWN0dXJlCmltcG9ydCB1aV9tb2RlbHMKaW1wb3J0IHNvY2tldAppbXBvcnQganNvbgppbXBvcnQgcmVxdWVzdHMKaW1wb3J0IGRhdGFiYXNlX2luaXRfcXVlcnllcwppbXBvcnQgb3MKZnJvbSBQSUwgaW1wb3J0IEltYWdlCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmltcG9ydCBpbXBvcnRsaWIKCmltcG9ydCB3aWRnZXRzCiMgZnJvbSByc19zZXR0aW5ncyBpbXBvcnQgUlNTZXR0aW5ncwpmcm9tIGphdmEgaW1wb3J0IGpjbGFzcwppbXBvcnQgaHR0cF9leGNoYW5nZQpmcm9tIHJlcXVlc3RzLmF1dGggaW1wb3J0IEhUVFBCYXNpY0F1dGgKaW1wb3J0IHVpX3V0aWxzCmZyb20gdWlfdXRpbHMgaW1wb3J0IEhhc2hNYXAKZnJvbSBydS50cmF2ZWxmb29kLnNpbXBsZV91aSBpbXBvcnQgSW1wb3J0VXRpbHMgYXMgaXVDbGFzcwojIGZyb20gYW5kcm9pZC5ncmFwaGljcy5kcmF3YWJsZSBpbXBvcnQgR3JhZGllbnREcmF3YWJsZSBhcyBHcmFkaWVudERyYXdhYmxlCiMgZnJvbSBhbmRyb2lkLmdyYXBoaWNzIGltcG9ydCBDb2xvcgoKbm9DbGFzcyA9IGpjbGFzcygicnUudHJhdmVsZm9vZC5zaW1wbGVfdWkuTm9TUUwiKQpyc19zZXR0aW5ncyA9IG5vQ2xhc3MoInJzX3NldHRpbmdzIikKCmltcG9ydGxpYi5yZWxvYWQodWlfY3N2KQppbXBvcnRsaWIucmVsb2FkKHVpX2dsb2JhbCkKaW1wb3J0bGliLnJlbG9hZCh1aV9mb3JtX2RhdGEpCmltcG9ydGxpYi5yZWxvYWQodWlfdGFibGVzX3N0cnVjdHVyZSkKaW1wb3J0bGliLnJlbG9hZChkYXRhYmFzZV9pbml0X3F1ZXJ5ZXMpCmltcG9ydGxpYi5yZWxvYWQoaHR0cF9leGNoYW5nZSkKaW1wb3J0bGliLnJlbG9hZCh1aV91dGlscykKaW1wb3J0bGliLnJlbG9hZChkYl9zZXJ2aWNlcykKaW1wb3J0bGliLnJlbG9hZCh3aWRnZXRzKQppbXBvcnRsaWIucmVsb2FkKHVpX21vZGVscykKCiMgPT09PT09PT09PT09PT09IERvY3VtZW50cyA9PT09PT09PT09PT09PT09PQoKCmRlZiBjcmVhdGVfc2NyZWVuKGhhc2hfbWFwKToKICAgIHNjcmVlbl9wYXJhbXMgPSB7CiAgICAgICAgJ2hhc2hfbWFwJzogaGFzaF9tYXAsCiAgICAgICAgJ3JzX3NldHRpbmdzJzogcnNfc2V0dGluZ3MKICAgIH0KICAgIHNjcmVlbiA9IHVpX21vZGVscy5TY3JlZW5zRmFjdG9yeS5jcmVhdGVfc2NyZWVuKCoqc2NyZWVuX3BhcmFtcykKICAgIGlmIG5vdCBzY3JlZW46CiAgICAgICAgc2NyZWVuID0gdWlfbW9kZWxzLk1vY2tTY3JlZW4oaGFzaF9tYXAsIHJzX3NldHRpbmdzKQoKICAgIHJldHVybiBzY3JlZW4KCgpASGFzaE1hcCgpCmRlZiB0aWxlc19vbl9zdGFydChoYXNoX21hcDogSGFzaE1hcCk6CiAgICBzY3JlZW4gPSBjcmVhdGVfc2NyZWVuKGhhc2hfbWFwKQogICAgc2NyZWVuLm9uX3N0YXJ0KCkKCgpASGFzaE1hcCgpCmRlZiB0aWxlc19vbl9pbnB1dChoYXNoX21hcDogSGFzaE1hcCk6CiAgICBzY3JlZW4gPSBjcmVhdGVfc2NyZWVuKGhhc2hfbWFwKQogICAgc2NyZWVuLm9uX2lucHV0KCkKCgpASGFzaE1hcCgpCmRlZiBkb2NzX29uX3N0YXJ0KGhhc2hfbWFwOiBIYXNoTWFwKToKICAgIHNjcmVlbiA9IGNyZWF0ZV9zY3JlZW4oaGFzaF9tYXApCiAgICBzY3JlZW4ub25fc3RhcnQoKQoKCkBIYXNoTWFwKCkKZGVmIGRvY3Nfb25fc2VsZWN0KGhhc2hfbWFwOiBIYXNoTWFwKToKICAgIHNjcmVlbiA9IGNyZWF0ZV9zY3JlZW4oaGFzaF9tYXApCiAgICBzY3JlZW4ub25faW5wdXQoKQoKCkBIYXNoTWFwKCkKZGVmIGRvY19kZXRhaWxzX29uX3N0YXJ0KGhhc2hfbWFwOiBIYXNoTWFwKToKICAgIHNjcmVlbiA9IGNyZWF0ZV9zY3JlZW4oaGFzaF9tYXApCiAgICBzY3JlZW4ub25fc3RhcnQoKQoKCkBIYXNoTWFwKCkKZGVmIGRvY19kZXRhaWxzX2xpc3RlbmVyKGhhc2hfbWFwOiBIYXNoTWFwKToKICAgIHNjcmVlbiA9IGNyZWF0ZV9zY3JlZW4oaGFzaF9tYXApCiAgICBzY3JlZW4ub25faW5wdXQoKQoKCkBIYXNoTWFwKCkKZGVmIGRvY19kZXRhaWxzX2JhcmNvZGVfc2Nhbm5lZChoYXNoX21hcDogSGFzaE1hcCk6CiAgICBzY3JlZW4gPSB1aV9tb2RlbHMuR3JvdXBTY2FuRG9jRGV0YWlsc1NjcmVlbihoYXNoX21hcCwgcnNfc2V0dGluZ3MpCiAgICBzY3JlZW4ucG9zdF9iYXJjb2RlX3NjYW5uZWQoZ2V0X2h0dHBfc2V0dGluZ3MoaGFzaF9tYXApKQoKCiMgXl5eXl5eXl5eXl5eXl5eXl4gRG9jdW1lbnRzIF5eXl5eXl5eXl5eXl5eXl5eCgoKZGVmIHNldHRpbmdzX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgICMgaGFzaE1hcC5wdXQoJ3RvYXN0Jywn0L7QsdC90L7QstC40LvQuNGB0YwnKQogICAgI2FwcF9vbl9zdGFydChoYXNoTWFwKQogICAgcyA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQsIHNvY2tldC5TT0NLX0RHUkFNKQogICAgdHJ5OgogICAgICAgIHMuY29ubmVjdCgoIjguOC44LjgiLCA4MCkpCiAgICAgICAgYWEgPSAocy5nZXRzb2NrbmFtZSgpWzBdKQogICAgICAgICMgYWEgPSBoYXNoTWFwLmdldCgnaXBfYWRyJykKICAgICAgICBoYXNoTWFwLnB1dCgnaXBfYWRyJywgYWEpCiAgICAgICAgIyBoYXNoTWFwLnB1dCgndG9hc3QnLCBhYSkKICAgIGV4Y2VwdDoKICAgICAgICBoYXNoTWFwLnB1dCgnaXBfYWRyJywgJ9C90LXRgiDRgdC10YLQuCcpCiAgICAjIGFwcF9vbl9zdGFydChoYXNoTWFwKQogICAgIyDQl9C90LDRh9C10L3QuNGPINC60L7QvdGB0YLQsNC90YIg0Lgg0L3QsNGB0YLRgNC+0LXQugogICAgI3JlcyA9IHVpX2dsb2JhbC5nZXRfY29uc3RhbnRzKCkKICAgICNpZiByZXM6CiAgICAgICAgIyBoYXNoTWFwLnB1dCgndXNlX3NlcmllcycsIHN0cihyZXNbMV0pKQogICAgICAgICMgaGFzaE1hcC5wdXQoJ3VzZV9wcm9wZXJ0aWVzJywgc3RyKHJlc1syXSkpCiAgICBoYXNoTWFwLnB1dCgndXNlX21hcmsnLCByc19zZXR0aW5ncy5nZXQoJ3VzZV9tYXJrJykpICAjc3RyKHJlc1szXSkpCiAgICBoYXNoTWFwLnB1dCgnYWxsb3dfZmFjdF9pbnB1dCcsIHJzX3NldHRpbmdzLmdldCgnYWxsb3dfZmFjdF9pbnB1dCcpKSAgI3N0cihyZXNbM10pKQogICAgaGFzaE1hcC5wdXQoJ2FkZF9pZl9ub3RfaW5fcGxhbicscnNfc2V0dGluZ3MuZ2V0KCdhZGRfaWZfbm90X2luX3BsYW4nKSkgICMgc3RyKHJlc1s0XSkpCiAgICBoYXNoTWFwLnB1dCgncGF0aCcscnNfc2V0dGluZ3MuZ2V0KCdwYXRoJykgKSAjIHN0cihyZXNbNV0pKQogICAgaGFzaE1hcC5wdXQoJ2RlbGV0ZV9maWxlcycscnNfc2V0dGluZ3MuZ2V0KCdkZWxldGVfZmlsZXMnKSkgICMgc3RyKHJlc1s2XSkpCiAgICBoYXNoTWFwLnB1dCgnYWxsb3dfb3ZlcnNjYW4nLHJzX3NldHRpbmdzLmdldCgnYWxsb3dfb3ZlcnNjYW4nKSkgICMgc3RyKHJlc1s5XSkpCgogICAgaWYgbm90IGhhc2hNYXAuY29udGFpbnNLZXkoJ2lwX2hvc3QnKToKICAgICAgICBoYXNoTWFwLnB1dCgnaXBfaG9zdCcsICcxOTIuMTY4LjEuNzcnKQoKICAgIHJldHVybiBoYXNoTWFwCgpkZWYgc2V0dGluZ3Nfb25fY2xpY2soaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgI9CY0YHQv9C+0LvRjNC30L7QstCw0YLRjCDQvNCw0YDQutC40YDQvtCy0LrRgwogICAgdXNlX21hcmsgPSBoYXNoTWFwLmdldCgndXNlX21hcmsnKQogICAgaWYgdXNlX21hcmsgaXMgTm9uZTogdXNlX21hcmsgPSAnZmFsc2UnCgogICAgcGF0aCA9IGhhc2hNYXAuZ2V0KCdwYXRoJykKICAgIGlmIHBhdGggaXMgTm9uZTogcGF0aCA9ICcvL3N0b3JhZ2UvZW11bGF0ZWQvMC9BbmRyb2lkL2RhdGEvcnUudHJhdmVsZm9vZC5zaW1wbGVfdWkvJyAgIyAnLy9zdG9yYWdlL2VtdWxhdGVkLzAvZG93bmxvYWQvJwoKICAgIGFsbG93X2ZhY3RfaW5wdXQgPSBoYXNoTWFwLmdldCgnYWxsb3dfZmFjdF9pbnB1dCcpCiAgICBpZiBhbGxvd19mYWN0X2lucHV0IGlzIE5vbmU6IGFsbG93X2ZhY3RfaW5wdXQgPSAnZmFsc2UnCgogICAgIyB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgnVXBkYXRlIFJTX2RvY3MgU0VUIGNvbnRyb2wgPSA/JywoYWxsb3dfb3ZlcnNjYW4sKSkgICPQkiDRgtCw0LHQu9C40YbRiyDQtNC+0LrRg9C80LXQvdGC0L7QsiDQt9Cw0L/QuNGB0YvQstCw0LXQvCDQvdC+0LLQvtC1INC30L3QsNGH0LXQvdC40LUg0LrQvtC90YLRgNC+0LvRjwogICAgI3VpX2dsb2JhbC5wdXRfY29uc3RhbnRzKAogICAgcnNfc2V0dGluZ3MucHV0KCd1c2VfbWFyaycsdXNlX21hcmssIFRydWUpICMsIHBhdGgpKQogICAgcnNfc2V0dGluZ3MucHV0KCdwYXRoJywgcGF0aCwgVHJ1ZSkKICAgIHJzX3NldHRpbmdzLnB1dCgnYWxsb3dfZmFjdF9pbnB1dCcsIGFsbG93X2ZhY3RfaW5wdXQsIFRydWUpICAjICwgcGF0aCkpCgogICAgbGlzdGVuZXIgPSBoYXNoTWFwLmdldCgnbGlzdGVuZXInKQoKICAgIGlmIGxpc3RlbmVyID09ICdidG5fZXhwb3J0JzoKCiAgICAgICAgdWlfY3N2LmV4cG9ydF9jc3YocGF0aCwgaGFzaE1hcC5nZXQoJ2lwX2FkcicpLCBoYXNoTWFwLmdldCgnQU5EUk9JRF9JRCcpKQogICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQlNCw0L3QvdGL0LUg0LLRi9Cz0YDRg9C20LXQvdGLJykKCiAgICBlbGlmIGxpc3RlbmVyID09ICdPTl9CQUNLX1BSRVNTRUQnOgoKICAgICAgICBoYXNoTWFwLnB1dCgnRmluaXNoUHJvY2VzcycsICcnKQoKICAgICMgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX2ZpbGVzX2xpc3QnOgogICAgIyAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0KHQv9C40YHQvtC60KTQsNC50LvQvtCyJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9jb25mX3ZlcnNpb24nOgogICAgICAgIGNvbmYgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCdfY29uZmlndXJhdGlvbiAnKSkKCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fc2l6ZSc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0J3QsNGB0YLRgNC+0LnQutC4INCo0YDQuNGE0YLQvtCyJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl90ZXN0X2JhcmNvZGUnOgogICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9Ci0LXRgdGCINGB0LrQsNC90LXRgNCwJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9lcnJfbG9nJzoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQntGI0LjQsdC60LgnKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX2h0dHBfc2V0dGluZ3MnOgogICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9Cd0LDRgdGC0YDQvtC50LrQuCBodHRwINGB0L7QtdC00LjQvdC10L3QuNGPJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2JudF9jbGVhcl90YWJsZXMnOgogICAgICAgIHF0ZXh0ID0gJycnCiAgICAgICAgU0VMRUNUIG5hbWUgRlJPTSBzcWxpdGVfbWFzdGVyIFdIRVJFIHR5cGU9J3RhYmxlJwogICAgICAgICcnJwogICAgICAgIHJlcyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0KQogICAgICAgIGZvciBlbCBpbiByZXM6CiAgICAgICAgICAgIGRlbF90ZXh0ID0gJ0RFTEVURSBGUk9NICcgKyBlbFswXQogICAgICAgICAgICB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChkZWxfdGV4dCkKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl91cGxvYWRfZG9jcyc6CiAgICAgICAgdXJsID0gZ2V0X2h0dHBfc2V0dGluZ3MoaGFzaE1hcCkKICAgICAgICBxdGV4dCA9ICcnJ1NFTEVDVCBpZF9kb2MgRlJPTSBSU19kb2NzIFdIRVJFIHZlcmlmaWVkID0gJzEnCiAgICAgICAgICAgICAgICAgICAgVU5JT04KICAgICAgICAgICAgICAgICAgICBTRUxFQ1QgaWRfZG9jIEZST00gUlNfYWRyX2RvY3MgV0hFUkUgdmVyaWZpZWQgPSAnMScgJycnCiAgICAgICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsIE5vbmUsIFRydWUpCgogICAgICAgIGlmIHJlczoKICAgICAgICAgICAgZG9jX2xpc3QgPSBbXQogICAgICAgICAgICBmb3IgZWwgaW4gcmVzOgogICAgICAgICAgICAgICAgZG9jX2xpc3QuYXBwZW5kKCciJyArIGVsWydpZF9kb2MnXSArICciJykKICAgICAgICAgICAgZG9jX2luX3N0ciA9ICcsJy5qb2luKGRvY19saXN0KQogICAgICAgICAgICAjIGh0cHBhcmFtcyA9IHsndXNlcm5hbWUnOmhhc2hNYXAuZ2V0KCdvbmxpbmVVc2VyJyksICdwYXNzd29yZCc6aGFzaE1hcC5nZXQoJ29ubGluZVBhc3MnKSwgJ3VybCc6dXJsfQogICAgICAgICAgICBhbnN3ZXIgPSBodHRwX2V4Y2hhbmdlLnBvc3RfY2hhbmdlc190b19zZXJ2ZXIoZG9jX2luX3N0ciwgdXJsKQogICAgICAgICAgICBpZiBhbnN3ZXIuZ2V0KCdFcnJvcicpIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgdWlfZ2xvYmFsLndyaXRlX2Vycm9yX29uX2xvZyhzdHIoYW5zd2VyLmdldCgnRXJyb3InKSkpCgogICAgICAgICAgICBxdGV4dCA9IGYnVVBEQVRFIFJTX2RvY3MgU0VUIHNlbnQgPSAxICBXSEVSRSBpZF9kb2MgaW4gKHtkb2NfaW5fc3RyfSkgJwogICAgICAgICAgICB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgKGRvY19pbl9zdHIsKSwgRmFsc2UpCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fdGltZXInOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGltZXJfdXBkYXRlKGhhc2hNYXApCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLHN0cihlKSkKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9zb3VuZF9zZXR0aW5ncyc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCfQndCw0YHRgtGA0L7QudC60LAg0LfQstGD0LrQsCcpCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBkZWJ1Z19vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBpZiBub3QgaGFzaE1hcC5jb250YWluc0tleSgnaXBfaG9zdCcpOgogICAgICAgIGhhc2hNYXAucHV0KCdpcF9ob3N0JywgJzE5Mi4xNjguMS43NycpCiAgICByZXR1cm4gaGFzaE1hcAoKCiAgICBoYXNoTWFwLnB1dCgndXNlX21hcmsnLCByc19zZXR0aW5ncy5nZXQoJ3VzZV9tYXJrJykpICNzdHIocmVzWzNdKSkKICAgIGhhc2hNYXAucHV0KCdhZGRfaWZfbm90X2luX3BsYW4nLCByc19zZXR0aW5ncy5nZXQoJ2FkZF9pZl9ub3RfaW5fcGxhbicpKSAjc3RyKHJlc1s0XSkpCiAgICBoYXNoTWFwLnB1dCgncGF0aCcsIHJzX3NldHRpbmdzLmdldCgncGF0aCcpKSAjc3RyKHJlc1s1XSkpCiAgICBoYXNoTWFwLnB1dCgnZGVsZXRlX2ZpbGVzJywgcnNfc2V0dGluZ3MuZ2V0KCdkZWxldGVfZmlsZXMnKSkgI3N0cihyZXNbNl0pKQogICAgaGFzaE1hcC5wdXQoJ2FsbG93X292ZXJzY2FuJywgcnNfc2V0dGluZ3MuZ2V0KCdhbGxvd19vdmVyc2NhbicpKSAjc3RyKHJlc1s5XSkpCgoKZGVmIGRlYnVnX2xpc3RlbmVyKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGRlbGV0ZV9maWxlcyA9IHJzX3NldHRpbmdzLmdldCgnZGVsZXRlX2ZpbGVzJykKICAgIGlmIGRlbGV0ZV9maWxlcyBpcyBOb25lOiBkZWxldGVfZmlsZXMgPSAnZmFsc2UnCgogICAgbGlzdGVuZXIgPSBoYXNoTWFwLmdldCgnbGlzdGVuZXInKQoKICAgIGlmIGxpc3RlbmVyID09ICdidG5fY29weV9iYXNlJzoKICAgICAgICBpcF9ob3N0ID0gaGFzaE1hcC5nZXQoJ2lwX2hvc3QnKQogICAgICAgIGlwX2hvc3QgPSAnMTAuMjQuMjQuMjAnCiAgICAgICAgaWYgb3MucGF0aC5pc2ZpbGUoJy8vZGF0YS9kYXRhL3J1LnRyYXZlbGZvb2Quc2ltcGxlX3VpL2RhdGFiYXNlcy9TaW1wbGVLZWVwJyk6ICNLZWVwJyk6CiAgICAgICAgICAgIHdpdGggb3BlbignLy9kYXRhL2RhdGEvcnUudHJhdmVsZm9vZC5zaW1wbGVfdWkvZGF0YWJhc2VzL1NpbXBsZUtlZXAnLCAncmInKSBhcyBmOiAgIyByaWdodHNjYW4KICAgICAgICAgICAgICAgIHIgPSByZXF1ZXN0cy5wb3N0KCdodHRwOi8vJyArIGlwX2hvc3QgKyAnOjI0NDQvcG9zdCcsIGZpbGVzPXsnUmlnaHRzY2FuJzogZn0pICAjIHJpZ2h0c2NhbgogICAgICAgICAgICBpZiByLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQkdCw0LfQsCBTUUxpdGUg0YPRgdC/0LXRiNC90L4g0LLRi9Cz0YDRg9C20LXQvdCwJykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQntGI0LjQsdC60LAg0YHQvtC10LTQuNC90LXQvdC40Y8nKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQpNCw0LnQuyDQvdC1INC90LDQudC00LXQvScpCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fbG9jYWxfZmlsZXMnOgogICAgICAgICMgcGF0aCA9IGhhc2hNYXAuZ2V0KCdsb2NhbHBhdGgnKQogICAgICAgIHBhdGggPSBoYXNoTWFwLmdldCgncGF0aCcpCiAgICAgICAgZGVsZXRlX2ZpbGVzID0gaGFzaE1hcC5nZXQoJ2RlbGV0ZV9maWxlcycpCiAgICAgICAgaWYgbm90IGRlbGV0ZV9maWxlczoKICAgICAgICAgICAgZGVsZXRlX2ZpbGVzID0gJzAnCiAgICAgICAgaWYgbm90IHBhdGg6IHBhdGggPSAnLy9zdG9yYWdlL2VtdWxhdGVkLzAvZG93bmxvYWQvJwoKICAgICAgICByZXRfdGV4dCA9IHVpX2Nzdi5saXN0X2ZvbGRlcihwYXRoLCBkZWxldGVfZmlsZXMpCgogICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsIHJldF90ZXh0KQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgcmVtb3ZlX2FkZGVkX2dvb2RfaGlnaGxpZ2h0KGhhc2hNYXAsIGdvb2RfaWQ9Tm9uZSwgcHJvcGVydHlfaWQ9Tm9uZSk6CiAgICBpZiBoYXNoTWFwLmdldCgiYWRkZWRfZ29vZHMiKToKICAgICAgICBpZF9kb2MgPSBoYXNoTWFwLmdldCgnaWRfZG9jJykKICAgICAgICBhZGRlZF9nb29kc19kaWN0ID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgiYWRkZWRfZ29vZHMiKSkKICAgICAgICBpZiBpZF9kb2MgaW4gYWRkZWRfZ29vZHNfZGljdC5rZXlzKCk6CiAgICAgICAgICAgIGlmIGdvb2RfaWQgaW4gYWRkZWRfZ29vZHNfZGljdFtpZF9kb2NdWzBdOgogICAgICAgICAgICAgICAgYWRkZWRfZ29vZHNfZGljdFtpZF9kb2NdWzBdLnJlbW92ZShnb29kX2lkKQogICAgICAgICAgICAiIiJpZiBwcm9wZXJ0eV9pZCBpbiBhZGRlZF9nb29kc19kaWN0W2dvb2RfaWRdWzFdOgogICAgICAgICAgICAgICAgYWRkZWRfZ29vZHNfZGljdFtnb29kX2lkXVsxXS5yZW1vdmUocHJvcGVydHlfaWQpIiIiCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCJhZGRlZF9nb29kcyIsIHN0cihhZGRlZF9nb29kc19kaWN0KS5yZXBsYWNlKCInIiwgJyInKSkKICAgICAgICAgICAgaWYgbGVuKGFkZGVkX2dvb2RzX2RpY3RbaWRfZG9jXVswXSkgPT0gMDoKICAgICAgICAgICAgICAgIGRlbCBhZGRlZF9nb29kc19kaWN0W2lkX2RvY10KICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGdldF9jdXJyZW50X2VsZW1fZG9jX2dvb2RzKGhhc2hNYXAsIGN1cnJlbnRfc3RyKToKCiAgICBpZiBoYXNoTWFwLmdldCgndmlldycpID09ICJjYXJkcyI6CiAgICAgICAgamxpc3QgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJkb2NfZ29vZHNfY2FyZHMiKSkKICAgICAgICBjYXJkc19kYXRhID0gamxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddCiAgICBlbHNlOgogICAgICAgIGpsaXN0ID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgiZG9jX2dvb2RzX3RhYmxlIikpCiAgICAgICAgY2FyZHNfZGF0YSA9IGpsaXN0WydjdXN0b210YWJsZSddWyd0YWJsZWRhdGEnXQogICAgZm9yIGVsZW1lbnQgaW4gY2FyZHNfZGF0YToKICAgICAgICBpZiAia2V5IiBpbiBlbGVtZW50OgogICAgICAgICAgICBpZiBlbGVtZW50WyJrZXkiXSA9PSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9rZXkiKToKICAgICAgICAgICAgICAgIGN1cnJlbnRfZWxlbSA9IGVsZW1lbnQKICAgIHJldHVybiBjdXJyZW50X2VsZW0KCgpkZWYgZGVsZXRlX2JhcmNvZGVfc2NyZWVuX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgICMg0J3QsNGF0L7QtNC40LwgSUQg0LTQvtC60YPQvNC10L3RgtCwCiAgICBiYXJjb2RlX2RhdGEgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCdiYXJjb2RlJykpWydiYXJjb2RlJ10KICAgICMg0J3QsNC50LTQtdC8INC90YPQttC90YvQtSDQv9C+0LvRjyDQt9Cw0L/RgNC+0YHQvtC8INC6INCx0LDQt9C1CiAgICBxdGV4dCA9IHVpX2Zvcm1fZGF0YS5nZXRfbWFya2NvZGVfcXVlcnkoKQogICAgYXJncyA9IHsnaWRfZG9jJzogaGFzaE1hcC5nZXQoJ2lkX2RvYycpLAogICAgICAgICAgICAnR1RJTic6IGJhcmNvZGVfZGF0YVsnR1RJTiddLCAnU2VyaWVzJzogYmFyY29kZV9kYXRhWydTRVJJQUwnXX0KCiAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgYXJncywgVHJ1ZSkKCiAgICBoYXNoTWFwLnB1dCgnY3VycmVudFN0cicsIGpzb24uZHVtcHMocmVzWzBdKSkKICAgIGhhc2hNYXAucHV0KCJDdXJTdHIiLCBzdHIocmVzWzBdWydDdXJTdHInXSkpCiAgICBoYXNoTWFwLnB1dCgiZ29vZCIsIHJlc1swXVsnZ29vZF9uYW1lJ10pCiAgICBoYXNoTWFwLnB1dCgiJ2NvZGVfYXJ0JyIsIHJlc1swXVsnZ29vZF9jb2RlJ10pCiAgICBoYXNoTWFwLnB1dCgidW5pdF9uYW1lIiwgc3RyKHJlc1swXVsndW5pdCddKSkKICAgIGhhc2hNYXAucHV0KCdiYXJjb2RlX3ZhbHVlJywgJzAxJyArIGJhcmNvZGVfZGF0YVsnR1RJTiddICsgJzIxJyArIGJhcmNvZGVfZGF0YVsnU0VSSUFMJ10pCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZGVsZXRlX2JhcmNvZGVfc2NyZWVuX2NsaWNrKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGxpc3RlbmVyID0gaGFzaE1hcC5nZXQoImxpc3RlbmVyIikKICAgIGlmIGxpc3RlbmVyID09ICJidG5fYmFyY29kZV9jYW5jZWwiOgoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAiYnRuX2JhcmNvZGVfZGVsZXRlIjoKICAgICAgICBkb2MgPSB1aV9nbG9iYWwuUnNfZG9jCiAgICAgICAgZG9jLmlkX2RvYyA9IGhhc2hNYXAuZ2V0KCdpZF9kb2MnKQogICAgICAgIGN1cnJlbnRfYmFyY29kZV9zdHIgPSBpbnQoaGFzaE1hcC5nZXQoIkN1clN0ciIpKQogICAgICAgIGVsID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgnY3VycmVudFN0cicpKQoKICAgICAgICAjIGRvYy5pZF9zdHIgPSBpbnQoY3VycmVudF9lbGVtWydrZXknXSkKICAgICAgICAjIGRvYy5xdHR5ID0gZmxvYXQoaGFzaE1hcC5nZXQoJ3F0dHknKSkKICAgICAgICAjIGRvYy51cGRhdGVfZG9jX3N0cihkb2MsIGhhc2hNYXAuZ2V0KCdwcmljZScpKQogICAgICAgIHF1ZXJ5X3RleHQgPSAnVXBkYXRlICBSU19kb2NzX2JhcmNvZGVzIFNFVCBhcHByb3ZlZD0/IFdoZXJlIGlkPT8nCiAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCwgKCcwJywgY3VycmVudF9iYXJjb2RlX3N0cikpCiAgICAgICAgZG9jLnVwZGF0ZV9kb2NfdGFibGVfZGF0YShkb2MsIGVsLCAtMSkKCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gIkJBQ0tfQlVUVE9OIjoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCiAgICBlbGlmIGxpc3RlbmVyID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBlbGVtX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGhhc2hNYXAucHV0KCdtbV9sb2NhbCcsICcnKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZWxlbV9vbl9jbGljayhoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpCgogICAgaWYgbGlzdGVuZXIgPT0gImJ0bl9vayI6CiAgICAgICAgIyDQv9C+0LvRg9GH0LjQvCDRgtC10LrRg9GJ0YPRjiDRgdGC0YDQvtC60YMg0LTQvtC60YPQvNC10L3RgtCwCiAgICAgICAgY3VycmVudF9zdHIgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9wb3NpdGlvbiIpCiAgICAgICAgI9CV0YHQu9C4INGB0YLRgNC+0LrQsCDQvdC1INGB0YPRidC10YHRgtCy0YPQtdGCLCDRgdC+0LfQtNCw0LTQuNC8INC10LUKICAgICAgICBkb2MgPSB1aV9nbG9iYWwuUnNfZG9jCiAgICAgICAgZG9jLmlkX2RvYyA9IGhhc2hNYXAuZ2V0KCdpZF9kb2MnKQogICAgICAgICMgaWYgY3VycmVudF9zdHIgPT0nMCc6CiAgICAgICAgIyAgICAgcGFzcwogICAgICAgICMgICAgICNqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10KICAgICAgICAjIGVsc2U6CiAgICAgICAgIyAgICAgamxpc3QgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJkb2NfZ29vZHMiKSkKICAgICAgICAjICAgICBjdXJyZW50X2VsZW0gPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ11baW50KGN1cnJlbnRfc3RyKV0KICAgICAgICAjICAgICBrZXkgPSBpbnQoY3VycmVudF9lbGVtWydrZXknXSkKICAgICAgICAjICAgICBkb2MuaWRfc3RyID0gaW50KGN1cnJlbnRfZWxlbVsna2V5J10pCiAgICAgICAgIyAuLi4g0Lgg0LfQsNC/0LjRiNC10Lwg0LXQtSDQsiDQsdCw0LfRgwoKICAgICAgICBxdHR5ID0gaGFzaE1hcC5nZXQoJ3F0dHknKQogICAgICAgIGRvYy5xdHR5ID0gZmxvYXQocXR0eSkgaWYgcXR0eSBlbHNlIDAKICAgICAgICBlbGVtX2Zvcl9hZGQgPSB7J2lkX2dvb2QnOiBoYXNoTWFwLmdldCgnR29vZF9pZCcpLCAnaWRfcHJvcGVydHknOiBoYXNoTWFwLmdldCgncHJvcGVydGllc19pZCcpLAogICAgICAgICAgICAgICAgICAgICAgICAnaWRfc2VyaWVzJzogaGFzaE1hcC5nZXQoJ3Nlcmllc19pZCcpLCdpZF91bml0JzogaGFzaE1hcC5nZXQoJ3VuaXRfaWQnKX0KICAgICAgICBkb2MudXBkYXRlX2RvY190YWJsZV9kYXRhKGRvYywgZWxlbV9mb3JfYWRkLCBxdHR5KSAgIyAoZG9jLCApCgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKCiAgICBlbGlmIGxpc3RlbmVyID09ICJidG5fY2FuY2VsIjoKCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQogICAgZWxpZiBsaXN0ZW5lciA9PSAiQkFDS19CVVRUT04iOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKICAgIGVsaWYgbGlzdGVuZXIgPT0gIiI6CiAgICAgICAgaGFzaE1hcC5wdXQoInF0dHkiLCBzdHIoZmxvYXQoaGFzaE1hcC5nZXQoJ3F0dHknKSkpKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAiYnRuX2dvb2Rfc2VsZWN0IjoKICAgICAgICBoYXNoTWFwLnJlbW92ZSgnU2VhcmNoU3RyaW5nJykKICAgICAgICBoYXNoTWFwLnB1dCgndGFibGVfZm9yX3NlbGVjdCcsICdSU19nb29kcycpICAjINCi0LDQsdC70LjRhtCwINC00LvRjyDQstGL0LHQvtGA0LAg0LfQvdCw0YfQtdC90LjRjwogICAgICAgIGhhc2hNYXAucHV0KCdTZXRSZXN1bHRMaXN0ZW5lcicsICdzZWxlY3RfZ29vZHNfdmFsdWUnKQogICAgICAgIGhhc2hNYXAucHV0KCdmaWx0ZXJfZmllbGRzJywgJ25hbWUnKQogICAgICAgIGhhc2hNYXAucHV0KCdTaG93UHJvY2Vzc1Jlc3VsdCcsICfQo9C90LjQstC10YDRgdCw0LvRjNC90YvQuSDRgdC/0YDQsNCy0L7Rh9C90LjQunzQodC/0YDQsNCy0L7Rh9C90LjQuicpCiAgICAjLS0KICAgIGVsaWYgbGlzdGVuZXIgPT0gInNlbGVjdF9nb29kc192YWx1ZSI6CiAgICAgICAgaGFzaE1hcC5wdXQoJ0dvb2QnLCBoYXNoTWFwLmdldCgnY3VycmVudF9uYW1lJykpCiAgICAgICAgaGFzaE1hcC5wdXQoJ0dvb2RfaWQnLCBoYXNoTWFwLmdldCgnY3VycmVudF9pZCcpKQogICAgICAgICPQn9GA0Lgg0LLRi9Cx0L7RgNC1INGC0L7QstCw0YDQsCDQt9Cw0L/QvtC70L3QuNC8INC10LTQuNC90LjRhtGDINC40LfQvNC10YDQtdC90LjRjyDQv9C+INGD0LzQvtC70YfQsNC90LjRjgogICAgICAgIHF0ZXh0ID0gJycnU2VsZWN0IFJTX2dvb2RzLnVuaXQgYXMgdW5pdF9pZCwgCiAgICAgICAgICAgICAgICAgICAgUlNfdW5pdHMubmFtZSAKICAgICAgICAgICAgICAgICAgICBGcm9tIFJTX2dvb2RzCiAgICAgICAgICAgICAgICAgICAgICBMZWZ0IEpvaW4gUlNfdW5pdHMgb24gUlNfdW5pdHMuaWRfb3duZXIgPSBSU19nb29kcy5pZCBhbmQgUlNfdW5pdHMuaWQgPSBSU19nb29kcy51bml0IAogICAgICAgICAgICAgICAgICAgIFdIRVJFIFJTX2dvb2RzLmlkID0gPycnJwogICAgICAgIHJlcyA9ICB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgKGhhc2hNYXAuZ2V0KCdjdXJyZW50X2lkJyksKSkKICAgICAgICBpZiByZXM6CgogICAgICAgICAgICBoYXNoTWFwLnB1dCgndW5pdF9pZCcsIHJlc1swXVswXSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3VuaXQnLCByZXNbMF1bMV0pCgogICAgZWxpZiBsaXN0ZW5lciA9PSAiYnRuX3Byb3BlcnRpZXMiOgoKICAgICAgICBoYXNoTWFwLnB1dCgnU2VhcmNoU3RyaW5nJywgaGFzaE1hcC5nZXQoJ0dvb2RfaWQnKSkKICAgICAgICBoYXNoTWFwLnB1dCgndGFibGVfZm9yX3NlbGVjdCcsICdSU19wcm9wZXJ0aWVzJykgICMg0KLQsNCx0LvQuNGG0LAg0LTQu9GPINCy0YvQsdC+0YDQsCDQt9C90LDRh9C10L3QuNGPCiAgICAgICAgaGFzaE1hcC5wdXQoJ1NldFJlc3VsdExpc3RlbmVyJywgJ3NlbGVjdF9wcm9wZXJ0aWVzX3ZhbHVlJykKICAgICAgICBoYXNoTWFwLnB1dCgnZmlsdGVyX2ZpZWxkcycsICduYW1lO2lkX293bmVyJykKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1Byb2Nlc3NSZXN1bHQnLCAn0KPQvdC40LLQtdGA0YHQsNC70YzQvdGL0Lkg0YHQv9GA0LDQstC+0YfQvdC40Lp80KHQv9GA0LDQstC+0YfQvdC40LonKQogICAgIyAtLQogICAgZWxpZiBsaXN0ZW5lciA9PSAnc2VsZWN0X3Byb3BlcnRpZXNfdmFsdWUnOgogICAgICAgIGhhc2hNYXAucHV0KCdwcm9wZXJ0aWVzJywgaGFzaE1hcC5nZXQoJ2N1cnJlbnRfbmFtZScpKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9zZXJpZXMiOgogICAgICAgIGhhc2hNYXAucHV0KCd0YWJsZV9mb3Jfc2VsZWN0JywgJ1JTX3NlcmllcycpICAjINCi0LDQsdC70LjRhtCwINC00LvRjyDQstGL0LHQvtGA0LAg0LfQvdCw0YfQtdC90LjRjwogICAgICAgIGhhc2hNYXAucHV0KCdTZXRSZXN1bHRMaXN0ZW5lcicsICdzZWxlY3Rfc2VyaWVzX3ZhbHVlJykKICAgICAgICBoYXNoTWFwLnB1dCgnZmlsdGVyX2ZpZWxkcycsICduYW1lJykKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1Byb2Nlc3NSZXN1bHQnLCAn0KPQvdC40LLQtdGA0YHQsNC70YzQvdGL0Lkg0YHQv9GA0LDQstC+0YfQvdC40Lp80KHQv9GA0LDQstC+0YfQvdC40LonKQogICAgICAgICNfXwogICAgZWxpZiBsaXN0ZW5lciA9PSAnc2VsZWN0X3Nlcmllc192YWx1ZSc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3NlcmllcycsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X25hbWUnKSkKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl91bml0IjoKICAgICAgICBoYXNoTWFwLnB1dCgndGFibGVfZm9yX3NlbGVjdCcsICdSU191bml0cycpICAjINCi0LDQsdC70LjRhtCwINC00LvRjyDQstGL0LHQvtGA0LAg0LfQvdCw0YfQtdC90LjRjwogICAgICAgIGhhc2hNYXAucHV0KCdTZXRSZXN1bHRMaXN0ZW5lcicsICdzZWxlY3RfdW5pdF92YWx1ZScpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2ZpbHRlcl9maWVsZHMnLCAnbmFtZTtpZF9vd25lcicpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dQcm9jZXNzUmVzdWx0JywgJ9Cj0L3QuNCy0LXRgNGB0LDQu9GM0L3Ri9C5INGB0L/RgNCw0LLQvtGH0L3QuNC6fNCh0L/RgNCw0LLQvtGH0L3QuNC6JykKICAgICAgICAjX18KICAgIGVsaWYgbGlzdGVuZXIgPT0gJ3NlbGVjdF91bml0X3ZhbHVlJzoKICAgICAgICBoYXNoTWFwLnB1dCgndW5pdCcsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X25hbWUnKSkKICAgICAgICBoYXNoTWFwLnB1dCgndW5pdF9pZCcsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X2lkJykpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAicGhvdG8iOgoKICAgICAgICAjINCc0L7QttC90L4g0LLQvtC+0LHRidC1INGN0YLQvtCz0L4g0L3QtSDQtNC10LvQsNGC0Ywt0L7RgdGC0LDQstC70Y/RgtGMINC60LDQuiDQtdGB0YLRjC4g0K3RgtC+INC00LvRjyDQv9GA0LjQvNC10YDQsC4KICAgICAgICBpbWFnZV9maWxlID0gc3RyKAogICAgICAgICAgICBoYXNoTWFwLmdldCgicGhvdG9fcGF0aCIpKSAgIyAi0L/QtdGA0LXQvNC10L3QvdCw0Y8iKyJfcGF0aCIgLSDRgdGO0LTQsCDQv9C+0LzQtdGJ0LDQtdGC0YHRjyDQv9GD0YLRjCDQuiDQv9C+0LvRg9GH0LXQvdC90L7QuSDRhNC+0YLQvtCz0YDQsNGE0LjQuAoKICAgICAgICBpbWFnZSA9IEltYWdlLm9wZW4oaW1hZ2VfZmlsZSkKCiAgICAgICAgIyDRgdGA0LDQt9GDINGB0LTQtdC70LDQtdC8INGE0L7RgtC60YMgLSDQutCy0LDQtNGA0LDRgtC90L7QuSAtINGN0YLQviDQv9GA0L7RgdGC0L7QuSDQstCw0YDQuNCw0L3Rgi4g0JzQvtC20L3QviDRgdC00LXQu9Cw0YLRjCDQvdCw0L/RgNC40LzQtdGAINC+0YLQtNC10LvRjNC+INC80LjQvdC40LDRgtGO0YDRiyDQtNC70Y8g0YHQv9C40YHQutCwLCDRjdGC0L4g0L3QtdC80L3QvtCz0L4g0YHQu9C+0LbQvdC10LUKICAgICAgICBpbSA9IGltYWdlLnJlc2l6ZSgoNTAwLCA1MDApKQogICAgICAgIGltLnNhdmUoaW1hZ2VfZmlsZSkKCiAgICAgICAganBob3RvYXJyID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgicGhvdG9HYWxsZXJ5IikpCiAgICAgICAgaGFzaE1hcC5wdXQoInBob3RvR2FsbGVyeSIsIGpzb24uZHVtcHMoanBob3RvYXJyKSkKICAgICAgICAjIGhhc2hNYXAucHV0KCJ0b2FzdCIsanNvbi5kdW1wcyhqcGhvdG9hcnIpKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gImdhbGxlcnlfY2hhbmdlIjogICMg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINC80L7QttC10YIg0YPQtNCw0LvQuNGC0Ywg0YTQvtGC0L4g0LjQtyDQs9Cw0LvQtdGA0LXQuC4g0J3QvtCy0YvQuSDQvNCw0YHRgdC40LIg0L3QsNC00L4g0L/QvtC80LXRgdGC0LjRgtGMINC6INC00L7QutGD0LzQtdC90YLRgwoKICAgICAgICBpZiBoYXNoTWFwLmNvbnRhaW5zS2V5KCJwaG90b0dhbGxlcnkiKTogICMg0Y3RgtC4IDIg0L7QsdGA0LDQsdC+0YLRh9C40LrQsCAtINCw0L3QsNC70L7Qs9C40YfQvdGL0LUsINC/0YDQvtGB0YLQviDQtNC70Y8g0YDQsNC30L3Ri9GFINGB0L7QsdGL0YLQuNC5CiAgICAgICAgICAgIGpwaG90b2FyciA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoInBob3RvR2FsbGVyeSIpKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgicGhvdG9HYWxsZXJ5IiwganNvbi5kdW1wcyhqcGhvdG9hcnIpKQogICAgICAgICAgICAjIGhhc2hNYXAucHV0KCJ0b2FzdCIsIiMyIitqc29uLmR1bXBzKGpwaG90b2FycikpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZWxlbV92aWV2X29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGhhc2hNYXAucHV0KCdtbV9sb2NhbCcsICcnKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZWxlbV92aWV2X29uX2NsaWNrKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGxpc3RlbmVyID0gaGFzaE1hcC5nZXQoImxpc3RlbmVyIikKCiAgICBpZiBsaXN0ZW5lciA9PSAiYnRuX29rIjoKICAgICAgICAjINC/0L7Qu9GD0YfQuNC8INGC0LXQutGD0YnRg9GOINGB0YLRgNC+0LrRgyDQtNC+0LrRg9C80LXQvdGC0LAKICAgICAgICBjdXJyZW50X3N0ciA9IGhhc2hNYXAuZ2V0KCJzZWxlY3RlZF9jYXJkX3Bvc2l0aW9uIikKICAgICAgICAj0JXRgdC70Lgg0YHRgtGA0L7QutCwINC90LUg0YHRg9GJ0LXRgdGC0LLRg9C10YIsINGB0L7Qt9C00LDQtNC40Lwg0LXQtQogICAgICAgIGRvYyA9IHVpX2dsb2JhbC5Sc19kb2MKICAgICAgICBkb2MuaWRfZG9jID0gaGFzaE1hcC5nZXQoJ2lkX2RvYycpCiAgICAgICAgIyBpZiBjdXJyZW50X3N0ciA9PScwJzoKICAgICAgICAjICAgICBwYXNzCiAgICAgICAgICAgICNqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10KICAgICAgICAjZWxzZToKICAgICAgICBjdXJyZW50X2VsZW0gPSBnZXRfY3VycmVudF9lbGVtX2RvY19nb29kcyhoYXNoTWFwLCBjdXJyZW50X3N0cikKICAgICAgICBkb2MuaWRfc3RyID0gaW50KGN1cnJlbnRfZWxlbVsna2V5J10pCiAgICAgICAgIyAuLi4g0Lgg0LfQsNC/0LjRiNC10Lwg0LXQtSDQsiDQsdCw0LfRgwoKICAgICAgICBxdHR5ID0gaGFzaE1hcC5nZXQoJ3F0dHknKQogICAgICAgIGRvYy5xdHR5ID0gZmxvYXQocXR0eSkgaWYgcXR0eSBlbHNlIDAKCiAgICAgICAgZG9jLnVwZGF0ZV9kb2Nfc3RyKGRvYywgaGFzaE1hcC5nZXQoJ3ByaWNlJykpICAjIChkb2MsICkKCiAgICAgICAgcmVtb3ZlX2FkZGVkX2dvb2RfaGlnaGxpZ2h0KGhhc2hNYXAsIHN0cihjdXJyZW50X2VsZW1bJ2lkX2dvb2QnXSksIHN0cihjdXJyZW50X2VsZW1bJ2lkX3Byb3BlcnRpZXMnXSkpCgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKCiAgICBlbGlmIGxpc3RlbmVyID09ICJidG5fY2FuY2VsIjoKCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQogICAgZWxpZiBsaXN0ZW5lciA9PSAiQkFDS19CVVRUT04iOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKICAgIGVsaWYgbGlzdGVuZXIgPT0gIiI6CiAgICAgICAgaGFzaE1hcC5wdXQoInF0dHkiLCBzdHIoZmxvYXQoaGFzaE1hcC5nZXQoJ3F0dHknKSkpKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAicGhvdG8iOgoKICAgICAgICAjINCc0L7QttC90L4g0LLQvtC+0LHRidC1INGN0YLQvtCz0L4g0L3QtSDQtNC10LvQsNGC0Ywt0L7RgdGC0LDQstC70Y/RgtGMINC60LDQuiDQtdGB0YLRjC4g0K3RgtC+INC00LvRjyDQv9GA0LjQvNC10YDQsC4KICAgICAgICBpbWFnZV9maWxlID0gc3RyKAogICAgICAgICAgICBoYXNoTWFwLmdldCgicGhvdG9fcGF0aCIpKSAgIyAi0L/QtdGA0LXQvNC10L3QvdCw0Y8iKyJfcGF0aCIgLSDRgdGO0LTQsCDQv9C+0LzQtdGJ0LDQtdGC0YHRjyDQv9GD0YLRjCDQuiDQv9C+0LvRg9GH0LXQvdC90L7QuSDRhNC+0YLQvtCz0YDQsNGE0LjQuAoKICAgICAgICBpbWFnZSA9IEltYWdlLm9wZW4oaW1hZ2VfZmlsZSkKCiAgICAgICAgIyDRgdGA0LDQt9GDINGB0LTQtdC70LDQtdC8INGE0L7RgtC60YMgLSDQutCy0LDQtNGA0LDRgtC90L7QuSAtINGN0YLQviDQv9GA0L7RgdGC0L7QuSDQstCw0YDQuNCw0L3Rgi4g0JzQvtC20L3QviDRgdC00LXQu9Cw0YLRjCDQvdCw0L/RgNC40LzQtdGAINC+0YLQtNC10LvRjNC+INC80LjQvdC40LDRgtGO0YDRiyDQtNC70Y8g0YHQv9C40YHQutCwLCDRjdGC0L4g0L3QtdC80L3QvtCz0L4g0YHQu9C+0LbQvdC10LUKICAgICAgICBpbSA9IGltYWdlLnJlc2l6ZSgoNTAwLCA1MDApKQogICAgICAgIGltLnNhdmUoaW1hZ2VfZmlsZSkKCiAgICAgICAganBob3RvYXJyID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgicGhvdG9HYWxsZXJ5IikpCiAgICAgICAgaGFzaE1hcC5wdXQoInBob3RvR2FsbGVyeSIsIGpzb24uZHVtcHMoanBob3RvYXJyKSkKICAgICAgICAjIGhhc2hNYXAucHV0KCJ0b2FzdCIsanNvbi5kdW1wcyhqcGhvdG9hcnIpKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gImdhbGxlcnlfY2hhbmdlIjogICMg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINC80L7QttC10YIg0YPQtNCw0LvQuNGC0Ywg0YTQvtGC0L4g0LjQtyDQs9Cw0LvQtdGA0LXQuC4g0J3QvtCy0YvQuSDQvNCw0YHRgdC40LIg0L3QsNC00L4g0L/QvtC80LXRgdGC0LjRgtGMINC6INC00L7QutGD0LzQtdC90YLRgwoKICAgICAgICBpZiBoYXNoTWFwLmNvbnRhaW5zS2V5KCJwaG90b0dhbGxlcnkiKTogICMg0Y3RgtC4IDIg0L7QsdGA0LDQsdC+0YLRh9C40LrQsCAtINCw0L3QsNC70L7Qs9C40YfQvdGL0LUsINC/0YDQvtGB0YLQviDQtNC70Y8g0YDQsNC30L3Ri9GFINGB0L7QsdGL0YLQuNC5CiAgICAgICAgICAgIGpwaG90b2FyciA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoInBob3RvR2FsbGVyeSIpKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgicGhvdG9HYWxsZXJ5IiwganNvbi5kdW1wcyhqcGhvdG9hcnIpKQogICAgICAgICAgICAjIGhhc2hNYXAucHV0KCJ0b2FzdCIsIiMyIitqc29uLmR1bXBzKGpwaG90b2FycikpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgbmV3X2RvY19vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBpZiBoYXNoTWFwLmdldCgnZG9jX3R5cGVfc2VsZWN0JykgPT0gTm9uZToKICAgICAgICAjINCX0LDQv9C+0LvQvdC40Lwg0L/QvtC70LUg0YTQuNC70YzRgtGA0LAg0L/QviDQstC40LTRgyDQtNC+0LrRg9C80LXQvdGC0L7QsgogICAgICAgIHJlc3VsdCA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHVpX2Zvcm1fZGF0YS5nZXRfZG9jX3R5cGVfcXVlcnkoKSkKICAgICAgICBkb2NfdHlwZV9saXN0ID0gWyfQktGB0LUnXQogICAgICAgIGZvciByZWNvcmQgaW4gcmVzdWx0OgogICAgICAgICAgICBkb2NfdHlwZV9saXN0LmFwcGVuZChyZWNvcmRbMF0pCiAgICAgICAgaGFzaE1hcC5wdXQoJ2RvY190eXBlX3NlbGVjdCcsICc7Jy5qb2luKGRvY190eXBlX2xpc3QpKQoKICAgIGlmIGhhc2hNYXAuZ2V0KCdjb3VudHJhZ2VudCcpID09IE5vbmU6CiAgICAgICAgI2ZsZF9jb3VudHJhZ2VudCA9IHVpX2dsb2JhbC5nZXRfbmFtZV9saXN0KCdSU19jb3VudHJhZ2VudHMnKQoKICAgICAgICBoYXNoTWFwLnB1dCgnY291bnRyYWdlbnQnLCAn0JrQvtC90YLRgNCw0LPQtdC90YInKSAgI2ZsZF9jb3VudHJhZ2VudAoKICAgIGlmIGhhc2hNYXAuZ2V0KCd3YXJlaG91c2UnKSA9PSBOb25lOgogICAgICAgICNmbGRfY291bnRyYWdlbnQgPSB1aV9nbG9iYWwuZ2V0X25hbWVfbGlzdCgnUlNfd2FyZWhvdXNlcycpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3dhcmVob3VzZScsICfQodC60LvQsNC0JykgI2RvY193YXJlaG91c2UKCiAgICBpZiBub3QgaGFzaE1hcC5jb250YWluc0tleSgnZG9jX2RhdGUnKToKICAgICAgICBoYXNoTWFwLnB1dCgnZG9jX2RhdGUnLCAnMDEuMDEuMjAyMicpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgbmV3X2RvY19vbl9zZWxlY3QoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgbGlzdGVuZXIgPSBoYXNoTWFwLmdldCgibGlzdGVuZXIiKQogICAgdHlwZSA9IGhhc2hNYXAuZ2V0KCdkb2NfdHlwZV9jbGljaycpCiAgICBpZiBub3QgdHlwZToKICAgICAgICB0eXBlID0gJ9Cf0YDQuNGF0L7QtCcKICAgIGZsZF9udW1iZXIgPSBoYXNoTWFwLmdldCgnZmxkX251bWJlcicpCgogICAgaWYgbGlzdGVuZXIgPT0gImJ0bl9vayI6CiAgICAgICAgaWYgbm90IHR5cGUgb3IgdHlwZT09J9CS0YHQtSc6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsJ9Cj0LrQsNC20LjRgtC1INGC0LjQvyDQtNC+0LrRg9C80LXQvdGC0LAnKQogICAgICAgICAgICByZXR1cm4gaGFzaE1hcAoKICAgICAgICBpZiBub3QgZmxkX251bWJlcjoKCiAgICAgICAgICAgIGlkID0gdWlfZ2xvYmFsLlJzX2RvYy5nZXRfbmV3X2lkKDEpCiAgICAgICAgICAgICMgaWQgPSAoZid7aWQ6MDR9JykKICAgICAgICAgICAgIyBpZCA9ICJ7MDowPjR9Ii5mb3JtYXQoaWQpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWQgPSBmbGRfbnVtYmVyCgogICAgICAgIHRyeToKICAgICAgICAgICAgdWlfZ2xvYmFsLlJzX2RvYy5hZGQoJzAxJywgKGlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLCAgIyBoYXNoTWFwLmdldCgnZmxkX251bWJlcicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoTWFwLmdldCgnZmxkX2RhdGEnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpX2dsb2JhbC5nZXRfYnlfbmFtZShoYXNoTWFwLmdldCgnY291bnRyYWdlbnQnKSwgJ1JTX2NvdW50cmFnZW50cycpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlfZ2xvYmFsLmdldF9ieV9uYW1lKGhhc2hNYXAuZ2V0KCd3YXJlaG91c2UnKSwgJ1JTX3dhcmVob3VzZXMnKSkpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9CU0L7QutGD0LzQtdC90YLRiycpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCAn0J3QvtC80LXRgCDQtNC+0LrRg9C80LXQvdGC0LAg0L3QtdGD0L3QuNC60LDQu9C10L0hJykKCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX2NhbmNlbCc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0JTQvtC60YPQvNC10L3RgtGLJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2ZsZF9kYXRhJzoKICAgICAgICBoYXNoTWFwLnB1dCgnZG9jX2RhdGUnLCBoYXNoTWFwLmdldCgnZmxkX2RhdGEnKSkKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ09OX0JBQ0tfUFJFU1NFRCc6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgtGLIikKICAgIGVsaWYgbGlzdGVuZXIgPT0nYnRuX3NlbGVjdF93YXJlaG91c2UnOgogICAgICAgIGhhc2hNYXAucHV0KCd0YWJsZV9mb3Jfc2VsZWN0JywgJ1JTX3dhcmVob3VzZXMnKSAgIyDQotCw0LHQu9C40YbQsCDQtNC70Y8g0LLRi9Cx0L7RgNCwINC30L3QsNGH0LXQvdC40Y8KICAgICAgICBoYXNoTWFwLnB1dCgnU2V0UmVzdWx0TGlzdGVuZXInLCAnc2VsZWN0X2NlbGxfdmFsdWUnKQogICAgICAgIGhhc2hNYXAucHV0KCdmaWx0ZXJfZmllbGRzJywgJ25hbWUnKQogICAgICAgIGhhc2hNYXAucHV0KCdTaG93UHJvY2Vzc1Jlc3VsdCcsICfQo9C90LjQstC10YDRgdCw0LvRjNC90YvQuSDRgdC/0YDQsNCy0L7Rh9C90LjQunzQodC/0YDQsNCy0L7Rh9C90LjQuicpCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fc2VsZWN0X2NvdW50cmFnZW50JzoKICAgICAgICBoYXNoTWFwLnB1dCgndGFibGVfZm9yX3NlbGVjdCcsICdSU19jb3VudHJhZ2VudHMnKSAgIyDQotCw0LHQu9C40YbQsCDQtNC70Y8g0LLRi9Cx0L7RgNCwINC30L3QsNGH0LXQvdC40Y8KICAgICAgICBoYXNoTWFwLnB1dCgnU2V0UmVzdWx0TGlzdGVuZXInLCAnc2VsZWN0X2NlbGxfdmFsdWUnKQogICAgICAgIGhhc2hNYXAucHV0KCdmaWx0ZXJfZmllbGRzJywgJ25hbWU7ZnVsbF9uYW1lO2lubjtrcHAnKQogICAgICAgIGhhc2hNYXAucHV0KCdTaG93UHJvY2Vzc1Jlc3VsdCcsICfQo9C90LjQstC10YDRgdCw0LvRjNC90YvQuSDRgdC/0YDQsNCy0L7Rh9C90LjQunzQodC/0YDQsNCy0L7Rh9C90LjQuicpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnc2VsZWN0X2NlbGxfdmFsdWUnOgogICAgICAgIGlmIGhhc2hNYXAuZ2V0KCd0YWJsZV9mb3Jfc2VsZWN0JykgPT0gJ1JTX2NvdW50cmFnZW50cyc6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdjb3VudHJhZ2VudCcsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X25hbWUnKSkgI2ZsZF9jb3VudHJhZ2VudAogICAgICAgIGVsaWYgaGFzaE1hcC5nZXQoJ3RhYmxlX2Zvcl9zZWxlY3QnKSA9PSAnUlNfd2FyZWhvdXNlcyc6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd3YXJlaG91c2UnLCBoYXNoTWFwLmdldCgnY3VycmVudF9uYW1lJykpICAjIGZsZF9jb3VudHJhZ2VudAogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZG9jX2JhcmNvZGVzX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGRvY19kZXRhaWxfbGlzdCA9IHVpX2Zvcm1fZGF0YS5nZXRfYmFyY29kZV9jYXJkKHJzX3NldHRpbmdzKQogICAgcXVlcnlfdGV4dCA9IHVpX2Zvcm1fZGF0YS5nZXRfYmFyY29kZV9xdWVyeSgpCiAgICBpZF9kb2MgPSBoYXNoTWFwLmdldCgnaWRfZG9jJykKICAgIHJlc3VsdHMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCAoaWRfZG9jLCkpCgogICAgZm9yIHJlY29yZCBpbiByZXN1bHRzOgogICAgICAgIHByb2R1Y3Rfcm93ID0gewogICAgICAgICAgICAna2V5Jzogc3RyKHJlY29yZFswXSksCiAgICAgICAgICAgICdiYXJjb2RlX3ZhbHVlJzogc3RyKHJlY29yZFszXSksCiAgICAgICAgICAgICdhcHByb3ZlZCc6IHN0cihyZWNvcmRbNF0pCgogICAgICAgIH0KCiAgICAgICAgZG9jX2RldGFpbF9saXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXS5hcHBlbmQocHJvZHVjdF9yb3cpCgogICAgaGFzaE1hcC5wdXQoImJhcmNfY2FyZHMiLCBqc29uLmR1bXBzKGRvY19kZXRhaWxfbGlzdCkpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZG9jX2JhcmNvZGVzX2xpc3RlbmVyKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGJhcmNvZGVfZXJyb3Jfc2NyZWVuX2xpc3RlbmVyKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgICMgc3VDbGFzcy51cm92b19zZXRfbG9ja190cmlnZ2VyKEZhbHNlKQogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKICAgIGVsaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ2J0bl9jb250aW51ZV9zY2FuJzoKICAgICAgICAjIHN1Q2xhc3MudXJvdm9fc2V0X2xvY2tfdHJpZ2dlcihGYWxzZSkKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBhcHBfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgIyBoYXNoTWFwLnB1dCgnSW5zdGFsbENvbmZpZ3VyYXRpb24nLCAnJykKICAgICMgaGFzaE1hcC5wdXQoJ1VwZGF0ZU1lbnUnLCAnJykKICAgICMgaGFzaE1hcC5wdXQoJ3RvYXN0JywgJ9Ca0L7QvdGE0LAg0YPRgdGC0LDQvdC+0LLQu9C10L3QsCEhIScpCiAgICBzaGVtYSA9IGRhdGFiYXNlX2luaXRfcXVlcnllcy5kYXRhYmFzZV9zaGVtYSgpCiAgICBmb3IgZWwgaW4gc2hlbWE6CiAgICAgICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoZWwpCgoKICAgICAgICAjIGZvciBwYXJhbWV0ZXJfbmFtZSwgdmFsdWUgaW4gcGFyYW1ldGVycy5pdGVtcygpOgogICAgICAgICMgICAgIHNldF9wYXJhbXMucHV0KHBhcmFtZXRlcl9uYW1lLHZhbHVlKQogICAgaWYgcnNfc2V0dGluZ3MuZ2V0KCdUaXRsZVRleHRTaXplJykgaXMgTm9uZToKICAgICAgICByc19zZXR0aW5ncy5wdXQoIlRpdGxlVGV4dFNpemUiLCAiMTgiLCBUcnVlKQogICAgaWYgcnNfc2V0dGluZ3MuZ2V0KCd0aXRsZURvY1R5cGVDYXJkVGV4dFNpemUnKSBpcyBOb25lOgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgidGl0bGVEb2NUeXBlQ2FyZFRleHRTaXplIiwgIjE4IiwgVHJ1ZSkKICAgIGlmIHJzX3NldHRpbmdzLmdldCgnQ2FyZFRpdGxlVGV4dFNpemUnKSBpcyBOb25lOgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgiQ2FyZFRpdGxlVGV4dFNpemUiLCAiMjAiLCBUcnVlKQogICAgaWYgcnNfc2V0dGluZ3MuZ2V0KCdDYXJkRGF0ZVRleHRTaXplJykgaXMgTm9uZToKICAgICAgICByc19zZXR0aW5ncy5wdXQoIkNhcmREYXRlVGV4dFNpemUiLCAiMTAiLCBUcnVlKQogICAgaWYgcnNfc2V0dGluZ3MuZ2V0KCdDYXJkVGV4dFNpemUnKSBpcyBOb25lOgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgiQ2FyZFRleHRTaXplIiwgIjE1IiwgVHJ1ZSkKICAgIGlmIHJzX3NldHRpbmdzLmdldCgnR29vZHNDYXJkVGl0bGVUZXh0U2l6ZScpIGlzIE5vbmU6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCJHb29kc0NhcmRUaXRsZVRleHRTaXplIiwgIjE4IiwgVHJ1ZSkKICAgIGlmIHJzX3NldHRpbmdzLmdldCgnZ29vZHNUZXh0U2l6ZScpIGlzIE5vbmU6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCJnb29kc1RleHRTaXplIiwgIjE4IiwgVHJ1ZSkKICAgIGlmIHJzX3NldHRpbmdzLmdldCgnU2VyaWVzUHJvcGVydGllc1RleHRTaXplJykgaXMgTm9uZToKICAgICAgICByc19zZXR0aW5ncy5wdXQoIlNlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZSIsICIxNiIsIFRydWUpCiAgICBpZiByc19zZXR0aW5ncy5nZXQoJ0RvY1R5cGVDYXJkVGV4dFNpemUnKSBpcyBOb25lOgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgiRG9jVHlwZUNhcmRUZXh0U2l6ZSIsICIxNSIsIFRydWUpCiAgICBpZiByc19zZXR0aW5ncy5nZXQoJ3NpZ25hbF9udW0nKSBpcyBOb25lOgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgnc2lnbmFsX251bScsICc4MycsIFRydWUpCiAgICBpZiByc19zZXR0aW5ncy5nZXQoJ2JlZXBfZHVyYXRpb24nKSBpcyBOb25lOgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgnYmVlcF9kdXJhdGlvbicsICcxMDAwJywgVHJ1ZSkKICAgIGlmIHJzX3NldHRpbmdzLmdldCgndXNlX21hcmsnKSAgaXMgTm9uZToKICAgICAgICByc19zZXR0aW5ncy5wdXQoJ3VzZV9tYXJrJywgJ2ZhbHNlJywgVHJ1ZSkKICAgIGlmIHJzX3NldHRpbmdzLmdldCgnYWRkX2lmX25vdF9pbl9wbGFuJykgIGlzIE5vbmU6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdhZGRfaWZfbm90X2luX3BsYW4nLCAnZmFsc2UnLCBUcnVlKQogICAgaWYgcnNfc2V0dGluZ3MuZ2V0KCdwYXRoJykgIGlzIE5vbmU6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdwYXRoJywgJycsIFRydWUpCiAgICBpZiByc19zZXR0aW5ncy5nZXQoJ2RlbGV0ZV9maWxlcycpICBpcyBOb25lOgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgnZGVsZXRlX2ZpbGVzJywgJ2ZhbHNlJywgVHJ1ZSkKICAgIGlmIHJzX3NldHRpbmdzLmdldCgnYWxsb3dfb3ZlcnNjYW4nKSAgaXMgTm9uZToKICAgICAgICByc19zZXR0aW5ncy5wdXQoJ2FsbG93X292ZXJzY2FuJywgJ2ZhbHNlJywgVHJ1ZSkKCgogICAgaGFzaE1hcC5wdXQoJ3RvYXN0JywgJ9CT0L7RgtC+0LIg0Log0YDQsNCx0L7RgtC1JykKCiAgICAjINCf0YDQvtCy0LXRgNC40LwsINGB0LLQvtC/0LDQtNCw0Y7RgiDQu9C4INGC0LXQutGD0YnQuNC5INGA0LXQu9C40Lcg0LrQvtC90YTRiyDQuCDQt9Cw0L/QuNGB0Ywg0L4g0L3QtdC8INCyINCR0JQsINC10YHQu9C4INC90LXRgiAtINGC0L4g0L3QsNC00L4g0LLRi9C/0L7Qu9C90LjRgtGMINC/0YDQvtGG0LXQtNGD0YDRgyDQvtCx0L3QvtCy0LvQtdC90LjRjwogICAgIyBpZiBub3QgdWlfZ2xvYmFsLmdldF9jb25zdGFudHMoJ3JlbGVhc2UnKSA9PSBoYXNoTWFwLmdldCgncmVsZWFzZScpOgogICAgIyB1cGRhdGVfcHJvYy51cGRhdGVfb25fcmVsZWFzZShjdXJyZW50X3JlbGVhc2UpCiAgICAjIHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KCdVcGRhdGUgUlNfY29uc3RhbnRzIHNldCByZWxlYXNlID0gPycsKGhhc2hNYXAuZ2V0KCdyZWxlYXNlJyksKSkKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBmaWxlX2xpc3Rfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgdHggPSAnJwoKICAgICMgdHJhdmVyc2Ugcm9vdCBkaXJlY3RvcnksIGFuZCBsaXN0IGRpcmVjdG9yaWVzIGFzIGRpcnMgYW5kIGZpbGVzIGFzIGZpbGVzCiAgICBmb3Igcm9vdCwgZGlycywgZmlsZXMgaW4gb3Mud2FsaygiLiIpOgogICAgICAgIHBhdGggPSByb290LnNwbGl0KG9zLnNlcCkKICAgICAgICBwcmludCgobGVuKHBhdGgpIC0gMSkgKiAnLS0tJywgb3MucGF0aC5iYXNlbmFtZShyb290KSkKICAgICAgICBmb3IgZmlsZSBpbiBmaWxlczoKICAgICAgICAgICAgcHJpbnQobGVuKHBhdGgpICogJy0tLScsIGZpbGUpCgogICAgaGFzaE1hcC5wdXQoJ2ZpbGVzX2xpc3QnLCB0eCkKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGV2ZW50X3NlcnZpY2UoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgIyBoYXNoTWFwLnB1dCgnX2NvbmZpZ3VyYXRpb24nLCcnKQogICAgaGFzaE1hcC5wdXQoJ3dzX2JvZHknLCBoYXNoTWFwLmdldCgnQU5EUk9JRF9JRCcpKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIHB1dF9ub3RpZmljYXRpb24oaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaGFzaE1hcC5wdXQoJ19jb25maWd1cmF0aW9uJywnJykKICAgIHF0ZXh0ID0gJ1NFTEVDVCBkb2NfdHlwZSwgY291bnQoaWRfZG9jKSBhcyBjb3VudCwgbWF4KGNyZWF0ZWRfYXQpIGFzIGR0IEZST00gUlNfZG9jcyBXSEVSRSBjcmVhdGVkX2F0Pj8gR1JPVVAgQlkgZG9jX3R5cGUnCiAgICBsYXN0RGF0ZSA9IHJzX3NldHRpbmdzLmdldCgnbGFzdERhdGUnKQogICAgaWYgbm90IGxhc3REYXRlOgogICAgICAgIGxhc3REYXRlID0gJzIwMjAtMDEtMDEgMDA6MDA6MDAnICAjIG9uZV9tb250aF9hZ28uc3RyZnRpbWUoJyVZLSVtLSVkLSVILSVNLSVTJykKICAgIHJlcyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LChsYXN0RGF0ZSwpLFRydWUpCiAgICBEb2NMaXN0ID0gJycKICAgIGlmIHJlczoKICAgICAgICBmb3IgZWwgaW4gcmVzOgogICAgICAgICAgICBEb2NMaXN0ID0gRG9jTGlzdCArICgnICcgKyBlbFsnZG9jX3R5cGUnXSArICc6ICcgKyBzdHIoZWxbJ2NvdW50J10pKQoKICAgICAgICBoYXNoTWFwLnB1dCgnYmFzaWNfbm90aWZpY2F0aW9uJywganNvbi5kdW1wcyhbeydudW1iZXInOjEsICd0aXRsZSc6J9Cd0L7QstGL0LUg0LTQvtC60YPQvNC10L3RgtGLJywgJ21lc3NhZ2UnOiBEb2NMaXN0IH1dKSkKICAgICAgICBxdGV4dCA9ICdTRUxFQ1QgbWF4KGNyZWF0ZWRfYXQpIGFzIGR0IEZST00gUlNfZG9jcycKICAgICAgICByZXMyID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQpCgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgnbGFzdERhdGUnLHJlczJbMF1bMF0sVHJ1ZSkKICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLGxhc3REYXRlKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGZvbnRfc2l6ZV9zZXR0aW5nc19saXN0ZW5lcihoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpCiAgICBpZiBsaXN0ZW5lciA9PSAnYnRuX29uX3NhdmUnOiAgIyBvciBoYXNoTWFwLmdldCgnZXZlbnQnKT09J0lucHV0JwoKICAgICAgICByc19zZXR0aW5ncy5wdXQoIlRpdGxlVGV4dFNpemUiLCBoYXNoTWFwLmdldCgiVGl0bGVUZXh0U2l6ZSIpLCBUcnVlKQogICAgICAgIHJzX3NldHRpbmdzLnB1dCgiQ2FyZFRpdGxlVGV4dFNpemUiLCBoYXNoTWFwLmdldCgiQ2FyZFRpdGxlVGV4dFNpemUiKSwgVHJ1ZSkKICAgICAgICByc19zZXR0aW5ncy5wdXQoIkNhcmRUZXh0U2l6ZSIsIGhhc2hNYXAuZ2V0KCJDYXJkVGV4dFNpemUiKSwgVHJ1ZSkKICAgICAgICByc19zZXR0aW5ncy5wdXQoIkNhcmREYXRlVGV4dFNpemUiLCBoYXNoTWFwLmdldCgiQ2FyZERhdGVUZXh0U2l6ZSIpLCBUcnVlKQogICAgICAgIHJzX3NldHRpbmdzLnB1dCgiR29vZHNDYXJkVGl0bGVUZXh0U2l6ZSIsIGhhc2hNYXAuZ2V0KCJHb29kc0NhcmRUaXRsZVRleHRTaXplIiksIFRydWUpCiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCJnb29kc1RleHRTaXplIiwgaGFzaE1hcC5nZXQoImdvb2RzVGV4dFNpemUiKSwgVHJ1ZSkKICAgICAgICByc19zZXR0aW5ncy5wdXQoIlNlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZSIsIGhhc2hNYXAuZ2V0KCJTZXJpZXNQcm9wZXJ0aWVzVGV4dFNpemUiKSwgVHJ1ZSkKICAgICAgICByc19zZXR0aW5ncy5wdXQoIkRvY1R5cGVDYXJkVGV4dFNpemUiLCBoYXNoTWFwLmdldCgiRG9jVHlwZUNhcmRUZXh0U2l6ZSIpLCBUcnVlKQogICAgICAgIHJzX3NldHRpbmdzLnB1dCgidGl0bGVEb2NUeXBlQ2FyZFRleHRTaXplIiwgaGFzaE1hcC5nZXQoInRpdGxlRG9jVHlwZUNhcmRUZXh0U2l6ZSIpLCBUcnVlKQogICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9Cd0LDRgdGC0YDQvtC50LrQuCDQuCDQvtCx0LzQtdC9JykKICAgICAgICAjcGFyYW1zLnB1dCgic2lnbmFsX251bSIsIGhhc2hNYXAuZ2V0KCJzaWduYWxfbnVtIiksIFRydWUpCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fb25fY2FuY2VsJyBvciBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQndCw0YHRgtGA0L7QudC60Lgg0Lgg0L7QsdC80LXQvScpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZm9udF9zaXplc19vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgIyDQodC70L7QstCw0YDQuNC6INC90LDQt9Cy0LDQvdC40Lkg0Lgg0LjQvNC10L0g0YDQsNC30LzQtdGA0L7QsiDRiNGA0LjRhNGC0L7QsgogICAgc3MgPSB7CiAgICAgICAgJ1RpdGxlVGV4dFNpemUnOiAn0KDQsNC30LzQtdGAINC30LDQs9C+0LvQvtCy0LrQsCcsCiAgICAgICAgJ0NhcmRUaXRsZVRleHRTaXplJzogJ9Cg0LDQt9C80LXRgCDQt9Cw0LPQvtC70L7QstC60LAg0LrQsNGA0YLQvtGH0LrQuCcsCiAgICAgICAgIkNhcmREYXRlVGV4dFNpemUiOiAn0JTQsNC90L3Ri9C1INC60LDRgNGC0L7Rh9C60LgnLAogICAgICAgICdDYXJkVGV4dFNpemUnOifQoNCw0LfQvNC10YAg0YLQtdC60YHRgtCwINGN0LvQtdC80LXQvdGC0L7QsicsCiAgICAgICAgJ0dvb2RzQ2FyZFRpdGxlVGV4dFNpemUnOiAn0JfQsNCz0L7Qu9C+0LLQvtC6INGC0L7QstCw0YDQsCcsCiAgICAgICAgJ2dvb2RzVGV4dFNpemUnOiAn0KLQvtCy0LDRgCcsCiAgICAgICAgJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZSc6ICfQodC10YDQuNC4INGB0LLQvtC50YHRgtCy0LAnLAogICAgICAgICdEb2NUeXBlQ2FyZFRleHRTaXplJzogJ9Ci0LjQvyDQtNC+0LrRg9C80LXQvdGC0LAnLAogICAgICAgICd0aXRsZURvY1R5cGVDYXJkVGV4dFNpemUnOifQndCw0LfQstCw0L3QuNC1INC00L7QutGD0LzQtdC90YLQsCDQsiDQutCw0YDRgtC+0YfQutC1J30gICMsICAgICAgICdzaWduYWxfbnVtJzogItCd0L7QvNC10YAg0YHQuNCz0L3QsNC70LAiCgogICAgaGFzaE1hcC5wdXQoJ1RpdGxlVGV4dFNpemUnLCAgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J9Cg0LDQt9C80LXRgCDQt9Cw0LPQvtC70L7QstC60LAnLCBkZWZhdWx0X3RleHQ9cnNfc2V0dGluZ3MuZ2V0KCdUaXRsZVRleHRTaXplJyksIHBhc3N3b3JkPUZhbHNlKS50b19qc29uKCkpICMgICkKICAgIGhhc2hNYXAucHV0KCdDYXJkVGl0bGVUZXh0U2l6ZScsCiAgICAgICAgICAgICAgICB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0n0KDQsNC30LzQtdGAINC30LDQs9C+0LvQvtCy0LrQsCDQutCw0YDRgtC+0YfQutC4JywgZGVmYXVsdF90ZXh0PXJzX3NldHRpbmdzLmdldCgnQ2FyZFRpdGxlVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1GYWxzZSkudG9fanNvbigpKSAgIyApCiAgICAjIkNhcmREYXRlVGV4dFNpemUiOiAn0JTQsNC90L3Ri9C1INC60LDRgNGC0L7Rh9C60LgnLAogICAgaGFzaE1hcC5wdXQoJ0NhcmREYXRlVGV4dFNpemUnLAogICAgICAgICAgICAgICAgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J9CU0LDQvdC90YvQtSDQutCw0YDRgtC+0YfQutC4JywgZGVmYXVsdF90ZXh0PXJzX3NldHRpbmdzLmdldCgnQ2FyZERhdGVUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPUZhbHNlKS50b19qc29uKCkpICAjICkKICAgICMnQ2FyZFRleHRTaXplJzon0KDQsNC30LzQtdGAINGC0LXQutGB0YLQsCDRjdC70LXQvNC10L3RgtC+0LInLAogICAgaGFzaE1hcC5wdXQoJ0NhcmRUZXh0U2l6ZScsCiAgICAgICAgICAgICAgICB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0n0KDQsNC30LzQtdGAINGC0LXQutGB0YLQsCDRjdC70LXQvNC10L3RgtC+0LInLCBkZWZhdWx0X3RleHQ9cnNfc2V0dGluZ3MuZ2V0KCdDYXJkVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1GYWxzZSkudG9fanNvbigpKSAgIyApCiAgICAjJ0dvb2RzQ2FyZFRpdGxlVGV4dFNpemUnOiAn0JfQsNCz0L7Qu9C+0LLQvtC6INGC0L7QstCw0YDQsCcsCiAgICBoYXNoTWFwLnB1dCgnR29vZHNDYXJkVGl0bGVUZXh0U2l6ZScsCiAgICAgICAgICAgICAgICB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0n0JfQsNCz0L7Qu9C+0LLQvtC6INGC0L7QstCw0YDQsCcsIGRlZmF1bHRfdGV4dD1yc19zZXR0aW5ncy5nZXQoJ0dvb2RzQ2FyZFRpdGxlVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1GYWxzZSkudG9fanNvbigpKSAgIyApCiAgICAjJ2dvb2RzVGV4dFNpemUnOiAn0KLQvtCy0LDRgCcsCiAgICBoYXNoTWFwLnB1dCgnZ29vZHNUZXh0U2l6ZScsCiAgICAgICAgICAgICAgICB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0n0KLQvtCy0LDRgCcsIGRlZmF1bHRfdGV4dD1yc19zZXR0aW5ncy5nZXQoJ2dvb2RzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1GYWxzZSkudG9fanNvbigpKSAgIyApCiAgICAjJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZSc6ICfQodC10YDQuNC4INGB0LLQvtC50YHRgtCy0LAnLAogICAgaGFzaE1hcC5wdXQoJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZScsCiAgICAgICAgICAgICAgICB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0n0KHQtdGA0LjQuCDRgdCy0L7QudGB0YLQstCwJywgZGVmYXVsdF90ZXh0PXJzX3NldHRpbmdzLmdldCgnU2VyaWVzUHJvcGVydGllc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9RmFsc2UpLnRvX2pzb24oKSkgICMgKQogICAgIydEb2NUeXBlQ2FyZFRleHRTaXplJzogJ9Ci0LjQvyDQtNC+0LrRg9C80LXQvdGC0LAnLAogICAgaGFzaE1hcC5wdXQoJ0RvY1R5cGVDYXJkVGV4dFNpemUnLAogICAgICAgICAgICAgICAgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J9Ci0LjQvyDQtNC+0LrRg9C80LXQvdGC0LAnLCBkZWZhdWx0X3RleHQ9cnNfc2V0dGluZ3MuZ2V0KCdEb2NUeXBlQ2FyZFRleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9RmFsc2UpLnRvX2pzb24oKSkgICMgKQogICAgIyd0aXRsZURvY1R5cGVDYXJkVGV4dFNpemUnOifQndCw0LfQstCw0L3QuNC1INC00L7QutGD0LzQtdC90YLQsCDQsiDQutCw0YDRgtC+0YfQutC1JwogICAgaGFzaE1hcC5wdXQoJ3RpdGxlRG9jVHlwZUNhcmRUZXh0U2l6ZScsCiAgICAgICAgICAgICAgICB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0n0J3QsNC30LLQsNC90LjQtSDQtNC+0LrRg9C80LXQvdGC0LAg0LIg0LrQsNGA0YLQvtGH0LrQtScsIGRlZmF1bHRfdGV4dD1yc19zZXR0aW5ncy5nZXQoJ3RpdGxlRG9jVHlwZUNhcmRUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPUZhbHNlKS50b19qc29uKCkpICAjICkKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBzb3VuZF9zZXR0aW5nc19vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICAjIHNzID0geydzaWduYWxfbnVtJzogItCd0L7QvNC10YAg0YHQuNCz0L3QsNC70LAiLAogICAgIyAgICAgICAnYmVlcF9kdXJhdGlvbic6J9CU0LvQuNGC0LXQu9GM0L3QvtGB0YLRjCjQvNGBKSd9ICAjICwKCiAgICBoYXNoTWFwLnB1dCgnc2lnbmFsX251bV9jYXJkJywKICAgICAgICAgICAgICAgIHVpX2Zvcm1fZGF0YS5Nb2Rlcm5GaWVsZChoaW50PSfQndC+0LzQtdGAINGB0LjQs9C90LDQu9CwJywgZGVmYXVsdF90ZXh0PXJzX3NldHRpbmdzLmdldCgnc2lnbmFsX251bScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPUZhbHNlKS50b19qc29uKCkpICAjICkKICAgIGhhc2hNYXAucHV0KCdiZWVwX2R1cmF0aW9uX2NhcmQnLAogICAgICAgICAgICAgICAgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J9CU0LvQuNGC0LXQu9GM0L3QvtGB0YLRjCjQvNGBKScsIGRlZmF1bHRfdGV4dD1yc19zZXR0aW5ncy5nZXQoJ2JlZXBfZHVyYXRpb24nKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1GYWxzZSkudG9fanNvbigpKSAgIyApCiAgICAjZmllbGRzX2Zyb21fc2V0dGluZ3MoaGFzaE1hcCwgc3MpCgogICAgcmV0dXJuIGhhc2hNYXAKCmRlZiBzb3VuZF9zZXR0aW5nc19saXN0ZW5lcihoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpCiAgICBpZiBsaXN0ZW5lciA9PSAnYnRuX29uX3NhdmUnOiAgIyBvciBoYXNoTWFwLmdldCgnZXZlbnQnKSA9PSAnSW5wdXQnCgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgnc2lnbmFsX251bScsIGhhc2hNYXAuZ2V0KCJzaWduYWxfbnVtX3ZhbHVlIiksIFRydWUpCiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdiZWVwX2R1cmF0aW9uJywgaGFzaE1hcC5nZXQoJ2JlZXBfZHVyYXRpb25fdmFsdWUnKSwgVHJ1ZSkKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQndCw0YHRgtGA0L7QudC60Lgg0Lgg0L7QsdC80LXQvScpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX29uX2NhbmNlbCcgb3IgbGlzdGVuZXIgPT0gJ09OX0JBQ0tfUFJFU1NFRCc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0J3QsNGB0YLRgNC+0LnQutC4INC4INC+0LHQvNC10L0nKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX3Rlc3Rfc291bmQnOgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgnc2lnbmFsX251bScsIGhhc2hNYXAuZ2V0KCJzaWduYWxfbnVtX3ZhbHVlIiksIFRydWUpCiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdiZWVwX2R1cmF0aW9uJywgaGFzaE1hcC5nZXQoJ2JlZXBfZHVyYXRpb25fdmFsdWUnKSwgVHJ1ZSkKICAgICAgICBoYXNoTWFwLnB1dCgnYmVlcF9kdXJhdGlvbicsIGhhc2hNYXAuZ2V0KCJiZWVwX2R1cmF0aW9uX3ZhbHVlIikpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2JlZXAnLCBoYXNoTWFwLmdldCgnc2lnbmFsX251bV92YWx1ZScpKQoKICAgICAgICAjIGhhc2hNYXAucHV0KCdiZWVwX2R1cmF0aW9uJywgc3RyKHJzX3NldHRpbmdzLmdldCgnYmVlcF9kdXJhdGlvbicpKSkKICAgICAgICAjIGhhc2hNYXAucHV0KCJiZWVwIiwgc3RyKHJzX3NldHRpbmdzLmdldCgnc2lnbmFsX251bScpKSkKCiAgICAgICAgIyBoYXNoTWFwLnB1dCgnYmVlcF9kdXJhdGlvbicsICc4MycpCiAgICAgICAgIyBoYXNoTWFwLnB1dCgiYmVlcCIsICcxMDAwJykKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiB0ZXN0X2JhcmNvZGVfbGlzdGVuZXIoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJyk9PSdiYXJjb2RlJyBvciBoYXNoTWFwLmdldCgiZXZlbnQiKSA9PSAib25SZXN1bHRQb3NpdGl2ZSI6CiAgICAgICAgaWYgaGFzaE1hcC5nZXQoImV2ZW50IikgPT0gIm9uUmVzdWx0UG9zaXRpdmUiOgogICAgICAgICAgICBiYXJjb2RlID0gaGFzaE1hcC5nZXQoJ2ZsZF9iYXJjb2RlJykKICAgICAgICBlbHNlOgogICAgICAgICAgICBiYXJjb2RlID0gaGFzaE1hcC5nZXQoJ2JhcmNvZGVfY2FtZXJhJykKICAgICAgICBiYXJjID0gdWlfYmFyY29kZXMucGFyc2VfYmFyY29kZShiYXJjb2RlKQogICAgICAgIGtleXNfbGlzdCA9IFsnRVJST1InLCdHVElOJywnU0VSSUFMJywnRnVsbENvZGUnLCAnQkFSQ09ERScsICdTQ0hFTUUnLCAnRVhQSVJZJywgJ0JBVENIJywgJ05IUk4nLCAnQ0hFQ0snLCAnV0VJR0hUJywgJ1BQTiddCiAgICAgICAgeD0xCiAgICAgICAgZm9yIGkgaW4ga2V5c19saXN0OgogICAgICAgICAgICByZXNfdmFsdWUgPSAgYmFyYy5nZXQoaSxOb25lKQogICAgICAgICAgICBpZiByZXNfdmFsdWU6CiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgnZmxkXycrc3RyKHgpLHN0cihpKSsnOiAnKyByZXNfdmFsdWUpCiAgICAgICAgICAgICAgICB4Kz0xCiAgICAgICAgI9CV0YHQu9C4INC30LDQv9C+0LvQvdC10L3QviDQvNC10L3QtdC1IDUg0L/QvtC70LXQuSwg0YHQvtGC0YDQtdC8INC+0YHRgtCw0LvRjNC90YvQtSDQv9GA0L7RiNC70YvQtSDQt9C90LDRh9C10L3QuNGPCiAgICAgICAgd2hpbGUgeDw9NzoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2ZsZF8nICsgc3RyKHgpLCAnJykKICAgICAgICAgICAgeCs9MQoKICAgIGVsaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gIkJBQ0tfQlVUVE9OIiBvciAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQndCw0YHRgtGA0L7QudC60Lgg0Lgg0L7QsdC80LXQvSIpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgYmFyY29kZV9mbG93X29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGlkX2RvYyA9IGhhc2hNYXAuZ2V0KCdpZF9kb2MnKQogICAgZmFsc2VWYWx1ZUxpc3QgPSAoMCwgJzAnLCAnZmFsc2UnLCAnRmFsc2UnLCBOb25lKQogICAgIyDQpNC+0YDQvNC40YDRg9C10Lwg0YLQsNCx0LvQuNGG0YMg0LrQsNGA0YLQvtGH0LXQuiDQuCDQt9Cw0L/RgNC+0YEg0Log0LHQsNC30LUKCiAgICBkb2NfZGV0YWlsX2xpc3QgPSB1aV9mb3JtX2RhdGEuZG9jX2JhcmNfZmxvd19jYXJkKHJzX3NldHRpbmdzKQogICAgZG9jX2RldGFpbF9saXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXSA9IFtdCgoKICAgIHF1ZXJ5X3RleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X2RvY19iYXJjX2Zsb3dfcXVlcnkoKQoKICAgIHJlc3VsdHMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCAoaWRfZG9jLCksIFRydWUpCgogICAgaWYgcmVzdWx0czoKICAgICAgICAjIGhhc2hNYXAucHV0KCdpZF9kb2MnLCBzdHIocmVzdWx0c1swXVsnaWRfZG9jJ10pKQogICAgICAgIGZvciByZWNvcmQgaW4gcmVzdWx0czoKICAgICAgICAgICAgcGljID0gJyNmMDBjJwoKICAgICAgICAgICAgcHJvZHVjdF9yb3cgPSB7CiAgICAgICAgICAgICAgICAna2V5Jzogc3RyKHJlY29yZFsnYmFyY29kZSddKSwKICAgICAgICAgICAgICAgICdiYXJjb2RlJzogc3RyKHJlY29yZFsnYmFyY29kZSddKSwKCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGRvY19kZXRhaWxfbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10uYXBwZW5kKHByb2R1Y3Rfcm93KQoKICAgICAgICAjINCf0YDQuNC30L3QsNC6LCBoYXZlX3F0dHlfcGxhbiDQldGB0YLRjNCf0LvQsNC90J/QntCa0J7Qu9C40YfQtdGB0YLQstGDICAtICDQmNGB0YLQuNC90LAg0LrQvtCz0LTQsCDRgdGD0LzQvNCwINC60L7Qu9C+0L3QutC4IFF0dHlfcGxhbiA+IDAKICAgICAgICAjINCf0YDQuNC30L3QsNC6ICBoYXZlX21hcmtfcGxhbiAi0JXRgdGC0YzQn9C70LDQvdCa0J7QtNC+0LLQnNCw0YDQutC40YDQvtCy0LrQuCDigJMg0JjRgdGC0LjQvdCwLCDQutC+0LPQtNCwINC60L7Qu9C40YfQtdGB0YLQstC+INGB0YLRgNC+0Log0YLQsNCx0LsuIFJTX2RvY3NfYmFyY29kZXMg0YEg0LfQsNC00LDQvdC90YvQvCBpZF9kb2Mg0LggaXNfcGxhbiAg0LHQvtC70YzRiNC1INC90YPQu9GPLgogICAgICAgICMg0J/RgNC40LfQvdCw0LogaGF2ZV96ZXJvX3BsYW4gItCV0YHRgtGMINGB0YLRgNC+0LrQuCDRgtC+0LLQsNGA0LAg0LIg0LTQvtC60YPQvNC10L3RgtC1IiDQmNGB0YLQuNC90LAsINC60L7Qs9C00LAg0LXRgdGC0Ywg0LfQsNC/0L7Qu9C90LXQvdC90YvQtSDRgdGC0YDQvtC60Lgg0YLQvtCy0LDRgNC+0LIg0LIg0LTQvtC60YPQvNC10L3RgtC1CiAgICAgICAgIyDQn9GA0LjQt9C90LDQuiAi0JrQvtC90YLRgNC+0LvQuNGA0L7QstCw0YLRjCIgIC0g0L/RgNC40LfQvdCw0Log0LTQu9GPINC00L7QutGD0LzQtdC90YLQsCwg0L3QsNC00L4g0LvQuCDQutC+0L3RgtGA0L7Qu9C40YDQvtCy0LDRgtGMCgogICAgICAgIHF0ZXh0ID0gdWlfZm9ybV9kYXRhLmdldF9xdHR5X3N0cmluZ19jb3VudF9xdWVyeSgpCiAgICAgICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsIHsnaWRfZG9jJzogaWRfZG9jfSkKICAgICAgICBpZiBub3QgcmVzOgogICAgICAgICAgICBoYXZlX3F0dHlfcGxhbiA9IEZhbHNlCiAgICAgICAgICAgIGhhdmVfemVyb19wbGFuID0gRmFsc2UKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXZlX3plcm9fcGxhbiA9IHJlc1swXVswXSA+IDAgICMg0JIg0LTQvtC60YPQvNC10L3RgtC1INC10YHRgtGMINGB0YLRgNC+0LrQuAogICAgICAgICAgICBpZiBoYXZlX3plcm9fcGxhbjoKICAgICAgICAgICAgICAgIGhhdmVfcXR0eV9wbGFuID0gcmVzWzBdWzFdID4gMCAgIyDQkiDQtNC+0LrRg9C80LXQvdGC0LUg0LXRgdGC0Ywg0LrQvtC70LLQviDQv9C70LDQvQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaGF2ZV9xdHR5X3BsYW4gPSBGYWxzZQogICAgICAgICMg0JXRgdGC0Ywg0LvQuCDQsiDQtNC+0LrRg9C80LXQvdGC0LUg0L/Qu9Cw0L0g0L/QviDQutC+0LTQsNC8INC80LDRgNC60LjRgNC+0LLQutC4CiAgICAgICAgcXRleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X2hhdmVfbWFya19jb2Rlc19xdWVyeSgpCiAgICAgICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsIHsnaWRfZG9jJzogaWRfZG9jLCAnaXNfcGxhbic6ICcxJ30pCiAgICAgICAgaWYgbm90IHJlczoKICAgICAgICAgICAgaGF2ZV9tYXJrX3BsYW4gPSBGYWxzZQoKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXZlX21hcmtfcGxhbiA9IHJlc1swXVswXSA+IDAKICAgIGVsc2U6CiAgICAgICAgaGF2ZV9xdHR5X3BsYW4gPSBGYWxzZQogICAgICAgIGhhdmVfemVyb19wbGFuID0gRmFsc2UKICAgICAgICBoYXZlX21hcmtfcGxhbiA9IEZhbHNlCgogICAgaGFzaE1hcC5wdXQoJ2hhdmVfcXR0eV9wbGFuJywgc3RyKGhhdmVfcXR0eV9wbGFuKSkKICAgIGhhc2hNYXAucHV0KCdoYXZlX3plcm9fcGxhbicsIHN0cihoYXZlX3plcm9fcGxhbikpCiAgICBoYXNoTWFwLnB1dCgnaGF2ZV9tYXJrX3BsYW4nLCBzdHIoaGF2ZV9tYXJrX3BsYW4pKQogICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoJ1NFTEVDVCBjb250cm9sIGZyb20gUlNfZG9jcyAgV0hFUkUgaWRfZG9jID0gPycsIChpZF9kb2MsKSkKICAgICMg0JXRgdGC0Ywg0LvQuCDQutC+0L3RgtGA0L7Qu9GMINC/0LvQsNC90LAg0LIg0LTQvtC60YPQvNC10L3RgtC1CiAgICBpZiByZXM6CiAgICAgICAgaWYgcmVzWzBdWzBdOgogICAgICAgICAgICBpZiByZXNbMF1bMF0gaW4gZmFsc2VWYWx1ZUxpc3Q6CiAgICAgICAgICAgICAgICBjb250cm9sID0gJ0ZhbHNlJwogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY29udHJvbCA9ICdUcnVlJwoKICAgICAgICAgICAgIyBjb250cm9sID0gcmVzWzBdWzBdICMnVHJ1ZScKICAgICAgICBlbHNlOgogICAgICAgICAgICBjb250cm9sID0gJ0ZhbHNlJwogICAgZWxzZToKICAgICAgICBjb250cm9sID0gJ0ZhbHNlJwoKICAgIGhhc2hNYXAucHV0KCdjb250cm9sJywgY29udHJvbCkKICAgIGhhc2hNYXAucHV0KCJkb2NfYmFyY19mbG93IiwganNvbi5kdW1wcyhkb2NfZGV0YWlsX2xpc3QpKQoKICAgIGlmIFRydWUgaW4gKGhhdmVfcXR0eV9wbGFuLCBoYXZlX3plcm9fcGxhbiwgaGF2ZV9tYXJrX3BsYW4sIGNvbnRyb2wpOgogICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQlNCw0L3QvdGL0Lkg0LTQvtC60YPQvNC10L3RgiDRgdC+0LTQtdGA0LbQuNGCINC/0LvQsNC90L7QstGL0LUg0YHRgtGA0L7QutC4LiDQodC/0LjRgdC+0Log0YjRgtGA0LjRhdC60L7QtNC+0LIg0LIg0L3QtdCz0L4g0L/QvtC80LXRgdGC0LjRgtGMINC90LXQu9GM0LfRjycpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCfQlNC+0LrRg9C80LXQvdGC0YsnKQoKICAgIHJldHVybiBoYXNoTWFwCgpkZWYgYmFyY29kZV9mbG93X2xpc3RlbmVyKGhhc2hNYXAsICBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpCiAgICBpZiBsaXN0ZW5lciA9PSAiQ2FyZHNDbGljayI6CgogICAgICAgIHBhc3MKCiAgICBlbGlmIGxpc3RlbmVyID09ICJCQUNLX0JVVFRPTiI6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgtGLIikKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9iYXJjb2RlcyI6CiAgICAgICAgcGFzcwogICAgICAgICNoYXNoTWFwLnB1dCgiU2hvd0RpYWxvZyIsICLQktCy0LXRgdGC0LjQqNGC0YDQuNGF0LrQvtC0IikKCiAgICAjIGVsaWYgaGFzaE1hcC5nZXQoImV2ZW50IikgPT0gIm9uUmVzdWx0UG9zaXRpdmUiOgoKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2JhcmNvZGUnIG9yIGhhc2hNYXAuZ2V0KCJldmVudCIpID09ICJvblJlc3VsdFBvc2l0aXZlIjoKICAgICAgICBkb2MgPSB1aV9nbG9iYWwuUnNfZG9jCiAgICAgICAgZG9jLmlkX2RvYyA9IGhhc2hNYXAuZ2V0KCdpZF9kb2MnKQogICAgICAgIGlmIGhhc2hNYXAuZ2V0KCJldmVudCIpID09ICJvblJlc3VsdFBvc2l0aXZlIjoKICAgICAgICAgICAgYmFyY29kZSA9IGhhc2hNYXAuZ2V0KCdmbGRfYmFyY29kZScpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYmFyY29kZSA9IGhhc2hNYXAuZ2V0KCdiYXJjb2RlX2NhbWVyYScpCgogICAgICAgIGhhdmVfcXR0eV9wbGFuID0gaGFzaE1hcC5nZXQoJ2hhdmVfcXR0eV9wbGFuJykKICAgICAgICBoYXZlX3plcm9fcGxhbiA9IGhhc2hNYXAuZ2V0KCdoYXZlX3plcm9fcGxhbicpCiAgICAgICAgaGF2ZV9tYXJrX3BsYW4gPSBoYXNoTWFwLmdldCgnaGF2ZV9tYXJrX3BsYW4nKQogICAgICAgIGNvbnRyb2wgPSBoYXNoTWFwLmdldCgnY29udHJvbCcpCgogICAgICAgIGlmIGJhcmNvZGU6CiAgICAgICAgICAgIHF0ZXh0ID0gJycnCiAgICAgICAgICAgIElOU0VSVCBJTlRPIFJTX2JhcmNfZmxvdyAoaWRfZG9jLCBiYXJjb2RlKSBWQUxVRVMgKD8sPykKICAgICAgICAgICAgJycnCiAgICAgICAgICAgIHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LChkb2MuaWRfZG9jLCBiYXJjb2RlKSkKCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fZG9jX21hcmtfdmVyaWZpZWQnOgogICAgICAgIGRvYyA9IHVpX2dsb2JhbC5Sc19kb2MKICAgICAgICBkb2MuaWRfZG9jID0gaGFzaE1hcC5nZXQoJ2lkX2RvYycpCiAgICAgICAgZG9jLm1hcmtfdmVyaWZpZWQoZG9jLCAxKQogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YLRiyIpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGC0YsiKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIHRpbWVyX3VwZGF0ZShoYXNoTWFwLCAgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgdXJsID0gZ2V0X2h0dHBfc2V0dGluZ3MoaGFzaE1hcCkKCiAgICAjdXJsID0gJ2h0dHA6Ly8xOTIuMTY4LjEuNzcvTlNJL2hzL3NpbXBsZV9hY2NvdW50aW5nL2RhdGEnCgogICAgIyBoYXNoTWFwLnB1dCgndG9hc3QnLCAn0J7QsdC80LXQvScpICN1cmwpCiAgICByZXN1bHQgPSBodHRwX2V4Y2hhbmdlLnRpbWVyX3NlcnZlcl9sb2FkX2RhdGEodXJsKQogICAgaWYgbGVuKHJlc3VsdCkgPiAwOgogICAgICAgIGhhc2hNYXAucHV0KCJiYXNpY19ub3RpZmljYXRpb24iLCBqc29uLmR1bXBzKFt7J251bWJlcic6IDEsICd0aXRsZSc6ICLQlNC+0LHQsNCy0LvQtdC90Ysg0LTQvtC60YPQvNC10L3RgtGLOiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21lc3NhZ2UnOiBzdHIocmVzdWx0KX1dKSkKCiAgICAjIGlmIGxlbihuZXdfZG9jc19saXN0KSA+IDA6CiAgICAjICAgICBoYXNoTWFwLnB1dCgiYmFzaWNfbm90aWZpY2F0aW9uIiwganNvbi5kdW1wcyhbeydudW1iZXInOiAxLCAndGl0bGUnOiAi0JTQvtCx0LDQstC70LXQvdGLINC00L7QutGD0LzQtdC90YLRiyIsCiAgICAjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtZXNzYWdlJzogc3RyKG5ld19kb2NzX2xpc3QpfV0pKQogICAgIyBpZiByZXN1bHQuZ2V0KCdFcnJvcicpOgogICAgIyAgICAgaGFzaE1hcC5wdXQoJ2Vycm9yX2xvZycsICkKCiAgICAjIHRyeToKICAgICMgICAgIHJlc3VsdCA9IGh0dHBfZXhjaGFuZ2Uuc2VydmVyX2xvYWRfZGF0YSh1cmwpCiAgICAjIGV4Y2VwdDoKICAgICMgICAgIHJhaXNlICfQntGI0LjQsdC60LAg0LfQsNC/0YDQvtGB0LAg0LogSFRUUCcKICAgICMgaWYgcmVzdWx0WydzdGF0dXNfY29kZSddID09MjAwOgogICAgIyAgICAgaWYgcmVzdWx0LmdldCgnYmF0Y2gnKSBpcyBub3QgTm9uZToKICAgICMgICAgICAgICByc19zZXR0aW5ncy5wdXQoJ2JhdGNoJywgcmVzdWx0LmdldCgnYmF0Y2gnKSxUcnVlKQogICAgIyAgICAgICAgIHJzX3NldHRpbmdzLnB1dCgnbnVtYmVyX29mX3JlY2VpdmVkJywnMCcsIFRydWUpCiAgICAjCiAgICAjICAgICBpZiByZXN1bHQuZ2V0KCdyZXNfZm9yX3NxbCcpIGlzIG5vdCBOb25lOgogICAgIwogICAgIyAgICAgICAgIGlmIHJzX3NldHRpbmdzLmdldCgnYmF0Y2gnKSBpcyBub3QgTm9uZTogICPQnNGLINCy0YvQv9C+0LvQvdGP0LXQvCDQv9Cw0LrQtdGCINC30LDQs9GA0YPQt9C60LgsINC00LDQvdC90YvQtSDRgNCw0LfQsdC40YLRiyDQvdCwINC90LXRgdC60L7Qu9GM0LrQviDRhNCw0LnQu9C+0LIsINC40YUg0LrQvtC70LjRh9C10YHRgtCy0L4g0LIgYmF0Y2gKICAgICMgICAgICAgICAgICAgbnVtYmVyX29mX3JlY2VpdmVkID0gMCBpZiByc19zZXR0aW5ncy5nZXQoJ251bWJlcl9vZl9yZWNlaXZlZCcpPT0gJ25vdCBmb3VuZCcgZWxzZSBpbnQocnNfc2V0dGluZ3MuZ2V0KCdudW1iZXJfb2ZfcmVjZWl2ZWQnKSkKICAgICMgICAgICAgICAgICAgdG90YWxfcmVjZWl2ZWQgPSBpbnQocnNfc2V0dGluZ3MuZ2V0KCdiYXRjaCcpKQogICAgIyAgICAgICAgICAgICBudW1iZXJfb2ZfcmVjZWl2ZWQgPSsxCiAgICAjICAgICAgICAgZWxzZToKICAgICMgICAgICAgICAgICAgdG90YWxfcmVjZWl2ZWQgPSBOb25lCiAgICAjCiAgICAjICAgICAgICAgc3FsX2Vycm9yID0gRmFsc2UKICAgICMgICAgICAgICBlcnJvcl9wb29sID0gW10KICAgICMgICAgICAgICBmb3Iga2V5IGluIHJlc3VsdFsncmVzX2Zvcl9zcWwnXToKICAgICMgICAgICAgICAgICAgdHJ5OgogICAgIyAgICAgICAgICAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoa2V5KQogICAgIyAgICAgICAgICAgICAgICAgIyByZXR1cm4gJ29rJwogICAgIyAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAjICAgICAgICAgICAgICAgICBzcWxfZXJyb3IgPSBUcnVlCiAgICAjICAgICAgICAgICAgICAgICBlcnJvcl9wb29sLmFwcGVuZChlLmFyZ3NbMF0pCiAgICAjCiAgICAjCiAgICAjICAgICAgICAgaWYgdG90YWxfcmVjZWl2ZWQ6CiAgICAjICAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQmNC00LXRgiDQt9Cw0LPRgNGD0LfQutCwINCx0L7Qu9GM0YjQvtCz0L4g0L7QsdGK0LXQvNCwINC00LDQvdC90YvRhS4g0J/QvtC70YPRh9C10L3QviAnKyBzdHIobnVtYmVyX29mX3JlY2VpdmVkKjUwMDAwKSArICfQuNC3LCDQv9GA0LjQvNC10YDQvdC+ICcrIHN0cih0b3RhbF9yZWNlaXZlZCo1MDAwMCkpCiAgICAjICAgICAgICAgICAgIHJzX3NldHRpbmdzLnB1dCgnbnVtYmVyX29mX3JlY2VpdmVkJyxzdHIobnVtYmVyX29mX3JlY2VpdmVkKSwgVHJ1ZSkKICAgICMKICAgICMgICAgICAgICBpZiBzcWxfZXJyb3I6CiAgICAjICAgICAgICAgICAgIHJzX3NldHRpbmdzLnB1dCgnZXJyb3JfbG9nJywgc3RyKGVycm9yX3Bvb2wpLCBUcnVlKQogICAgIyAgICAgICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCAn0J/RgNC4INC30LDQs9GA0YPQt9C60LUg0LHRi9C70Lgg0L7RiNC40LHQutC4LiDQn9GA0L7QstC10YDRjNGC0LUg0LjRhSDQsiDQvdCw0YHRgtGA0L7QudC60LDRhSAo0LrQvdC+0L/QutCwINC/0L7RgdC80L7RgtGA0LXRgtGMINC+0YjQuNCx0LrQuCknKQogICAgIyAgICAgaWYgaGFzaE1hcC5nZXQoJ2N1cnJlbnRfc2NyZWVuX25hbWUnKSA9PSAn0JTQvtC60YPQvNC10L3RgtGLJzoKICAgICMgICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCAn0JTQvtC60YPQvNC10L3RgtGLJykKICAgICMgICAgICAgICAjZG9jc19vbl9zdGFydChoYXNoTWFwKQogICAgIyAgICAgI3RpbGVzX29uX3N0YXJ0KGhhc2hNYXApCiAgICAjICAgICAgICAgZG9jc19hZHJfb25fc3RhcnQoaGFzaE1hcCkKICAgICMgICAgICAgICBoYXNoTWFwLnB1dCgnUmVmcmVzaFNjcmVlbicsJycpCiAgICAjCiAgICAjIGVsc2U6CiAgICAjCiAgICAjICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCBzdHIocmVzdWx0WydlcnJvcl9wb29sJ10pKQoKICAgIHF0ZXh0ID0gJycnU0VMRUNUIGlkX2RvYyBGUk9NIFJTX2RvY3MgV0hFUkUgdmVyaWZpZWQgPSAxICBhbmQgKHNlbnQgPD4gMSBvciBzZW50IGlzIG51bGwpCiAgICAgICAgICAgICAgICBVTklPTgogICAgICAgICAgICAgICAgU0VMRUNUIGlkX2RvYyBGUk9NIFJTX2Fkcl9kb2NzIFdIRVJFIHZlcmlmaWVkID0gMSAgYW5kIChzZW50IDw+IDEgb3Igc2VudCBpcyBudWxsKScnJwogICAgcmVzICA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LE5vbmUsVHJ1ZSkKCiAgICBpZiByZXM6CiAgICAgICAgZG9jX2xpc3QgPSBbXQogICAgICAgIGZvciBlbCBpbiByZXM6CiAgICAgICAgICAgIGRvY19saXN0LmFwcGVuZCgnIicrIGVsWydpZF9kb2MnXSsnIicpCiAgICAgICAgZG9jX2luX3N0ciA9ICcsJy5qb2luKGRvY19saXN0KQogICAgICAgICNodHBwYXJhbXMgPSB7J3VzZXJuYW1lJzpoYXNoTWFwLmdldCgnb25saW5lVXNlcicpLCAncGFzc3dvcmQnOmhhc2hNYXAuZ2V0KCdvbmxpbmVQYXNzJyksICd1cmwnOnVybH0KICAgICAgICBhbnN3ZXIgPSBodHRwX2V4Y2hhbmdlLnBvc3RfY2hhbmdlc190b19zZXJ2ZXIoZG9jX2luX3N0ciAsIHVybCkKICAgICAgICBpZiBhbnN3ZXIuZ2V0KCdFcnJvcicpIGlzIG5vdCBOb25lOgogICAgICAgICAgICB1aV9nbG9iYWwud3JpdGVfZXJyb3Jfb25fbG9nKHN0cihhbnN3ZXIuZ2V0KCdFcnJvcicpKSkKICAgICAgICBlbHNlOgoKICAgICAgICAgICAgcXRleHQgPSBmJ1VQREFURSBSU19kb2NzIFNFVCBzZW50ID0gMSAgV0hFUkUgaWRfZG9jIGluICh7ZG9jX2luX3N0cn0pICcKICAgICAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQpCgogICAgICAgICAgICBxdGV4dCA9IGYnVVBEQVRFIFJTX2Fkcl9kb2NzIFNFVCBzZW50ID0gMSAgV0hFUkUgaWRfZG9jIGluICh7ZG9jX2luX3N0cn0pICcKICAgICAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgc2V0dGluZ3NfZXJyb3JzX29uX3N0YXJ0KGhhc2hNYXAsICBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgZmlsdGVyX3ZhbHVlID0gJycKICAgIGZpbHRlcl9maWVsZHMgPSAoJ2xvZycsKQogICAgaGFzaE1hcC5wdXQoJ2NhcmRzJywgZ2V0X3RhYmxlX2NhcmRzKCdFcnJvcl9sb2cnLCBmaWx0ZXJfZmllbGRzLCBmaWx0ZXJfdmFsdWUpKQoKICAgIHJldHVybiBoYXNoTWFwCgpkZWYgc2V0dGluZ3NfZXJyb3JzX29uX2NsaWNrKGhhc2hNYXAsICBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpCiAgICBpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQndCw0YHRgtGA0L7QudC60Lgg0Lgg0L7QsdC80LXQvScpCiAgICAgICAgI2hhc2hNYXAucHV0KCdGaW5pc2hQcm9jZXNzJywgJycpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX2NsZWFyX2Vycic6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdlcnJvcl9sb2cnLCcnKQogICAgICAgIGhhc2hNYXAucHV0KCdlcnJvcl9sb2cnLCcnKQogICAgICAgIGhhc2hNYXAucHV0KCdSZWZyZXNoU2NyZWVuJywnJykKCgogICAgZWxpZiBsaXN0ZW5lciA9PSAiQ2FyZHNDbGljayI6CiAgICAgICAgcGFzcwoKCiAgICBlbGlmIGxpc3RlbmVyID09ICdMYXlvdXRBY3Rpb24nOgogICAgICAgIGxheW91dF9saXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCdsYXlvdXRfbGlzdGVuZXInKQogICAgICAgICMg0J3QsNGF0L7QtNC40LwgSUQg0LTQvtC60YPQvNC10L3RgtCwCiAgICAgICAgY3VycmVudF9jYXJkID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgiY3VycmVudF9jYXJkIikpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnU2VhcmNoJzoKICAgICAgICBmaWx0ZXJfdmFsdWUgPSBoYXNoTWFwLmdldCgnU2VhcmNoU3RyaW5nJykKICAgICAgICBpZiBsZW4oZmlsdGVyX3ZhbHVlKSA+IDI6CiAgICAgICAgICAgIGZpbHRlcl9maWVsZHMgPSBoYXNoTWFwLmdldCgnZmlsdGVyX2ZpZWxkcycpLnNwbGl0KCc7JykKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2NhcmRzJywgZ2V0X3RhYmxlX2NhcmRzKGhhc2hNYXAuZ2V0KCd0YWJsZV9mb3Jfc2VsZWN0JyksIGZpbHRlcl9maWVsZHMsIGZpbHRlcl92YWx1ZSkpCgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnUmVmcmVzaFNjcmVlbicsICcnKQogICAgICAgICMgdW5pdmVyc2FsX2NhcmRzX29uX3N0YXJ0KGhhc2hNYXApCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZ2V0X2h0dHBfc2V0dGluZ3MoaGFzaE1hcCk6CiAgICBodHRwX3NldHRpbmdzID0gewogICAgJ3VybCcgOiByc19zZXR0aW5ncy5nZXQoIlVSTCIpLAogICAgJ3VzZXInIDogcnNfc2V0dGluZ3MuZ2V0KCdVU0VSJyksCiAgICAncGFzcycgOiByc19zZXR0aW5ncy5nZXQoJ1BBU1MnKSwKICAgICdkZXZpY2VfbW9kZWwnIDogaGFzaE1hcC5nZXQoJ0RFVklDRV9NT0RFTCcpLAogICAgJ2FuZHJvaWRfaWQnOmhhc2hNYXAuZ2V0KCdBTkRST0lEX0lEJyksCiAgICAndXNlcl9uYW1lJzogcnNfc2V0dGluZ3MuZ2V0KCd1c2VyX25hbWUnKX0KICAgIHJldHVybiBodHRwX3NldHRpbmdzCgpkZWYgaHR0cF9zZXR0aW5nc19vbl9zdGFydChoYXNoTWFwLCAgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgdXJsID0gaGFzaE1hcC5nZXQoJ3VybCcpCiAgICBoYXNoTWFwLnB1dCgnYnRuX3Rlc3RfY29ubmVjdGlvbicsICfQotC10YHRgiDRgdC+0LXQtNC40L3QtdC90LjRjycpCiAgICBpZiB1cmwgPT0gJycgb3IgJ25vdCBmb3VuZCc6ICAj0J7QsdC90L7QstC70Y/QtdC8INGC0L7Qu9GM0LrQviDQtdGB0LvQuCDRgNCw0L3QtdC1INC90LUg0YPRgdGC0LDQvdC+0LLQu9C10L3RiwogICAgICAgIGh0dHBfc2V0dGluZ3MgPSBnZXRfaHR0cF9zZXR0aW5ncyhoYXNoTWFwKQogICAgICAgIGhhc2hNYXAucHV0KCd1cmwnLCAgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3VybCcsIGRlZmF1bHRfdGV4dD1odHRwX3NldHRpbmdzWyd1cmwnXSwgcGFzc3dvcmQ9RmFsc2UpLnRvX2pzb24oKSkgIyAgKQogICAgICAgIGhhc2hNYXAucHV0KCd1c2VyJywgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3VzZXInLCBkZWZhdWx0X3RleHQ9aHR0cF9zZXR0aW5nc1sndXNlciddLCBwYXNzd29yZD1GYWxzZSkudG9fanNvbigpKQogICAgICAgIGhhc2hNYXAucHV0KCdwYXNzJywgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3Bhc3MnLCBkZWZhdWx0X3RleHQ9aHR0cF9zZXR0aW5nc1sncGFzcyddLCBwYXNzd29yZD1UcnVlKS50b19qc29uKCkpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3VzZXJfbmFtZScsdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3VzZXJfbmFtZScsIGRlZmF1bHRfdGV4dD1odHRwX3NldHRpbmdzWyd1c2VyX25hbWUnXSwgcGFzc3dvcmQ9RmFsc2UpLnRvX2pzb24oKSkKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGh0dHBfc2V0dGluZ3Nfb25fY2xpY2soaGFzaE1hcCwgIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGxpc3RlbmVyID0gaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykKICAgIGlmIGxpc3RlbmVyID09ICdidG5fc2F2ZSc6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdVUkwnLCBoYXNoTWFwLmdldCgndXJsJyksVHJ1ZSkKICAgICAgICByc19zZXR0aW5ncy5wdXQoJ1VTRVInLCBoYXNoTWFwLmdldCgndXNlcicpLCBUcnVlKQogICAgICAgIHJzX3NldHRpbmdzLnB1dCgnUEFTUycsIGhhc2hNYXAuZ2V0KCdwYXNzJyksIFRydWUpCiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCd1c2VyX25hbWUnLCBoYXNoTWFwLmdldCgndXNlcl9uYW1lJyksIFRydWUpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0J3QsNGB0YLRgNC+0LnQutC4INC4INC+0LHQvNC10L0nKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX2NhbmNlbCc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0J3QsNGB0YLRgNC+0LnQutC4INC4INC+0LHQvNC10L0nKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQndCw0YHRgtGA0L7QudC60Lgg0Lgg0L7QsdC80LXQvScpCiAgICBlbGlmIGxpc3RlbmVyID09ICdiYXJjb2RlJzoKICAgICAgICBiYXJjb2RlID0gaGFzaE1hcC5nZXQoJ2JhcmNvZGVfY2FtZXJhMicpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBiYXJjX3N0cnVjdCA9IGpzb24ubG9hZHMoYmFyY29kZSkKCiAgICAgICAgICAgIHJzX3NldHRpbmdzLnB1dCgnVVJMJywgYmFyY19zdHJ1Y3QuZ2V0KCd1cmwnKSwgVHJ1ZSkKICAgICAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdVU0VSJywgYmFyY19zdHJ1Y3QuZ2V0KCd1c2VyJyksIFRydWUpCiAgICAgICAgICAgIHJzX3NldHRpbmdzLnB1dCgnUEFTUycsIGJhcmNfc3RydWN0LmdldCgncGFzcycpLCBUcnVlKQogICAgICAgICAgICByc19zZXR0aW5ncy5wdXQoJ3VzZXJfbmFtZScsIGJhcmNfc3RydWN0LmdldCgndXNlcl9uYW1lJyksIFRydWUpCgogICAgICAgICAgICBoYXNoTWFwLnB1dCgndXJsJywgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3VybCcsIGRlZmF1bHRfdGV4dD1iYXJjX3N0cnVjdC5nZXQoJ3VybCcpKS50b19qc29uKCkpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd1c2VyJywgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3VzZXInLCBkZWZhdWx0X3RleHQ9YmFyY19zdHJ1Y3QuZ2V0KCd1c2VyJykpLnRvX2pzb24oKSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3Bhc3MnLCB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0ncGFzcycsIGRlZmF1bHRfdGV4dD1iYXJjX3N0cnVjdC5nZXQoJ3Bhc3MnKSkudG9fanNvbigpKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgndXNlcl9uYW1lJywgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3VzZXJfbmFtZScsIGRlZmF1bHRfdGV4dD1iYXJjX3N0cnVjdC5nZXQoJ3VzZXJfbmFtZScpKS50b19qc29uKCkpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCAn0L3QtdCy0LXRgNC90YvQuSDRhNC+0YDQvNCw0YIgUVIt0LrQvtC00LAnKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX3Rlc3RfY29ubmVjdGlvbic6CiAgICAgICAgIy9jb21tdW5pY2F0aW9uX3Rlc3QKICAgICAgICBodHRwID0gZ2V0X2h0dHBfc2V0dGluZ3MoaGFzaE1hcCkKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KGh0dHBbJ3VybCddICsgJy9zaW1wbGVfYWNjb3VudGluZy9jb21tdW5pY2F0aW9uX3Rlc3Q/YW5kcm9pZF9pZD0nICsgaHR0cFsnYW5kcm9pZF9pZCddLCBhdXRoPUhUVFBCYXNpY0F1dGgoaHR0cFsndXNlciddLCBodHRwWydwYXNzJ10pLAogICAgICAgICAgICAgaGVhZGVycz17J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgnfSwKICAgICAgICAgICAgIHBhcmFtcz17J3VzZXJfbmFtZSc6IGh0dHBbJ3VzZXJfbmFtZSddLCAnZGV2aWNlX21vZGVsJzogaHR0cFsnZGV2aWNlX21vZGVsJ119KQogICAgICAgIGlmIHIuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnYnRuX3Rlc3RfY29ubmVjdGlvbicsICfQodC+0LXQtNC40L3QtdC90LjQtSDRg9GB0YLQsNC90L7QstC70LXQvdC+JykKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0JywgJ9Ch0L7QtdC00LjQvdC10L3QuNC1INGD0YHRgtCw0L3QvtCy0LvQtdC90L4nKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdidG5fdGVzdF9jb25uZWN0aW9uJywgJ9Ci0LXRgdGCINGB0L7QtdC00LjQvdC10L3QuNGPJykKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0JywgJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0YHQvtC10LTQuNC90LXQvdC40LUnKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIHVuaXZlcnNhbF9jYXJkc19vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBmaWx0ZXJfdmFsdWUgPWhhc2hNYXAuZ2V0KCdTZWFyY2hTdHJpbmcnKQogICAgaWYgZmlsdGVyX3ZhbHVlOgogICAgICAgZmlsdGVyX2ZpZWxkcyA9IGhhc2hNYXAuZ2V0KCdmaWx0ZXJfZmllbGRzJykuc3BsaXQoJzsnKQogICAgZWxzZToKICAgICAgICBmaWx0ZXJfZmllbGRzID0gbGlzdCgpCiAgICBoYXNoTWFwLnB1dCgnY2FyZHMnLCBnZXRfdGFibGVfY2FyZHMoaGFzaE1hcC5nZXQoJ3RhYmxlX2Zvcl9zZWxlY3QnKSxmaWx0ZXJfZmllbGRzLGZpbHRlcl92YWx1ZSkpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgdW5pdmVyc2FsX2NhcmRzX2xpc3RlbmVyKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKCiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpCgogICAgaWYgbGlzdGVuZXIgPT0gIkNhcmRzQ2xpY2siOgogICAgICAgIGN1cnJlbnRfc3RyID0gaGFzaE1hcC5nZXQoInNlbGVjdGVkX2NhcmRfcG9zaXRpb24iKQogICAgICAgIGpsaXN0ID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgiY2FyZHMiKSkKICAgICAgICBjdXJyZW50X2VsZW0gPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ11baW50KGN1cnJlbnRfc3RyKV0KICAgICAgICBoYXNoTWFwLnJlbW92ZSgnU2VhcmNoU3RyaW5nJykKICAgICAgICBoYXNoTWFwLnB1dCgnY3VycmVudF9pZCcsY3VycmVudF9lbGVtWydrZXknXSkKICAgICAgICBoYXNoTWFwLnB1dCgnY3VycmVudF9uYW1lJywgY3VycmVudF9lbGVtWyduYW1lJ10pCiAgICAgICAgaGFzaE1hcC5wdXQoJ0ZpbmlzaFByb2Nlc3NSZXN1bHQnLCAnJykKCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnTGF5b3V0QWN0aW9uJzoKICAgICAgICBsYXlvdXRfbGlzdGVuZXIgPSBoYXNoTWFwLmdldCgnbGF5b3V0X2xpc3RlbmVyJykKICAgICAgICAjINCd0LDRhdC+0LTQuNC8IElEINC00L7QutGD0LzQtdC90YLQsAogICAgICAgIGN1cnJlbnRfY2FyZCA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoImN1cnJlbnRfY2FyZCIpKQoKCiAgICBlbGlmIGxpc3RlbmVyID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgIGhhc2hNYXAucmVtb3ZlKCdTZWFyY2hTdHJpbmcnKQogICAgICAgIGhhc2hNYXAucHV0KCdjdXJyZW50X2lkJywgJycpCiAgICAgICAgaGFzaE1hcC5wdXQoJ0ZpbmlzaFByb2Nlc3NSZXN1bHQnLCAnJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ1NlYXJjaCc6CiAgICAgICAgZmlsdGVyX3ZhbHVlID0gaGFzaE1hcC5nZXQoJ1NlYXJjaFN0cmluZycpCiAgICAgICAgaWYgbGVuKGZpbHRlcl92YWx1ZSkgPiAyOgogICAgICAgICAgICBmaWx0ZXJfZmllbGRzID0gaGFzaE1hcC5nZXQoJ2ZpbHRlcl9maWVsZHMnKS5zcGxpdCgnOycpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdjYXJkcycsIGdldF90YWJsZV9jYXJkcyhoYXNoTWFwLmdldCgndGFibGVfZm9yX3NlbGVjdCcpLCBmaWx0ZXJfZmllbGRzLCBmaWx0ZXJfdmFsdWUpKQoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ1JlZnJlc2hTY3JlZW4nLCcnKQogICAgICAgICN1bml2ZXJzYWxfY2FyZHNfb25fc3RhcnQoaGFzaE1hcCkKCiAgICByZXR1cm4gaGFzaE1hcAoKCiMg0JTQvtCx0LDQstC70LXQvSDQv9Cw0YDQsNC80LXRgtGAICJub19sYWJlbCIKZGVmIGdldF90YWJsZV9jYXJkcyh0YWJsZV9uYW1lOiBzdHIsIGZpbHRlcl9maWVsZHM9bGlzdCgpLCBmaWx0ZXJfdmFsdWU9JycsIGV4Y2x1ZGVfbGlzdD1saXN0KCksIG5vX2xhYmVsPUZhbHNlLCBzdHJ1Y3RfdmlldzpsaXN0ID0gbGlzdCgpKToKICAgICMg0J/QvtC70YPRh9C40Lwg0YHQv9C40YHQvtC6INC/0L7Qu9C10Lkg0YLQsNCx0LvQuNGG0YsKICAgICMgdGFibGVfbmFtZSA9ICdSU19nb29kcycKICAgIHJlcyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KGYiUFJBR01BIHRhYmxlX2luZm8oe3RhYmxlX25hbWV9KSIpCiAgICBmaWVsZHMgPSBbZlsxXSBmb3IgZiBpbiByZXNdCiAgICAjINCh0LvQvtCy0LDRgNGMINGA0YPRgdGB0LrQuNGFINC40LzQtdC9INC/0L7Qu9C10LkKICAgIGFsaWFzZXMgPSB1aV9mb3JtX2RhdGEuZmllbGRzX2FsaWFzX2RpY3QoKQogICAgIyDQodC70L7QstCw0YDRjCDQv9C+0LvQtdC5LdGB0YHRi9C70L7QuiDQvdCwINGC0LDQsdC70LjRhtGLCiAgICB0YWJsZXNfZGljdCA9IHVpX2Zvcm1fZGF0YS50YWJsZV9uYW1lc19kaWN0KCkKCiAgICAjINCh0L7Qt9C00LDQtNC40Lwg0LfQsNC/0YDQvtGBINC6INGC0LDQsdC70LjRhtC1LiDQodGB0YvQu9C+0YfQvdGL0LUg0L/QvtC70Y8g0LfQsNC80LXQvdC40Lwg0L3QsCDQvdCw0LjQvNC10L3QvtCy0LDQvdC40LUg0LjQtyDRgdCy0Y/Qt9Cw0L3QvdGL0YUg0YLQsNCx0LvQuNGGCiAgICBjYXJkX2VsZW0gPSB1aV9mb3JtX2RhdGEuZ2V0X2VsZW1fZGljdCgyNCkKICAgIGNhcmRzID0gdWlfZm9ybV9kYXRhLmdldF91bml2ZXJzYWxfY2FyZCgpCgogICAgcWZpZWxkX3RleHQgPSBbXQogICAgbGVmdF9qb2luc19saXN0ID0gW10KICAgIGZvciBlbCBpbiBmaWVsZHM6CiAgICAgICAgaWYgZWwgbm90IGluIGV4Y2x1ZGVfbGlzdDoKICAgICAgICAgICAgbGlua190YWJsZV9uYW1lID0gdGFibGVzX2RpY3QuZ2V0KGVsKQogICAgICAgICAgICBxZmllbGRfdGV4dC5hcHBlbmQodGFibGVfbmFtZSArICcuJyArIGVsKQoKICAgICAgICAgICAgIyDQlNC+0L/QvtC70L3QuNC8INCy0YvRhdC+0LTQvdGD0Y4g0YHRgtGA0YPQutGC0YPRgNGDINC/0L7Qu9GP0LzQuCDRgtCw0LHQu9C40YbRizoKICAgICAgICAgICAgYWxpYXNlc19lbGVtID0gYWxpYXNlcy5nZXQoZWwpCiAgICAgICAgICAgIGlmIGFsaWFzZXNfZWxlbTogICMg0JTQu9GPINGN0YLQvtCz0L4g0L/QvtC70Y8g0L/RgNC10LTRg9GB0LzQvtGC0YDQtdC90LAg0L3QsNGB0YLRgNC+0LnQutCwCiAgICAgICAgICAgICAgICBpZiBub3QgYWxpYXNlc19lbGVtWyduYW1lJ10gPT0gJ2tleSc6ICAjINCU0LvRjyDQutC70Y7Rh9CwINC90LDRgdGC0YDQvtC50LrQuCDQvdC1INC90YPQttC90YsKICAgICAgICAgICAgICAgICAgICBpZiBub3Qgbm9fbGFiZWw6CiAgICAgICAgICAgICAgICAgICAgICAgICMg0LTQvtCx0LDQstC40Lwg0L7Qv9C40YHQsNC90LjQtSDQv9C+0LvRjzouLi4KICAgICAgICAgICAgICAgICAgICAgICAgY2FyZF9lbGVtWydWYWx1ZSddID0gYWxpYXNlc19lbGVtWyduYW1lJ10KICAgICAgICAgICAgICAgICAgICAgICAgY2FyZF9lbGVtWydUZXh0U2l6ZSddID0gcnNfc2V0dGluZ3MuZ2V0KCdDYXJkRGF0ZVRleHRTaXplJykgICMgYWxpYXNlc19lbGVtWyd0ZXh0X3NpemUnXQogICAgICAgICAgICAgICAgICAgICAgICBjYXJkX2VsZW1bJ1RleHRCb2xkJ10gPSBGYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBjYXJkc1snY3VzdG9tY2FyZHMnXVsnbGF5b3V0J11bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ10uYXBwZW5kKGNhcmRfZWxlbS5jb3B5KCkpCgogICAgICAgICAgICAgICAgICAgICMg0KLQtdC/0LXRgNGMINGB0LDQvNC+INC/0L7Qu9C1OgogICAgICAgICAgICAgICAgICAgIGNhcmRfZWxlbVsnVmFsdWUnXSA9ICdAJyArIGVsCiAgICAgICAgICAgICAgICAgICAgY2FyZF9lbGVtWydUZXh0U2l6ZSddID0gcnNfc2V0dGluZ3MuZ2V0KGFsaWFzZXNfZWxlbVsndGV4dF9zaXplJ10pCiAgICAgICAgICAgICAgICAgICAgY2FyZF9lbGVtWydUZXh0Qm9sZCddID0gYWxpYXNlc19lbGVtWydUZXh0Qm9sZCddCiAgICAgICAgICAgIGVsc2U6ICAjINCY0L3QsNGH0LUg0L/RgNC+0YHRgtC+INC00L7QsdCw0LLQuNC8INC10LPQviDRgdC+INGB0YLQsNC90LTQsNGA0YLQvdGL0LzQuCDQvdCw0YHRgtGA0L7QudC60LDQvNC4CiAgICAgICAgICAgICAgICBjYXJkX2VsZW1bJ1ZhbHVlJ10gPSAnQCcgKyBlbAoKICAgICAgICAgICAgaWYgbGlua190YWJsZV9uYW1lOgogICAgICAgICAgICAgICAgIyDQrdGC0L4g0YHRgdGL0LvQutCwINC90LAg0YLQsNCx0LvQuNGG0YMKICAgICAgICAgICAgICAgIHFmaWVsZF90ZXh0LmFwcGVuZChsaW5rX3RhYmxlX25hbWUgKyBmJy5uYW1lIGFzIHtsaW5rX3RhYmxlX25hbWV9X25hbWUnKQogICAgICAgICAgICAgICAgbGVmdF9qb2luc19saXN0LmFwcGVuZChmJycnCiAgICAgICAgICAgICAgICAgICAgTEVGVCBKT0lOIHtsaW5rX3RhYmxlX25hbWV9CiAgICAgICAgICAgICAgICAgICAgT04ge2xpbmtfdGFibGVfbmFtZX0uaWQgPSB7dGFibGVfbmFtZX0ue2VsfQogICAgICAgICAgICAgICAgICAgICcnJykKICAgICAgICAgICAgICAgIGNhcmRfZWxlbVsKICAgICAgICAgICAgICAgICAgICAnVmFsdWUnXSA9IGYnQHtsaW5rX3RhYmxlX25hbWV9X25hbWUnICAjINCi0LDQuiDQutCw0Log0L/QvtC70LUg0YHRgdGL0LvQvtGH0L3QvtC1IC0g0L/QtdGA0LXQuNC80LXQvdGD0LXQvCDQtdCz0L4g0LrQsNC6INCyINC30LDQv9GA0L7RgdC1CgogICAgICAgICAgICAjINCU0L7QsdCw0LLQuNC8INC/0L7Qu9C1INCyINC60LDRgNGC0L7Rh9C60LgKICAgICAgICAgICAgY2FyZHNbJ2N1c3RvbWNhcmRzJ11bJ2xheW91dCddWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddLmFwcGVuZChjYXJkX2VsZW0uY29weSgpKQoKICAgIHF0ZXh0ID0gJ1NlbGVjdCAnICsgJywnLmpvaW4ocWZpZWxkX3RleHQpICsgZicgRlJPTSB7dGFibGVfbmFtZX0gJyArICcgJy5qb2luKGxlZnRfam9pbnNfbGlzdCkKICAgICMg0JXRgdC70Lgg0LXRgdGC0Ywg0YTQuNC70YzRgtGA0Ysv0L7RgtCx0L7RgNGLIC0g0LTQvtCx0LDQstC40Lwg0LjRhSDQsiDQt9Cw0L/RgNC+0YEKICAgIGlmIGZpbHRlcl92YWx1ZToKICAgICAgICAjIGNvbmRpdGlvbnMgPSBbZiJ7ZmllbGR9IExJS0UgJyV7ZmlsdGVyX3ZhbHVlfSUnIiBmb3IgZmllbGQgaW4gZmlsdGVyX2ZpZWxkc10KICAgICAgICBjb25kaXRpb25zID0gW2Yie3RhYmxlX25hbWV9LntmaWVsZH0gTElLRSAnJXtmaWx0ZXJfdmFsdWV9JSciIGZvciBmaWVsZCBpbiBmaWx0ZXJfZmllbGRzXQogICAgICAgIHF0ZXh0ID0gcXRleHQgKyBmIiBXSEVSRSB7JyBPUiAnLmpvaW4oY29uZGl0aW9ucyl9IgogICAgcmVzX3F1ZXJ5ID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsIE5vbmUsIFRydWUpCiAgICAjIHNldHRpbmdzX2dsb2JhbC5nZXQKCiAgICBjYXJkc1snY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10gPSBbXQoKICAgIGZvciBpIGluIHJlc19xdWVyeToKICAgICAgICBwcm9kdWN0X3JvdyA9IHt9CiAgICAgICAgZm9yIHggaW4gaToKICAgICAgICAgICAgaWYgeCA9PSAnaWQnOgogICAgICAgICAgICAgICAgcHJvZHVjdF9yb3dbJ2tleSddID0gc3RyKGlbeF0pCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcm9kdWN0X3Jvd1t4XSA9IHN0cihpW3hdKQoKICAgICAgICBjYXJkc1snY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10uYXBwZW5kKHByb2R1Y3Rfcm93KQoKICAgIHJldHVybiBqc29uLmR1bXBzKGNhcmRzKQoKY2xhc3MgVW5pdmVyc2FsQ2FyZDoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB0YWJsZV9uYW1lOiBzdHIsIGZpbHRlcl9maWVsZHM9bGlzdCgpLCBmaWx0ZXJfdmFsdWU9JycsIGV4Y2x1ZGVfbGlzdD1saXN0KCksbm9fbGFiZWw9RmFsc2UsIHN0cnVjdF92aWV3Omxpc3QgPSBsaXN0KCkpOgogICAgICAgIHNlbGYudGFibGVfbmFtZSA9IHRhYmxlX25hbWUKICAgICAgICBzZWxmLmZpbHRlcl9maWVsZHMgPSBmaWx0ZXJfZmllbGRzCiAgICAgICAgc2VsZi5maWx0ZXJfdmFsdWUgPSBmaWx0ZXJfdmFsdWUKICAgICAgICBzZWxmLmV4Y2x1ZGVfbGlzdCA9IGV4Y2x1ZGVfbGlzdAogICAgICAgIHNlbGYubm9fbGFiZWwgPSBub19sYWJlbAogICAgICAgIHNlbGYuc3RydWN0X3ZpZXcgPSBzdHJ1Y3RfdmlldwoKICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChmIlBSQUdNQSB0YWJsZV9pbmZvKHt0YWJsZV9uYW1lfSkiKQogICAgICAgIHNlbGYuZmllbGRzID0gW2ZbMV0gZm9yIGYgaW4gcmVzXQogICAgICAgICMg0KHQu9C+0LLQsNGA0Ywg0YDRg9GB0YHQutC40YUg0LjQvNC10L0g0L/QvtC70LXQuQogICAgICAgIHNlbGYuYWxpYXNlcyA9IHVpX2Zvcm1fZGF0YS5maWVsZHNfYWxpYXNfZGljdCgpCiAgICAgICAgIyDQodC70L7QstCw0YDRjCDQv9C+0LvQtdC5LdGB0YHRi9C70L7QuiDQvdCwINGC0LDQsdC70LjRhtGLCiAgICAgICAgc2VsZi50YWJsZXNfZGljdCA9IHVpX2Zvcm1fZGF0YS50YWJsZV9uYW1lc19kaWN0KCkKICAgICAgICBzZWxmLmNhcmRfZWxlbSA9IHVpX2Zvcm1fZGF0YS5nZXRfZWxlbV9kaWN0KDI0KQogICAgICAgIHNlbGYuY2FyZHMgPSB1aV9mb3JtX2RhdGEuZ2V0X3VuaXZlcnNhbF9jYXJkKCkKICAgICAgICBzZWxmLmdvcml6b250YWxfbGF5b3V0ID0geyJsYXlvdXQiOiB7CiAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJnb3Jpem9udGFsIiwKICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKCiAgICAgICAgICAgICJFbGVtZW50cyI6IFtdfX0KCiAgICBkZWYgZ2V0X3F1ZXJ5X2J5X3RhYmxlX25hbWUoc2VsZik6CiAgICAgICAgcWZpZWxkX3RleHQgPSBbXQogICAgICAgIGxlZnRfam9pbnNfbGlzdCA9IFtdCiAgICAgICAgZm9yIGVsIGluIHNlbGYuZmllbGRzOgogICAgICAgICAgICBsaW5rX3RhYmxlX25hbWUgPSBzZWxmLnRhYmxlc19kaWN0LmdldChlbCkKICAgICAgICAgICAgcWZpZWxkX3RleHQuYXBwZW5kKHNlbGYudGFibGVfbmFtZSArICcuJyArIGVsKQogICAgICAgICAgICAjcXRleHQgPSAnU2VsZWN0ICcgKyAnLCcuam9pbihxZmllbGRfdGV4dCkgKyBmJyBGUk9NIHtzZWxmLnRhYmxlX25hbWV9ICcgKyAnICcuam9pbihsZWZ0X2pvaW5zX2xpc3QpCiAgICAgICAgICAgICMg0JXRgdC70Lgg0LXRgdGC0Ywg0YTQuNC70YzRgtGA0Ysv0L7RgtCx0L7RgNGLIC0g0LTQvtCx0LDQstC40Lwg0LjRhSDQsiDQt9Cw0L/RgNC+0YEKICAgICAgICAgICAgaWYgbGlua190YWJsZV9uYW1lOgogICAgICAgICAgICAgICAgIyDQrdGC0L4g0YHRgdGL0LvQutCwINC90LAg0YLQsNCx0LvQuNGG0YMKICAgICAgICAgICAgICAgIHFmaWVsZF90ZXh0LmFwcGVuZChsaW5rX3RhYmxlX25hbWUgKyBmJy5uYW1lIGFzIHtsaW5rX3RhYmxlX25hbWV9X25hbWUnKQogICAgICAgICAgICAgICAgbGVmdF9qb2luc19saXN0LmFwcGVuZChmJycnCiAgICAgICAgICAgICAgICAgICAgTEVGVCBKT0lOIHtsaW5rX3RhYmxlX25hbWV9CiAgICAgICAgICAgICAgICAgICAgT04ge2xpbmtfdGFibGVfbmFtZX0uaWQgPSB7c2VsZi50YWJsZV9uYW1lfS57ZWx9CiAgICAgICAgICAgICAgICAgICAgJycnKQogICAgICAgIHF0ZXh0ID0gJ1NlbGVjdCAnICsgJywnLmpvaW4ocWZpZWxkX3RleHQpICsgZicgRlJPTSB7c2VsZi50YWJsZV9uYW1lfSAnICsgJyAnLmpvaW4obGVmdF9qb2luc19saXN0KQogICAgICAgICMg0JXRgdC70Lgg0LXRgdGC0Ywg0YTQuNC70YzRgtGA0Ysv0L7RgtCx0L7RgNGLIC0g0LTQvtCx0LDQstC40Lwg0LjRhSDQsiDQt9Cw0L/RgNC+0YEKICAgICAgICBpZiBzZWxmLmZpbHRlcl92YWx1ZToKICAgICAgICAgICAgIyBjb25kaXRpb25zID0gW2Yie2ZpZWxkfSBMSUtFICcle2ZpbHRlcl92YWx1ZX0lJyIgZm9yIGZpZWxkIGluIGZpbHRlcl9maWVsZHNdCiAgICAgICAgICAgIGNvbmRpdGlvbnMgPSBbZiJ7c2VsZi50YWJsZV9uYW1lfS57ZmllbGR9IExJS0UgJyV7c2VsZi5maWx0ZXJfdmFsdWV9JSciIGZvciBmaWVsZCBpbiBzZWxmLmZpbHRlcl9maWVsZHNdCiAgICAgICAgICAgIHF0ZXh0ID0gcXRleHQgKyBmIiBXSEVSRSB7JyBPUiAnLmpvaW4oY29uZGl0aW9ucyl9IgogICAgICAgIHJldHVybiBxdGV4dAoKICAgIGRlZiBmb3JtX2NhcmRfc3RydWN0KHNlbGYpOgogICAgICAgICNxZmllbGRfdGV4dCA9IFtdCiAgICAgICAgY2FyZF9lbGVtID0gc2VsZi5jYXJkX2VsZW0KICAgICAgICBjYXJkcyA9IHNlbGYuY2FyZHMKICAgICAgICBmb3IgZWwgaW4gc2VsZi5maWVsZHM6CiAgICAgICAgICAgIGlmIGVsIG5vdCBpbiBzZWxmLmV4Y2x1ZGVfbGlzdDoKICAgICAgICAgICAgICAgIGxpbmtfdGFibGVfbmFtZSA9IHNlbGYudGFibGVzX2RpY3QuZ2V0KGVsKQogICAgICAgICAgICAgICAgI3FmaWVsZF90ZXh0LmFwcGVuZChzZWxmLnRhYmxlX25hbWUgKyAnLicgKyBlbCkKCiAgICAgICAgICAgICAgICAjINCU0L7Qv9C+0LvQvdC40Lwg0LLRi9GF0L7QtNC90YPRjiDRgdGC0YDRg9C60YLRg9GA0YMg0L/QvtC70Y/QvNC4INGC0LDQsdC70LjRhtGLOgogICAgICAgICAgICAgICAgYWxpYXNlc19lbGVtID0gc2VsZi5hbGlhc2VzLmdldChlbCkKICAgICAgICAgICAgICAgIGlmIGFsaWFzZXNfZWxlbTogICMg0JTQu9GPINGN0YLQvtCz0L4g0L/QvtC70Y8g0L/RgNC10LTRg9GB0LzQvtGC0YDQtdC90LAg0L3QsNGB0YLRgNC+0LnQutCwCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGFsaWFzZXNfZWxlbVsnbmFtZSddID09ICdrZXknOiAgIyDQlNC70Y8g0LrQu9GO0YfQsCDQvdCw0YHRgtGA0L7QudC60Lgg0L3QtSDQvdGD0LbQvdGLCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLm5vX2xhYmVsOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIyDQtNC+0LHQsNCy0LjQvCDQvtC/0LjRgdCw0L3QuNC1INC/0L7Qu9GPOi4uLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZF9lbGVtWydWYWx1ZSddID0gYWxpYXNlc19lbGVtWyduYW1lJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRfZWxlbVsnVGV4dFNpemUnXSA9IHJzX3NldHRpbmdzLmdldCgnQ2FyZERhdGVUZXh0U2l6ZScpICAjIGFsaWFzZXNfZWxlbVsndGV4dF9zaXplJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRfZWxlbVsnVGV4dEJvbGQnXSA9IEZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkc1snY3VzdG9tY2FyZHMnXVsnbGF5b3V0J11bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ10uYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRfZWxlbS5jb3B5KCkpCgogICAgICAgICAgICAgICAgICAgICAgICAjINCi0LXQv9C10YDRjCDRgdCw0LzQviDQv9C+0LvQtToKICAgICAgICAgICAgICAgICAgICAgICAgY2FyZF9lbGVtWydWYWx1ZSddID0gJ0AnICsgZWwKICAgICAgICAgICAgICAgICAgICAgICAgY2FyZF9lbGVtWydUZXh0U2l6ZSddID0gcnNfc2V0dGluZ3MuZ2V0KGFsaWFzZXNfZWxlbVsndGV4dF9zaXplJ10pCiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRfZWxlbVsnVGV4dEJvbGQnXSA9IGFsaWFzZXNfZWxlbVsnVGV4dEJvbGQnXQogICAgICAgICAgICAgICAgZWxzZTogICMg0JjQvdCw0YfQtSDQv9GA0L7RgdGC0L4g0LTQvtCx0LDQstC40Lwg0LXQs9C+INGB0L4g0YHRgtCw0L3QtNCw0YDRgtC90YvQvNC4INC90LDRgdGC0YDQvtC50LrQsNC80LgKICAgICAgICAgICAgICAgICAgICBjYXJkX2VsZW1bJ1ZhbHVlJ10gPSAnQCcgKyBlbAogICAgICAgICAgICAgICAgICAgICMg0JTQvtCx0LDQstC40Lwg0L/QvtC70LUg0LIg0LrQsNGA0YLQvtGH0LrQuAogICAgICAgICAgICBjYXJkc1snY3VzdG9tY2FyZHMnXVsnbGF5b3V0J11bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ10uYXBwZW5kKGNhcmRfZWxlbS5jb3B5KCkpCiAgICBkZWYgZm9ybV9jYXJkX3N0cnVjdF9mcm9tX3JlYWR5X3NydWN0KHNlbGYpOgogICAgICAgIHRlbXBfc3RydWN0ID0gKCdjb2RlJywnbmFtZScsKCdhcnQnLCd0aW1lc3RhbXAnKSwnZnVsbF9uYW1lJykKICAgICAgICBqc29uX3N0cnVjdHVyZSA9IFtdCgogICAgICAgIGZvciBpdGVtIGluIHRlbXBfc3RydWN0OgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKGl0ZW0sIGxpc3QpOgogICAgICAgICAgICAgICAgbmVzdGVkX3N0cnVjdHVyZSA9IFtdCiAgICAgICAgICAgICAgICBmb3IgbmVzdGVkX2l0ZW0gaW4gaXRlbToKICAgICAgICAgICAgICAgICAgICBuZXN0ZWRfc3RydWN0dXJlLmFwcGVuZChuZXN0ZWRfaXRlbSkKICAgICAgICAgICAgICAgIGpzb25fc3RydWN0dXJlLmFwcGVuZChuZXN0ZWRfc3RydWN0dXJlKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAganNvbl9zdHJ1Y3R1cmUuYXBwZW5kKGl0ZW0pCgogICAgICAgIHJldHVybiBqc29uLmR1bXBzKGpzb25fc3RydWN0dXJlLCBpbmRlbnQ9NCkKCgpkZWYgZ2V0X2dvb2RfYnlfYXJ0KGhhc2hNYXApOgoKICAgICMgaGFzaE1hcC5wdXQoJ2lucHV0X3ZhbHVlJywgaGFzaE1hcC5nZXQoJ2lucHV0X2dvb2RfaWQnKSkKCiAgICBpZiBub3QgaGFzaE1hcC5nZXQoJ2lucHV0X2dvb2RfaWQnKToKCiAgICAgICAgaWYgbGVuKGhhc2hNYXAuZ2V0KCdpbnB1dF9nb29kX2FydCcpKSA+IDA6CgogICAgICAgICAgICBnb29kX2lkX3F1ZXJ5ID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoIlNFTEVDVCBpZCBGUk9NIFJTX2dvb2RzIHdoZXJlIGFydCA9ICciICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2hNYXAuZ2V0KCdpbnB1dF9nb29kX2FydCcpICsgIiciKQoKICAgICAgICAgICAgZ29vZF9uYW1lX3F1ZXJ5ID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoIlNFTEVDVCBuYW1lLGNvZGUsdHlwZV9nb29kIEZST00gUlNfZ29vZHMgd2hlcmUgYXJ0ID0gJyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoTWFwLmdldCgnaW5wdXRfZ29vZF9hcnQnKSArICInIikKCiAgICAgICAgICAgIGlmIGxlbihnb29kX2lkX3F1ZXJ5KSA+IDA6CiAgICAgICAgICAgICAgICBnb29kX2lkID0gc3RyKGdvb2RfaWRfcXVlcnkpLnNwbGl0KCInIilbMV0KICAgICAgICAgICAgICAgIGdvb2RfbmFtZSA9IGdvb2RfbmFtZV9xdWVyeVswXVswXQogICAgICAgICAgICAgICAgZ29vZF9jb2RlID0gZ29vZF9uYW1lX3F1ZXJ5WzBdWzFdCiAgICAgICAgICAgICAgICBnb29kX3R5cGVfaWQgPSBnb29kX25hbWVfcXVlcnlbMF1bMl0KICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCJpbnB1dF9nb29kX2lkIiwgZ29vZF9pZCkKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCJwcmljZXNfb2JqZWN0X25hbWUiLCBnb29kX25hbWUgKyAiLCAiICsgZ29vZF9jb2RlKQogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2dvb2RfY29kZScsIGdvb2RfY29kZSkKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCdnb29kX3R5cGVfaWQnLCBnb29kX3R5cGVfaWQpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3ByaWNlc19lcnJvcl9tc2cnLCAi0KLQvtCy0LDRgCDQvdC1INCy0YvQsdGA0LDQvSIpCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBnZXRfbmFtZV9ieV9pZCh0YWJsZV9uYW1lLCByZWNvcmRfaWQpOgoKICAgIHF1ZXJ5ID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoCiAgICAgICAgIlNFTEVDVCBuYW1lIEZST00gIiArIHRhYmxlX25hbWUuc3RyaXAoJyJcJycpICsgIiB3aGVyZSBpZCA9ICciICsgcmVjb3JkX2lkICsgIiciKQogICAgaWYgdHlwZShxdWVyeSkgPT0gInN0ciI6CiAgICAgICAgcmV0dXJuIHN0cihxdWVyeSkuc3BsaXQoIiciKVsxXQogICAgZWxzZToKICAgICAgICByZXR1cm4gc3RyKHF1ZXJ5WzBdKS5zcGxpdCgiJyIpWzFdCgoKZGVmIGdvb2RzX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKCiAgICBmaWx0ZXJfZmllbGRzID0gW10KICAgIGZpbHRlcl92YWx1ZSA9ICcnCgogICAgaWYgaGFzaE1hcC5nZXQoJ3R5cGVfaWQnKToKICAgICAgICBmaWx0ZXJfZmllbGRzLmFwcGVuZCgndHlwZV9nb29kJykKICAgICAgICBmaWx0ZXJfdmFsdWUgPSBoYXNoTWFwLmdldCgndHlwZV9pZCcpCgogICAgZ29vZHNfY2FyZHNfanNvbiA9IGdldF90YWJsZV9jYXJkcygnUlNfZ29vZHMnLCBmaWx0ZXJfZmllbGRzLCBmaWx0ZXJfdmFsdWUsIGV4Y2x1ZGVfbGlzdD1bJ2Rlc2NyaXB0aW9uJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vX2xhYmVsPVRydWUpCiAgICBnb29kc19jYXJkcyA9IG1vZGlmeV9jYXJkcyhqc29uLmxvYWRzKGdvb2RzX2NhcmRzX2pzb24pLCBoaWRlX25hbWU9VHJ1ZSwgdGl0bGVfY29sb3I9IiM3QTAwNUMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZV9ibGFuaz1UcnVlLCBkaXNhYmxlX292ZXJyaWRlX3NlYXJjaD1UcnVlKQogICAgaGFzaE1hcC5wdXQoJ2dvb2RzX2NhcmRzJywganNvbi5kdW1wcyhnb29kc19jYXJkcykpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZ29vZHNfb25faW5wdXQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgaGFzaE1hcC5nZXQoImxpc3RlbmVyIikgPT0gIkNhcmRzQ2xpY2siOgogICAgICAgIGhhc2hNYXAucHV0KCdzZWxlY3RlZF9nb29kX2lkJywgaGFzaE1hcC5nZXQoInNlbGVjdGVkX2NhcmRfa2V5IikpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2JhcmNvZGUnLCAnJykKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQmtCw0YDRgtC+0YfQutCwINGC0L7QstCw0YDQsCIpCiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnc2VsZWN0X2dvb2RzX3R5cGUnOgogICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgItCS0YvQsdC+0YAiKQogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ2JhcmNvZGUnOgogICAgICAgIGlkZW50aWZ5X2JhcmNvZGVfZ29vZHMoaGFzaE1hcCkKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgIGhhc2hNYXAucHV0KCdGaW5pc2hQcm9jZXNzJywgJycpCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBnb29kX2NhcmRfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgoKICAgIGhhc2hNYXAucHV0KCJTaG93X2J1dHRvbnMiLCAiLTEiKSAgIyDQn9C+0LrQsCDRgdC/0YDRj9GC0LDQu9C4INC/0LXRgNC10YXQvtC0INC6INC/0YDQvtGG0LXRgdGB0LDQvCAi0L7RgdGC0LDRgtC60LgiINC4ICLRhtC10L3RiyIKCiAgICBpZiBoYXNoTWFwLmdldCgnc2VsZWN0ZWRfZ29vZF9pZCcpOgogICAgICAgIHNlbGVjdGVkX2dvb2RfaWQgPSBoYXNoTWFwLmdldCgnc2VsZWN0ZWRfZ29vZF9pZCcpCgogICAgICAgIHJlc3VsdF9yc19nb29kcyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KCJTRUxFQ1QgbmFtZSxhcnQsY29kZSx0eXBlX2dvb2QsZGVzY3JpcHRpb24gRlJPTSBSU19nb29kcyB3aGVyZSBpZCA9ICciICsgc2VsZWN0ZWRfZ29vZF9pZCArICInIikKCiAgICAgICAgZ29vZF9uYW1lID0gcmVzdWx0X3JzX2dvb2RzWzBdWzBdCiAgICAgICAgZ29vZF9hcnQgPSByZXN1bHRfcnNfZ29vZHNbMF1bMV0KICAgICAgICBnb29kX2NvZGUgPSByZXN1bHRfcnNfZ29vZHNbMF1bMl0KICAgICAgICBnb29kX3R5cGVfaWQgPSByZXN1bHRfcnNfZ29vZHNbMF1bM10KICAgICAgICBnb29kX2Rlc2NyID0gcmVzdWx0X3JzX2dvb2RzWzBdWzRdCgogICAgICAgIGdvb2RfdHlwZSA9IGdldF9uYW1lX2J5X2lkKCdSU190eXBlc19nb29kcycsIGdvb2RfdHlwZV9pZCkKCiAgICAgICAgZmlsbF9lbXB0eV92YWx1ZXMoaGFzaE1hcCwgeyJnb29kX25hbWUiOiBnb29kX25hbWUsICJnb29kX2FydCI6IGdvb2RfYXJ0LCAiZ29vZF9jb2RlIjogZ29vZF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ29vZF9kZXNjciI6IGdvb2RfZGVzY3IsICJnb29kX3R5cGUiOiBnb29kX3R5cGV9LCB2YWx1ZT0i0L7RgtGB0YPRgtGB0YLQstGD0LXRgiIpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZ29vZF9jYXJkX29uX2lucHV0KGhhc2hNYXAsICBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ09OX0JBQ0tfUFJFU1NFRCc6CiAgICAgICAgaWYgaGFzaE1hcC5nZXQoJ2JhcmNvZGUnKToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2JhcmNvZGUnLCAnJykKICAgICAgICBpZiBoYXNoTWFwLmdldCgnYmFyY29kZV9jYXJkcycpOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnYmFyY29kZV9jYXJkcycsICcnKQogICAgICAgIGlmIGhhc2hNYXAuZ2V0KCdyZXR1cm5fdG9fZ29vZF9jYXJkJyk6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdyZXR1cm5fdG9fZ29vZF9jYXJkJywgJycpCiAgICAgICAgaWYgaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX2dvb2RfaWQnKToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX2dvb2RfaWQnLCAnJykKICAgICAgICBpZiBoYXNoTWFwLmdldCgncHJvcGVydHlfaWQnKToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3Byb3BlcnR5X2lkJywgJycpCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0KLQvtCy0LDRgNGLINGB0L/QuNGB0L7QuiIpCiAgICBpZiBoYXNoTWFwLmdldCgibGlzdGVuZXIiKSA9PSAiVGlsZXNDbGljayI6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0Jywgc3RyKGhhc2hNYXAuZ2V0KCdzZWxlY3RlZF90aWxlX2tleScpKSkKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICd0b19wcmljZXMnOgogICAgICAgIGhhc2hNYXAucHV0KCdpbnB1dF9nb29kX2lkJywgaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX2dvb2RfaWQnKSkgICMgc2VsZWN0ZWRfZ29vZF9pZCBpbnB1dF9nb29kX2lkCiAgICAgICAgaGFzaE1hcC5wdXQoJ2lucHV0X2dvb2RfYXJ0JywgaGFzaE1hcC5nZXQoJ2dvb2RfYXJ0JykpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3ByaWNlc19vYmplY3RfbmFtZScsIGhhc2hNYXAuZ2V0KCdnb29kX25hbWUnKSArICIsICIgKyBoYXNoTWFwLmdldCgnZ29vZF9jb2RlJykpCiAgICAgICAgaGFzaE1hcC5wdXQoInJldHVybl90b19nb29kX2NhcmQiLCAidHJ1ZSIpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3Byb3BlcnR5X2lkJywgaGFzaE1hcC5nZXQoJ3Byb3BlcnR5X2lkJykpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dQcm9jZXNzUmVzdWx0JywgJ9Cm0LXQvdGLfNCf0YDQvtCy0LXRgNC60LAg0YbQtdC9JykKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICd0b19yZW1haW5zJzoKICAgICAgICBoYXNoTWFwLnB1dCgnZ29vZF9hcnRfaW5wdXQnLCBoYXNoTWFwLmdldCgnZ29vZF9hcnQnKSkKICAgICAgICBoYXNoTWFwLnB1dCgicmV0dXJuX3RvX2dvb2RfY2FyZCIsICJ0cnVlIikKICAgICAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfb2JqZWN0X25hbWUnLCBoYXNoTWFwLmdldCgnZ29vZF9uYW1lJykgKyAiLCAiICsgaGFzaE1hcC5nZXQoJ2dvb2RfY29kZScpKQogICAgICAgIGhhc2hNYXAucHV0KCdvYmplY3RfbmFtZScsIGhhc2hNYXAuZ2V0KCdnb29kX25hbWUnKSkKICAgICAgICBoYXNoTWFwLnB1dCgncHJvcGVydHlfaWQnLCBoYXNoTWFwLmdldCgncHJvcGVydHlfaWQnKSkKICAgICAgICBoYXNoTWFwLnB1dCgnU2V0UmVzdWx0TGlzdGVuZXInLCAnb25TdGFydCcpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dQcm9jZXNzUmVzdWx0JywgJ9Ce0YHRgtCw0YLQutC4fNCf0YDQvtCy0LXRgNC40YLRjCDQvtGB0YLQsNGC0LrQuCcpCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBnZXRfZ29vZF92YXJpYW50cyhoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBzZWxlY3RlZF9nb29kX2lkID0gaGFzaE1hcC5nZXQoInNlbGVjdGVkX2dvb2RfaWQiKQogICAgYmFyY29kZSA9IGhhc2hNYXAuZ2V0KCdiYXJjb2RlJykKCiAgICBpZiBiYXJjb2RlOgogICAgICAgIGdvb2RzX2JhcmNvZGUgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgKICAgICAgICAgICAgIlNFTEVDVCBiYXJjb2RlLGlkX3Byb3BlcnR5LGlkX3NlcmllcyxpZF91bml0IEZST00gUlNfYmFyY29kZXMgV0hFUkUgYmFyY29kZSA9ICciICsgYmFyY29kZSArCiAgICAgICAgICAgICInIikKCiAgICBlbGlmIHNlbGVjdGVkX2dvb2RfaWQ6CiAgICAgICAgZ29vZHNfYmFyY29kZSA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KAogICAgICAgICAgICAiU0VMRUNUIGJhcmNvZGUsaWRfcHJvcGVydHksaWRfc2VyaWVzLGlkX3VuaXQgRlJPTSBSU19iYXJjb2RlcyBXSEVSRSBpZF9nb29kID0gJyIgKyBzZWxlY3RlZF9nb29kX2lkICsKICAgICAgICAgICAgIiciKQoKICAgIGlmIGxlbihnb29kc19iYXJjb2RlKSA+IDA6CiAgICAgICAgYmFyY29kZV9jYXJkcyA9IHVpX3RhYmxlc19zdHJ1Y3R1cmUuYmFyY29kZV9jYXJkcwogICAgICAgIGJhcmNvZGVfY2FyZHNbImN1c3RvbWNhcmRzIl1bImNhcmRzZGF0YSJdID0gW10KICAgICAgICBpID0gMAogICAgICAgIGZvciBlbGVtZW50IGluIGdvb2RzX2JhcmNvZGU6CiAgICAgICAgICAgIGMgPSB7ImtleSI6IHN0cihpKSwgImJhcmNvZGUiOiBlbGVtZW50WzBdLCAicHJvcGVydGllcyI6IGVsZW1lbnRbMV0sICJ1bml0IjogZWxlbWVudFszXSwKICAgICAgICAgICAgICAgICAic2VyaWVzIjogZWxlbWVudFsyXX0KCiAgICAgICAgICAgIGlmIGVsZW1lbnRbMV06CiAgICAgICAgICAgICAgICBjWydwcm9wZXJ0aWVzJ10gPSBnZXRfbmFtZV9ieV9maWVsZCgiUlNfcHJvcGVydGllcyIsICJpZCIsIGVsZW1lbnRbMV0pCiAgICAgICAgICAgIGlmIGVsZW1lbnRbM106CiAgICAgICAgICAgICAgICBjWyd1bml0J10gPSBnZXRfbmFtZV9ieV9maWVsZCgiUlNfdW5pdHMiLCAiaWQiLCBlbGVtZW50WzNdKQoKICAgICAgICAgICAgYmFyY29kZV9jYXJkc1siY3VzdG9tY2FyZHMiXVsiY2FyZHNkYXRhIl0uYXBwZW5kKGMpCiAgICAgICAgICAgIGkgKz0gMQogICAgICAgIGhhc2hNYXAucHV0KCJiYXJjb2RlX2NhcmRzIiwganNvbi5kdW1wcyhiYXJjb2RlX2NhcmRzKSkKICAgICAgICBoYXNoTWFwLnB1dCgibG9hZF9pbmZvIiwgIiIpCiAgICBlbHNlOgogICAgICAgIGhhc2hNYXAucHV0KCJsb2FkX2luZm8iLCAi0JTQsNC90L3Ri9C1INC+INGF0LDRgNCw0LrRgtC10YDQuNGB0YLQuNC60LDRhSDQvtGC0YHRg9GC0YHRgtCy0YPRjtGCIikKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBmaWxsX2VtcHR5X3ZhbHVlcyhoYXNoTWFwLCBuYW1lc19saXN0PWRpY3QoKSwgdmFsdWU9IiIpOgoKICAgIGZvciBrLCB2IGluIG5hbWVzX2xpc3QuaXRlbXMoKToKCiAgICAgICAgaWYgdiBpcyBOb25lIG9yIHYgPT0gIk5vbmUiOgogICAgICAgICAgICB2ID0gJycKICAgICAgICBpZiBsZW4odikgPT0gMDoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoaywgdmFsdWUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoaywgdikKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBtb2RpZnlfY2FyZHMoaiwgaGlkZV9uYW1lPUZhbHNlLCB0aXRsZV9jb2xvcj0nJywgcmVwbGFjZV9ibGFuaz1GYWxzZSwgZGlzYWJsZV9vdmVycmlkZV9zZWFyY2g9RmFsc2UpOgogICAgY2FyZHNfbGF5b3V0X2VsZW1lbnRzID0galsnY3VzdG9tY2FyZHMnXVsnbGF5b3V0J11bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ10KCiAgICBpZiBkaXNhYmxlX292ZXJyaWRlX3NlYXJjaDoKICAgICAgICBqWydjdXN0b21jYXJkcyddWydvcHRpb25zJ11bJ292ZXJyaWRlX3NlYXJjaCddID0gRmFsc2UKCiAgICBmb3IgZWxlbWVudCBpbiBjYXJkc19sYXlvdXRfZWxlbWVudHM6CiAgICAgICAgaWYgZWxlbWVudFsnVmFsdWUnXSA9PSAnQG5hbWUnOgogICAgICAgICAgICBpZiBjYXJkc19sYXlvdXRfZWxlbWVudHMuaW5kZXgoZWxlbWVudCkgPT0gMDoKICAgICAgICAgICAgICAgIGVsZW1lbnRbJ2dyYXZpdHlfaG9yaXpvbnRhbCddID0gImxlZnQiCiAgICAgICAgICAgICAgICBpZiB0aXRsZV9jb2xvcjoKICAgICAgICAgICAgICAgICAgICBlbGVtZW50WyJUZXh0Q29sb3IiXSA9IHRpdGxlX2NvbG9yCiAgICAgICAgICAgICAgICAjIGVsZW1lbnRbJ1ZhbHVlJ10gPSBzdHIoMCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGlmIGhpZGVfbmFtZToKCiAgICAgICAgICAgICAgICAgICAgIyBlbGVtZW50WyJzaG93X2J5X2NvbmRpdGlvbiJdID0gIlRydWUiCiAgICAgICAgICAgICAgICAgICAgZGVsIGNhcmRzX2xheW91dF9lbGVtZW50c1tjYXJkc19sYXlvdXRfZWxlbWVudHMuaW5kZXgoZWxlbWVudCldCgogICAgaWYgcmVwbGFjZV9ibGFuazoKICAgICAgICBjYXJkc19kYXRhID0galsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10KCiAgICAgICAgZm9yIGVsZW1lbnQgaW4gY2FyZHNfZGF0YToKICAgICAgICAgICAgZm9yIGtleSwgdmFsIGluIGVsZW1lbnQuaXRlbXMoKToKICAgICAgICAgICAgICAgIGlmIHZhbCA9PSAnTm9uZScgb3IgdmFsID09ICIiOgogICAgICAgICAgICAgICAgICAgIGVsZW1lbnRba2V5XSA9ICLigJQiCgogICAgcmV0dXJuIGoKCgpkZWYgZ2V0X25hbWVfYnlfZmllbGQodGFibGVfbmFtZSwgZmllbGQsIGZpZWxkX3ZhbHVlKToKCiAgICBxdWVyeSA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KAogICAgICAgICJTRUxFQ1QgbmFtZSBGUk9NICIgKyB0YWJsZV9uYW1lLnN0cmlwKCciXCcnKSArICIgV0hFUkUgIiArIGZpZWxkICsgJz0nICsgIiciICsgZmllbGRfdmFsdWUgKyAiJyIpCiAgICB0cnk6CiAgICAgICAgaWYgdHlwZShxdWVyeSkgPT0gInN0ciI6CiAgICAgICAgICAgIHJldHVybiBzdHIocXVlcnkpLnNwbGl0KCInIilbMV0KICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gc3RyKHF1ZXJ5WzBdKS5zcGxpdCgiJyIpWzFdCiAgICBleGNlcHQgSW5kZXhFcnJvcjoKICAgICAgICByZXR1cm4gZmllbGRfdmFsdWUKCgpkZWYgZ29vZF90eXBlc19vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgY2FyZHNfanNvbiA9IGdldF90YWJsZV9jYXJkcygnUlNfdHlwZXNfZ29vZHMnLCBleGNsdWRlX2xpc3Q9Wyd1c2VfbWFyayddLCBub19sYWJlbD1UcnVlKQoKICAgIGNhcmRzID0gbW9kaWZ5X2NhcmRzKGpzb24ubG9hZHMoY2FyZHNfanNvbiksIGhpZGVfbmFtZT1UcnVlLCBkaXNhYmxlX292ZXJyaWRlX3NlYXJjaD1UcnVlKQoKICAgIGhhc2hNYXAucHV0KCdjYXJkcycsIGpzb24uZHVtcHMoY2FyZHMpKQoKICAgICMgaGFzaE1hcC5wdXQoJ2NhcmRzJywgY2FyZHNfanNvbikKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBnb29kX3R5cGVzX29uX2NsaWNrKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGxpc3RlbmVyID0gaGFzaE1hcC5nZXQoImxpc3RlbmVyIikKCiAgICBpZiBsaXN0ZW5lciA9PSAiQ2FyZHNDbGljayI6CgogICAgICAgIHNlbGVjdGVkX3R5cGVfaWQgPSBoYXNoTWFwLmdldCgnc2VsZWN0ZWRfY2FyZF9rZXknKQoKICAgICAgICBoYXNoTWFwLnB1dCgndHlwZV9pZCcsIHN0cihzZWxlY3RlZF90eXBlX2lkKSkKCiAgICAgICAgc2VsZWN0ZWRfdHlwZV9uYW1lID0gZ2V0X25hbWVfYnlfZmllbGQoIlJTX3R5cGVzX2dvb2RzIiwgImlkIiwgc2VsZWN0ZWRfdHlwZV9pZCkKCiAgICAgICAgaGFzaE1hcC5wdXQoJ3NlbGVjdF9nb29kc190eXBlJywgc2VsZWN0ZWRfdHlwZV9uYW1lKQoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQotC+0LLQsNGA0Ysg0YHQv9C40YHQvtC6IikKCiAgICBlbGlmIGxpc3RlbmVyID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgIGhhc2hNYXAucHV0KCd0eXBlX2lkJywgJycpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3R5cGVfbmFtZScsICcnKQogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCi0L7QstCw0YDRiyDRgdC/0LjRgdC+0LoiKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIG9uX2Nsb3NlX2FwcChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBzdUNsYXNzLmRlbGV0ZUNhY2hlKCkKICAgIHJldHVybiBoYXNoTWFw",
        "pyHandlersPath": "C:/projects/python/simple_keep\\main.py",
        "PyTimerTask": [
            {
                "PyTimerTaskKey": "timer_update",
                "PyTimerTaskDef": "timer_update",
                "PyTimerTaskPeriod": "15000",
                "PyTimerTaskBuilIn": false
            }
        ],
        "PyFiles": [
            {
                "file_path": "C:/projects/python/simple_keep\\ui_csv.py",
                "PyFileKey": "ui_csv",
                "PyFileData": "aW1wb3J0IGNzdgppbXBvcnQgb3MKaW1wb3J0IHJlCgppbXBvcnQgdWlfYmFyY29kZXMKaW1wb3J0IHVpX2dsb2JhbApmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQoKCmRlZiBnZXRfcXVlcnlfdGV4dChxX25hbWU9JycpIC0+IHN0cjoKICAgIGlmIHFfbmFtZSA9PSAnUlNfZ29vZHMnOgogICAgICAgIHJldHVybiAnUkVQTEFDRSBJTlRPIFJTX2dvb2RzICggIGlkLCBjb2RlLCBhcnQsIG5hbWUsIHVuaXQsIHR5cGVfZ29vZCwgZGVzY3JpcHRpb24pIFZBTFVFUyAoPyw/LD8sPyw/LD8sPyknCiAgICBlbGlmIHFfbmFtZSA9PSAnUlNfcHJvcGVydGllcyc6CiAgICAgICAgcmV0dXJuICdSRVBMQUNFIElOVE8gUlNfcHJvcGVydGllcyAoICBpZCAsIGlkX293bmVyLCBuYW1lKSBWQUxVRVMgJwogICAgZWxpZiBxX25hbWUgPT0gJ1JTX3VuaXRzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU191bml0cyAoICBpZCxpZF9vd25lciwgY29kZSwgbmFtZSwgbm9taW5hdG9yLCBkZW5vbWluYXRvciwgaW50X3JlZHVjdGlvbikgVkFMVUVTICg/LD8sPyw/LD8sPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU190eXBlc19nb29kcyc6CiAgICAgICAgcmV0dXJuICdSRVBMQUNFIElOVE8gUlNfdHlwZXNfZ29vZHMgKCAgaWQsIG5hbWUpIFZBTFVFUyAoPyw/KScgICMgKD8sPykKICAgIGVsaWYgcV9uYW1lID09ICdSU19zZXJpZXMnOgogICAgICAgIHJldHVybiAnUkVQTEFDRSBJTlRPIFJTX3NlcmllcyAoICBpZCwgbmFtZSwgYmVzdF9iZWZvcmUsIHR5cGVfZ29vZHMsIG51bWJlciwgcHJvZHVjdGlvbl9kYXRlKSBWQUxVRVMnCiAgICBlbGlmIHFfbmFtZSA9PSAnUlNfY291bnRyYWdlbnRzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19jb3VudHJhZ2VudHMgKCAgaWQsIG5hbWUsIGZ1bGxfbmFtZSwgaW5uLCBrcHApIFZBTFVFUyAnCiAgICBlbGlmIHFfbmFtZSA9PSAnUlNfd2FyZWhvdXNlcyc6CiAgICAgICAgcmV0dXJuICdSRVBMQUNFIElOVE8gUlNfd2FyZWhvdXNlcyAoICBpZCwgbmFtZSkgVkFMVUVTICg/LD8pJwogICAgZWxpZiBxX25hbWUgPT0gJ1JTX3ByaWNlX3R5cGVzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19wcmljZV90eXBlcyAoaWQsIG5hbWUpIFZBTFVFUyAoPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU19iYXJjb2Rlcyc6CiAgICAgICAgcmV0dXJuICdSRVBMQUNFIElOVE8gUlNfYmFyY29kZXMgKGlkLCBiYXJjb2RlLCBpZF9nb29kLCBpZF9wcm9wZXJ0eSwgaWRfc2VyaWVzLCBpZF91bml0KSBWQUxVRVMgKD8sPyw/LD8sPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU19tYXJraW5nX2NvZGVzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19tYXJraW5nX2NvZGVzIChpZCwgbWFya19jb2RlLCBpZF9nb29kLCBpZF9wcm9wZXJ0eSwgaWRfc2VyaWVzLCBpZF91bml0KSBWQUxVRVMgKD8sPyw/LD8sPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU19wcmljZXMnOgogICAgICAgIHJldHVybiAnUkVQTEFDRSBJTlRPIFJTX3ByaWNlcyAoaWRfcHJpY2VfdHlwZXMsIGlkX2dvb2RzLCBpZF9wcm9wZXJ0aWVzLCBwcmljZSwgaWRfdW5pdCkgVkFMVUVTICcKICAgIGVsaWYgcV9uYW1lID09ICdSU19kb2NzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19kb2NzIChpZF9kb2MsIGRvY190eXBlLCBkb2NfbiwgZG9jX2RhdGUsIGlkX2NvdW50cmFnZW50cywgaWRfd2FyZWhvdXNlKSBWQUxVRVMgKD8sPyw/LD8sPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU19kb2NzX3RhYmxlJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19kb2NzX3RhYmxlIChpZF9kb2MsIGlkX2dvb2QsIGlkX3Byb3BlcnRpZXMsIGlkX3NlcmllcywgaWRfdW5pdCwgcXR0eSwgcXR0eV9wbGFuLCBwcmljZSwgaWRfcHJpY2UpIFZBTFVFUyAoPyw/LD8sPyw/LD8sPyw/LD8pJwogICAgZWxpZiBxX25hbWUgPT0gJ1JTX2RvY3NfYmFyY29kZXMnOgogICAgICAgIHJldHVybiAnUkVQTEFDRSBJTlRPIFJTX2RvY3NfYmFyY29kZXMgKGlkX2RvYywgaWRfYmFyY29kZSwgaXNfcGxhbikgVkFMVUVTICg/LD8sPyknCgoKZGVmIGdldF9xdWVyeV90ZXh0X2V4cG9ydCgpOgogICAgcmV0dXJuICcnJwogICAgICAgICBTRUxFQ1QgCiAgICAgICAgJzAnIEFTIEdUSU4sCiAgICAgICAgUlNfbWFya2luZy5pZF9nb29kLAogICAgICAgIFJTX21hcmtpbmcubmFtZSwgCiAgICAgICAgMSBhcyBEZWNsYXJlZFF1YW50aXR5LAogICAgICAgIENBU0UgYXBwcm92ZWQKICAgICAgICAgICAgV0hFTiAnMScgVEhFTiAxCiAgICAgICAgICAgIEVMU0UgMAogICAgICAgIEVORCBBUyBDdXJyZW50UXVhbnRpdHksCiAgICAgICAgYmFyY29kZV9mcm9tX3NjYW5uZXIgYXMg0JzQsNGA0LrQsCwKICAgICAgICBSU19tYXJraW5nLm1hcmtfY29kZSBBUyDQnNCw0YDQutCw0JjQodCc0J8sCiAgICAgICAgUlNfbWFya2luZy5pZF9wcm9wZXJ0eSBhcyDQmNC90LLQvtC50YEsCiAgICAgICAgJ9Cn0YPQttC+0LknIGFzINCf0YDQuNC90LDQtNC70LXQttC90L7RgdGC0YwgCgogICAgICAgIEZST00gUlNfZG9jc19iYXJjb2RlcyAKCiAgICAgICAgTEVGVCBKT0lOIChTRUxFQ1QgCiAgICAgICAgICAgICAgICAgICAgaWQgQVMgaWRfYmFyY29kZSwKICAgICAgICAgICAgICAgICAgICBtYXJrX2NvZGUgQVMgbWFya19jb2RlLAogICAgICAgICAgICAgICAgICAgIGlkX2dvb2QsCiAgICAgICAgICAgICAgICAgICAgaWRfcHJvcGVydHksCiAgICAgICAgICAgICAgICAgICAgaWRfc2VyaWVzLAogICAgICAgICAgICAgICAgICAgIGlkX3VuaXQsCiAgICAgICAgICAgICAgICAgICAgUlNfZ29vZHMubmFtZSwKICAgICAgICAgICAgICAgICAgICBSU19nb29kcy5jb2RlCgogICAgICAgICAgICAgICAgICAgIEZST00gUlNfbWFya2luZ19jb2RlcwogICAgICAgICAgICAgICAgICAgIExFRlQgSk9JTiBSU19nb29kcyAKICAgICAgICAgICAgICAgICAgICBPTiBSU19nb29kcy4gIGlkICA9IFJTX21hcmtpbmdfY29kZXMuaWRfZ29vZAogICAgICAgICAgICAgICAgICAgIFdIRVJFIFJTX21hcmtpbmdfY29kZXMuaWQgSU4gCiAgICAgICAgICAgICAgICAgICAgICAgIChTRUxFQ1QgaWRfYmFyY29kZSBGUk9NIFJTX2RvY3NfYmFyY29kZXMgCiAgICAgICAgICAgICAgICAgICAgICAgIFdIRVJFIFJTX2RvY3NfYmFyY29kZXMuaWRfZG9jID0gOmlkX2RvYykpIEFTIFJTX21hcmtpbmcKICAgICAgICBPTiBSU19kb2NzX2JhcmNvZGVzLmlkX2JhcmNvZGUgPSBSU19tYXJraW5nLmlkX2JhcmNvZGUgIAoKICAgICAgICBXSEVSRSBSU19kb2NzX2JhcmNvZGVzLmlkX2RvYyA9IDppZF9kb2MKJycnCgoKZGVmIG5vcm1hbGl6ZV9ndGluKGd0aW46IHN0cikgLT4gc3RyOgogICAgYSA9IGxlbihndGluKQogICAgaWYgYSA+IDE0OgogICAgICAgIHJldHVybiBndGluWzotMTRdCiAgICBlbHNlOgogICAgICAgIHJldHVybiAnMCcgKiAoMTQgLSBhKSArIGd0aW4KCgpkZWYgbG9hZF9mcm9tX2NzdihwYXRoPScnLCBmaWxlPScnKToKICAgICMgcmUuZnVsbG1hdGNoKHInXGR7MTN9JywgYmFyY29kZSkuc3RyaW5nID09IGJhcmNvZGU6CiAgICBjdXJyZW50X2RhdGUgPSBkYXRldGltZS5ub3coKS5zdHJmdGltZSgiJWQtJW0tJVkiKQogICAgIyBmaWxlID0gZmlsZSArICgiICIgKiAxNSkgI9GH0YLQvtCx0Ysg0L3QtSDQvdCw0YLRi9C60LDRgtGM0YHRjyDQvdCwIG91dCBvZiByYW5nZSDQsiDRgtC10LrRgdGC0L7QstC+0Lwg0LjQvNC10L3QuCAtINC00L7QsdCw0LLQuNC8IDE1INC/0YDQvtCx0LXQu9C+0LIKICAgIGlmIGZpbGVbOjZdID09ICdkb2NfaW4nOgogICAgICAgICMg0JfQsNCz0YDRg9C20LDQtdC8INC00L7QutGD0LzQtdC90YLRiwogICAgICAgIHdpdGggb3BlbihwYXRoLCAncicsIG5ld2xpbmU9JycsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGNzdmZpbGU6CgogICAgICAgICAgICBteV9yZWFkZXIgPSBjc3YucmVhZGVyKGNzdmZpbGUsIGRpYWxlY3Q9J2V4Y2VsJywgZGVsaW1pdGVyPSc7JywgcXVvdGVjaGFyPSciJykKCiAgICAgICAgICAgIHJzX2RvY19kYXRhID0gW10KICAgICAgICAgICAgcnNfZG9jX3RhYmxlX2RhdGEgPSBbXQogICAgICAgICAgICByc19kb2NfYmFyY29kZSA9IFtdCiAgICAgICAgICAgIHJzX21hcmtpbmdfY29kZXMgPSBbXQogICAgICAgICAgICByc19wcm9wZXJ0aWVzID0gW10KICAgICAgICAgICAgdGVtcF9kb2NfbiA9ICcnCiAgICAgICAgICAgIHRlbXBfZ29vZCA9ICcnCiAgICAgICAgICAgIGRvY19udW0gPSB1aV9nbG9iYWwuUnNfZG9jLmdldF9uZXdfaWQoJycpCiAgICAgICAgICAgIGZvciByb3cgaW4gbXlfcmVhZGVyOgogICAgICAgICAgICAgICAgaWYgbXlfcmVhZGVyLmxpbmVfbnVtID4gNTogICMg0JfQsNCz0L7Qu9C+0LLQutC4INGC0LDQsdC70LjRhtGLCiAgICAgICAgICAgICAgICAgICAgIyBpZiB0ZW1wX2RvY19uICE9IHJvd1s4XToKICAgICAgICAgICAgICAgICAgICAjICAgICAjIFJTX2RvY3MgKGlkX2RvYywgZG9jX3R5cGUsIGRvY19uLCBkb2NfZGF0ZSwgaWRfY291bnRyYWdlbnRzLCBpZF93YXJlaG91c2UpCiAgICAgICAgICAgICAgICAgICAgIyAgICAgcnNfZG9jX2RhdGUuYXBwZW5kKChkb2NfbnVtLCAn0JjQvdCy0L7QudGBJywgZG9jX251bSwgY3VycmVudF9kYXRlLCAnMDAxJywgJzAwMScpKQogICAgICAgICAgICAgICAgICAgICMgICAgIHRlbXBfZG9jX24gPSByb3dbOF0KICAgICAgICAgICAgICAgICAgICAjIFJTX2RvY3NfdGFibGUoaWRfZG9jLCBpZF9nb29kLCBpZF9wcm9wZXJ0aWVzLCBpZF9zZXJpZXMsIGlkX3VuaXQsIHF0dHksIHF0dHlfcGxhbiwgcHJpY2UsIGlkX3ByaWNlKQogICAgICAgICAgICAgICAgICAgIGlmIHRlbXBfZ29vZCAhPSByb3dbMF06CiAgICAgICAgICAgICAgICAgICAgICAgIHJzX2RvY190YWJsZV9kYXRhLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NfbnVtLCByb3dbMF0sIHJvd1s4XSwgJycsIHJvd1sxXSArIHJvd1swXSwgaW50KHJvd1s3XSksIGludChyb3dbNl0pLCAnJywgJycpKQogICAgICAgICAgICAgICAgICAgICAgICBjdXJyX2NvdW50ID0gcnNfZG9jX3RhYmxlX2RhdGEuX19sZW5fXygpIC0gMQogICAgICAgICAgICAgICAgICAgICAgICB0ZW1wX2dvb2QgPSByb3dbMF0KICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAjINC00L7QsdCw0LLQuNC8INC60L7Qu9C40YfQtdGB0YLQstC+INCyINGB0YLRgNC+0LrRgywg0LTQu9GPINGN0YLQvtCz0L4g0L/RgNC10L7QsdGA0LDQt9GD0LXQvCDQtdC1INCyINCb0LjRgdGCLCDQv9C+0LzQtdC90Y/QtdC8INC60L7Qu9C40YfQtdGB0YLQstC+INC4INC30LDRgdGD0L3QtdC8INC+0LHRgNCw0YLQvdC+INCyINC60L7RgNGC0LXQtgogICAgICAgICAgICAgICAgICAgICAgICBsc3QgPSBsaXN0KHJzX2RvY190YWJsZV9kYXRhW2N1cnJfY291bnRdKQogICAgICAgICAgICAgICAgICAgICAgICBsc3RbNl0gPSBpbnQobHN0WzZdKSArIGludChyb3dbNl0pCiAgICAgICAgICAgICAgICAgICAgICAgIHJzX2RvY190YWJsZV9kYXRhW2N1cnJfY291bnRdID0gdHVwbGUobHN0KQogICAgICAgICAgICAgICAgICAgICAgICAjIHJzX2RvY190YWJsZV9kYXRhW2N1cnJfY291bnRdWzZdPWludChyc19kb2NfdGFibGVfZGF0YVtjdXJyX2NvdW50XVs2XSkgKyBpbnQocm93WzZdKQogICAgICAgICAgICAgICAgICAgIGlmIHJvd1s1XToKICAgICAgICAgICAgICAgICAgICAgICAgIyBSU19kb2NzX2JhcmNvZGVzIChpZF9kb2MsIGlkX2JhcmNvZGUsIGlzX3BsYW4pCiAgICAgICAgICAgICAgICAgICAgICAgIHJzX2RvY19iYXJjb2RlLmFwcGVuZCgoZG9jX251bSwgcm93WzVdLCAnMScpKQogICAgICAgICAgICAgICAgICAgICAgICAjIFJTX21hcmtpbmdfY29kZXMoaWQsIG1hcmtfY29kZSwgaWRfZ29vZCwgaWRfcHJvcGVydHksIGlkX3NlcmllcywgaWRfdW5pdCkgVkFMVUVTKD8sID8sID8sID8sID8sID8pCiAgICAgICAgICAgICAgICAgICAgICAgIHJzX21hcmtpbmdfY29kZXMuYXBwZW5kKChyb3dbNV0sIHJvd1s1XSwgcm93WzBdLCByb3dbOF0sICcnLCByb3dbMV0gKyByb3dbMF0pKQoKICAgICAgICAgICAgICAgIGVsaWYgbXlfcmVhZGVyLmxpbmVfbnVtID09IDM6CiAgICAgICAgICAgICAgICAgICAgaWYgcm93WzBdOgogICAgICAgICAgICAgICAgICAgICAgICBkb2NfbnVtID0gcm93WzBdCiAgICAgICAgICAgICAgICAgICAgcnNfZG9jX2RhdGEuYXBwZW5kKChkb2NfbnVtLCAn0JjQvdCy0L7QudGBJywgZG9jX251bSwgY3VycmVudF9kYXRlLCAnMDAxJywgJzAwMScpKQogICAgICAgICAgICAgICAgZWxpZiBteV9yZWFkZXIubGluZV9udW0gPT0gNToKICAgICAgICAgICAgICAgICAgICBsaXN0X2hlYWRlcnMgPSByb3cuY29weSgpCgogICAgICAgICMg0JfQsNC/0L7Qu9C90Y/QtdC8INGC0LDQsdC70LjRhtGLCiAgICAgICAgdWlfZ2xvYmFsLmJ1bGtfcXVlcnlfcmVwbGFjZShnZXRfcXVlcnlfdGV4dCgnUlNfZG9jcycpLCByc19kb2NfZGF0YSkKICAgICAgICB1aV9nbG9iYWwuYnVsa19xdWVyeV9yZXBsYWNlKGdldF9xdWVyeV90ZXh0KCdSU19kb2NzX3RhYmxlJyksIHJzX2RvY190YWJsZV9kYXRhKQogICAgICAgIHVpX2dsb2JhbC5idWxrX3F1ZXJ5X3JlcGxhY2UoZ2V0X3F1ZXJ5X3RleHQoJ1JTX2RvY3NfYmFyY29kZXMnKSwgcnNfZG9jX2JhcmNvZGUpCiAgICAgICAgdWlfZ2xvYmFsLmJ1bGtfcXVlcnlfcmVwbGFjZShnZXRfcXVlcnlfdGV4dCgnUlNfbWFya2luZ19jb2RlcycpLCByc19tYXJraW5nX2NvZGVzKQoKICAgICAgICAjINCf0L4g0LTQvtC60YPQvNC10L3RgtCw0LwsINCz0LTQtSDQtdGB0YLRjCDQt9Cw0L/Qu9Cw0L3QuNGA0L7QstCw0L3QvdGL0LUg0LzQsNGA0LrQuCwg0LTQvtCx0LDQstC40Lwg0L/RgNC40LfQvdCw0LoKICAgICAgICBxdGV4dCA9ICdTRUxFQ1QgaWRfZG9jLCBDT1VOVChpc19wbGFuKSBhcyBpc19wbGFuIEZST00gUlNfZG9jc19iYXJjb2RlcyBXSEVSRSBpc19wbGFuID0gIjEiICcKICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgJycsIFRydWUpCiAgICAgICAgcXRleHQgPSAnVVBEQVRFIFJTX2RvY3MgU0VUIGFkZF9tYXJrX3NlbGVjdGlvbiA9ID8gV0hFUkUgaWRfZG9jID0gPycKICAgICAgICAjIC0tLQogICAgICAgIGZvciBlbCBpbiByZXM6CiAgICAgICAgICAgIGlmIGVsWydpc19wbGFuJ10gPiAwOgogICAgICAgICAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsICgxLCBlbFsnaWRfZG9jJ10pKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsICgwLCBlbFsnaWRfZG9jJ10pKQogICAgICAgIHJldHVybiAyMDAKCgoKCiAgICBlbGlmIGZpbGVbOjE0XSA9PSAnaW5pdGlhbF9kaWN0c18nOgogICAgICAgICMg0JTQvtCx0LDQstC40Lwg0YLQuNC/INGC0L7QstCw0YDQsCDQtNC70Y8g0LLRgdC10YUg0YLQsNCx0LvQuNGGCiAgICAgICAgcXRleHQgPSAnUkVQTEFDRSBJTlRPIFJTX3R5cGVzX2dvb2RzICggIGlkLCBuYW1lKSBWQUxVRVMgKD8sPyknCiAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsICgn0KLQvtCy0LDRgCcsICfQotC+0LLQsNGAJykpCgogICAgICAgIHdpdGggb3BlbihwYXRoLCAncicsIG5ld2xpbmU9JycsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGNzdmZpbGU6CgogICAgICAgICAgICBteV9yZWFkZXIgPSBjc3YucmVhZGVyKGNzdmZpbGUsIGRpYWxlY3Q9J2V4Y2VsJywgZGVsaW1pdGVyPSc7JywgcXVvdGVjaGFyPSciJykKCiAgICAgICAgICAgIHJzX2dvb2RzX2RhdGEgPSBbXQogICAgICAgICAgICByc19iYXJjb2Rlc19kYXRhID0gW10KICAgICAgICAgICAgcnNfdW5pdHNfZGF0YSA9IFtdCiAgICAgICAgICAgICMgUlNfd2FyZWhvdXNlcyggIGlkLCBuYW1lKQogICAgICAgICAgICByc193YXJlaG91c2VzID0gW1snMDAxJywgJ9Ce0YHQvdC+0LLQvdC+0LknXV0KICAgICAgICAgICAgIyBSU190eXBlc19nb29kcyAoICBpZCwgbmFtZSkKICAgICAgICAgICAgcnNfdHlwZXNfZ29vZHNfZGF0YSA9IFtbJzAwMScsICfQotC+0LLQsNGAJ11dCiAgICAgICAgICAgIHBhcnRfY291bnQgPSAxMDAwCgogICAgICAgICAgICBmb3Igcm93IGluIG15X3JlYWRlcjoKICAgICAgICAgICAgICAgIGlmIG15X3JlYWRlci5saW5lX251bSA9PSAxOiAgIyDQl9Cw0LPQvtC70L7QstC60Lgg0YLQsNCx0LvQuNGG0YsKICAgICAgICAgICAgICAgICAgICBsaXN0X2hlYWRlcnMgPSByb3cuY29weSgpCiAgICAgICAgICAgICAgICBlbHNlOiAgIyDQt9Cw0L/QvtC70L3Rj9C10Lwg0YLQsNCx0LvQuNGG0Ysg0L/QsNGA0LDQvNC10YLRgNC+0LIg0LfQsNC/0YDQvtGB0LAg0LogU1FMCiAgICAgICAgICAgICAgICAgICAgIyAgIGlkLCBjbyBkZSwgYXJ0LCBuYW1lLCB1bml0LCB0eXBlX2dvb2QsIGRlc2NyaXB0aW9uCiAgICAgICAgICAgICAgICAgICAgcnNfZ29vZHNfZGF0YS5hcHBlbmQoKHJvd1syXSwgcm93WzNdLCByb3dbNV0sIHJvd1s0XSwgcm93WzFdLCAn0KLQvtCy0LDRgCcsIHJvd1sxNV0pKQogICAgICAgICAgICAgICAgICAgICMgICBpZCwgaWRfb3duZXIsIGNvZGUsIG5hbWUsIG5vbWluYXRvciwgZGVub21pbmF0b3IsIGludF9yZWR1Y3Rpb24KICAgICAgICAgICAgICAgICAgICByc191bml0c19kYXRhLmFwcGVuZCgocm93WzFdICsgcm93WzJdLCByb3dbMl0sIHJvd1sxXSwgcm93WzFdLCAxLCAxLCByb3dbMV0pKQogICAgICAgICAgICAgICAgICAgICMgYmFyY29kZSwgaWRfZ29vZCwgaWRfcHJvcGVydHksIGlkX3NlcmllcywgaWRfdW5pdAogICAgICAgICAgICAgICAgICAgIGd0aW4gPSBub3JtYWxpemVfZ3Rpbihyb3dbMF0pCiAgICAgICAgICAgICAgICAgICAgcnNfYmFyY29kZXNfZGF0YS5hcHBlbmQoKGd0aW4sIGd0aW4sIHJvd1syXSwgJycsICcnLCByb3dbMV0gKyByb3dbMl0pKQoKICAgICAgICAgICAgICAgICMg0JrQsNC20LTRi9C1IDEwMDAg0YHRgtGA0L7QuiDQt9Cw0L/QuNGB0YvQstCw0LXQvCDQsiDQsdCw0LfRgwogICAgICAgICAgICAgICAgaWYgbXlfcmVhZGVyLmxpbmVfbnVtID09IHBhcnRfY291bnQ6CiAgICAgICAgICAgICAgICAgICAgcGFydF9jb3VudCArPSAxMDAwCiAgICAgICAgICAgICAgICAgICAgdWlfZ2xvYmFsLmJ1bGtfcXVlcnlfcmVwbGFjZShnZXRfcXVlcnlfdGV4dCgnUlNfZ29vZHMnKSwgcnNfZ29vZHNfZGF0YSkKICAgICAgICAgICAgICAgICAgICB1aV9nbG9iYWwuYnVsa19xdWVyeV9yZXBsYWNlKGdldF9xdWVyeV90ZXh0KCdSU191bml0cycpLCByc191bml0c19kYXRhKQogICAgICAgICAgICAgICAgICAgIHVpX2dsb2JhbC5idWxrX3F1ZXJ5X3JlcGxhY2UoZ2V0X3F1ZXJ5X3RleHQoJ1JTX2JhcmNvZGVzJyksIHJzX2JhcmNvZGVzX2RhdGEpCiAgICAgICAgICAgICAgICAgICAgcnNfZ29vZHNfZGF0YSA9IFtdCiAgICAgICAgICAgICAgICAgICAgcnNfYmFyY29kZXNfZGF0YSA9IFtdCiAgICAgICAgICAgICAgICAgICAgcnNfdW5pdHNfZGF0YSA9IFtdCgogICAgICAgIHVpX2dsb2JhbC5idWxrX3F1ZXJ5X3JlcGxhY2UoZ2V0X3F1ZXJ5X3RleHQoJ1JTX3dhcmVob3VzZXMnKSwgcnNfd2FyZWhvdXNlcykKICAgICAgICB1aV9nbG9iYWwuYnVsa19xdWVyeV9yZXBsYWNlKGdldF9xdWVyeV90ZXh0KCdSU190eXBlc19nb29kcycpLCByc190eXBlc19nb29kc19kYXRhKQogICAgICAgIHVpX2dsb2JhbC5idWxrX3F1ZXJ5X3JlcGxhY2UoZ2V0X3F1ZXJ5X3RleHQoJ1JTX2dvb2RzJyksIHJzX2dvb2RzX2RhdGEpCiAgICAgICAgdWlfZ2xvYmFsLmJ1bGtfcXVlcnlfcmVwbGFjZShnZXRfcXVlcnlfdGV4dCgnUlNfdW5pdHMnKSwgcnNfdW5pdHNfZGF0YSkKICAgICAgICB1aV9nbG9iYWwuYnVsa19xdWVyeV9yZXBsYWNlKGdldF9xdWVyeV90ZXh0KCdSU19iYXJjb2RlcycpLCByc19iYXJjb2Rlc19kYXRhKQoKICAgICAgICByZXR1cm4gMjAwCgoKZGVmIGxpc3RfZm9sZGVyKHBhdGg6IHN0ciwgZGVsZXRlX2ZpbGVzOiBib29sKToKICAgICMgdHJ5OgogICAgYWEgPSAwCiAgICB0b3RhbCA9IDAKICAgIGZvciBmaWxlIGluIG9zLmxpc3RkaXIocGF0aCk6CiAgICAgICAgdG90YWwgKz0gMQogICAgICAgIGlmIGZpbGUuZW5kc3dpdGgoIi5jc3YiKToKICAgICAgICAgICAgZmlsZW5hbWUgPSBmaWxlICsgKCIgIiAqIDE1KSAgIyDRh9GC0L7QsdGLINC90LUg0L3QsNGC0YvQutCw0YLRjNGB0Y8g0L3QsCBvdXQgb2YgcmFuZ2Ug0LIg0YLQtdC60YHRgtC+0LLQvtC8INC40LzQtdC90LggLSDQtNC+0LHQsNCy0LjQvCAxNSDQv9GA0L7QsdC10LvQvtCyCiAgICAgICAgICAgIGlmIGZpbGVuYW1lWzo2XSA9PSAnZG9jX2luJyBvciBmaWxlbmFtZVs6MTRdID09ICdpbml0aWFsX2RpY3RzXyc6CiAgICAgICAgICAgICAgICBhYSArPSAxCiAgICAgICAgICAgICAgICBhbnMgPSBsb2FkX2Zyb21fY3N2KHBhdGggKyBmaWxlLCBmaWxlKQogICAgICAgICAgICAgICAgaWYgYW5zID09IDIwMCBhbmQgZGVsZXRlX2ZpbGVzID09ICd0cnVlJzoKICAgICAgICAgICAgICAgICAgICBvcy5yZW1vdmUocGF0aCArIGZpbGUpCgogICAgcmV0dXJuICfQl9Cw0LPRgNGD0LfQutCwINC30LDQstC10YDRiNC10L3QsCwg0LfQsNCz0YDRg9C20LXQvdC+ICcgKyBzdHIoYWEpICsgJyDRhNCw0LnQu9C+0LIg0LjQtyAnICsgc3RyKHRvdGFsKQogICAgIyBleGNlcHQ6CiAgICAjICAgcmV0dXJuICfQntGI0LjQsdC60LAg0L/RgNC4INC30LDQs9GA0YPQt9C60LUg0YTQsNC50LvQsCcKCgpkZWYgZXhwb3J0X2NzdihwYXRoLCBJUCwgQW5kcm9pZElEKToKICAgIGRvY3MgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgnU0VMRUNUIGlkX2RvYywgZG9jX24gZnJvbSBSU19kb2NzIFdoZXJlIHZlcmlmaWVkID0gMScpCiAgICBjb3VudCA9IDAKICAgIGZvciBkb2NfaXRlbSBpbiBkb2NzOgogICAgICAgIHF0ZXh0ID0gZ2V0X3F1ZXJ5X3RleHRfZXhwb3J0KCkKCiAgICAgICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsIChkb2NfaXRlbVswXSwpLCBUcnVlKQogICAgICAgIGNvdW50ICs9IDEKICAgICAgICB3aXRoIG9wZW4ocGF0aCArICdkb2Nfb3V0XycgKyBkb2NfaXRlbVsxXSArICcuY3N2JywgJ3cnLCBuZXdsaW5lPScnLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBjc3ZmaWxlOgogICAgICAgICAgICBteV9yZWFkZXIgPSBjc3Yud3JpdGVyKGNzdmZpbGUsIGRpYWxlY3Q9J2V4Y2VsJywgZGVsaW1pdGVyPSc7JywgcXVvdGVjaGFyPSciJykKICAgICAgICAgICAgbXlfcmVhZGVyLndyaXRlcm93KCgnTmFtZScsICdVc2VyTmFtZScsICdEZXZpY2VJZCcsICdEZXZpY2VJUCcpKQogICAgICAgICAgICBteV9yZWFkZXIud3JpdGVyb3coKCfQn9GA0LjRhdC+0LQg0L3QsCDRgdC60LvQsNC0ICcgKyBkb2NfaXRlbVsxXSwgJ9Cc0L7RgdC60LLQsDEnLCBBbmRyb2lkSUQsIElQKSkKICAgICAgICAgICAgbXlfcmVhZGVyLndyaXRlcm93KCgnR1RJTicsICfQmtC+0LTQktCj0YfQtdGC0L3QvtC50KHQuNGB0YLQtdC80LUnLCAn0J3QsNC40LzQtdC90L7QstCw0L3QuNC1JywgJ0RlY2xhcmVkUXVhbnRpdHknLCAnQ3VycmVudFF1YW50aXR5JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAn0JrQvtGA0L7QsdC60LAnLCAn0JzQsNGA0LrQsCcsICfQnNCw0YDQutCw0JjQodCc0J8nLCAn0JjQvdCy0L7QudGBJywgJ9Cf0YDQuNC90LDQtNC70LXQttC90L7RgdGC0YwnKSkKICAgICAgICAgICAgZm9yIGVsIGluIHJlczoKICAgICAgICAgICAgICAgIGd0aW4gPSB1aV9iYXJjb2Rlcy5nZXRfZ3Rpbl9zZXJpYWxfZnJvbV9kYXRhbWF0cml4KGVsWyfQnNCw0YDQutCw0JjQodCc0J8nXSkKICAgICAgICAgICAgICAgIGVsWydHVElOJ10gPSBndGluWydHVElOJ10KICAgICAgICAgICAgICAgIG15X3JlYWRlci53cml0ZXJvdygoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxbJ0dUSU4nXSwgZWxbJ2lkX2dvb2QnXSwgZWxbJ25hbWUnXSwgZWxbJ0RlY2xhcmVkUXVhbnRpdHknXSwgZWxbJ0N1cnJlbnRRdWFudGl0eSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsWyfQnNCw0YDQutCwJ10sIGVsWyfQnNCw0YDQutCw0JjQodCc0J8nXSwgZWxbJ9CY0L3QstC+0LnRgSddLCBlbFsn0J/RgNC40L3QsNC00LvQtdC20L3QvtGB0YLRjCddKSkKCiAgICByZXR1cm4gc3RyKGNvdW50KSArICcg0LTQvtC60YPQvNC10L3RgtC+0LInCiMgZXhwb3J0X2Nzdign0J7QsdC80LXQvdCi0KHQlC/QndCQLycpICMnCgoKIyBvcGVuX2ZpbGVzX25ldCgnJywgJ0Q6L1B5dGhvblByb2plY3RzL1JpZ2h0U2Nhbi9TVUltYWluL9Ce0LHQvNC10L3QotCh0JQv0J3QkC9pbml0aWFsX2RpY3RzXzAxLmNzdicsICdpbml0aWFsX2RpY3RzXzAxLmNzdicpCiMgb3Blbl9maWxlc19uZXQoJycsICdEOi9QeXRob25Qcm9qZWN0cy9SaWdodFNjYW4vU1VJbWFpbi/QntCx0LzQtdC90KLQodCUL9Cd0JAvZG9jXzEuY3N2JywnZG9jXzEuY3N2JykK"
            },
            {
                "file_path": "C:/projects/python/simple_keep\\ui_global.py",
                "PyFileKey": "ui_global",
                "PyFileData": "aW1wb3J0IGNvbGxlY3Rpb25zCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmltcG9ydCBzcWxpdGUzCmZyb20gc3FsaXRlMyBpbXBvcnQgRXJyb3IKaW1wb3J0IHVpX2JhcmNvZGVzCmltcG9ydCBvcwppbXBvcnQgdWlfZm9ybV9kYXRhCmltcG9ydCBxdWV1ZQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZSwgdGltZWRlbHRhCgoKcXVlcnlfbGlzdCA9IHF1ZXVlLlF1ZXVlKCkKIyDQktC+0YIg0YLQsNC60LjQvCDQvdC10LfQsNGC0LXQudC70LjQstGL0Lwg0LzQtdGC0L7QtNC+0Lwg0L7Qv9GA0LXQtNC10LvRj9C10LwsINC80Ysg0LfQsNC/0YPRgdGC0LjQu9C40YHRjCDQvdCwINC60L7QvNC/0LUg0LjQu9C4INC90LAg0KLQodCUICoqCiMg0J3RgyDQuCDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIsINC40YHQv9C+0LvRjNC30YPQtdC8INCx0LDQt9GDICoqKioKaWYgb3MucGF0aC5leGlzdHMoJy8vZGF0YS9kYXRhL3J1LnRyYXZlbGZvb2Quc2ltcGxlX3VpL2RhdGFiYXNlcy8nKTogI9C70L7QutCw0LvRjNC90L4KICAgIGRiX3BhdGggPSAnLy9kYXRhL2RhdGEvcnUudHJhdmVsZm9vZC5zaW1wbGVfdWkvZGF0YWJhc2VzL1NpbXBsZUtlZXAnICAjIHJpZ2h0c2NhbicKZWxzZToKICAgIGRiX3BhdGggPSAncmlnaHRzY2FuNS5kYicgICMgRDpcUHl0aG9uUHJvamVjdHNcUmlnaHRTY2FuXFNVSV9ub1BvbnlcCgpjb25uID0gTm9uZQoKZGVmIHRleHRfdG9fYm9vbCh2YWwpOgogICAgcGFzcwoKIyDQpNGD0L3QutGG0LjRjyDQv9C+0LvRg9GH0LDQtdGCINGB0YLRgNC+0LrQuCDQvNCw0YDQutC40YDQvtCy0LrQuCDQtNC+0LrRg9C80LXQvdGC0LAg0L/QviDQt9C90LDRh9C10L3QuNGOINC80LDRgNC60LjRgNC+0LLQutC4CmRlZiBmaW5kX2JhcmNvZGVfaW5fbWFya2luZ19jb2Rlc190YWJsZShzZWxmLCBzdHJ1Y3RfYmFyY29kZTogbGlzdCkgLT4gY29sbGVjdGlvbnMuSXRlcmFibGU6CiAgICBxdWVyeV90ZXh0ID0gdWlfZm9ybV9kYXRhLmdldF9xdWVyeV9tYXJrX2ZpbmRfaW5fZG9jKCkKICAgIGFyZ3NfZGljdCA9IHt9CiAgICBhcmdzX2RpY3RbJ0dUSU4nXSA9IHN0cnVjdF9iYXJjb2RlWydHVElOJ10KICAgIGFyZ3NfZGljdFsnU2VyaWVzJ10gPSBzdHJ1Y3RfYmFyY29kZVsnU0VSSUFMJ10KICAgIGFyZ3NfZGljdFsnaWRfZG9jJ10gPSBzZWxmLmlkX2RvYwoKICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCwgYXJnc19kaWN0LCBUcnVlKQogICAgcmV0dXJuIHJlcwoKCmRlZiBmaW5kX2JhcmNvZGVfaW5fYmFyY29kZV90YWJsZShiYXJjb2RlOiBzdHIpIC0+IGNvbGxlY3Rpb25zLkl0ZXJhYmxlOgogICAgcXVlcnlfdGV4dCA9IHVpX2Zvcm1fZGF0YS5nZXRfYmFyY29kZV9xdWVyeSgpCiAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsIChiYXJjb2RlLCksIFRydWUpCiAgICByZXR1cm4gcmVzCgoKIyDQodGA0LDQstC90LjQstCw0LXRgiDQutC+0LvQuNGH0LXRgdGC0LLQvi3Qv9C70LDQvSDRgtC+0LLQsNGA0LAg0LIg0LTQvtC60YPQvNC10L3RgtC1INC4INC60L7Qu9C40YfQtdGB0YLQstC+INC80LDRgNC+0LosINC/0L4g0Y3RgtC+0LzRgyDRgtC+0LLQsNGA0YMg0YLQsNC8INC20LUuCiMg0JLQvtC30LLRgNCw0YnQsNC10YIgVHJ1ZSwg0LXRgdC70Lgg0LrQvtC70LjRh9C10YHRgtCy0L4g0LzQsNGA0L7QuiDQvNC10L3RjNGI0LUg0L/Qu9Cw0L3QsApkZWYgY2hlY2tfbWFya19jb2RlX2NvbXBsaWFuY2UoZWxfZGljdDogZGljdCwgaWRfZG9jLCBndGluKToKICAgIHF1ZXJ5X3RleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X21hcmtfcXR0eV9jb25mb3JtaXR5KCkKICAgIGFyZ3NfZGljdCA9IHt9CiAgICBhcmdzX2RpY3RbJ2lkRG9jJ10gPSBpZF9kb2MKICAgIGFyZ3NfZGljdFsnYmFyY29kZSddID0gJzAxJyArIGd0aW4gKyAnJScKICAgIGFyZ3NfZGljdFsnaWRfZ29vZCddID0gZWxfZGljdFsnaWRfZ29vZCddCiAgICBhcmdzX2RpY3RbJ2lkX3Byb3BlcnRpZXMnXSA9IGVsX2RpY3RbJ2lkX3Byb3BlcnR5J10KICAgIGFyZ3NfZGljdFsnaWRfc2VyaWVzJ10gPSBlbF9kaWN0WydpZF9zZXJpZXMnXQogICAgI2FyZ3NfZGljdFsnaWRfdW5pdCddID0gZWxfZGljdFsnaWRfdW5pdCddCiAgICBhcmdzX2RpY3RbJ2FwcHJvdmVkJ10gPSAnMScKICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCwgYXJnc19kaWN0KQogICAgaWYgcmVzOgogICAgICAgIGlmIHJlc1swXVswXSA+IDA6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxpZiByZXNbMF1bMF0gPT0gMDoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgIHJldHVybiBUcnVlCgoKZGVmIGNoZWNrX2JhcmNvZGVfY29tcGxpYW5jZShlbF9kaWN0OiBkaWN0LCBpZF9kb2MpOgogICAgIyAxINCi0LDQutC+0Lkg0YLQvtCy0LDRgCDQsiDQv9GA0LjQvdGG0LjQv9C1INC10YHRgtGMINCyINC00L7QutGD0LzQtdC90YLQtQoKICAgIHF1ZXJ5X3RleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X3BsYW5fZ29vZF9mcm9tX2RvYygpCiAgICBhcmdzX2RpY3QgPSB7fQogICAgYXJnc19kaWN0WydpZERvYyddID0gaWRfZG9jCiAgICBhcmdzX2RpY3RbJ2lkX2dvb2QnXSA9IGVsX2RpY3RbJ2lkX2dvb2QnXQogICAgYXJnc19kaWN0WydpZF9wcm9wZXJ0aWVzJ10gPSBlbF9kaWN0WydpZF9wcm9wZXJ0eSddCiAgICBhcmdzX2RpY3RbJ2lkX3NlcmllcyddID0gZWxfZGljdFsnaWRfc2VyaWVzJ10KICAgICNhcmdzX2RpY3RbJ2lkX3VuaXQnXSA9IGVsX2RpY3RbJ2lkX3VuaXQnXQoKICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCwgYXJnc19kaWN0LCBUcnVlKQoKICAgIHJldHVybiByZXMKCgpkZWYgY2hlY2tfYWRyX2JhcmNvZGVfY29tcGxpYW5jZShlbF9kaWN0OiBkaWN0LCBpZF9kb2MpOgogICAgIyAxINCi0LDQutC+0Lkg0YLQvtCy0LDRgCDQsiDQv9GA0LjQvdGG0LjQv9C1INC10YHRgtGMINCyINC00L7QutGD0LzQtdC90YLQtQoKICAgIHF1ZXJ5X3RleHQgPSAgJycnCiAgICBTRUxFQ1QgaWZudWxsKHF0dHlfcGxhbiwwKSBhcyBxdHR5X3BsYW4sCiAgICBpZm51bGwocXR0eSwwKSBhcyBxdHR5LCBpZF9nb29kCiAgICBGUk9NIFJTX2Fkcl9kb2NzX3RhYmxlCiAgICBXSEVSRSAKICAgIGlkX2RvYyA9IDppZERvYyAKICAgIEFORCBpZF9nb29kID0gOmlkX2dvb2QKICAgIEFORCBpZF9wcm9wZXJ0aWVzID0gOmlkX3Byb3BlcnRpZXMKICAgIEFORCBpZF9zZXJpZXMgPSA6aWRfc2VyaWVzCiAgICBBTkQgaWRfY2VsbCA9IDppZF9jZWxsIG9yIGlkX2NlbGwgPSAiIiBPUiBpZF9jZWxsIGlzIE51bGwKICAgICcnJwogICAgYXJnc19kaWN0ID0ge30KICAgIGFyZ3NfZGljdFsnaWREb2MnXSA9IGlkX2RvYwogICAgYXJnc19kaWN0WydpZF9nb29kJ10gPSBlbF9kaWN0WydpZF9nb29kJ10KICAgIGFyZ3NfZGljdFsnaWRfcHJvcGVydGllcyddID0gZWxfZGljdFsnaWRfcHJvcGVydHknXQogICAgYXJnc19kaWN0WydpZF9zZXJpZXMnXSA9IGVsX2RpY3RbJ2lkX3NlcmllcyddCiAgICBhcmdzX2RpY3RbJ2lkX2NlbGwnXSA9IGVsX2RpY3RbJ2lkX2NlbGwnXQogICAgI2FyZ3NfZGljdFsnaWRfdW5pdCddID0gZWxfZGljdFsnaWRfdW5pdCddCgogICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCBhcmdzX2RpY3QsIFRydWUpCgogICAgcmV0dXJuIHJlcwojCgoKZGVmIGdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dDogb2JqZWN0LCBhcmdzOiBvYmplY3QgPSAiIiwgcmV0dXJuX2RpY3Q9RmFsc2UpIC0+IGxpc3Q6CiAgICAjICoqKioqKioqKioqKioqKioqKioqKioKCiAgICAjIGdsb2JhbCBjb25uCiAgICAjIGdldF9kYXRhYmFzZV9jb25uZWN0aW9uKCkKICAgIHRyeToKICAgICAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KGRiX3BhdGgpCgogICAgZXhjZXB0IEVycm9yOgoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdObyBjb25uZWN0aW9uIHdpdGggZGF0YWJhc2UnKQoKICAgIGN1cnNvciA9IGNvbm4uY3Vyc29yKCkKICAgIHRyeToKICAgICAgICBpZiBhcmdzOgogICAgICAgICAgICBjdXJzb3IuZXhlY3V0ZShxdWVyeV90ZXh0LCBhcmdzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGN1cnNvci5leGVjdXRlKHF1ZXJ5X3RleHQpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcmFpc2UgZQoKCiAgICAjINCV0YHQu9C4INC90LDQtNC+IC0g0LLQvtC30LLRgNCw0YnQsNC10Lwg0L3QtSDRgNC10LfRg9C70YzRgtCw0YIg0LfQsNC/0YDQvtGB0LAsINCwINGB0LvQvtCy0LDRgNGMINGBINC40LzQv9C+0YDRgtC40YDQvtCy0LDQvdC90YvQvCDRgNC10LfRg9C70YzRgtCw0YLQvtC8CiAgICBpZiByZXR1cm5fZGljdDoKICAgICAgICByZXMgPSBbZGljdChsaW5lKSBmb3IgbGluZSBpbgogICAgICAgICAgICAgICBbemlwKFtjb2x1bW5bMF0gZm9yIGNvbHVtbiBpbiBjdXJzb3IuZGVzY3JpcHRpb25dLCByb3cpIGZvciByb3cgaW4gY3Vyc29yLmZldGNoYWxsKCldXQogICAgZWxzZToKICAgICAgICByZXMgPSBjdXJzb3IuZmV0Y2hhbGwoKQogICAgY29ubi5jb21taXQoKQogICAgY29ubi5jbG9zZSgpCiAgICByZXR1cm4gcmVzCgoKZGVmIGV4ZWN1dGVfc2NyaXB0KHF1ZXJ5X3RleHQpOgogICAgIyBnbG9iYWwgY29ubiAgIyA9IE5vbmUKICAgICMgZ2V0X2RhdGFiYXNlX2Nvbm5lY3Rpb24oKQogICAgdHJ5OgogICAgICAgIGNvbm4gPSBzcWxpdGUzLmNvbm5lY3QoZGJfcGF0aCkKCiAgICBleGNlcHQgRXJyb3I6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignTm8gY29ubmVjdGlvbiB3aXRoIGRhdGFiYXNlJykKCiAgICBjdXJzb3IgPSBjb25uLmN1cnNvcigpCiAgICB0cnk6CiAgICAgICAgY3Vyc29yLmV4ZWN1dGVzY3JpcHQocXVlcnlfdGV4dCkKICAgICAgICBjb25uLmNvbW1pdCgpCiAgICBleGNlcHQgc3FsaXRlMy5FcnJvciBhcyBlcjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGVyKQogICAgY29ubi5jbG9zZSgpCgoKZGVmIGJ1bGtfcXVlcnlfcmVwbGFjZShxdWVyeV90ZXh0OiBzdHIsIGFyZ3M6IG9iamVjdCA9ICIiKSAtPiBvYmplY3Q6CiAgICAjICoqKioqKioqKioqKioqKioqKioqKioKICAgICMgZ2xvYmFsIGNvbm4KICAgICMgZ2V0X2RhdGFiYXNlX2Nvbm5lY3Rpb24oKQogICAgY29ubiA9IE5vbmUKICAgIHRyeToKICAgICAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KGRiX3BhdGgpCgogICAgZXhjZXB0IEVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ05vIGNvbm5lY3Rpb24gd2l0aCBkYXRhYmFzZScpCgogICAgY3Vyc29yID0gY29ubi5jdXJzb3IoKQogICAgdHJ5OgogICAgICAgIGlmIGFyZ3M6CiAgICAgICAgICAgIGN1cnNvci5leGVjdXRlbWFueShxdWVyeV90ZXh0LCBhcmdzKQoKICAgICAgICBjb25uLmNvbW1pdCgpCiAgICBleGNlcHQgc3FsaXRlMy5FcnJvciBhcyBlcjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGVyKQoKICAgIHJlcyA9IGN1cnNvci5mZXRjaGFsbCgpCgogICAgY29ubi5jbG9zZSgpCiAgICByZXR1cm4gcmVzCgoKZGVmIGdldF9uYW1lX2xpc3Qoc3RyX2VudHR5KToKICAgIHF1ZXJ5ID0gIlNFTEVDVCBuYW1lIEZST00gIiArIHN0cl9lbnR0eQogICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSkKICAgIGxpc3RfZWwgPSBbXQogICAgIyBsaXN0X2VsLmFwcGVuZChuYW1lIGZvciBuYW1lIGluIHJlcykKICAgIGZvciBlbCBpbiByZXM6CiAgICAgICAgbGlzdF9lbC5hcHBlbmQoZWxbMF0pCiAgICByZXR1cm4gIjsiLmpvaW4obGlzdF9lbCkKCgpkZWYgZ2V0X2J5X25hbWUoZmxkLCB0YWJsZSk6CiAgICBxdWVyeSA9ICJTRUxFQ1QgaWQgRlJPTSAiICsgdGFibGUgKyAnIFdIRVJFIG5hbWUgPSA/JwogICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSwgKGZsZCwpKQoKICAgIGlmIGxlbihyZXMpID09IDA6CiAgICAgICAgcmV0dXJuICIiCiAgICBlbHNlOgogICAgICAgIHJldHVybiByZXNbMF1bMF0KCiMKIyBkZWYgZ2V0X2NvbnN0YW50cyhuZWVkX2NvbnN0PScnKToKIyAgICAgc3FsX3RleHQgPSAnU2VsZWN0ICogZnJvbSBSU19jb25zdGFudHMnCiMgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQoc3FsX3RleHQpCiMKIyAgICAgIyDQuNC90LjRhtC40LDQu9C40LfQuNGA0YPQtdC8INC60L7QvdGB0YLQsNC90YLRiwojICAgICBpZiBub3QgcmVzOiAgIyBsZW4ocmVzKSA9PSAwOgojICAgICAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdCgKIyAgICAgICAgICAgICAnSU5TRVJUIElOVE8gUlNfY29uc3RhbnRzICh1c2Vfc2VyaWVzLCB1c2VfcHJvcGVydGllcywgdXNlX21hcmssIGFkZF9pZl9ub3RfaW5fcGxhbiwgcGF0aCwgZGVsZXRlX2ZpbGVzLCByZXNlcnZlZCwgYWxsb3dfb3ZlcnNjYW4pIFZBTFVFUyAoPyw/LD8sPyw/LD8sPyw/KScsCiMgICAgICAgICAgICAgKCcwJywgJzAnLCAnMCcsICcwJywgJy8vc3RvcmFnZS9lbXVsYXRlZC8wL0FuZHJvaWQvZGF0YS9ydS50cmF2ZWxmb29kLnNpbXBsZV91aS8nLCAnMCcsCiMgICAgICAgICAgICAgICcwJywgJzAnKSkgICMgLy9zdG9yYWdlL2VtdWxhdGVkLzAvZG93bmxvYWQvCiMKIyAgICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQoc3FsX3RleHQpCiMKIyAgICAgZWxzZTogICMgbGVuKHJlcyk+MDoKIyAgICAgICAgIGlmIG5lZWRfY29uc3Q6CiMgICAgICAgICAgICAgbHMgPSBbJ2lkJywgJ3VzZV9zZXJpZXMnLCAndXNlX3Byb3BlcnRpZXMnLCAndXNlX21hcmsnLCAnYWRkX2lmX25vdF9pbl9wbGFuJywgJ3BhdGgnLCAnZGVsZXRlX2ZpbGVzJywKIyAgICAgICAgICAgICAgICAgICAncmVzZXJ2ZWQnLCAnYWxsb3dfb3ZlcnNjYW4nLCAncmVsZWFzZSddCiMgICAgICAgICAgICAgeCA9IGxzLmluZGV4KG5lZWRfY29uc3QpCiMKIyAgICAgICAgICAgICBpZiB4ID4gMDoKIyAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc1swXVt4XQojICAgICAgICAgZWxzZToKIyAgICAgICAgICAgICByZXR1cm4gcmVzWzBdCgoKCmRlZiBJZF90b19IRVgoZ3VpZCk6CiAgICB4MSA9IGd1aWRbMTk6MjNdCiAgICB4MiA9IGd1aWRbMjQ6IDM2XQogICAgeDMgPSBndWlkWzE0OiAxOF0KICAgIHg0ID0gZ3VpZFs5OjEzXQogICAgeDUgPSBndWlkWzA6IDhdCgogICAgc3RyX2d1aWQgPSB4MSArIHgyICsgeDMgKyB4NCArIHg1CiAgICByZXR1cm4gaW50KHN0cl9ndWlkLCAxNikKCgoKIwpjbGFzcyBSc19kb2MoKToKICAgIGlkX2RvYyA9ICcnICAjIHN0cikKICAgIGlkX3N0ciA9ICcnICAjIHN0cikKICAgIHF0dHkgPSAnJyAgIyBzdHIpCgogICAgZGVmIHVwZGF0ZV9kb2Nfc3RyKHNlbGYsIHByaWNlPTApOgogICAgICAgIHF1ZXJ5ID0gIiIiCiAgICAgICAgVVBEQVRFIFJTX2RvY3NfdGFibGUKICAgICAgICBTRVQgcXR0eT0/LCBwcmljZT0/CiAgICAgICAgV2hlcmUgaWQ9PyAiIiIKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoc2VsZi5xdHR5LCBwcmljZSwgc2VsZi5pZF9zdHIpKQogICAgICAgIHJldHVybiByZXMKCiAgICBkZWYgZGVsZXRlX2RvYyhzZWxmKToKICAgICAgICBxdWVyeV9kb2NfdGFibGUgPSAnREVMRVRFIEZST00gUlNfZG9jc190YWJsZSBXSEVSRSBpZF9kb2MgPSA/JwogICAgICAgIGdldF9xdWVyeV9yZXN1bHQocXVlcnlfZG9jX3RhYmxlLCAoc2VsZi5pZF9kb2MsKSkKICAgICAgICBxdWVyeV9kb2NfdGFibGUgPSAnREVMRVRFIEZST00gUlNfZG9jc19iYXJjb2RlcyBXSEVSRSBpZF9kb2MgPSA/JwogICAgICAgIGdldF9xdWVyeV9yZXN1bHQocXVlcnlfZG9jX3RhYmxlLCAoc2VsZi5pZF9kb2MsKSkKICAgICAgICBxdWVyeV9kb2MgPSAnREVMRVRFIEZST00gUlNfZG9jcyBXSEVSRSBpZF9kb2MgPSA/JwogICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnlfZG9jLCAoc2VsZi5pZF9kb2MsKSkKCiAgICAgICAgcmV0dXJuIHJlcwogICAgZGVmIGNsZWFyX2JhcmNvZGVfZGF0YShzZWxmKToKICAgICAgICBxdWVyeV90ZXh0ID0gKCdVcGRhdGUgUlNfZG9jc19iYXJjb2RlcyBTZXQgYXBwcm92ZWQgPSAwIFdoZXJlIGlkX2RvYz06aWRfZG9jJywKICAgICAgICAnRGVsZXRlIEZyb20gUlNfZG9jc19iYXJjb2RlcyBXaGVyZSAgaWRfZG9jPTppZF9kb2MgQW5kIGlzX3BsYW4gPSAwJywKICAgICAgICAnVXBkYXRlIFJTX2RvY3NfdGFibGUgU2V0IHF0dHkgPSAwIFdoZXJlIGlkX2RvYz06aWRfZG9jJywKICAgICAgICAnRGVsZXRlIEZyb20gUlNfZG9jc190YWJsZSBXaGVyZSBpZF9kb2M9OmlkX2RvYyBhbmQgaXNfcGxhbiA9ICJGYWxzZSInKQogICAgICAgIGZvciBlbCBpbiBxdWVyeV90ZXh0OgogICAgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KGVsLCAoeydpZF9kb2MnOnNlbGYuaWRfZG9jfSkpCgogICAgZGVmIG1hcmtfZm9yX3VwbG9hZChzZWxmKToKICAgICAgICBxdWVyeSA9ICIiIgogICAgICAgIFVQREFURSBSU19kb2NzX3RhYmxlCiAgICAgICAgU0VUIHNlbnQ9MQogICAgICAgIFdoZXJlIGlkPT8gIiIiCiAgICAgICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSwgKHNlbGYuaWRfZG9jKSkKCiAgICAgICAgcmV0dXJuIHJlcwoKICAgIGRlZiBtYXJrX3ZlcmlmaWVkKHNlbGYsIGtleSk6CiAgICAgICAgcXVlcnkgPSAiIiIKICAgICAgICAgICAgICAgIFVQREFURSBSU19kb2NzCiAgICAgICAgICAgICAgICBTRVQgdmVyaWZpZWQ9PwogICAgICAgICAgICAgICAgV2hlcmUgaWRfZG9jPT8gIiIiCiAgICAgICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSwgKGludChrZXkpLCBzZWxmLmlkX2RvYykpCgogICAgZGVmIGZpbmRfYmFyY29kZV9pbl90YWJsZShzZWxmLCBzZWFyY2hfdmFsdWU6IHN0ciwgZnVuY19jb21wYXJlZD0nPT8nKSAtPiBsaXN0OgoKICAgICAgICBxdWVyeSA9ICcnJwogICAgICAgICAgICAgICAgIFNFTEVDVAogICAgICAgICAgICAgICAgIFJTX2JhcmNvZGVzLmlkX2dvb2QsCiAgICAgICAgICAgICAgICAgUlNfYmFyY29kZXMuaWRfcHJvcGVydHksCiAgICAgICAgICAgICAgICAgUlNfYmFyY29kZXMuaWRfc2VyaWVzLAogICAgICAgICAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3VuaXQsCiAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZCwKICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLnF0dHkgICAgICAgIAogICAgICAgICAgICAgICAgIEZST00gUlNfYmFyY29kZXMKICAgICAgICAgICAgICAgICBMZWZ0IGpvaW4gUlNfZG9jc190YWJsZSBPTgogICAgICAgICAgICAgICAgIFJTX2RvY3NfdGFibGUuaWRfZ29vZD0gUlNfYmFyY29kZXMuaWRfZ29vZCBhbmQKICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3Byb3BlcnRpZXM9IFJTX2JhcmNvZGVzLmlkX3Byb3BlcnR5IGFuZAogICAgICAgICAgICAgICAgIFJTX2RvY3NfdGFibGUuaWRfdW5pdD0gUlNfYmFyY29kZXMuaWRfdW5pdCBBbmQKICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX2RvYz0/CiAgICAgICAgICAgICAgICAgd2hlcmUgYmFyY29kZSAnJycgKyBmdW5jX2NvbXBhcmVkCiAgICAgICAgIyBxdWVyeSA9IHF1ZXJ5ICsgZnVuY19jb21wYXJlZAoKICAgICAgICByZXR1cm4gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSwgKHNlbGYuaWRfZG9jLCBzZWFyY2hfdmFsdWUpLCBUcnVlKQoKICAgIGRlZiBmaW5kX2JhcmNvZGVfaW5fbWFya190YWJsZShzZWxmLCBzZWFyY2hfdmFsdWU6IHN0ciwgZnVuY19jb21wYXJlZD0nPT8nKSAtPiBvYmplY3Q6CiAgICAgICAgcXVlcnkgPSAnJycKICAgICAgICAgICAgICAgICAgICAgICAgU0VMRUNUCiAgICAgICAgICAgICAgICAgICAgICAgIFJTX21hcmtpbmdfY29kZXMuaWRfZ29vZCwKICAgICAgICAgICAgICAgICAgICAgICAgUlNfbWFya2luZ19jb2Rlcy5pZF9wcm9wZXJ0eSwKICAgICAgICAgICAgICAgICAgICAgICAgUlNfbWFya2luZ19jb2Rlcy5pZF9zZXJpZXMsCiAgICAgICAgICAgICAgICAgICAgICAgIFJTX21hcmtpbmdfY29kZXMuaWRfdW5pdCwKICAgICAgICAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5xdHR5ICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgRlJPTSBSU19tYXJraW5nX2NvZGVzCiAgICAgICAgICAgICAgICAgICAgICAgIExlZnQgam9pbiBSU19kb2NzX3RhYmxlIE9OCiAgICAgICAgICAgICAgICAgICAgICAgIFJTX2RvY3NfdGFibGUuaWRfZ29vZD0gUlNfbWFya2luZ19jb2Rlcy5pZF9nb29kIGFuZAogICAgICAgICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3Byb3BlcnRpZXM9IFJTX21hcmtpbmdfY29kZXMuaWRfcHJvcGVydHkgYW5kCiAgICAgICAgICAgICAgICAgICAgICAgIFJTX2RvY3NfdGFibGUuaWRfdW5pdD0gUlNfbWFya2luZ19jb2Rlcy5pZF91bml0IEFuZAogICAgICAgICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX2RvYz0/CiAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hcmtfY29kZSAgJycnICsgZnVuY19jb21wYXJlZAogICAgICAgICMgcXVlcnkgPSBxdWVyeSArIGZ1bmNfY29tcGFyZWQKCiAgICAgICAgcmV0dXJuIGdldF9xdWVyeV9yZXN1bHQocXVlcnksIChzZWxmLmlkX2RvYywgc2VhcmNoX3ZhbHVlKSwgVHJ1ZSkKCiAgICBkZWYgdXBkYXRlX2RvY190YWJsZV9kYXRhKHNlbGYsIGVsZW1fZm9yX2FkZDogZGljdCwgcXR0eT0xLCB1c2VyX3Rtej0wKToKICAgICAgICAjINCh0L3QsNGH0LDQu9CwINC+0L/RgNC10LTQtdC70LjQvCwg0LXRgdGC0Ywg0LvQuCDQsiDRgdC/0LjRgdC60LUg0YLQvtCy0LDRgNC+0LIg0LTQvtC60YPQvNC10L3RgtCwINC90LDRiCDRgtC+0LLQsNGAOgogICAgICAgIHF0ZXh0ID0gJ1NlbGVjdCAqIGZyb20gUlNfZG9jc190YWJsZSBXaGVyZSBpZF9kb2M9PyBhbmQgaWRfZ29vZCA9ID8gYW5kIGlkX3Byb3BlcnRpZXMgPSA/IGFuZCBpZF9zZXJpZXMgPSA/ICcgI2FuZCBpZF91bml0ID0gPwogICAgICAgIGFyZ3MgPSAoc2VsZi5pZF9kb2MsIGVsZW1fZm9yX2FkZFsnaWRfZ29vZCddLCBlbGVtX2Zvcl9hZGRbJ2lkX3Byb3BlcnR5J10sIGVsZW1fZm9yX2FkZFsnaWRfc2VyaWVzJ10pICMsZWxlbV9mb3JfYWRkWydpZF91bml0J10KICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCBhcmdzLCBUcnVlKQogICAgICAgIGlmIHJlczogICMg0J3QsNGI0LvQuCDRgdGC0YDQvtC60Lgg0LTQvtC60YPQvNC10L3RgtCwLCDQtNC+0LHQsNCy0LvRj9C10Lwg0LrQvtC70LjRh9C10YHRgtCy0L4KCiAgICAgICAgICAgIGVsID0gcmVzWzBdCiAgICAgICAgICAgICMgaWYgZWxbJ3F0dHknXStxdHR5ID09IDA6CiAgICAgICAgICAgICMgICAgIHF0ZXh0ID0gJ0RFTEVURSBGUk9NIFJTX2RvY3NfdGFibGUgIFdIRVJFIGlkID0gPycKICAgICAgICAgICAgIyAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgKGVsWydpZCddLCkpCiAgICAgICAgICAgICMgZWxzZToKICAgICAgICAgICAgcXRleHQgPSAnVVBEQVRFIFJTX2RvY3NfdGFibGUgU0VUIHF0dHk9cXR0eSs/LCBsYXN0X3VwZGF0ZWQgPSA/LCBzZW50ID0gMCBXSEVSRSBpZCA9ID8nCiAgICAgICAgICAgIGN1cnJlbnRfdGltZV91dGNfMCA9IChkYXRldGltZS5ub3coKSAtIHRpbWVkZWx0YShob3Vycz11c2VyX3RteikpLnN0cmZ0aW1lKCIlWS0lbS0lZCAlSDolTTolUyIpCiAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocXRleHQsIChxdHR5LCBjdXJyZW50X3RpbWVfdXRjXzAsIGVsWydpZCddKSkKICAgICAgICBlbHNlOiAgIyDQotCw0LrQvtC5INGB0YLRgNC+0LrQuCDQvdC10YIsINC90LDQtNC+INC00L7QsdCw0LLQuNGC0YwKICAgICAgICAgICAgcXRleHQgPSAnUkVQTEFDRSBJTlRPIFJTX2RvY3NfdGFibGUoaWRfZG9jLCBpZF9nb29kLCBpZF9wcm9wZXJ0aWVzLGlkX3NlcmllcywgaWRfdW5pdCwgcXR0eSwgcHJpY2UsIGlkX3ByaWNlLCBpc19wbGFuLCBzZW50KSBWQUxVRVMgKD8sPyw/LD8sPyw/LD8sPyw/LD8pJwogICAgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCAoCiAgICAgICAgICAgICAgICBzZWxmLmlkX2RvYywgZWxlbV9mb3JfYWRkWydpZF9nb29kJ10sIGVsZW1fZm9yX2FkZFsnaWRfcHJvcGVydHknXSwgZWxlbV9mb3JfYWRkWydpZF9zZXJpZXMnXSwKICAgICAgICAgICAgICAgIGVsZW1fZm9yX2FkZC5nZXQoJ2lkX3VuaXQnKSwgcXR0eSwgMCwgJycsICdGYWxzZScsIDApKQoKICAgICAgICByZXR1cm4gcmVzCgogICAgIyDQpNGD0LPQutGG0LjRjyDQtNC+0LHQsNCy0LvRj9C10YIg0YHRgtGA0L7QutGDINCyINC80LDRgNC60LjRgNC+0LLQutGDINC00L7QutGD0LzQtdC90YLQsCDQvdCwINC+0YHQvdC+0LLQsNC90LjQuCDQsdCw0YDQutC+0LTQsCAoZGF0YU1hdHJpeCkKICAgIGRlZiBhZGRfbWFya2VkX2NvZGVzX2luX2RvYyhzZWxmLCBiYXJjb2RlX2luZm8pOgogICAgICAgIHF0ZXh0ID0gJ1NFTEVDVCAqIEZST00gUlNfbWFya2luZ19jb2RlcyBXaGVyZSBtYXJrX2NvZGUgPT8nCiAgICAgICAgcV9kb2NfdGV4dCA9ICdSRVBMQUNFIElOVE8gUlNfZG9jc19iYXJjb2RlcyAoaWRfZG9jLCBpZF9iYXJjb2RlLCBiYXJjb2RlX2Zyb21fc2Nhbm5lciwgaXNfcGxhbiwgYXBwcm92ZWQpIFZBTFVFUyAoPyw/LD8sPyw/KScKICAgICAgICAjINCY0YnQtdC8INC60L7QtCDQvNCw0YDQutC40YDQvtCy0LrQuCDQsiDRgtCw0LHQu9C40YbQtSBSU19tYXJraW5nX2NvZGVzINC/0L4gR1RJTiDQuCBTRVJJQUwKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCAoJzAxJyArIGJhcmNvZGVfaW5mb1snR1RJTiddICsgJzIxJyArIGJhcmNvZGVfaW5mb1snU0VSSUFMJ10sKSwgVHJ1ZSkKICAgICAgICBpZiByZXM6CiAgICAgICAgICAgICMg0J3QsNGI0LvQuCDRgtCw0LrQvtC5INCx0LDRgNC60L7QtCDQsiDRgdC/0LjRgdC60LUg0LzQsNGA0LrQuNGA0L7QstC60LgsINC30LDQv9C+0LvQvdGP0LXQvCDRgdGC0YDQvtC60YMg0LzQsNGA0LrQuNGA0L7QstC60Lgg0LTQvtC60YPQvNC10L3RgtCwCgogICAgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHFfZG9jX3RleHQsIChzZWxmLmlkX2RvYywgcmVzWzBdWydpZCddLCBiYXJjb2RlX2luZm9bJ0Z1bGxCYXJjb2RlJ10sICcwJywgJzEnKSwgVHJ1ZSkKICAgICAgICAgICAgcmV0dXJuIHJlc1swXQogICAgICAgIGVsc2U6ICAjINCd0LUg0L3QsNGI0LvQuCAtINC/0YDQvtCx0YPQtdC8INC40YHQutCw0YLRjCDQv9C+IEdUSU4g0LIg0YLQsNCx0LvQuNGG0LUg0LHQsNGA0LrQvtC00L7QsgogICAgICAgICAgICByZXMgPSBzZWxmLmZpbmRfYmFyY29kZV9pbl9tYXJrX3RhYmxlKHNlbGYsICcwMScgKyBiYXJjb2RlX2luZm9bJ0dUSU4nXSArICclJywgJ0xpa2UgPycpCiAgICAgICAgICAgIGlmIHJlczogICMg0J3QsNGI0LvQuCDQv9C+IEdUSU4sINC30LDQv9C+0LvQvdGP0LXQvCDQtNC+0LrRg9C80LXQvdGCCiAgICAgICAgICAgICAgICBlbCA9IHJlc1swXQogICAgICAgICAgICAgICAgIyDQodC90LDRh9Cw0LvQsCDQt9Cw0L/QvtC70L3QuNC8INGC0LDQsdC70LjRhtGDIFJTX21hcmtpbmdfY29kZXMKICAgICAgICAgICAgICAgIHF0ZXh0ID0gJ1JFUExBQ0UgSU5UTyBSU19tYXJraW5nX2NvZGVzIChpZCwgbWFya19jb2RlLCBpZF9nb29kLCBpZF9wcm9wZXJ0eSwgaWRfc2VyaWVzLCBpZF91bml0KSBWQUxVRVMgKD8sPyw/LD8sPyw/KScKICAgICAgICAgICAgICAgIG1hcmtfY29kZSA9ICcwMScgKyBiYXJjb2RlX2luZm9bJ0dUSU4nXSArICcyMScgKyBiYXJjb2RlX2luZm9bJ1NFUklBTCddCiAgICAgICAgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCAoCiAgICAgICAgICAgICAgICAgICAgbWFya19jb2RlLCBtYXJrX2NvZGUsIGVsWydpZF9nb29kJ10sIGVsWydpZF9wcm9wZXJ0eSddLCBlbFsnaWRfc2VyaWVzJ10sIGVsWydpZF91bml0J10pKQogICAgICAgICAgICAgICAgIyDQmCDRgtC10L/QtdGA0Ywg0YLQsNCx0LvQuNGG0YMg0LTQvtC60YPQvNC10L3RgtCwINGB0L4g0YHRgdGL0LvQutC+0Lkg0L3QsCBSU19tYXJraW5nX2NvZGVzCiAgICAgICAgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHFfZG9jX3RleHQsIChzZWxmLmlkX2RvYywgbWFya19jb2RlLCBiYXJjb2RlX2luZm9bJ0Z1bGxCYXJjb2RlJ10sICcwJywgJzEnKSkKICAgICAgICAgICAgICAgIGVsWydtYXJrX2NvZGUnXSA9IG1hcmtfY29kZQogICAgICAgICAgICAgICAgcmV0dXJuIGVsCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZXR1cm4gTm9uZQoKCiAgICBkZWYgYWRkX25ld19iYXJjb2RlX2luX2RvY19iYXJjb2Rlc190YWJsZShzZWxmLCBlbCwgYmFyY29kZV9pbmZvKToKICAgICAgICBxdWVyeV90ZXh0ID0gJycnCiAgICAgICAgSW5zZXJ0IEludG8gUlNfZG9jc19iYXJjb2RlcyAoCiAgICAgICAgaWRfZG9jLAogICAgICAgIGlkX2dvb2QsCiAgICAgICAgaWRfcHJvcGVydHksCiAgICAgICAgaWRfc2VyaWVzLAogICAgICAgIGlkX3VuaXQsCiAgICAgICAgYmFyY29kZV9mcm9tX3NjYW5uZXIsCiAgICAgICAgYXBwcm92ZWQgLAogICAgICAgIEdUSU4sCiAgICAgICAgU2VyaWVzKSBWQUxVRVMgKD8sPyw/LD8sPyw/LD8sPyw/KScnJwogICAgICAgIGFyZ3MgPSAoc2VsZi5pZF9kb2MsIGVsWydpZF9nb29kJ10sZWxbJ2lkX3Byb3BlcnR5J10sZWxbJ2lkX3NlcmllcyddLGVsWydpZF91bml0J10sYmFyY29kZV9pbmZvWydGdWxsQ29kZSddLCcxJywgYmFyY29kZV9pbmZvWydHVElOJ10sIGJhcmNvZGVfaW5mb1snU0VSSUFMJ10pCiAgICAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCBhcmdzKQoKCgogICAgIyDQldGB0YLRjCDQv9C70LDQvSDQv9C+INC60L7Qu9C40YfQtdGB0YLQstGDICAtIGhhdmVfcXR0eV9wbGFuCiAgICAjINCV0YHRgtGMINC/0LvQsNC9INC/0L4g0YHQv9C40YHQutGDINGC0L7QstCw0YDQvtCyIGhhdmVfemVyb19wbGFuCiAgICAjINCa0J7QvdGC0YDQvtC70Ywg0L/Qu9Cw0L3QvtCyINCyINC00L7QutGD0LzQtdC90YLQtSAtIGNvbnRyb2wKICAgICMg0JXRgdGC0Ywg0L/Qu9Cw0L0g0L/QviDQvNCw0YDQutC40YDRg9C10LzQvtC5INC/0YDQvtC00YPQutGG0LjQuCBoYXZlX21hcmtfcGxhbgogICAgZGVmIHByb2Nlc3NfdGhlX2JhcmNvZGUoc2VsZiwgYmFyY29kZSwgaGF2ZV9xdHR5X3BsYW4gPSBGYWxzZSwgaGF2ZV96ZXJvX3BsYW4gPSBGYWxzZSwgY29udHJvbCA9IEZhbHNlLCBoYXZlX21hcmtfcGxhbiA9IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9IE5vbmUsIHVzZV9tYXJrX3NldHRpbmcgPSAnZmFsc2UnLCB1c2VyX3Rtej0wKTogIyBhZGRfaWZfbm90X2ZvdW5kPUZhbHNlLCBhZGRfaWZfbm90X2luX3BsYW49RmFsc2UpOgogICAgICAgICMg0J/QvtC70YPRh9C40Lwg0YHRgtGA0YPQutGC0YPRgNGDINCx0LDRgNC60L7QtNCwCiAgICAgICAgaWYgYmFyY29kZVswXSA9PSBjaHIoMjkpIGFuZCBsZW4oYmFyY29kZSkgPiAzMTogICMgUmVtb3ZlIGZpcnN0IEdTMSBjaGFyIGZyb20gYmFyY29kZQogICAgICAgICAgICBiYXJjb2RlID0gYmFyY29kZVsxOl0KICAgICAgICBiYXJjb2RlX2luZm8gPSB1aV9iYXJjb2Rlcy5wYXJzZV9iYXJjb2RlKGJhcmNvZGUpCiAgICAgICAgaWYgYmFyY29kZV9pbmZvLl9fY29udGFpbnNfXygnRVJST1InKToKICAgICAgICAgICAgcmV0dXJuIHsnRXJyb3InOiAnSW52YWxpZCBCYXJjb2RlJywgJ0Rlc2NyJzogJ9Cd0LXQstC10YDQvdGL0Lkg0YjRgtGA0LjRhdC60L7QtCcsCiAgICAgICAgICAgICAgICAgICAgJ0JhcmNvZGUnOiBiYXJjb2RlX2luZm8sICdkb2NfaW5mbyc6IHNlbGYuaWRfZG9jfQogICAgICAgICMgLi4uINC4INC90LDQudC00LXQvCDQv9C+INC90LXQvNGDINCy0YHQtSDRh9GC0L4g0LXRgdGC0Ywg0LIg0LHQsNC30LUKICAgICAgICBzaGVtYSA9IGJhcmNvZGVfaW5mb1snU0NIRU1FJ10KICAgICAgICBpZiBzaGVtYSBpbiBbJ0VBTjEzJywgJ1VOS05PV04nXToKICAgICAgICAgICAgc2VhcmNoX3ZhbHVlID0gYmFyY29kZV9pbmZvWydCQVJDT0RFJ10KICAgICAgICBlbGlmIHNoZW1hID09ICdHUzEnOgogICAgICAgICAgICBzZWFyY2hfdmFsdWUgPSBiYXJjb2RlX2luZm9bJ0dUSU4nXQogICAgICAgIGVsc2U6ICAjICoqKioqKioqKioqKioqKioqKtCh0Y7QtNCwINC80L7QttC90L4g0LTQvtCx0LDQstC40YLRjCDQvdC+0LLRi9C1INCy0LjQtNGLINGI0YLRgNC40YXQutC+0LTQvtCyICoqKioqKioqKioqKioqKioqKioqCiAgICAgICAgICAgIHNlYXJjaF92YWx1ZSA9IGJhcmNvZGVfaW5mb1snQkFSQ09ERSddCgogICAgICAgIHJlcyA9IGZpbmRfYmFyY29kZV9pbl9iYXJjb2RlX3RhYmxlKHNlYXJjaF92YWx1ZSkgICMg0JjRidC10YIg0LHQsNGA0LrQvtC0INC40LvQuCDQk9Ci0JjQmNCdINC/0L4g0L7QsdGJ0LXQuSDRgtCw0LHQu9C40YbQtSDRiNGC0YDQuNGF0LrQvtC00L7Qsi4g0JLQvtC30LLRgNCw0YnQsNC10YIg0YLQvtCy0LDRgCwg0LXQs9C+INCy0LjQtCwg0YXQsNGA0LDQutGC0LXRgNC40YHRgtC40LrRgyDRgdC10YDQuNGOINC40YLQvy4KICAgICAgICBpZiBub3QgbGVuKHJlcykgPT0gMDoKICAgICAgICAgICAgZWxlbSA9IHJlc1swXSAj0JHQtdGA0LXQvCDQv9C10YDQstGL0Lkg0YDQtdC30YPQu9GM0YLQsNGCLiDQkiDQv9GA0LDQstC40LvRjNC90L7QvCDRgdC/0LjRgdC60LUg0YjRgtGA0LjRhdC60L7QtNC+0LIg0L3QtSDQvNC+0LbQtdGCINCx0YvRgtGMINC/0L7QstGC0L7RgNC10L3QuNC5CiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIHsnRXJyb3InOiAnTm90Rm91bmQnLCAnRGVzY3InOiAn0KjRgtGA0LjRhdC60L7QtCDQvdC1INC90LDQudC00LXQvSDQsiDQsdCw0LfQtScsICdCYXJjb2RlJzogYmFyY29kZX0KCiAgICAgICAgdXNlX21hcmsgPSB1c2VfbWFya19zZXR0aW5nICA9PSAndHJ1ZScgYW5kIGVsZW1bJ3VzZV9tYXJrJ10gPT0gMSAjZ2V0X2NvbnN0YW50cygndXNlX21hcmsnKQoKICAgICAgICAjINCf0YDQvtCy0LXRgNGP0LXQvCDQvNCw0YDQutC40YDQvtCy0LrRgwogICAgICAgIGlmIHVzZV9tYXJrOgogICAgICAgICAgICBpZiBzaGVtYSA9PSAnR1MxJzoKICAgICAgICAgICAgICAgIGVsX21hcmtlZCA9IE5vbmUKICAgICAgICAgICAgICAgICMg0JjRgdC/0L7Qu9GM0LfRg9C10Lwg0LzQsNGA0LrQuNGA0L7QstC60YMg0Lgg0YLQvtCy0LDRgCDQvNCw0YDQutC40YDRg9C10YLRgdGPCiAgICAgICAgICAgICAgICAjINCd0LDRiNC70Lgg0LIg0LTQvtC60YPQvNC10L3RgtC1IEdUSU4gKyDRgdC10YDQuNGPCiAgICAgICAgICAgICAgICByZXMgPSBmaW5kX2JhcmNvZGVfaW5fbWFya2luZ19jb2Rlc190YWJsZShzZWxmLCBiYXJjb2RlX2luZm8pCgogICAgICAgICAgICAgICAgaWYgcmVzOgogICAgICAgICAgICAgICAgICAgIGVsX21hcmtlZCA9IHJlc1swXSAj0JLRi9Cx0LjRgNCw0LXQvCDQv9C10YDQstGD0Y4g0YHRgtGA0L7QutGDINC40Lcg0YHQv9C40YHQutCwICjQtdGB0LvQuCDQsiDRgtCw0LHQu9C40YbQtSDRiNGC0YDQuNGF0LrQvtC00L7QsiDQv9C+0YDRj9C00L7Quiwg0LIg0YDQtdGBINCy0YHQtdCz0LTQsCDRgtC+0LvRjNC60L4g0L7QtNC90LAg0YHRgtGA0L7QutCwKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAjINCd0LUg0L3QsNGI0LvQuCwg0L/RgNC+0LLQtdGA0Y/QtdC8INC10YHRgtGMINC70Lgg0LIg0LTQvtC60YPQvNC10L3RgtC1INC/0LvQsNC9INC4INC60L7QvdGC0YDQvtC70YwKICAgICAgICAgICAgICAgICAgICBpZiBoYXZlX21hcmtfcGxhbiBhbmQgY29udHJvbDogI9CV0YHRgtGM0J/Qu9Cw0L3QmtCe0LTQvtCy0JzQsNGA0LrQuNGA0L7QstC60Lgg0Lgg0LrQvtC90YLRgNC+0LvRjAogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geydFcnJvcic6ICdOb3RGb3VuZCcsICdEZXNjcic6ICfQnNCw0YDQutCwINC90LUg0L3QsNC50LTQtdC90LAg0LIg0LTQvtC60YPQvNC10L3RgtC1JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQmFyY29kZSc6IGJhcmNvZGVfaW5mbywgJ2RvY19pbmZvJzogc2VsZi5pZF9kb2N9CgogICAgICAgICAgICAgICAgIyAqKioqKioqKioqKioKCiAgICAgICAgICAgICAgICBpZiBlbF9tYXJrZWQgYW5kIGVsX21hcmtlZFsnaWRfZ29vZCddOiAgIyDQvdCw0YjQu9C4INGB0YLRgNC+0LrRgyDQv9C+INC/0L7Qu9C90L7QvNGDINGB0L7QstC/0LDQtNC10L3QuNGOIEdUSU4g0Lgg0YHQtdGA0LjRjywg0YHRgdGL0LvQutCwINC90LAg0YLQvtCy0LDRgAoKICAgICAgICAgICAgICAgICAgICBpZiBlbF9tYXJrZWRbJ2FwcHJvdmVkJ10gPT0gJzEnOiAgIyDQotCw0LrQsNGPINC80LDRgNC60LAg0YPQttC1INCx0YvQu9CwINC+0YLRgdC60LDQvdC40YDQvtCy0LDQvdCwCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7J0Vycm9yJzogJ0FscmVhZHlTY2FubmVkJywgJ0Rlc2NyJzogJ9Ci0LDQutCw0Y8g0LzQsNGA0LrQsCDRg9C20LUg0LHRi9C70LAg0L7RgtGB0LrQsNC90LjRgNC+0LLQsNC90LAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdCYXJjb2RlJzogYmFyY29kZV9pbmZvLCAnZG9jX2luZm8nOiBlbF9tYXJrZWR9CgogICAgICAgICAgICAgICAgIyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCgogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIHsnRXJyb3InOiAnTm90VmFsaWRCYXJjb2RlJywKICAgICAgICAgICAgICAgICAgICAgICAgJ0Rlc2NyJzogJ9Ci0L7QstCw0YAg0L/QvtC00LvQtdC20LjRgiDQvNCw0YDQutC40YDQvtCy0LrQtSwg0LAg0L/QviDQvdC10LzRgyDQvtGC0YHQutCw0L3QuNGA0L7QstCw0L0g0L7QsdGL0YfQvdGL0Lkg0YjRgtGA0LjRhdC60L7QtCcsCiAgICAgICAgICAgICAgICAgICAgICAgICdCYXJjb2RlJzogYmFyY29kZX0KCiAgICAgICAgI9Ci0L7QstCw0YAg0LIg0YLQsNCx0LvQuNGG0LUg0LTQvtC60YPQvNC10L3RgtCwICjQotC+0LLQsNGAINC90LDQudC00LXQvSDQsiDQtNC+0LrRg9C80LXQvdGC0LUpCiAgICAgICAgcmVzID0gY2hlY2tfYmFyY29kZV9jb21wbGlhbmNlKGVsZW0sIHNlbGYuaWRfZG9jKSAgI9Cf0L7Qu9GD0YfQsNC10Lwg0YHRgtGA0L7QutGDINGC0LDQsdC70LjRhtGLINGC0L7QstCw0YDRiyDQtNC+0LrRg9C80LXQvdGC0LAKICAgICAgICBpZiByZXM6ICPQotC+0LLQsNGAINC90LDQudC00LXQvSDQsiDQtNC+0LrRg9C80LXQvdGC0LUKICAgICAgICAgICAgaWYgaGF2ZV9xdHR5X3BsYW46ICPQldGB0YLRjCDQv9C70LDQvSDQv9C+INC60L7Qu9C40YfQtdGB0YLQstGDCiAgICAgICAgICAgICAgICBpZiByZXNbMF1bJ3F0dHlfcGxhbiddIDw9IHJlc1swXVsncXR0eSddOiAj0JrQvtC70LjRh9C10YHRgtCy0L4g0YLQvtCy0LDRgNCwINCyINC00L7QutGD0LzQtdC90YLQtSDRg9C20LUg0L3QsNCx0YDQsNC90L4sINC4INC80Ysg0L/RgNC10LLRi9GI0LDQtdC8INC/0LvQsNC9CiAgICAgICAgICAgICAgICAgICAgaWYgY29udHJvbDoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsnUmVzdWx0JzogJ9Ca0L7Qu9C40YfQtdGB0YLQstC+INC/0LvQsNC9INC/0YDQtdCy0YvRiNC10L3Qviwg0LHQvtC70YzRiNC1INGC0L7QstCw0YAg0LIg0LTQsNC90L3Ri9C5INC00L7QutGD0LzQtdC90YIg0LTQvtCx0LDQstC40YLRjCDQvdC10LvRjNC30Y8nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdFcnJvcic6ICdRdWFudGl0eVBsYW5SZWFjaGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmFyY29kZSc6IGJhcmNvZGUsICdEZXNjcic6ICfQmtC+0LvQuNGH0LXRgdGC0LLQviDQv9C70LDQvSDQv9GA0LXQstGL0YjQtdC90L4sINCx0L7Qu9GM0YjQtSDRgtC+0LLQsNGAINCyINC00LDQvdC90YvQuSDQtNC+0LrRg9C80LXQvdGCINC00L7QsdCw0LLQuNGC0Ywg0L3QtdC70YzQt9GPJ30KCiAgICAgICAgZWxzZTogI9Ci0L7QstCw0YAg0L3QtSDQvdCw0LnQtNC10L0g0LIg0LTQvtC60YPQvNC10L3RgtC1CiAgICAgICAgICAgIGlmIGhhdmVfemVyb19wbGFuIGFuZCBjb250cm9sOgogICAgICAgICAgICAgICAgcmV0dXJuIHsnUmVzdWx0JzogJ9CSINC00LDQvdC90YvQuSDQtNC+0LrRg9C80LXQvdGCINC90LXQu9GM0LfRjyDQtNC+0LHQsNCy0LjRgtGMINGC0L7QstCw0YAg0L3QtSDQuNC3INGB0L/QuNGB0LrQsCcsCiAgICAgICAgICAgICAgICAgICAgICAgICdFcnJvcic6ICdaZXJvX3BsYW5fZXJyb3InLAogICAgICAgICAgICAgICAgICAgICAgICAnYmFyY29kZSc6IGJhcmNvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICdEZXNjcic6ICfQkiDQtNCw0L3QvdGL0Lkg0LTQvtC60YPQvNC10L3RgiDQvdC10LvRjNC30Y8g0LTQvtCx0LDQstC40YLRjCDRgtC+0LLQsNGAINC90LUg0LjQtyDRgdC/0LjRgdC60LAnfQoKCiAgICAgICAgIyDQkdC70L7QuiDQtNC+0LHQsNCy0LvQtdC90LjRjyDRgtC+0LLQsNGA0LAg0LIg0LTQvtC60YPQvNC10L3RggogICAgICAgIGlmIHVzZV9tYXJrOgogICAgICAgICAgICAjINCU0L7QsdCw0LLQu9GP0LXQvCDRgtC+0LLQsNGAINCyINGC0LDQsdC70LjRhtGDINC80LDRgNC60LjRgNC+0LLQutC4CiAgICAgICAgICAgIGlmIGVsX21hcmtlZCBhbmQgZWxfbWFya2VkWydpZF9nb29kJ106ICPQotC+0LLQsNGAINCx0YvQuyDQvdCw0LnQtNC10L0sINGC0L7Qu9GM0LrQviDQvtCx0L3QvtCy0LvRj9C10Lwg0YPQttC1INC90LDQudC00LXQvdC90YPRjiDRgdGC0YDQvtC60YMKICAgICAgICAgICAgICAgIHF1ZXJ5X3RleHQgPSAnVXBkYXRlICBSU19kb2NzX2JhcmNvZGVzIFNFVCBhcHByb3ZlZD0/LCBiYXJjb2RlX2Zyb21fc2Nhbm5lcj0/IFdoZXJlIGlkPT8nCiAgICAgICAgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsICgnMScsIGJhcmNvZGUsIGludChlbF9tYXJrZWRbJ2lkJ10pKSkKICAgICAgICAgICAgZWxzZTogI9CU0L7QsdCw0LLQu9GP0LXQvCDQvdC+0LLRg9GOINGB0YLRgNC+0LrRgyDQsiDRgtCw0LHQu9C40YbRgyDQsdCw0YDQutC+0LTQvtCyINC00L7QutGD0LzQtdC90YLQsAogICAgICAgICAgICAgICAgc2VsZi5hZGRfbmV3X2JhcmNvZGVfaW5fZG9jX2JhcmNvZGVzX3RhYmxlKHNlbGYsIGVsZW0gLCBiYXJjb2RlX2luZm8pCgoKICAgICAgICAjINCe0LHQvdC+0LLQu9GP0LXQvCDRgtCw0LHQu9C40YbRgyDRgtC+0LLQsNGA0YsKICAgICAgICBzZWxmLnVwZGF0ZV9kb2NfdGFibGVfZGF0YShzZWxmLCBlbGVtLCAxLCB1c2VyX3RteikKCiAgICAgICAgcmV0dXJuIHsnUmVzdWx0JzogJ9Cc0LDRgNC60LAg0LTQvtCx0LDQstC70LXQvdCwINCyINC00L7QutGD0LzQtdC90YInLCAnRXJyb3InOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAnYmFyY29kZSc6IGJhcmNvZGVfaW5mb1snR1RJTiddICsgYmFyY29kZV9pbmZvWydTRVJJQUwnXX0KCgogICAgZGVmIGFkZChzZWxmLCBhcmdzKToKICAgICAgICBxdWVyeSA9ICdJTlNFUlQgSU5UTyBSU19kb2NzKGlkX2RvYywgZG9jX3R5cGUsIGRvY19uLCBkb2NfZGF0ZSwgaWRfY291bnRyYWdlbnRzLCBpZF93YXJlaG91c2UsIHZlcmlmaWVkLCBzZW50KSBWQUxVRVMgKD8sPyw/LD8sPyw/LDAsMCknCiAgICAgICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSwgYXJncykKCiAgICBkZWYgZ2V0X25ld19pZChzZWxmKToKICAgICAgICBxdWVyeSA9ICdzZWxlY3QgbWF4X2lkX2RvYyBmcm9tIFJTX2NvbnN0YW50cycKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5KQogICAgICAgIGlmIGxlbihyZXMpID09IDA6CiAgICAgICAgICAgIHJldHVybiAnMScKICAgICAgICBlbHNlOgogICAgICAgICAgICB2YWwgPSByZXNbMF1bMF0KICAgICAgICAgICAgaWYgdmFsIGlzIE5vbmU6CiAgICAgICAgICAgICAgICByZXR1cm4gJzEnCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBxdWVyeSA9ICdVUERBVEUgUlNfY29uc3RhbnRzIFNFVCBtYXhfaWRfZG9jID0gPycKICAgICAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocXVlcnksIChpbnQodmFsKSArIDEsKSkKICAgICAgICAgICAgICAgIHJldHVybiBzdHIoaW50KHZhbCkgKyAxKQoKY2xhc3MgUnNfYWRyX2RvYygpOgogICAgaWRfZG9jID0gJycgICMgc3RyKQogICAgaWRfc3RyID0gJycgICMgc3RyKQogICAgcXR0eSA9ICcnICAjIHN0cikKCiAgICBkZWYgdXBkYXRlX2RvY19zdHIoc2VsZik6CiAgICAgICAgcXVlcnkgPSAiIiIKICAgICAgICBVUERBVEUgUlNfYWRyX2RvY3NfdGFibGUKICAgICAgICBTRVQgcXR0eT0/CiAgICAgICAgV2hlcmUgaWQ9PyAiIiIKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoc2VsZi5xdHR5LCBzZWxmLmlkX3N0cikpCiAgICAgICAgcmV0dXJuIHJlcwoKCiAgICBkZWYgY2xlYXJfYmFyY29kZV9kYXRhKHNlbGYpOgogICAgICAgIHF1ZXJ5X3RleHQgPSAoJ1VwZGF0ZSBSU19hZHJfZG9jc190YWJsZSBTZXQgcXR0eSA9IDAgV2hlcmUgaWRfZG9jPTppZF9kb2MnLAogICAgICAgICdEZWxldGUgRnJvbSBSU19hZHJfZG9jc190YWJsZSBXaGVyZSBpZF9kb2M9OmlkX2RvYyBhbmQgaXNfcGxhbiA9ICJGYWxzZSInKQogICAgICAgIGZvciBlbCBpbiBxdWVyeV90ZXh0OgogICAgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KGVsLCAoeydpZF9kb2MnOnNlbGYuaWRfZG9jfSkpCgoKICAgIGRlZiBkZWxldGVfZG9jKHNlbGYpOgogICAgICAgIHF1ZXJ5X2RvY190YWJsZSA9ICdERUxFVEUgRlJPTSBSU19hZHJfZG9jc190YWJsZSBXSEVSRSBpZF9kb2MgPSA/JwogICAgICAgIGdldF9xdWVyeV9yZXN1bHQocXVlcnlfZG9jX3RhYmxlLCAoc2VsZi5pZF9kb2MsKSkKICAgICAgICAjIHF1ZXJ5X2RvY190YWJsZSA9ICdERUxFVEUgRlJPTSBSU19kb2NzX2JhcmNvZGVzIFdIRVJFIGlkX2RvYyA9ID8nCiAgICAgICAgIyBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X2RvY190YWJsZSwgKHNlbGYuaWRfZG9jLCkpCiAgICAgICAgcXVlcnlfZG9jID0gJ0RFTEVURSBGUk9NIFJTX2Fkcl9kb2NzIFdIRVJFIGlkX2RvYyA9ID8nCiAgICAgICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV9kb2MsIChzZWxmLmlkX2RvYywpKQoKICAgICAgICByZXR1cm4gcmVzCiAgICAjIGRlZiBjbGVhcl9iYXJjb2RlX2RhdGEoc2VsZik6CiAgICAjICAgICBxdWVyeV90ZXh0ID0gKCdVcGRhdGUgUlNfZG9jc19iYXJjb2RlcyBTZXQgYXBwcm92ZWQgPSAwIFdoZXJlIGlkX2RvYz06aWRfZG9jJywKICAgICMgICAgICdEZWxldGUgRnJvbSBSU19kb2NzX2JhcmNvZGVzIFdoZXJlICBpZF9kb2M9OmlkX2RvYyBBbmQgaXNfcGxhbiA9IDAnLAogICAgIyAgICAgJ1VwZGF0ZSBSU19kb2NzX3RhYmxlIFNldCBxdHR5ID0gMCBXaGVyZSBpZF9kb2M9OmlkX2RvYycsCiAgICAjICAgICAnRGVsZXRlIEZyb20gUlNfZG9jc190YWJsZSBXaGVyZSBpZF9kb2M9OmlkX2RvYyBhbmQgaXNfcGxhbiA9ICJGYWxzZSInKQogICAgIyAgICAgZm9yIGVsIGluIHF1ZXJ5X3RleHQ6CiAgICAjICAgICAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdChlbCwgKHsnaWRfZG9jJzpzZWxmLmlkX2RvY30pKQoKICAgIGRlZiBtYXJrX2Zvcl91cGxvYWQoc2VsZik6CiAgICAgICAgcXVlcnkgPSAiIiIKICAgICAgICBVUERBVEUgUlNfYWRyX2RvY3NfdGFibGUKICAgICAgICBTRVQgc2VudD0xCiAgICAgICAgV2hlcmUgaWQ9PyAiIiIKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoc2VsZi5pZF9kb2MpKQoKICAgICAgICByZXR1cm4gcmVzCgogICAgZGVmIG1hcmtfdmVyaWZpZWQoc2VsZiwga2V5KToKICAgICAgICBxdWVyeSA9ICIiIgogICAgICAgICAgICAgICAgVVBEQVRFIFJTX2Fkcl9kb2NzCiAgICAgICAgICAgICAgICBTRVQgdmVyaWZpZWQ9PwogICAgICAgICAgICAgICAgV2hlcmUgaWRfZG9jPT8gIiIiCiAgICAgICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSwgKGludChrZXkpLCBzZWxmLmlkX2RvYykpCgogICAgZGVmIGZpbmRfYmFyY29kZV9pbl90YWJsZShzZWxmLCBzZWFyY2hfdmFsdWU6IHN0ciwgZnVuY19jb21wYXJlZD0nPT8nKSAtPiBvYmplY3Q6CgogICAgICAgIHF1ZXJ5ID0gJycnCiAgICAgICAgICAgICAgICAgU0VMRUNUCiAgICAgICAgICAgICAgICAgUlNfYmFyY29kZXMuaWRfZ29vZCwKICAgICAgICAgICAgICAgICBSU19iYXJjb2Rlcy5pZF9wcm9wZXJ0eSwKICAgICAgICAgICAgICAgICBSU19iYXJjb2Rlcy5pZF9zZXJpZXMsCiAgICAgICAgICAgICAgICAgUlNfYmFyY29kZXMuaWRfdW5pdCwKICAgICAgICAgICAgICAgICBSU19kb2NzX2Fkcl90YWJsZS5pZCwKICAgICAgICAgICAgICAgICBSU19kb2NzX2Fkcl90YWJsZS5xdHR5ICAgICAgICAKICAgICAgICAgICAgICAgICBGUk9NIFJTX2JhcmNvZGVzCiAgICAgICAgICAgICAgICAgTGVmdCBqb2luIFJTX2RvY3NfYWRyX3RhYmxlIE9OCiAgICAgICAgICAgICAgICAgUlNfZG9jc19hZHJfdGFibGUuaWRfZ29vZD0gUlNfYmFyY29kZXMuaWRfZ29vZCBhbmQKICAgICAgICAgICAgICAgICBSU19kb2NzX2Fkcl90YWJsZS5pZF9wcm9wZXJ0aWVzPSBSU19iYXJjb2Rlcy5pZF9wcm9wZXJ0eSBhbmQKICAgICAgICAgICAgICAgICBSU19kb2NzX2Fkcl90YWJsZS5pZF91bml0PSBSU19iYXJjb2Rlcy5pZF91bml0IEFuZAogICAgICAgICAgICAgICAgIFJTX2RvY3NfYWRyX3RhYmxlLmlkX2RvYz0/CiAgICAgICAgICAgICAgICAgd2hlcmUgYmFyY29kZSAnJycgKyBmdW5jX2NvbXBhcmVkCiAgICAgICAgIyBxdWVyeSA9IHF1ZXJ5ICsgZnVuY19jb21wYXJlZAoKICAgICAgICByZXR1cm4gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSwgKHNlbGYuaWRfZG9jLCBzZWFyY2hfdmFsdWUpLCBUcnVlKQoKICAgICMgZGVmIGZpbmRfYmFyY29kZV9pbl9tYXJrX3RhYmxlKHNlbGYsIHNlYXJjaF92YWx1ZTogc3RyLCBmdW5jX2NvbXBhcmVkPSc9PycpIC0+IG9iamVjdDoKICAgICMgICAgIHF1ZXJ5ID0gJycnCiAgICAjICAgICAgICAgICAgICAgICAgICAgU0VMRUNUCiAgICAjICAgICAgICAgICAgICAgICAgICAgUlNfbWFya2luZ19jb2Rlcy5pZF9nb29kLAogICAgIyAgICAgICAgICAgICAgICAgICAgIFJTX21hcmtpbmdfY29kZXMuaWRfcHJvcGVydHksCiAgICAjICAgICAgICAgICAgICAgICAgICAgUlNfbWFya2luZ19jb2Rlcy5pZF9zZXJpZXMsCiAgICAjICAgICAgICAgICAgICAgICAgICAgUlNfbWFya2luZ19jb2Rlcy5pZF91bml0LAogICAgIyAgICAgICAgICAgICAgICAgICAgIFJTX2RvY3NfdGFibGUuaWQsCiAgICAjICAgICAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5xdHR5CiAgICAjICAgICAgICAgICAgICAgICAgICAgRlJPTSBSU19tYXJraW5nX2NvZGVzCiAgICAjICAgICAgICAgICAgICAgICAgICAgTGVmdCBqb2luIFJTX2RvY3NfdGFibGUgT04KICAgICMgICAgICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX2dvb2Q9IFJTX21hcmtpbmdfY29kZXMuaWRfZ29vZCBhbmQKICAgICMgICAgICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3Byb3BlcnRpZXM9IFJTX21hcmtpbmdfY29kZXMuaWRfcHJvcGVydHkgYW5kCiAgICAjICAgICAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZF91bml0PSBSU19tYXJraW5nX2NvZGVzLmlkX3VuaXQgQW5kCiAgICAjICAgICAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZF9kb2M9PwogICAgIyAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hcmtfY29kZSAgJycnICsgZnVuY19jb21wYXJlZAogICAgICAgICMgcXVlcnkgPSBxdWVyeSArIGZ1bmNfY29tcGFyZWQKCiAgICAgICAgcmV0dXJuIGdldF9xdWVyeV9yZXN1bHQocXVlcnksIChzZWxmLmlkX2RvYywgc2VhcmNoX3ZhbHVlKSwgVHJ1ZSkKCiAgICBkZWYgdXBkYXRlX2RvY190YWJsZV9kYXRhKHNlbGYsIGVsZW1fZm9yX2FkZDogZGljdCwgcXR0eT0xLCBjZWxsX2lkID0gTm9uZSwgdGFibGVfdHlwZSA9ICdvdXQnLCB1c2VyX3Rtej0wKToKICAgICAgICAj0JjRidC10Lwg0Y/Rh9C10LnQutGDINC/0L4g0LjQvNC10L3QuCwg0L3QsNC8INC90YPQttC10L0gSUQKICAgICAgICAjIHJlcyAgPSBnZXRfcXVlcnlfcmVzdWx0KCdTZWxlY3QgaWQgRnJvbSBSU19jZWxscyBXaGVyZSBuYW1lID0gPycsKGNlbGxfbmFtZSwpKQogICAgICAgICMKICAgICAgICAjIGNlbGxfaWQgPSByZXNbMF1bMF0gaWYgcmVzIGVsc2UgTm9uZQoKICAgICAgICAjINCh0L3QsNGH0LDQu9CwINC+0L/RgNC10LTQtdC70LjQvCwg0LXRgdGC0Ywg0LvQuCDQsiDRgdC/0LjRgdC60LUg0YLQvtCy0LDRgNC+0LIg0LTQvtC60YPQvNC10L3RgtCwINC90LDRiCDRgtC+0LLQsNGAOgogICAgICAgIHF0ZXh0ID0gJ1NlbGVjdCAqIGZyb20gUlNfYWRyX2RvY3NfdGFibGUgV2hlcmUgaWRfZG9jPT8gYW5kIGlkX2dvb2QgPSA/IGFuZCBpZF9wcm9wZXJ0aWVzID0gPyBhbmQgaWRfc2VyaWVzID0gPyAgYW5kIChpZF9jZWxsPT8gIE9SIGlkX2NlbGw9ICIiIE9SIGlkX2NlbGwgaXMgTnVsbCknICAjYW5kIGlkX3VuaXQgPSA/CiAgICAgICAgYXJncyA9IChzZWxmLmlkX2RvYywgZWxlbV9mb3JfYWRkWydpZF9nb29kJ10sIGVsZW1fZm9yX2FkZFsnaWRfcHJvcGVydHknXSwgZWxlbV9mb3JfYWRkWydpZF9zZXJpZXMnXSwgY2VsbF9pZCkgIyxlbGVtX2Zvcl9hZGRbJ2lkX3VuaXQnXQogICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXRleHQsIGFyZ3MsIFRydWUpCiAgICAgICAgaWYgcmVzOiAgIyDQndCw0YjQu9C4INGB0YLRgNC+0LrQuCDQtNC+0LrRg9C80LXQvdGC0LAsINC00L7QsdCw0LLQu9GP0LXQvCDQutC+0LvQuNGH0LXRgdGC0LLQvgoKICAgICAgICAgICAgZWwgPSByZXNbMF0KICAgICAgICAgICAgIyBpZiBlbFsncXR0eSddK3F0dHkgPT0gMDoKICAgICAgICAgICAgIyAgICAgcXRleHQgPSAnREVMRVRFIEZST00gUlNfZG9jc190YWJsZSAgV0hFUkUgaWQgPSA/JwogICAgICAgICAgICAjICAgICBnZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCAoZWxbJ2lkJ10sKSkKICAgICAgICAgICAgIyBlbHNlOgogICAgICAgICAgICBxdGV4dCA9ICdVUERBVEUgUlNfYWRyX2RvY3NfdGFibGUgU0VUIHF0dHk9cXR0eSs/LCBsYXN0X3VwZGF0ZWQgPSA/LCBpZF9jZWxsID0gPyAgV0hFUkUgaWQgPSA/JwogICAgICAgICAgICBjdXJyZW50X3RpbWVfdXRjXzAgPSAoZGF0ZXRpbWUubm93KCkgLSB0aW1lZGVsdGEoaG91cnM9aW50KHVzZXJfdG16KSkpLnN0cmZ0aW1lKCIlWS0lbS0lZCAlSDolTTolUyIpCiAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocXRleHQsIChxdHR5LCAgY3VycmVudF90aW1lX3V0Y18wLCBjZWxsX2lkLCBlbFsnaWQnXSkpCiAgICAgICAgZWxzZTogICMg0KLQsNC60L7QuSDRgdGC0YDQvtC60Lgg0L3QtdGCLCDQvdCw0LTQviDQtNC+0LHQsNCy0LjRgtGMCiAgICAgICAgICAgIHF0ZXh0ID0gJ1JFUExBQ0UgSU5UTyBSU19hZHJfZG9jc190YWJsZShpZF9kb2MsIGlkX2dvb2QsIGlkX3Byb3BlcnRpZXMsaWRfc2VyaWVzLCBpZF91bml0LCBxdHR5LCBpc19wbGFuLCBpZF9jZWxsLCB0YWJsZV90eXBlKSBWQUxVRVMgKD8sPyw/LD8sPyw/LD8sPyw/KScKICAgICAgICAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgKAogICAgICAgICAgICAgICAgc2VsZi5pZF9kb2MsIGVsZW1fZm9yX2FkZFsnaWRfZ29vZCddLCBlbGVtX2Zvcl9hZGRbJ2lkX3Byb3BlcnR5J10sIGVsZW1fZm9yX2FkZFsnaWRfc2VyaWVzJ10sCiAgICAgICAgICAgICAgICBlbGVtX2Zvcl9hZGRbJ2lkX3VuaXQnXSwgcXR0eSwgJ0ZhbHNlJyxjZWxsX2lkLCB0YWJsZV90eXBlKSkKCiAgICAgICAgcmV0dXJuIHJlcwoKCiAgICAjINCV0YHRgtGMINC/0LvQsNC9INC/0L4g0LrQvtC70LjRh9C10YHRgtCy0YMgIC0gaGF2ZV9xdHR5X3BsYW4KICAgICMg0JXRgdGC0Ywg0L/Qu9Cw0L0g0L/QviDRgdC/0LjRgdC60YMg0YLQvtCy0LDRgNC+0LIgaGF2ZV96ZXJvX3BsYW4KICAgICMg0JrQntC90YLRgNC+0LvRjCDQv9C70LDQvdC+0LIg0LIg0LTQvtC60YPQvNC10L3RgtC1IC0gY29udHJvbAogICAgIyDQldGB0YLRjCDQv9C70LDQvSDQv9C+INC80LDRgNC60LjRgNGD0LXQvNC+0Lkg0L/RgNC+0LTRg9C60YbQuNC4IGhhdmVfbWFya19wbGFuCiAgICBkZWYgcHJvY2Vzc190aGVfYmFyY29kZShzZWxmLCBiYXJjb2RlLCBoYXZlX3F0dHlfcGxhbiA9IEZhbHNlLCBoYXZlX3plcm9fcGxhbiA9IEZhbHNlLCBjb250cm9sID0gRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsX25hbWUgPSBOb25lLCB1c2VyX3Rtej0wKTogIyBhZGRfaWZfbm90X2ZvdW5kPUZhbHNlLCBhZGRfaWZfbm90X2luX3BsYW49RmFsc2UpOgogICAgICAgICMg0J/QvtC70YPRh9C40Lwg0YHRgtGA0YPQutGC0YPRgNGDINCx0LDRgNC60L7QtNCwCiAgICAgICAgaWYgYmFyY29kZVswXSA9PSBjaHIoMjkpIGFuZCBsZW4oYmFyY29kZSkgPiAzMTogICMgUmVtb3ZlIGZpcnN0IEdTMSBjaGFyIGZyb20gYmFyY29kZQogICAgICAgICAgICBiYXJjb2RlID0gYmFyY29kZVsxOl0KICAgICAgICBiYXJjb2RlX2luZm8gPSB1aV9iYXJjb2Rlcy5wYXJzZV9iYXJjb2RlKGJhcmNvZGUpCiAgICAgICAgaWYgYmFyY29kZV9pbmZvLl9fY29udGFpbnNfXygnRVJST1InKToKICAgICAgICAgICAgcmV0dXJuIHsnRXJyb3InOiAnSW52YWxpZCBCYXJjb2RlJywgJ0Rlc2NyJzogJ9Cd0LXQstC10YDQvdGL0Lkg0YjRgtGA0LjRhdC60L7QtCcsCiAgICAgICAgICAgICAgICAgICAgJ0JhcmNvZGUnOiBiYXJjb2RlX2luZm8sICdkb2NfaW5mbyc6IHNlbGYuaWRfZG9jfQogICAgICAgICMgLi4uINC4INC90LDQudC00LXQvCDQv9C+INC90LXQvNGDINCy0YHQtSDRh9GC0L4g0LXRgdGC0Ywg0LIg0LHQsNC30LUKICAgICAgICBzaGVtYSA9IGJhcmNvZGVfaW5mb1snU0NIRU1FJ10KICAgICAgICBpZiBzaGVtYSBpbiBbJ0VBTjEzJywgJ1VOS05PV04nXToKICAgICAgICAgICAgc2VhcmNoX3ZhbHVlID0gYmFyY29kZV9pbmZvWydCQVJDT0RFJ10KICAgICAgICBlbGlmIHNoZW1hID09ICdHUzEnOgogICAgICAgICAgICBzZWFyY2hfdmFsdWUgPSBiYXJjb2RlX2luZm9bJ0dUSU4nXQogICAgICAgIGVsc2U6ICAjICoqKioqKioqKioqKioqKioqKtCh0Y7QtNCwINC80L7QttC90L4g0LTQvtCx0LDQstC40YLRjCDQvdC+0LLRi9C1INCy0LjQtNGLINGI0YLRgNC40YXQutC+0LTQvtCyICoqKioqKioqKioqKioqKioqKioqCiAgICAgICAgICAgIHNlYXJjaF92YWx1ZSA9IGJhcmNvZGVfaW5mb1snQkFSQ09ERSddCgogICAgICAgIHJlcyA9IGZpbmRfYmFyY29kZV9pbl9iYXJjb2RlX3RhYmxlKHNlYXJjaF92YWx1ZSkgICMg0JjRidC10YIg0LHQsNGA0LrQvtC0INC40LvQuCDQk9Ci0JjQmNCdINC/0L4g0L7QsdGJ0LXQuSDRgtCw0LHQu9C40YbQtSDRiNGC0YDQuNGF0LrQvtC00L7Qsi4g0JLQvtC30LLRgNCw0YnQsNC10YIg0YLQvtCy0LDRgCwg0LXQs9C+INCy0LjQtCwg0YXQsNGA0LDQutGC0LXRgNC40YHRgtC40LrRgyDRgdC10YDQuNGOINC40YLQvy4KICAgICAgICBpZiBub3QgbGVuKHJlcykgPT0gMDoKICAgICAgICAgICAgZWxlbSA9IHJlc1swXSAj0JHQtdGA0LXQvCDQv9C10YDQstGL0Lkg0YDQtdC30YPQu9GM0YLQsNGCLiDQkiDQv9GA0LDQstC40LvRjNC90L7QvCDRgdC/0LjRgdC60LUg0YjRgtGA0LjRhdC60L7QtNC+0LIg0L3QtSDQvNC+0LbQtdGCINCx0YvRgtGMINC/0L7QstGC0L7RgNC10L3QuNC5CiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIHsnRXJyb3InOiAnTm90Rm91bmQnLCAnRGVzY3InOiAn0KjRgtGA0LjRhdC60L7QtCDQvdC1INC90LDQudC00LXQvSDQsiDQsdCw0LfQtScsICdCYXJjb2RlJzogYmFyY29kZX0KCiAgICAgICAgZWxlbVsnaWRfY2VsbCddID0gY2VsbF9pZAoKICAgICAgICAj0KLQvtCy0LDRgCDQsiDRgtCw0LHQu9C40YbQtSDQtNC+0LrRg9C80LXQvdGC0LAgKNCi0L7QstCw0YAg0L3QsNC50LTQtdC9INCyINC00L7QutGD0LzQtdC90YLQtSkKICAgICAgICByZXMgPSBjaGVja19hZHJfYmFyY29kZV9jb21wbGlhbmNlKGVsZW0sIHNlbGYuaWRfZG9jKSAgI9Cf0L7Qu9GD0YfQsNC10Lwg0YHRgtGA0L7QutGDINGC0LDQsdC70LjRhtGLINGC0L7QstCw0YDRiyDQtNC+0LrRg9C80LXQvdGC0LAKICAgICAgICBpZiByZXM6ICPQotC+0LLQsNGAINC90LDQudC00LXQvSDQsiDQtNC+0LrRg9C80LXQvdGC0LUKICAgICAgICAgICAgaWYgaGF2ZV9xdHR5X3BsYW46ICPQldGB0YLRjCDQv9C70LDQvSDQv9C+INC60L7Qu9C40YfQtdGB0YLQstGDCiAgICAgICAgICAgICAgICBpZiByZXNbMF1bJ3F0dHlfcGxhbiddIDw9IHJlc1swXVsncXR0eSddOiAj0JrQvtC70LjRh9C10YHRgtCy0L4g0YLQvtCy0LDRgNCwINCyINC00L7QutGD0LzQtdC90YLQtSDRg9C20LUg0L3QsNCx0YDQsNC90L4sINC4INC80Ysg0L/RgNC10LLRi9GI0LDQtdC8INC/0LvQsNC9CiAgICAgICAgICAgICAgICAgICAgaWYgY29udHJvbDoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsnUmVzdWx0JzogJ9Ca0L7Qu9C40YfQtdGB0YLQstC+INC/0LvQsNC9INC/0YDQtdCy0YvRiNC10L3Qviwg0LHQvtC70YzRiNC1INGC0L7QstCw0YAg0LIg0LTQsNC90L3Ri9C5INC00L7QutGD0LzQtdC90YIg0LTQvtCx0LDQstC40YLRjCDQvdC10LvRjNC30Y8nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdFcnJvcic6ICdRdWFudGl0eVBsYW5SZWFjaGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmFyY29kZSc6IGJhcmNvZGUsICdEZXNjcic6ICfQmtC+0LvQuNGH0LXRgdGC0LLQviDQv9C70LDQvSDQv9GA0LXQstGL0YjQtdC90L4sINCx0L7Qu9GM0YjQtSDRgtC+0LLQsNGAINCyINC00LDQvdC90YvQuSDQtNC+0LrRg9C80LXQvdGCINC00L7QsdCw0LLQuNGC0Ywg0L3QtdC70YzQt9GPJ30KCiAgICAgICAgZWxzZTogI9Ci0L7QstCw0YAg0L3QtSDQvdCw0LnQtNC10L0g0LIg0LTQvtC60YPQvNC10L3RgtC1CiAgICAgICAgICAgIGlmIGhhdmVfemVyb19wbGFuIGFuZCBjb250cm9sOgogICAgICAgICAgICAgICAgcmV0dXJuIHsnUmVzdWx0JzogJ9CSINC00LDQvdC90YvQuSDQtNC+0LrRg9C80LXQvdGCINC90LXQu9GM0LfRjyDQtNC+0LHQsNCy0LjRgtGMINGC0L7QstCw0YAg0L3QtSDQuNC3INGB0L/QuNGB0LrQsCcsCiAgICAgICAgICAgICAgICAgICAgICAgICdFcnJvcic6ICdaZXJvX3BsYW5fZXJyb3InLAogICAgICAgICAgICAgICAgICAgICAgICAnYmFyY29kZSc6IGJhcmNvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICdEZXNjcic6ICfQkiDQtNCw0L3QvdGL0Lkg0LTQvtC60YPQvNC10L3RgiDQvdC10LvRjNC30Y8g0LTQvtCx0LDQstC40YLRjCDRgtC+0LLQsNGAINC90LUg0LjQtyDRgdC/0LjRgdC60LAnfQoKCiAgICAgICAgIyDQntCx0L3QvtCy0LvRj9C10Lwg0YLQsNCx0LvQuNGG0YMg0YLQvtCy0LDRgNGLCiAgICAgICAgc2VsZi51cGRhdGVfZG9jX3RhYmxlX2RhdGEoc2VsZiwgZWxlbSwgMSwgY2VsbF9pZCwgdXNlcl90bXopCgogICAgICAgIHJldHVybiB7J1Jlc3VsdCc6ICfQnNCw0YDQutCwINC00L7QsdCw0LLQu9C10L3QsCDQsiDQtNC+0LrRg9C80LXQvdGCJywgJ0Vycm9yJzogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgJ2JhcmNvZGUnOiBiYXJjb2RlX2luZm9bJ0dUSU4nXSArIGJhcmNvZGVfaW5mb1snU0VSSUFMJ119CgoKICAgIGRlZiBhZGQoc2VsZiwgYXJncyk6CiAgICAgICAgcXVlcnkgPSAnSU5TRVJUIElOVE8gUlNfYWRyX2RvY3MoaWRfZG9jLCBkb2NfdHlwZSwgZG9jX24sIGRvY19kYXRlLCBpZF93YXJlaG91c2UsIHZlcmlmaWVkLCBzZW50KSBWQUxVRVMgKD8sPyw/LD8sPywwLDApJwogICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnksIGFyZ3MpCgogICAgZGVmIGdldF9uZXdfaWQoc2VsZik6CiAgICAgICAgcXVlcnkgPSAnc2VsZWN0IG1heF9pZF9kb2MgZnJvbSBSU19jb25zdGFudHMnCiAgICAgICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSkKICAgICAgICBpZiBsZW4ocmVzKSA9PSAwOgogICAgICAgICAgICByZXR1cm4gJzEnCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdmFsID0gcmVzWzBdWzBdCiAgICAgICAgICAgIGlmIHZhbCBpcyBOb25lOgogICAgICAgICAgICAgICAgcmV0dXJuICcxJwogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcXVlcnkgPSAnVVBEQVRFIFJTX2NvbnN0YW50cyBTRVQgbWF4X2lkX2RvYyA9ID8nCiAgICAgICAgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoaW50KHZhbCkgKyAxLCkpCiAgICAgICAgICAgICAgICByZXR1cm4gc3RyKGludCh2YWwpICsgMSkKCgogICAgZGVmIGZpbmRfY2VsbChzZWxmLCBiYXJjb2RlKToKICAgICAgICBxdGV4dCA9ICcnJ1NlbGVjdCAqIGZyb20gUlNfY2VsbHMgV0hlcmUgUlNfY2VsbHMuYmFyY29kZSA9ID8nJycKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCAoYmFyY29kZSwgKSwgVHJ1ZSkKICAgICAgICByZXN1bHQgPSBOb25lCiAgICAgICAgaWYgcmVzOgogICAgICAgICAgICByZXN1bHQgPSByZXNbMF0KCiAgICAgICAgcmV0dXJuIHJlc3VsdAoKCmRlZiBleGVjdXRlX3F1ZXJ5KHFfaW5kZXgsIHFfdGV4dCwgYXJncywgaW5fZGljdCk6CiAgICBpZiBxdWVyeV9saXN0LmVtcHR5KCk6CiAgICAgICAgc3RhcnRfcXVldWUgPVRydWUKICAgIHF1ZXJ5X2xpc3QucHV0KHsncV9pbmRleCc6cV9pbmRleCwgJ3FfdGV4dCc6cV90ZXh0LCAnYXJncyc6YXJncywgJ2luX2RpY3QnOmluX2RpY3R9KQogICAgd2hpbGUgVHJ1ZToKICAgICAgICBpZiBzdGFydF9xdWV1ZToKICAgICAgICAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdCgpCgoKZGVmIHdyaXRlX2Vycm9yX29uX2xvZyhFcnJfdmFsdWUpOgogICAgaWYgRXJyX3ZhbHVlOgogICAgICAgIHF0ZXh0ID0gJ0luc2VydCBpbnRvIEVycm9yX2xvZyhsb2cpIFZhbHVlcyg/KScKICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCAoRXJyX3ZhbHVlLCkpCgoKCgoK"
            },
            {
                "file_path": "C:/projects/python/simple_keep\\ui_form_data.py",
                "PyFileKey": "ui_form_data",
                "PyFileData": "aW1wb3J0IGpzb24KaW1wb3J0IHdpZGdldHMKCmRlZiBnZXRfZG9jX2NhcmQoc2V0dGluZ3NfZ2xvYmFsLCBBZGRNZW51PScnKToKICAgIGRvY19saXN0ID0geyJjdXN0b21jYXJkcyI6IHsKICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgfSwKICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAiVmFsdWUiOiAiIiwKICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkNoZWNrQm94IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAY29tcGxldGVkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICJDaGVja0JveDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjMyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjREI3MDkzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkB0eXBlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgiVGl0bGVUZXh0U2l6ZSIpICMiMTgiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlBvcHVwTWVudUJ1dHRvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6IGYi0KPQtNCw0LvQuNGC0Yw70J/QvtC00YLQstC10YDQtNC40YLRjDvQntGH0LjRgdGC0LjRgtGMINC00LDQvdC90YvQtSDQv9C10YDQtdGB0YfQtdGC0LB7QWRkTWVudX0iLCAgIzvQodC60LDQvdC40YDQvtCy0LDRgtGMINGI0YLRgNC40YXQutC+0LTRiyDQv9C+0YLQvtC60L7QvAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAibWVudV9kZWxldGUiCgogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQG51bWJlciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkVGl0bGVUZXh0U2l6ZScpICAjIjIwIgogICAgICAgICAgICAgICAgICAgICAgICB9IywKICAgICAgICAgICAgICAgICAgICAgICAgIyB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgIlZhbHVlIjogIkBkYXRhIiwKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0NhcmREYXRlVGV4dFNpemUnKQogICAgICAgICAgICAgICAgICAgICAgICAjIH0KICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAY291bnRyYWdlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkRGF0ZVRleHRTaXplJykKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkB3YXJlaG91c2UiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkRGF0ZVRleHRTaXplJykKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH0KICAgIH19CgogICAgcmV0dXJuIGRvY19saXN0CgoKZGVmIGdldF9kb2NfY2FyZF9uZXcoc2V0dGluZ3NfZ2xvYmFsLCB0YWJsZV9kYXRhKToKICAgIGRvY19saXN0ID0gd2lkZ2V0cy5DdXN0b21DYXJkcygKICAgICAgICB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KAogICAgICAgICAgICAgICAgICAgIHdlaWdodD04LAogICAgICAgICAgICAgICAgICAgIHdpZHRoPSdtYXRjaF9wYXJlbnQnLAogICAgICAgICAgICAgICAgICAgIFZhbHVlPSdAdHlwZScsCiAgICAgICAgICAgICAgICAgICAgZ3Jhdml0eV9ob3Jpem9udGFsPSdyaWdodCcsCiAgICAgICAgICAgICAgICAgICAgVGV4dFNpemU9c2V0dGluZ3NfZ2xvYmFsLmdldCgiVGl0bGVUZXh0U2l6ZSIpLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHdpZGdldHMuUG9wdXBNZW51QnV0dG9uKAogICAgICAgICAgICAgICAgICAgIHdlaWdodD0yLAogICAgICAgICAgICAgICAgICAgIFZhbHVlPSfQo9C00LDQu9C40YLRjCcsCiAgICAgICAgICAgICAgICAgICAgVmFyaWFibGU9Im1lbnVfZGVsZXRlIgogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uPSdob3Jpem9udGFsJywKICAgICAgICAgICAgICAgIHdpZHRoPSdtYXRjaF9wYXJlbnQnCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHdpZGdldHMuTGluZWFyTGF5b3V0KAogICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldygKICAgICAgICAgICAgICAgICAgICBWYWx1ZT0nQG51bWJlcicsCiAgICAgICAgICAgICAgICAgICAgVGV4dEJvbGQ9VHJ1ZSwKICAgICAgICAgICAgICAgICAgICBUZXh0U2l6ZT1zZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkVGl0bGVUZXh0U2l6ZScpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHdpZGdldHMuTGluZWFyTGF5b3V0KAogICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldygKICAgICAgICAgICAgICAgICAgICBWYWx1ZT0nQGNvdW50cmFnZW50JywKICAgICAgICAgICAgICAgICAgICBUZXh0U2l6ZT1zZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkRGF0ZVRleHRTaXplJykKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KAogICAgICAgICAgICAgICAgICAgIFZhbHVlPSdAd2FyZWhvdXNlJywKICAgICAgICAgICAgICAgICAgICBUZXh0U2l6ZT1zZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkRGF0ZVRleHRTaXplJykKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKSwKICAgICAgICAgICAgd2lkdGg9Im1hdGNoX3BhcmVudCIKICAgICAgICApLAogICAgICAgIG9wdGlvbnM9d2lkZ2V0cy5PcHRpb25zKCkub3B0aW9ucywKICAgICAgICBjYXJkc2RhdGE9dGFibGVfZGF0YQogICAgKQoKICAgIHJldHVybiBkb2NfbGlzdC50b19qc29uKCkKCgpkZWYgZ2V0X2RvY19xdWVyeShhcmc9JycpOgogICAgcXVlcnlfdGV4dCA9ICIiIgogICAgU0VMRUNUIFJTX2RvY3MuaWRfZG9jLAogICAgUlNfZG9jcy5kb2NfdHlwZSwKICAgIFJTX2RvY3MuZG9jX24sCiAgICBSU19kb2NzLmRvY19kYXRlLAogICAgUlNfZG9jcy5pZF9jb3VudHJhZ2VudHMsCiAgICBSU19kb2NzLmlkX3dhcmVob3VzZSwKICAgIGlmbnVsbChSU19jb3VudHJhZ2VudHMuZnVsbF9uYW1lLCcnKSBhcyBSU19jb3VudHJhZ2VudCwKICAgIGlmbnVsbChSU193YXJlaG91c2VzLm5hbWUsJycpIGFzIFJTX3dhcmVob3VzZSwKICAgIFJTX2RvY3MudmVyaWZpZWQsCiAgICBSU19kb2NzLnNlbnQsCiAgICBSU19kb2NzLmFkZF9tYXJrX3NlbGVjdGlvbgoKICAgICBGUk9NIFJTX2RvY3MKICAgICBMRUZUIEpPSU4gUlNfY291bnRyYWdlbnRzIGFzIFJTX2NvdW50cmFnZW50cwogICAgIE9OIFJTX2NvdW50cmFnZW50cy5pZCA9IFJTX2RvY3MuaWRfY291bnRyYWdlbnRzCiAgICAgTEVGVCBKT0lOIFJTX3dhcmVob3VzZXMgYXMgUlNfd2FyZWhvdXNlcwogICAgIE9OIFJTX3dhcmVob3VzZXMuaWQ9UlNfZG9jcy5pZF93YXJlaG91c2UKICAgICAiIiIKICAgIGlmIG5vdCAoYXJnID09ICcnIG9yIGFyZyA9PSAn0JLRgdC1Jyk6CiAgICAgICAgcXVlcnlfdGV4dCA9IHF1ZXJ5X3RleHQgKyAnJycKICAgICAgICBXaGVyZSBSU19kb2NzLmRvY190eXBlPT8nJycKCiAgICBxdWVyeV90ZXh0ID0gcXVlcnlfdGV4dCArICIiIgogICAgT1JERVIKICAgIEJZCiAgICBSU19kb2NzLmRvY19kYXRlIiIiCiAgICByZXR1cm4gcXVlcnlfdGV4dAoKZGVmIGdldF9hZHJfZG9jX3F1ZXJ5KGFyZz0nJyk6CiAgICBxdWVyeV90ZXh0ID0gIiIiCiAgICBTRUxFQ1QgUlNfYWRyX2RvY3MuaWRfZG9jLAogICAgUlNfYWRyX2RvY3MuZG9jX3R5cGUsCiAgICBSU19hZHJfZG9jcy5kb2NfbiwKICAgIFJTX2Fkcl9kb2NzLmRvY19kYXRlLAogICAgUlNfYWRyX2RvY3MuaWRfd2FyZWhvdXNlLAogICAgaWZudWxsKFJTX3dhcmVob3VzZXMubmFtZSwnJykgYXMgUlNfd2FyZWhvdXNlLAogICAgUlNfYWRyX2RvY3MudmVyaWZpZWQsCiAgICBSU19hZHJfZG9jcy5zZW50LAogICAgUlNfYWRyX2RvY3MuYWRkX21hcmtfc2VsZWN0aW9uCgogICAgIEZST00gUlNfYWRyX2RvY3MKCiAgICAgTEVGVCBKT0lOIFJTX3dhcmVob3VzZXMgYXMgUlNfd2FyZWhvdXNlcwogICAgIE9OIFJTX3dhcmVob3VzZXMuaWQ9UlNfYWRyX2RvY3MuaWRfd2FyZWhvdXNlCiAgICAgIiIiCiAgICBpZiBub3QgKGFyZyA9PSAnJyBvciBhcmcgPT0gJ9CS0YHQtScpOgogICAgICAgIHF1ZXJ5X3RleHQgPSBxdWVyeV90ZXh0ICsgJycnCiAgICAgICAgV2hlcmUgUlNfYWRyX2RvY3MuZG9jX3R5cGU9PycnJwoKICAgIHF1ZXJ5X3RleHQgPSBxdWVyeV90ZXh0ICsgIiIiCiAgICBPUkRFUgogICAgQlkKICAgIFJTX2Fkcl9kb2NzLmRvY19kYXRlIiIiCiAgICByZXR1cm4gcXVlcnlfdGV4dAoKZGVmIGdldF9kb2NfdHlwZV9xdWVyeSgpOgogICAgbHMgPSAnU0VMRUNUIERJU1RJTkNUIGRvY190eXBlIGZyb20gUlNfZG9jcycKICAgIHJldHVybiBscwoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3QotC+0LLQsNGA0YsKZGVmIGdldF9nb29kc19jYXJkKHNldHRpbmdzX2dsb2JhbCk6CiAgICBsaXN0ID0geyJjdXN0b21jYXJkcyI6IHsKICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgfSwKICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQG5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkVGl0bGVUZXh0U2l6ZScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAY29kZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0NhcmRUZXh0U2l6ZScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAR1RJTiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0NhcmRUZXh0U2l6ZScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAdHlwZV9uYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnQ2FyZFRleHRTaXplJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkB1bml0X25hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkVGV4dFNpemUnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH0KCiAgICB9CiAgICB9CiAgICByZXR1cm4gbGlzdAoKZGVmIGZpZWxkc19hbGlhc19kaWN0KCk6CiAgICAjICgiVGl0bGVUZXh0U2l6ZSIsICIxOCIsIFRydWUpCiAgICAjICgidGl0bGVEb2NUeXBlQ2FyZFRleHRTaXplIiwgIjE4IiwgVHJ1ZSkKICAgICMgKCJDYXJkVGl0bGVUZXh0U2l6ZSIsICIyMCIsIFRydWUpCiAgICAjICgiQ2FyZERhdGVUZXh0U2l6ZSIsICIxMCIsIFRydWUpCiAgICAjICgiQ2FyZFRleHRTaXplIiwgIjE1IiwgVHJ1ZSkKICAgICMgKCJHb29kc0NhcmRUaXRsZVRleHRTaXplIiwgIjE4IiwgVHJ1ZSkKICAgICMgKCJnb29kc1RleHRTaXplIiwgIjE4IiwgVHJ1ZSkKICAgICMgKCJTZXJpZXNQcm9wZXJ0aWVzVGV4dFNpemUiLCAiMTYiLCBUcnVlKQogICAgIyAoIkRvY1R5cGVDYXJkVGV4dFNpemUiLCAiMTUiLCBUcnVlKQogICAgCiAgICByZXR1cm4gewogICAgICAgICdpZF9nb29kJzp7J25hbWUnOifQndC+0LzQtdC90LrQu9Cw0YLRg9GA0LAnLCAndGV4dF9zaXplJzonVGl0bGVUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IFRydWV9LAogICAgICAgICd0eXBlX2dvb2QnOiB7J25hbWUnOifQotC40L8g0L3QvtC80LXQvdC60LvQsNGC0YPRgNGLJywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAndW5pdCc6eyduYW1lJzogJ9CV0LTQuNC90LjRhtCwINC40LfQvNC10YDQtdC90LjRjycsICd0ZXh0X3NpemUnOidDYXJkVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0sCiAgICAgICAgJ2lkX3Byb3BlcnR5Jzp7J25hbWUnOiAn0KXQsNGA0LDQutGC0LXRgNC40YHRgtC40LrQsCcsICd0ZXh0X3NpemUnOidDYXJkVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0sCiAgICAgICAgJ2lkX3Nlcmllcyc6IHsnbmFtZSc6J9Ch0LXRgNC40Y8nLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdpZF91bml0Jzp7J25hbWUnOiAn0JXQtNC40L3QuNGG0LAg0LjQt9C80LXRgNC10L3QuNGPJywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAnaWRfY291bnRyYWdlbnRzJzp7J25hbWUnOiAn0JrQvtC90YLRgNCw0LPQtdC90YInLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdpZF93YXJlaG91c2UnOnsnbmFtZSc6ICfQodC60LvQsNC0JywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAnaWRfZG9jJzp7J25hbWUnOiAn0J3QvtC80LXQvdC60LvQsNGC0YPRgNCwJywgJ3RleHRfc2l6ZSc6J1RpdGxlVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBUcnVlfSwKICAgICAgICAnaWRfY2VsbCc6eyduYW1lJzogJ9Cv0YfQtdC50LrQsCcsICd0ZXh0X3NpemUnOidDYXJkVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0sCiAgICAgICAgJ2lkJzp7J25hbWUnOiAna2V5JywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAnbmFtZSc6eyduYW1lJzogJ9Cd0LDQuNC80LXQvdC+0LLQsNC90LjQtScsICd0ZXh0X3NpemUnOidUaXRsZVRleHRTaXplJywgIlRleHRCb2xkIjogVHJ1ZX0sCiAgICAgICAgJ2NvZGUnOnsnbmFtZSc6ICfQmtC+0LQnLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdhcnQnOnsnbmFtZSc6ICfQkNGA0YLQuNC60YPQuycsICd0ZXh0X3NpemUnOidDYXJkVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0sCiAgICAgICAgJ2Rlc2NyaXB0aW9uJzp7J25hbWUnOiAn0J7Qv9C40YHQsNC90LjQtScsICd0ZXh0X3NpemUnOidDYXJkRGF0ZVRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdxdHR5Jzp7J25hbWUnOiAn0JrQvtC70LjRh9C10YHRgtCy0L4nLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogVHJ1ZX0sCiAgICAgICAgJ3F0dHlfcGxhbic6eyduYW1lJzogJ9Ca0L7Qu9C40YfQtdGB0YLQstC+INC/0LvQsNC9JywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IFRydWV9LAogICAgICAgICdiYXJjb2RlJzp7J25hbWUnOiAn0KjRgtGA0LjRhdC60L7QtCcsICd0ZXh0X3NpemUnOidDYXJkVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0sCiAgICAgICAgJ2Z1bGxfbmFtZSc6eyduYW1lJzogJ9Cf0L7Qu9C90L7QtSDQvdCw0LjQvNC10L3QvtCy0LDQvdC40LUnLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdpbm4nOnsnbmFtZSc6ICfQmNCd0J0nLCAndGV4dF9zaXplJzonVGl0bGVUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAna3BwJzp7J25hbWUnOiAn0JrQn9CfJywgJ3RleHRfc2l6ZSc6J1RpdGxlVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0sCiAgICAgICAgJ21hcmtfY29kZSc6eyduYW1lJzogJ9Co0YLRgNC40YXQutC+0LQnLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdpZF9wcmljZV90eXBlcyc6eyduYW1lJzogJ9Ci0LjQvyDRhtC10L3RiycsICd0ZXh0X3NpemUnOidUaXRsZVRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdwcmljZSc6eyduYW1lJzogJ9Cm0LXQvdCwJywgJ3RleHRfc2l6ZSc6J1RpdGxlVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBUcnVlfSwKICAgICAgICAnaWRfb3duZXInOnsnbmFtZSc6ICfQktC70LDQtNC10LvQtdGGJywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAnYmVzdF9iZWZvcmUnOnsnbmFtZSc6ICfQk9C+0LTQtdC9INC00L46JywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAnbnVtYmVyJzp7J25hbWUnOifQndC+0LzQtdGAJywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAncHJvZHVjdGlvbl9kYXRlJzp7J25hbWUnOifQlNCw0YLQsCDQv9GA0L7QuNC30LLQvtC00YHRgtCy0LAnLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICd1c2VfbWFyayc6eyduYW1lJzon0JjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINC80LDRgNC60LjRgNC+0LLQutGDJywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAnbm9taW5hdG9yJzp7J25hbWUnOifQndC+0LzQuNC90LDRgtC+0YAnLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogVHJ1ZX0sCiAgICAgICAgJ2Rlbm9taW5hdG9yJzp7J25hbWUnOifQlNC10L3QvtC80LjQvdCw0YLQvtGAJywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IFRydWV9LAogICAgICAgICdsb2cnOiB7J25hbWUnOiAn0J7RiNC40LHQutCwJywgJ3RleHRfc2l6ZSc6ICdDYXJkVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0KICAgICAgICB9CgoKZGVmIHRhYmxlX25hbWVzX2RpY3QoKToKICAgIHJldHVybiB7CiAgICAgICAgJ2lkX2dvb2QnOidSU19nb29kcycsCiAgICAgICAgJ3R5cGVfZ29vZCc6ICdSU190eXBlc19nb29kcycsCiAgICAgICAgJ3VuaXQnOiAnUlNfdW5pdHMnLAogICAgICAgICdpZF9wcm9wZXJ0eSc6ICdSU19wcm9wZXJ0aWVzJywKICAgICAgICAnaWRfc2VyaWVzJzogJ1JTX3NlcmllcycsCiAgICAgICAgJ2lkX3VuaXQnOiAnUlNfdW5pdHMnLAogICAgICAgICdpZF9jb3VudHJhZ2VudHMnOiAnUlNfY291bnRyYWdlbnRzJywKICAgICAgICAnaWRfd2FyZWhvdXNlJzogJ1JTX3dhcmVob3VzZXMnLAogICAgICAgICdpZF9kb2MnOiAnUlNfZG9jcycsCiAgICAgICAgJ2lkX2NlbGwnOiAnUlNfY2VsbHMnLAogICAgICAgICdpZF9vd25lcic6ICdSU19nb29kcycsCiAgICAgICAgJ2lkX3ByaWNlX3R5cGVzJzogJ1JTX3ByaWNlX3R5cGVzJwogICAgICAgICAgICB9CmRlZiBnZXRfZWxlbV9kaWN0KHRleHRfc2l6ZSk6CiAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQG5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiB0ZXh0X3NpemUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgpkZWYgZ2V0X3VuaXZlcnNhbF9jYXJkKCkgLT4gb2JqZWN0OgoKICAgIGxpc3QgPSB7ImN1c3RvbWNhcmRzIjogewogICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBUcnVlLAogICAgICAgICAgICAnb3ZlcnJpZGVfc2VhcmNoJzogVHJ1ZSwKICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgfSwKICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2VpZ2h0IjogIjAiLAoKICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH0KCiAgICB9CiAgICB9CgoKICAgIHJldHVybiBsaXN0CgoKZGVmIGdldF9nb29kc19xdWVyeSgpOgogICAgcXVlcnlfdGV4dCA9ICIiIgogICAgU0VMRUNUIFJTX2dvb2RzLmlkLAogICAgUlNfZ29vZHMuY29kZSwKICAgIFJTX2dvb2RzLmFydCwKICAgIFJTX2dvb2RzLm5hbWUsCiAgICBSU19nb29kcy50eXBlX2dvb2QsCiAgICBSU190eXBlc19nb29kcy5uYW1lIEFTIHR5cGVzX2dvb2RzLAogICAgUlNfZ29vZHMudW5pdCwKICAgIFJTX3VuaXRzLm5hbWUKICAgIEZST00gUlNfZ29vZHMKICAgIExFRlQgSk9JTiBSU190eXBlc19nb29kcwogICAgT04gUlNfdHlwZXNfZ29vZHMuaWQgPSBSU19nb29kcy50eXBlX2dvb2QKICAgIExFRlQgSk9JTiBSU191bml0cwogICAgT04gUlNfdW5pdHMuaWRfb3duZXIgPSBSU19nb29kcy5pZCIiIgogICAgcmV0dXJuIHF1ZXJ5X3RleHQKCgpkZWYgZ2V0X3ByaWNlX2NhcmQoc2V0dGluZ3NfZ2xvYmFsKToKICAgIHR4dCA9IHsiY3VzdG9tY2FyZHMiOiB7CiAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IEZhbHNlLAogICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKICAgICAgICB9LAogICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAiVmFsdWUiOiAiIiwKICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIyIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwcmljZV90eXBlIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0NhcmRUaXRsZVRleHRTaXplJykKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHByaWNlIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0NhcmRUZXh0U2l6ZScpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgXQogICAgfQogICAgfQogICAgcmV0dXJuIHR4dAoKCmRlZiBnZXRfZG9jX2RldGFpbHNfcXVlcnkoaXNBZHIgPSBGYWxzZSwgY3VyQ2VsbCA9IEZhbHNlKToKICAgIGlmIGlzQWRyOgogICAgICAgIHF1ZXJ5X3RleHQgPSAnJycKICAgICAgICAgICAgU0VMRUNUCiAgICAgICAgICAgIFJTX2Fkcl9kb2NzX3RhYmxlLmlkLAogICAgICAgICAgICBSU19hZHJfZG9jc190YWJsZS5pZF9kb2MsCiAgICAgICAgICAgIFJTX2Fkcl9kb2NzX3RhYmxlLmlkX2dvb2QsCiAgICAgICAgICAgIGlmbnVsbChSU19nb29kcy5uYW1lLCA6TnVsbFZhbHVlKSBhcyBnb29kX25hbWUsCiAgICAgICAgICAgIGlmbnVsbChSU19nb29kcy5jb2RlLCA6RW1wdHlTdHJpbmcpIGFzIGNvZGUsCiAgICAgICAgICAgIGlmbnVsbChSU19nb29kcy5hcnQsIDpFbXB0eVN0cmluZykgYXMgYXJ0LAogICAgICAgICAgICBpZm51bGwoUlNfYWRyX2RvY3NfdGFibGUuaWRfcHJvcGVydGllcywgOkVtcHR5U3RyaW5nKSBhcyBpZF9wcm9wZXJ0aWVzLAogICAgICAgICAgICBpZm51bGwoUlNfcHJvcGVydGllcy5uYW1lLCA6RW1wdHlTdHJpbmcpIGFzIHByb3BlcnRpZXNfbmFtZSwKICAgICAgICAgICAgaWZudWxsKFJTX2Fkcl9kb2NzX3RhYmxlLmlkX3NlcmllcywgOkVtcHR5U3RyaW5nKSBhcyBpZF9zZXJpZXMsCiAgICAgICAgICAgIGlmbnVsbChSU19zZXJpZXMubmFtZSwgOkVtcHR5U3RyaW5nKSBhcyBzZXJpZXNfbmFtZSwKICAgICAgICAgICAgaWZudWxsKFJTX2Fkcl9kb2NzX3RhYmxlLmlkX3VuaXQsIDpFbXB0eVN0cmluZykgYXMgaWRfdW5pdCwKICAgICAgICAgICAgaWZudWxsKFJTX3VuaXRzLm5hbWUsIDpFbXB0eVN0cmluZykgYXMgdW5pdHNfbmFtZSwKICAgICAgICAgICAgUlNfYWRyX2RvY3NfdGFibGUucXR0eSBhcyBxdHR5LAogICAgICAgICAgICBSU19hZHJfZG9jc190YWJsZS5xdHR5X3BsYW4gYXMgcXR0eV9wbGFuLAogICAgICAgICAgICBSU19hZHJfZG9jc190YWJsZS5xdHR5X3BsYW4gLSBSU19hZHJfZG9jc190YWJsZS5xdHR5IGFzIElzRG9uZSwKICAgICAgICAgICAgaWZudWxsKFJTX2Fkcl9kb2NzX3RhYmxlLmlkX2NlbGwsIDpFbXB0eVN0cmluZykgYXMgaWRfY2VsbCwKICAgICAgICAgICAgaWZudWxsKFJTX2NlbGxzLm5hbWUsIDpOdWxsVmFsdWUpIGFzIGNlbGxfbmFtZQogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIEZST00gUlNfYWRyX2RvY3NfdGFibGUgCgogICAgICAgICAgICBMRUZUIEpPSU4gUlNfZ29vZHMgCiAgICAgICAgICAgIE9OIFJTX2dvb2RzLmlkPVJTX2Fkcl9kb2NzX3RhYmxlLmlkX2dvb2QKICAgICAgICAgICAgTEVGVCBKT0lOIFJTX3Byb3BlcnRpZXMKICAgICAgICAgICAgT04gUlNfcHJvcGVydGllcy5pZCA9IFJTX2Fkcl9kb2NzX3RhYmxlLmlkX3Byb3BlcnRpZXMKICAgICAgICAgICAgTEVGVCBKT0lOIFJTX3NlcmllcwogICAgICAgICAgICBPTiBSU19zZXJpZXMuaWQgPSBSU19hZHJfZG9jc190YWJsZS5pZF9zZXJpZXMKICAgICAgICAgICAgTEVGVCBKT0lOIFJTX3VuaXRzCiAgICAgICAgICAgIE9OIFJTX3VuaXRzLmlkPVJTX2Fkcl9kb2NzX3RhYmxlLmlkX3VuaXQKICAgICAgICAgICAgTEVGVCBKT0lOIFJTX2NlbGxzCiAgICAgICAgICAgIE9OIFJTX2NlbGxzLmlkPVJTX2Fkcl9kb2NzX3RhYmxlLmlkX2NlbGwKCiAgICAgICAgICAgIFdIRVJFIGlkX2RvYyA9IDppZF9kb2MgYW5kIHRhYmxlX3R5cGUgPSA6dGFibGVfdHlwZQogICAgICAgICAgICAKICAgICAgICAgICAgJycnCgogICAgICAgIGlmIGN1ckNlbGw6CiAgICAgICAgICAgIHF1ZXJ5X3RleHQgPSBxdWVyeV90ZXh0ICsgJycnCiAgICAgICAgICAgICBhbmQgKGlkX2NlbGw9OmN1cnJlbnRfY2VsbCBPUiBpZF9jZWxsPSIiIE9SIGlkX2NlbGwgaXMgTnVsbCkKICAgICAgICAgICAgJycnCgogICAgICAgIHF1ZXJ5X3RleHQgPSBxdWVyeV90ZXh0ICsgJyBPUkRFUiBCWSBSU19jZWxscy5uYW1lLCBSU19hZHJfZG9jc190YWJsZS5sYXN0X3VwZGF0ZWQgREVTQycKCiAgICBlbHNlOgogICAgICAgIHF1ZXJ5X3RleHQgPSAiIiIKICAgICAgICBTRUxFQ1QKICAgICAgICBSU19kb2NzX3RhYmxlLmlkLAogICAgICAgIFJTX2RvY3NfdGFibGUuaWRfZG9jLAogICAgICAgIFJTX2RvY3NfdGFibGUuaWRfZ29vZCwKICAgICAgICBSU19nb29kcy5uYW1lIGFzIGdvb2RfbmFtZSwKICAgICAgICBSU19nb29kcy5jb2RlLAogICAgICAgIFJTX2dvb2RzLmFydCwKICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3Byb3BlcnRpZXMsCiAgICAgICAgUlNfcHJvcGVydGllcy5uYW1lIGFzIHByb3BlcnRpZXNfbmFtZSwKICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3NlcmllcywKICAgICAgICBSU19zZXJpZXMubmFtZSBhcyBzZXJpZXNfbmFtZSwKICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3VuaXQsCiAgICAgICAgUlNfdW5pdHMubmFtZSBhcyB1bml0c19uYW1lLAogICAgICAgIFJTX2RvY3NfdGFibGUucXR0eSwKICAgICAgICBSU19kb2NzX3RhYmxlLnF0dHlfcGxhbiwKICAgICAgICBSU19kb2NzX3RhYmxlLnByaWNlLAogICAgICAgIFJTX3ByaWNlX3R5cGVzLm5hbWUgYXMgcHJpY2VfbmFtZSwKICAgICAgICBSU19kb2NzX3RhYmxlLnF0dHlfcGxhbiAtIFJTX2RvY3NfdGFibGUucXR0eSBhcyBJc0RvbmUKICAgICAgICBGUk9NIFJTX2RvY3NfdGFibGUgCiAgICAKICAgICAgICBMRUZUIEpPSU4gUlNfZ29vZHMgCiAgICAgICAgT04gUlNfZ29vZHMuaWQ9UlNfZG9jc190YWJsZS5pZF9nb29kCiAgICAgICAgTEVGVCBKT0lOIFJTX3Byb3BlcnRpZXMKICAgICAgICBPTiBSU19wcm9wZXJ0aWVzLmlkID0gUlNfZG9jc190YWJsZS5pZF9wcm9wZXJ0aWVzCiAgICAgICAgTEVGVCBKT0lOIFJTX3NlcmllcwogICAgICAgIE9OIFJTX3Nlcmllcy5pZCA9IFJTX2RvY3NfdGFibGUuaWRfc2VyaWVzCiAgICAgICAgTEVGVCBKT0lOIFJTX3VuaXRzCiAgICAgICAgT04gUlNfdW5pdHMuaWQ9UlNfZG9jc190YWJsZS5pZF91bml0CiAgICAgICAgTEVGVCBKT0lOIFJTX3ByaWNlX3R5cGVzCiAgICAgICAgT04gUlNfcHJpY2VfdHlwZXMuaWQgPSBSU19kb2NzX3RhYmxlLmlkX3ByaWNlCiAgICAgICAgV0hFUkUgaWRfZG9jID0gJGFyZzEKICAgICAgICBPUkRFUiBCWSBSU19kb2NzX3RhYmxlLmxhc3RfdXBkYXRlZCBERVNDIAogICAgICAgICIiIgoKICAgIHJldHVybiBxdWVyeV90ZXh0CgoKCgpkZWYgZ2V0X2RvY19kZXRhaWxfY2FyZHModXNlX3NlcmllcywgdXNlX3Byb3BlcnRpZXMsIHNldHRpbmdzX2dsb2JhbCwgaXNBZHIgPSBGYWxzZSk6CiAgICBjZWxsTWVudUNvbW1hbmQgPSAnO9CY0LfQvNC10L3QuNGC0Ywg0Y/Rh9C10LnQutGDJyBpZiBpc0FkciBlbHNlICcnCiAgICBsaXN0ID0gewogICAgICAgICJjdXN0b21jYXJkcyI6IHsKICAgICAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBUcnVlLAogICAgICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBnb29kX25hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdHb29kc0NhcmRUaXRsZVRleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwaWN0dXJlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjI1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIjREI3MDkzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRkZGRkZGIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICIyNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiUG9wdXBNZW51QnV0dG9uIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6IGYi0KPQtNCw0LvQuNGC0Ywg0YHRgtGA0L7QutGDe2NlbGxNZW51Q29tbWFuZH0iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICJtZW51X2dvb2Rfc3RyaW5nIgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAY29kZV9hcnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHVuaXRfbmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiZ29yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQn9C70LDQvSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcXR0eV9wbGFuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCk0LDQutGCIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBxdHR5IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCm0LXQvdCwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwcmljZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBpZiB1c2Vfc2VyaWVzID09ICd0cnVlJyBvciB1c2Vfc2VyaWVzID09ICcxJzoKICAgICAgICBsaXN0WydjdXN0b21jYXJkcyddWydsYXlvdXQnXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXS5pbnNlcnQoMSwgeyd0eXBlJzogJ1RleHRWaWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZScpLCAjMTYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzaG93X2J5X2NvbmRpdGlvbic6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZhbHVlJzogJ0BzZXJpZXNfbmFtZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm9SZWZyZXNoJzogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZG9jdW1lbnRfdHlwZSc6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hc2snOiAnJywgJ1ZhcmlhYmxlJzogJyd9KQogICAgaWYgdXNlX3Byb3BlcnRpZXMgPT0gJ3RydWUnIG9yIHVzZV9wcm9wZXJ0aWVzID09ICcxJzoKICAgICAgICBsaXN0WydjdXN0b21jYXJkcyddWydsYXlvdXQnXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXS5pbnNlcnQoMSwgeyd0eXBlJzogJ1RleHRWaWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZScpLCAjJzE2JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzaG93X2J5X2NvbmRpdGlvbic6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZhbHVlJzogJ0Bwcm9wZXJ0aWVzX25hbWUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ05vUmVmcmVzaCc6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RvY3VtZW50X3R5cGUnOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXNrJzogJycsICdWYXJpYWJsZSc6ICcnfSkKICAgIGlmIGlzQWRyOgogICAgICAgIGxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2xheW91dCddWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddLmluc2VydCgxLCB7J3R5cGUnOiAnVGV4dFZpZXcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VyaWVzUHJvcGVydGllc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjICcxNicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2hvd19ieV9jb25kaXRpb24nOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWYWx1ZSc6ICdAY2VsbF9uYW1lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdOb1JlZnJlc2gnOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkb2N1bWVudF90eXBlJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFzayc6ICcnLCAnVmFyaWFibGUnOiAnJ30pCgogICAgICAgIHBhc3MKCiAgICByZXR1cm4gbGlzdAoKCmRlZiBnZXRfZG9jX2RldGFpbF9jYXJkc19uZXcoc2V0dGluZ3NfZ2xvYmFsLCBjYXJkc19kYXRhOiBsaXN0LCBhZGRfbGFiZWxzOiBsaXN0ID0gTm9uZSk6CiAgICBnb29kc190ZXh0X3NpemUgPSBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJykKICAgIGhlYWRlciA9IHdpZGdldHMuTGluZWFyTGF5b3V0KAogICAgICAgIG9yaWVudGF0aW9uPSdob3Jpem9udGFsJywKICAgICAgICBoZWlnaHQ9J21hdGNoX3BhcmVudCcsCiAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcsCiAgICApCgogICAgIyBzZXJpZXNfbmFtZSwgcHJvcGVydGllc19uYW1lLCBjZWxsX25hbWUKICAgIGFkZF9sYWJlbHMgPSBhZGRfbGFiZWxzIG9yIFtdCiAgICBmb3IgbGFiZWwgaW4gYWRkX2xhYmVsczoKICAgICAgICBoZWFkZXIuYXBwZW5kKAogICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KFZhbHVlPWYnQHtsYWJlbH0nLCBUZXh0U2l6ZT1zZXR0aW5nc19nbG9iYWwuZ2V0KCdTZXJpZXNQcm9wZXJ0aWVzVGV4dFNpemUnKSksCiAgICAgICAgKQoKICAgIGhlYWRlci5hcHBlbmQoCiAgICAgICAgd2lkZ2V0cy5UZXh0VmlldygKICAgICAgICAgICAgVmFsdWU9J0Bnb29kX25hbWUnLAogICAgICAgICAgICBUZXh0Qm9sZD1UcnVlLAogICAgICAgICAgICBUZXh0U2l6ZT1zZXR0aW5nc19nbG9iYWwuZ2V0KCdHb29kc0NhcmRUaXRsZVRleHRTaXplJyksCiAgICAgICAgICAgIHdlaWdodD0nMScKICAgICAgICApLAogICAgICAgIHdpZGdldHMuVGV4dFZpZXcoCiAgICAgICAgICAgIFZhbHVlPSdAcGljdHVyZScsCiAgICAgICAgICAgIFRleHRTaXplPScyNScsCiAgICAgICAgICAgIFRleHRDb2xvcj0nI0RCNzA5MycsCiAgICAgICAgICAgIEJhY2tncm91bmRDb2xvcj0iI0ZGRkZGRiIsCiAgICAgICAgICAgIHdlaWdodD0xLAogICAgICAgICAgICBoZWlnaHQ9MjUsCiAgICAgICAgKSwKICAgICkKCiAgICBjb2RlX2FydCA9IHdpZGdldHMuVGV4dFZpZXcoVmFsdWU9J0Bjb2RlX2FydCcsIFRleHRTaXplPXNldHRpbmdzX2dsb2JhbC5nZXQoJ2dvb2RzVGV4dFNpemUnKSkKICAgIHVuaXRfbmFtZSA9IHdpZGdldHMuVGV4dFZpZXcoVmFsdWU9J0B1bml0X25hbWUnLCBUZXh0U2l6ZT1zZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJykpCiAgICBmb290ZXIgPSB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldyhWYWx1ZT0n0J/Qu9Cw0L0nLCBUZXh0U2l6ZT1nb29kc190ZXh0X3NpemUpLAogICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KFZhbHVlPSdAcXR0eV9wbGFuJywgVGV4dFNpemU9Z29vZHNfdGV4dF9zaXplKSwKICAgICAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcsCiAgICAgICAgICAgIHdlaWdodD0xLAogICAgICAgICksCiAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgIHdpZGdldHMuVGV4dFZpZXcoVmFsdWU9J9Ck0LDQutGCJywgVGV4dFNpemU9Z29vZHNfdGV4dF9zaXplKSwKICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldyhWYWx1ZT0nQHF0dHknLCBUZXh0U2l6ZT1nb29kc190ZXh0X3NpemUpLAogICAgICAgICAgICB3aWR0aD0nbWF0Y2hfcGFyZW50JywKICAgICAgICAgICAgd2VpZ2h0PTEsCiAgICAgICAgKSwKICAgICAgICB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldyhWYWx1ZT0n0KbQtdC90LAnLCBUZXh0U2l6ZT1nb29kc190ZXh0X3NpemUpLAogICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KFZhbHVlPSdAcHJpY2UnLCBUZXh0U2l6ZT1nb29kc190ZXh0X3NpemUpLAogICAgICAgICAgICB3aWR0aD0nbWF0Y2hfcGFyZW50JywKICAgICAgICAgICAgd2VpZ2h0PTEsCiAgICAgICAgKSwKICAgICAgICBoZWlnaHQ9J21hdGNoX3BhcmVudCcsCiAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcsCiAgICAgICAgb3JpZW50YXRpb249J2hvcml6b250YWwnLAogICAgICAgIHdlaWdodD0xLAogICAgKQoKICAgIGRldGFpbF9jYXJkcyA9IHdpZGdldHMuQ3VzdG9tQ2FyZHMoCiAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgIHdpZGdldHMuTGluZWFyTGF5b3V0KAogICAgICAgICAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyLAogICAgICAgICAgICAgICAgICAgIGNvZGVfYXJ0LAogICAgICAgICAgICAgICAgICAgIHVuaXRfbmFtZSwKICAgICAgICAgICAgICAgICAgICBmb290ZXIsCiAgICAgICAgICAgICAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0PScxJwogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIGhlaWdodD0nbWF0Y2hfcGFyZW50JywKICAgICAgICAgICAgICAgIHdpZHRoPSdtYXRjaF9wYXJlbnQnLAogICAgICAgICAgICAgICAgb3JpZW50YXRpb249J2hvcml6b250YWwnCiAgICAgICAgICAgICksCiAgICAgICAgICAgIGhlaWdodD0nbWF0Y2hfcGFyZW50JywKICAgICAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcKICAgICAgICApLAogICAgICAgIG9wdGlvbnM9d2lkZ2V0cy5PcHRpb25zKCkub3B0aW9ucywKICAgICAgICBjYXJkc2RhdGE9Y2FyZHNfZGF0YQogICAgKQoKICAgIHJldHVybiBkZXRhaWxfY2FyZHMudG9fanNvbigpCgoKZGVmIGdldF9kb2NfYmFyY19mbG93X3F1ZXJ5KCk6CiAgICByZXR1cm4gJycnCiAgICBTZWxlY3QgKiBmcm9tIFJTX2JhcmNfZmxvdyBXSGVyZSBpZF9kb2MgPT8KICAgICcnJwoKZGVmIGRvY19iYXJjX2Zsb3dfY2FyZChzZXR0aW5nc19nbG9iYWwpOgogICAgbGlzdCA9IHsKICAgICAgICAiY3VzdG9tY2FyZHMiOiB7CiAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICJzYXZlX3Bvc2l0aW9uIjogVHJ1ZQogICAgICAgICAgICB9LAogICAgICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGJhcmNvZGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0dvb2RzQ2FyZFRpdGxlVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCgogICAgcmV0dXJuIGxpc3QKCmRlZiBnZXRfcHJpY2VfcXVlcnkoKToKICAgIHR4dCA9ICIiIgogICAgU0VMRUNUICosCiAgICBSU19wcmljZV90eXBlcy5uYW1lCiAgICAgZnJvbSBSU19wcmljZXMgCiAgICAgTEVGVCBKT0lOIFJTX3ByaWNlX3R5cGVzIE9OIFJTX3ByaWNlX3R5cGVzLmlkPVJTX3ByaWNlcy5pZF9wcmljZV90eXBlcwogICAgIHdoZXJlIGlkX2dvb2RzPT8iIiIKICAgIHJldHVybiB0eHQKCgojINCh0L7QstGA0LXQvNC10L3QvdC+0LUg0L/QvtC70LUg0LLQstC+0LTQsCwg0L3QtSDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8KZGVmIGdldF9udW1fZmllbGRfZGVzY3IocXR0eSk6CiAgICBqc29uX2Rlc2NyID0gewogICAgICAgICJoaW50IjogJ9C60L7Qu9C40YfQtdGB0YLQstC+JywKICAgICAgICAiZGVmYXVsdF90ZXh0IjogcXR0eSwKICAgICAgICAnaW5wdXRUeXBlICc6ICdUWVBFX0NMQVNTX05VTUJFUicKICAgIH0KICAgIHJldHVybiBqc29uX2Rlc2NyCgoKIyBkZWYgZ2V0X2JhcmNvZGVfcXVlcnkoKToKIyAgICAgcXVlcnlfdGV4dCA9ICdTRUxFQ1QgKiBGUk9NIFJTX2RvY3NfYmFyY29kZXMgV2hlcmUgUlNfZG9jc19iYXJjb2Rlcy5pZF9kb2MgPSA/JwojICAgICByZXR1cm4gcXVlcnlfdGV4dAoKCiMg0JfQsNC/0YDQvtGBINC90LDRhdC+0LTQuNGCINCy0YHQtSDQt9Cw0L/QuNGB0Lgg0YLQsNCx0LvQuNGG0Ysg0LTQvtC60YPQvNC10L3RgtCwIFJTX2RvY3NfYmFyY29kZXMg0L/QviDQv9C+0LvQvdC+0LzRgyDRgdC+0LLQv9Cw0LTQtdC90LjRjiDRiNGC0YDQuNGF0LrQvtC00LAg0LjQu9C4INGC0L7Qu9GM0LrQviDQv9C+IEdUSU4KZGVmIGdldF9xdWVyeV9tYXJrX2ZpbmRfaW5fZG9jKCk6CiAgICBxdWVyeSA9ICcnJwogICAgU0VMRUNUIAogICAgaWQsCiAgICBpZF9kb2MsCiAgICBJRk5VTEwoR1RJTiwgJzAnKSBBUyBHVElOLAogICAgSUZOVUxMKFNlcmllcywgJzAnKSBBUyBTZXJpZXMsCiAgICBJRk5VTEwoaWRfZ29vZCwgJycpIEFTIGlkX2dvb2QsCiAgICBJRk5VTEwoaWRfcHJvcGVydHksICcnKSBBUyBpZF9wcm9wZXJ0eSAsCiAgICBJRk5VTEwoaWRfc2VyaWVzLCAnJykgQVMgaWRfc2VyaWVzLAogICAgSUZOVUxMKGlkX3VuaXQsICcnKSAgQVMgaWRfdW5pdCwKICAgIGlzX3BsYW4sCiAgICBhcHByb3ZlZAoKICAgIEZST00gUlNfZG9jc19iYXJjb2RlcwoKICAgIFdIRVJFIGlkX2RvYyA9IDppZF9kb2MgIGFuZCBHVElOID0gOkdUSU4gQW5kIFNlcmllcyA9IDpTZXJpZXMnJycKCiAgICAjCiAgICAjCiAgICAjICAgICAnJycKICAgICMgU0VMRUNUICogRlJPTSAoCiAgICAjCiAgICAjIFNFTEVDVAogICAgIyBSU19kb2NzX2JhcmNvZGVzLmlkLAogICAgIyBSU19kb2NzX2JhcmNvZGVzLmlkX2RvYywKICAgICMKICAgICMgUlNfZG9jc19iYXJjb2Rlcy5pZF9iYXJjb2RlLAogICAgIwogICAgIyBJRk5VTEwoUlNfbWFya2luZ19jb2Rlcy5tYXJrX2NvZGUsICcwJykgQVMgbWFya19jb2RlLAogICAgIyBJRk5VTEwoUlNfbWFya2luZ19jb2Rlcy5pZF9nb29kLCAnJykgQVMgaWRfZ29vZCwKICAgICMgSUZOVUxMKFJTX21hcmtpbmdfY29kZXMuaWRfcHJvcGVydHksICcnKSBBUyBpZF9wcm9wZXJ0eSAsCiAgICAjIElGTlVMTChSU19tYXJraW5nX2NvZGVzLmlkX3NlcmllcywgJycpIEFTIGlkX3NlcmllcywKICAgICMgSUZOVUxMKFJTX21hcmtpbmdfY29kZXMuaWRfdW5pdCwgJycpICBBUyBpZF91bml0LAogICAgIwogICAgIyBSU19kb2NzX2JhcmNvZGVzLmlzX3BsYW4sCiAgICAjIFJTX2RvY3NfYmFyY29kZXMuYXBwcm92ZWQKICAgICMKICAgICMgRlJPTSBSU19kb2NzX2JhcmNvZGVzCiAgICAjCiAgICAjICAgICBMRUZUIEpPSU4gUlNfbWFya2luZ19jb2RlcyBBcyBSU19tYXJraW5nX2NvZGVzCiAgICAjICAgICBPTiBSU19tYXJraW5nX2NvZGVzLmlkID0gUlNfZG9jc19iYXJjb2Rlcy5pZF9iYXJjb2RlCiAgICAjCiAgICAjIFdIRVJFIGlkX2RvYyA9IDppZF9kb2MgIGFuZCBSU19tYXJraW5nX2NvZGVzLm1hcmtfY29kZSA9IDpzZXRfYmFyY29kZSkKICAgICMgJycnCiAgICAjCiAgICAjIFNFTEVDVCAqIEZST00gKAogICAgIyAgICAgU0VMRUNUCiAgICAjICAgICAnb25fR1RJTicgYXMgVHlwZU9mVW5pb24sCiAgICAjICAgICBSU19kb2NzX2JhcmNvZGVzLmlkLAogICAgIyAgICAgUlNfZG9jc19iYXJjb2Rlcy5pZF9kb2MsCiAgICAjICAgICBSU19kb2NzX2JhcmNvZGVzLmJhcmNvZGUsCiAgICAjICAgICBSU19kb2NzX2JhcmNvZGVzLmlkX2JhcmNvZGUsCiAgICAjICAgICBSU19iYXJjb2Rlcy5HVElOLAogICAgIyAgICAgUlNfYmFyY29kZXMuaWRfZ29vZCwKICAgICMgICAgIFJTX2JhcmNvZGVzLmlkX3Byb3BlcnR5LAogICAgIyAgICAgUlNfYmFyY29kZXMuaWRfc2VyaWVzLAogICAgIyAgICAgUlNfYmFyY29kZXMuaWRfdW5pdCwKICAgICMgICAgIFJTX2RvY3NfYmFyY29kZXMuaXNfcGxhbiwKICAgICMgICAgIFJTX2RvY3NfYmFyY29kZXMuYXBwcm92ZWQKICAgICMgICAgIEZST00gUlNfZG9jc19iYXJjb2RlcwogICAgIyAgICAgICAgIExFRlQgSk9JTiAoU2VsZWN0IFJTX2JhcmNvZGVzLmJhcmNvZGUgYXMgR1RJTiwKICAgICMgICAgICAgICBSU19iYXJjb2Rlcy5pZF9nb29kLAogICAgIyAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3Byb3BlcnR5LAogICAgIyAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3NlcmllcywKICAgICMgICAgICAgICBSU19iYXJjb2Rlcy5pZF91bml0IEZST00gUlNfYmFyY29kZXMKICAgICMgICAgICAgICBXSEVSRSBSU19iYXJjb2Rlcy5iYXJjb2RlPTpndGluIExJTUlUIDEpIEFTIFJTX2JhcmNvZGVzCiAgICAjICAgICAgICAgT04gVFJVRQogICAgIyAgICAgICAgIExFRlQgSk9JTiBSU19iYXJjb2RlcyBhcyBGdWxsQmFyY29kZQogICAgIyAgICAgICAgIE9OIEZ1bGxCYXJjb2RlLmJhcmNvZGUgPSBSU19kb2NzX2JhcmNvZGVzLmJhcmNvZGUKICAgICMKICAgICMgICAgIFdIRVJFIGlkX2RvYyA9IDppZF9kb2MgIGFuZCBSU19kb2NzX2JhcmNvZGVzLmJhcmNvZGUgTGlrZSAnJScrOmd0aW4gKyAnJScKICAgICMKICAgICMgICAgIFVOSU9OIEFMTAogICAgIwogICAgIyAgICAgU0VMRUNUCiAgICAjICAgICAnRnVsbE1hdGNoJywKICAgICMgICAgIFJTX2RvY3NfYmFyY29kZXMuaWQsCiAgICAjICAgICBSU19kb2NzX2JhcmNvZGVzLmlkX2RvYywKICAgICMgICAgIFJTX2RvY3NfYmFyY29kZXMuYmFyY29kZSwKICAgICMgICAgIFJTX2RvY3NfYmFyY29kZXMuaWRfYmFyY29kZSwKICAgICMgICAgIElGTlVMTChSU19iYXJjb2Rlcy5iYXJjb2RlLFJTX2JhcmNvZGVzX2luYWNjdXJhdGUuR1RJTiksCiAgICAjICAgICBJRk5VTEwoUlNfYmFyY29kZXMuaWRfZ29vZCxSU19iYXJjb2Rlc19pbmFjY3VyYXRlLmlkX2dvb2QpLAogICAgIyAgICAgSUZOVUxMKFJTX2JhcmNvZGVzLmlkX3Byb3BlcnR5LFJTX2JhcmNvZGVzX2luYWNjdXJhdGUuaWRfcHJvcGVydHkpLAogICAgIyAgICAgSUZOVUxMKFJTX2JhcmNvZGVzLmlkX3NlcmllcyxSU19iYXJjb2Rlc19pbmFjY3VyYXRlLmlkX3NlcmllcyksCiAgICAjICAgICBJRk5VTEwoUlNfYmFyY29kZXMuaWRfdW5pdCxSU19iYXJjb2Rlc19pbmFjY3VyYXRlLmlkX3VuaXQpLAogICAgIyAgICAgUlNfZG9jc19iYXJjb2Rlcy5pc19wbGFuLAogICAgIyAgICAgUlNfZG9jc19iYXJjb2Rlcy5hcHByb3ZlZAogICAgIyAgICAgRlJPTSBSU19kb2NzX2JhcmNvZGVzCiAgICAjICAgICAgICAgTEVGVCBKT0lOIFJTX2JhcmNvZGVzCiAgICAjICAgICAgICAgT04gUlNfYmFyY29kZXMuYmFyY29kZSA9IFJTX2RvY3NfYmFyY29kZXMuYmFyY29kZQogICAgIyAgICAgICAgIExFRlQgSk9JTiAoU2VsZWN0IFJTX2JhcmNvZGVzLmJhcmNvZGUgYXMgR1RJTiwKICAgICMgICAgICAgICBSU19iYXJjb2Rlcy5pZF9nb29kLAogICAgIyAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3Byb3BlcnR5LAogICAgIyAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3NlcmllcywKICAgICMgICAgICAgICBSU19iYXJjb2Rlcy5pZF91bml0IEZST00gUlNfYmFyY29kZXMKICAgICMgICAgICAgICBXSEVSRSBSU19iYXJjb2Rlcy5iYXJjb2RlIExpa2UgJyUnKzpndGluICsgJyUnIExJTUlUIDEpIEFTIFJTX2JhcmNvZGVzX2luYWNjdXJhdGUKICAgICMgICAgICAgICBPTiBUUlVFCiAgICAjICAgICAgICAgTEVGVCBKT0lOIFJTX2JhcmNvZGVzIGFzIEZ1bGxCYXJjb2RlCiAgICAjICAgICAgICAgT04gRnVsbEJhcmNvZGUuYmFyY29kZSA9IFJTX2RvY3NfYmFyY29kZXMuYmFyY29kZQogICAgIwogICAgIyAgICAgV0hFUkUgaWRfZG9jID0gOmlkX2RvYyAgYW5kIFJTX2RvY3NfYmFyY29kZXMuYmFyY29kZSA9IDpzZXRfYmFyY29kZSkKICAgICMKICAgICMgT1JERVIgIEJZIFR5cGVPZlVuaW9uCiAgICAjICcnJwogICAgcmV0dXJuIHF1ZXJ5CgoKZGVmIGdldF9iYXJjb2RlX2NhcmQoc2V0dGluZ3NfZ2xvYmFsKToKICAgIGxzID0geyJjdXN0b21jYXJkcyI6IHsKICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogRmFsc2UsCiAgICAgICAgICAgICJzYXZlX3Bvc2l0aW9uIjogVHJ1ZQogICAgICAgIH0sCiAgICAgICAgImxheW91dCI6IHsKICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAYmFyY29kZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHBpY3R1cmUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIjREI3MDkzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0ZGRkZGRiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiYnRuX3RzdDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjYXJkQ29ybmVyUmFkaXVzIjogIjE1ZHAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgfV19CgogICAgICAgICAgICBdCiAgICAgICAgfX0KICAgIH0KICAgIHJldHVybiBscwoKCmRlZiBnZXRfZG9jX2JhcmNvZGVfcXVlcnkoKToKICAgIGxzID0gJycnCiAgICBTRUxFQ1QKICAgICIoMDEpIiB8fCBHVElOIHx8ICIoMjEpIiB8fCBTZXJpZXMgYXMgbWFya19jb2RlLAogICAgYXBwcm92ZWQKICAgIEZST00gUlNfZG9jc19iYXJjb2RlcwogICAgV2hlcmUKICAgIGlkX2RvYyA9IDppZF9kb2MgQU5ECiAgICBpZF9nb29kID0gOmlkX2dvb2QgQU5ECiAgICBpZF9wcm9wZXJ0eSA9IDppZF9wcm9wZXJ0eSBBTkQKICAgIGlkX3NlcmllcyA9IDppZF9zZXJpZXMgCiAgICAtLUFORCAgaWRfdW5pdCA9IDppZF91bml0CiAnJycKICAgIHJldHVybiBscwoKCmRlZiBnZXRfZG9jX2JhcmNvZGVfcXVlcnlfbm9fUlNfbWFya2NvZGVzKCk6CiAgICByZXR1cm4gJycnCiAgICBTRUxFQ1QgCiAgICBpZF9iYXJjb2RlLAogICAgUlNfbWFya2luZ19jb2Rlcy5tYXJrX2NvZGUgYXMgbWFya19jb2RlLAogICAgYXBwcm92ZWQKICAgIEZST00gUlNfZG9jc19iYXJjb2RlcwoKICAgIEpPSU4gUlNfbWFya2luZ19jb2RlcyAKICAgIE9OIFJTX21hcmtpbmdfY29kZXMuaWQgPSBSU19kb2NzX2JhcmNvZGVzLmlkX2JhcmNvZGUgQU5ECiAgICBSU19tYXJraW5nX2NvZGVzLmlkX2dvb2QgPSA6aWRfZ29vZCBBTkQKICAgIFJTX21hcmtpbmdfY29kZXMuaWRfcHJvcGVydHkgPSA6aWRfcHJvcGVydHkgQU5ECiAgICBSU19tYXJraW5nX2NvZGVzLmlkX3NlcmllcyA9IDppZF9zZXJpZXMgQU5ECiAgICBSU19tYXJraW5nX2NvZGVzLmlkX3VuaXQgPSA6aWRfdW5pdCAKCiAgICAgV0hFUkUgUlNfZG9jc19iYXJjb2Rlcy5pZF9kb2MgPSA6aWRfZG9jICcnJwoKCmRlZiBnZXRfbWFya2NvZGVfcXVlcnkoKToKICAgIHJldHVybiAnJycKICAgIFNFTEVDVCAKICAgIFJTX2RvY3NfYmFyY29kZXMuaWQgYXMgQ3VyU3RyLAogICAgUlNfZG9jc19iYXJjb2Rlcy5HVElOLAogICAgUlNfZG9jc19iYXJjb2Rlcy5TZXJpZXMsCiAgICBSU19kb2NzX2JhcmNvZGVzLmFwcHJvdmVkLAogICAgUlNfZG9jc19iYXJjb2Rlcy5pZF9nb29kLAogICAgUlNfZG9jc19iYXJjb2Rlcy5pZF9wcm9wZXJ0eSBhcyBpZF9wcm9wZXJ0eSwKICAgIFJTX2RvY3NfYmFyY29kZXMuaWRfc2VyaWVzLAogICAgUlNfZG9jc19iYXJjb2Rlcy5pZF91bml0LAogICAgUlNfZ29vZHMubmFtZSBhcyBnb29kX25hbWUsCiAgICBSU19wcm9wZXJ0aWVzLm5hbWUgYXMgcHJvcGVydGllcywKICAgIFJTX3Nlcmllcy5uYW1lIGFzIHNlcmllcywKICAgIFJTX3VuaXRzLm5hbWUgYXMgdW5pdCwKICAgIFJTX2dvb2RzLmNvZGUgQVMgZ29vZF9jb2RlLAogICAgUlNfZG9jc19iYXJjb2Rlcy5pc19wbGFuCgogRlJPTSBSU19kb2NzX2JhcmNvZGVzIAoKIExFRlQgSk9JTiBSU19nb29kcyAKICAgIE9OIFJTX2dvb2RzLmlkPVJTX2RvY3NfYmFyY29kZXMuaWRfZ29vZAogICAgTEVGVCBKT0lOIFJTX3Byb3BlcnRpZXMKICAgIE9OIFJTX3Byb3BlcnRpZXMuaWQgPSBSU19kb2NzX2JhcmNvZGVzLmlkX3Byb3BlcnR5CiAgICBMRUZUIEpPSU4gUlNfc2VyaWVzCiAgICBPTiBSU19zZXJpZXMuaWQgPSBSU19kb2NzX2JhcmNvZGVzLmlkX3NlcmllcwogICAgTEVGVCBKT0lOIFJTX3VuaXRzCiAgICBPTiBSU191bml0cy5pZD1SU19kb2NzX2JhcmNvZGVzLmlkX3VuaXQKCiAgICAgV0hFUkUgUlNfZG9jc19iYXJjb2Rlcy5pZF9kb2MgPSA6aWRfZG9jIEFORCBHVElOID0gOkdUSU4gQW5kIFNlcmllcyA9IDpTZXJpZXMnJycKCgojICAgICAnJycKIyAgICAgU0VMRUNUCiMgICAgIFRlbXBfcXVlcnkuQ3VyU3RyIGFzIEN1clN0ciwKIyAgICAgVGVtcF9xdWVyeS5pZF9iYXJjb2RlLAojICAgICBUZW1wX3F1ZXJ5Lm1hcmtfY29kZSwKIyAgICAgVGVtcF9xdWVyeS5hcHByb3ZlZCwKIyAgICAgVGVtcF9xdWVyeS5pZF9nb29kLAojICAgICBUZW1wX3F1ZXJ5LmlkX3Byb3BlcnRpZXMgYXMgaWRfcHJvcGVydHksCiMgICAgIFRlbXBfcXVlcnkuaWRfc2VyaWVzLAojICAgICBUZW1wX3F1ZXJ5LmlkX3VuaXQsCiMgICAgIFJTX2dvb2RzLm5hbWUgYXMgZ29vZF9uYW1lLAojICAgICBSU19wcm9wZXJ0aWVzLm5hbWUgYXMgcHJvcGVydGllcywKIyAgICAgUlNfc2VyaWVzLm5hbWUgYXMgc2VyaWVzLAojICAgICBSU191bml0cy5uYW1lIGFzIHVuaXQsCiMgICAgIFJTX2dvb2RzLmNvZGUgQVMgZ29vZF9jb2RlLAojICAgICBUZW1wX3F1ZXJ5LmlzX3BsYW4KIwojCiMgIEZST00gKAojIFNFTEVDVAojICAgICBSU19kb2NzX2JhcmNvZGVzLmlkIGFzIEN1clN0ciwKIyAgICAgaWRfYmFyY29kZSwKIyAgICAgUlNfbWFya2luZ19jb2Rlcy5tYXJrX2NvZGUsCiMgICAgIGFwcHJvdmVkLAojICAgICBSU19tYXJraW5nX2NvZGVzLmlkX2dvb2QsCiMgICAgIFJTX21hcmtpbmdfY29kZXMuaWRfcHJvcGVydHkgYXMgaWRfcHJvcGVydGllcywKIyAgICAgUlNfbWFya2luZ19jb2Rlcy5pZF9zZXJpZXMsCiMgICAgIFJTX21hcmtpbmdfY29kZXMuaWRfdW5pdCwKIyAgICAgUlNfZG9jc19iYXJjb2Rlcy5pc19wbGFuCiMKIyAgICAgRlJPTSBSU19kb2NzX2JhcmNvZGVzCiMKIyAgICAgSk9JTiBSU19tYXJraW5nX2NvZGVzCiMgICAgIE9OIFJTX21hcmtpbmdfY29kZXMuaWQgPSBSU19kb2NzX2JhcmNvZGVzLmlkX2JhcmNvZGUKIwojICAgICAgV0hFUkUgUlNfZG9jc19iYXJjb2Rlcy5pZF9kb2MgPSA6aWRfZG9jIEFORCBpZF9iYXJjb2RlID0gOmlkX2JhcmNvZGUpIEFTIFRlbXBfcXVlcnkKIwojICBMRUZUIEpPSU4gUlNfZ29vZHMKIyAgICAgT04gUlNfZ29vZHMuaWQ9VGVtcF9xdWVyeS5pZF9nb29kCiMgICAgIExFRlQgSk9JTiBSU19wcm9wZXJ0aWVzCiMgICAgIE9OIFJTX3Byb3BlcnRpZXMuaWQgPSBUZW1wX3F1ZXJ5LmlkX3Byb3BlcnRpZXMKIyAgICAgTEVGVCBKT0lOIFJTX3NlcmllcwojICAgICBPTiBSU19zZXJpZXMuaWQgPSBUZW1wX3F1ZXJ5LmlkX3NlcmllcwojICAgICBMRUZUIEpPSU4gUlNfdW5pdHMKIyAgICAgT04gUlNfdW5pdHMuaWQ9VGVtcF9xdWVyeS5pZF91bml0CiMgICAgICcnJwoKCmRlZiBnZXRfYmFyY29kZV9xdWVyeSgpIC0+IHN0cjoKICAgIHJldHVybiAnJycKICAgIFdpdGggYmFyYyBhcyAoClNFTEVDVCAKYmFyY29kZSwKaWRfZ29vZCwKUlNfZ29vZHMudHlwZV9nb29kLAppZF9wcm9wZXJ0eSwKaWRfc2VyaWVzLAppZF91bml0CiBGUk9NIFJTX2JhcmNvZGVzIAogTGVmdCBKb2luIFJTX2dvb2RzCiBPTiBSU19iYXJjb2Rlcy5pZF9nb29kID0gUlNfZ29vZHMuaWQKV0hFUkUgYmFyY29kZSA9ID8pCgpTZWxlY3QgKiBGcm9tIGJhcmMKTGVmdCBKT0lOIFJTX3R5cGVzX2dvb2RzCk9OIFJTX3R5cGVzX2dvb2RzLmlkID0gYmFyYy50eXBlX2dvb2QKCicnJwoKCmRlZiBnZXRfbWFya19xdHR5X2NvbmZvcm1pdHkoKToKICAgIHJldHVybiAnJycKICAgIFNFTEVDVCBpZm51bGwoZG9jX3RhYmxlLnF0dHlfcGxhbiwwKSAtIGlmbnVsbCh0bXAucXR0eV9vZl9tYXJrLDApICBGUk9NIAoKICAgIChTRUxFQ1QgcXR0eV9wbGFuCiAgICBGUk9NIFJTX2RvY3NfdGFibGUKICAgIFdIRVJFIAogICAgaWRfZG9jID0gOmlkRG9jIAogICAgQU5EIGlkX2dvb2QgPSA6aWRfZ29vZAogICAgQU5EIGlkX3Byb3BlcnRpZXMgPSA6aWRfcHJvcGVydGllcwogICAgQU5EIGlkX3NlcmllcyA9IDppZF9zZXJpZXMKICAgICkgQXMgZG9jX3RhYmxlICAtLUFORCBpZF91bml0ID0gOmlkX3VuaXQKICAgICAgIExFRlQgSk9JTiAoU0VMRUNUIENvdW50KGlkX2JhcmNvZGUpIEFzIHF0dHlfb2ZfbWFyawogICAgICAgIEZST00gUlNfZG9jc19iYXJjb2RlcyAKICAgICAgICBXSEVSRSBpZF9kb2M9OmlkRG9jIAogICAgICAgIEFORCBpZF9iYXJjb2RlIExJa2UgOmJhcmNvZGUgQU5EIGFwcHJvdmVkID0gOmFwcHJvdmVkKSBBcyB0bXAKICAgICAgICBPTiBUUlVFCiAgICAnJycKCgpkZWYgZ2V0X3BsYW5fZ29vZF9mcm9tX2RvYygpOgogICAgcmV0dXJuICcnJwoKICAgIFNFTEVDVCBpZm51bGwocXR0eV9wbGFuLDApIGFzIHF0dHlfcGxhbiwKICAgIGlmbnVsbChxdHR5LDApIGFzIHF0dHksIGlkX2dvb2QKICAgIEZST00gUlNfZG9jc190YWJsZQogICAgV0hFUkUgCiAgICBpZF9kb2MgPSA6aWREb2MgCiAgICBBTkQgaWRfZ29vZCA9IDppZF9nb29kCiAgICBBTkQgaWRfcHJvcGVydGllcyA9IDppZF9wcm9wZXJ0aWVzCiAgICBBTkQgaWRfc2VyaWVzID0gOmlkX3NlcmllcwogICAgLS1BTkQgaWRfdW5pdCA9IDppZF91bml0CiAgICAnJycKCgojICAgICAgcyA9ICAgICcnJwojICAgIHdpdGggdG1wIGFzICgKIyAgICAgU0VMRUNUIGlmbnVsbChxdHR5X3BsYW4sMCkgYXMgcXR0eV9wbGFuLAojICAgICBpZm51bGwocXR0eSwwKSBhcyBxdHR5LCBpZF9nb29kCiMgICAgIEZST00gUlNfZG9jc190YWJsZQojICAgICBXSEVSRQojICAgICBpZF9kb2MgPSA6aWREb2MKIyAgICAgQU5EIGlkX2dvb2QgPSA6aWRfZ29vZAojICAgICBBTkQgaWRfcHJvcGVydGllcyA9IDppZF9wcm9wZXJ0aWVzCiMgIC0tICAgQU5EIGlkX3NlcmllcyA9IDppZF9zZXJpZXMKIyAgLS0gICBBTkQgaWRfdW5pdCA9IDppZF91bml0CiMgICAgICkKIwojIFNlbGVjdCBzdW0ocXR0eV9wbGFuLXF0dHkpIGFzIGNvbmZvcm1pdHkgZnJvbSB0bXAKIwojCiMgICAgICcnJwoKZGVmIGdldF9xdHR5X2FkZF9tYXJrX3RleHQoKToKICAgIHJldHVybiAnJycKICAgIFNFTEVDVCBSU19kb2NzLmFkZF9tYXJrX3NlbGVjdGlvbiBBcyBNYXJrZWQsCiAgICBUbXAuUXR0eSAKICAgIGZyb20gUlNfZG9jcyAKICAgIExlZnQgSm9pbiAoU2VsZWN0IFN1bShSU19kb2NzX3RhYmxlLnF0dHlfcGxhbikgYXMgUXR0eSBGcm9tIFJTX2RvY3NfdGFibGUgV2hlcmUgUlNfZG9jc190YWJsZS5pZF9kb2M9IDppZF9kb2MpIEFzIFRtcAogICAgT04gVHJ1ZQogICAgV0hFUkUgaWRfZG9jID0gOmlkX2RvYycnJwoKCmRlZiBnZXRfcXR0eV9zdHJpbmdfY291bnRfcXVlcnkoKToKICAgIHJldHVybiAnJycKICAgIFNFTEVDVCBkaXN0aW5jdCBjb3VudChpZCkgYXMgY29sX3N0ciwKICAgIHN1bShpZm51bGwocXR0eV9wbGFuLDApKSBhcyBxdHR5X3BsYW4KICAgIGZyb20gUlNfZG9jc190YWJsZSBXaGVyZSBpZF9kb2MgPSA6aWRfZG9jJycnCgoKZGVmIGdldF9oYXZlX21hcmtfY29kZXNfcXVlcnkoKTogICMg0JfQsNC/0YDQvtGBINCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC60L7Qu9C40YfQtdGB0YLQstC+INC60L7QtNC+0LIg0LzQsNGA0LrQuNGA0L7QstC60LggItCf0LvQsNC9IiAo0YIu0LUuINC30LDQs9GA0YPQttC10L3QvdGL0YUg0LjQtyDRg9GH0LXRgtC90L7QuQogICAgIyDRgdC40YHRgtC10LzRiykKICAgIHJldHVybiAnJycKICAgIFNFTEVDVCBkaXN0aW5jdCBjb3VudChpZCkgYXMgY29sX3N0cgogICAgZnJvbSBSU19kb2NzX2JhcmNvZGVzIFdoZXJlIGlkX2RvYyA9IDppZF9kb2MgQU5EIGlzX3BsYW4gPSA6aXNfcGxhbicnJwoKCmRlZiBnZXRfZG9jc19zdGF0X3F1ZXJ5KCk6CiAgICByZXR1cm4gJycnCiAgIHdpdGggdG1wIGFzICgKICAgIFNlbGVjdCAKICAgIGRvY190eXBlLAogICAgUlNfZG9jcy5pZF9kb2MsCiAgICAxIGFzIGRvY19Db3VudCwKICAgIGlmbnVsbChSU19kb2NzLnNlbnQsMCkgYXMgc2VudCwKICAgIGlmbnVsbCh2ZXJpZmllZCwwKSBhcyB2ZXJpZmllZCwgCiAgICBDQVNFCiAgICBXSEVOIGlmbnVsbCh2ZXJpZmllZCwwKT0wIFRIRU4gY291bnQoUlNfZG9jc190YWJsZS5pZCkKICAgIGVsc2UgMCBFTkQgYXMgY291bnRfdmVyaWZpZWQsCiAgICBDQVNFCiAgICBXSEVOIGlmbnVsbCh2ZXJpZmllZCwwKT0xIFRIRU4gY291bnQoUlNfZG9jc190YWJsZS5pZCkKICAgIGVsc2UgMCBFTkQgYXMgY291bnRfdW52ZXJpZmllZCwKICAgIENBU0UKICAgICAgICBXSEVOIGlmbnVsbCh2ZXJpZmllZCwwKT0wIFRIRU4gc3VtKFJTX2RvY3NfdGFibGUucXR0eV9wbGFuKQogICAgZWxzZSAwIEVORCBhcyBxdHR5X3BsYW5fdmVyaWZpZWQsCiAgICBDQVNFCiAgICAgICAgV0hFTiBpZm51bGwodmVyaWZpZWQsMCk9MSBUSEVOIHN1bShSU19kb2NzX3RhYmxlLnF0dHlfcGxhbikKICAgIGVsc2UgMCBFTkQgYXMgcXR0eV9wbGFuX3VudmVyaWZpZWQKICAgICBmcm9tIFJTX2RvY3MKICAgIExlZnQgSm9pbiBSU19kb2NzX3RhYmxlIAogICAgT04gUlNfZG9jc190YWJsZS5pZF9kb2MgPSBSU19kb2NzLmlkX2RvYwogICAgR3JvdXAgYnkgUlNfZG9jcy5pZF9kb2MKICAgICkKICAgU2VsZWN0IGRvY190eXBlIGFzIGRvY1R5cGUsIAogICBjb3VudChpZF9kb2MpLAogICBzdW0oZG9jX0NvdW50KSBhcyBjb3VudCwgCiAgIHN1bShzZW50KSBhcyBzZW50LCAKICAgc3VtKHZlcmlmaWVkKSBhcyB2ZXJpZmllZCwKICAgc3VtKGNvdW50X3ZlcmlmaWVkKSBhcyBjb3VudF92ZXJpZmllZCwKICAgc3VtKGNvdW50X3VudmVyaWZpZWQpIGFzIGNvdW50X3VudmVyaWZpZWQsCiAgIHN1bShxdHR5X3BsYW5fdmVyaWZpZWQpIGFzIHF0dHlfcGxhbl92ZXJpZmllZCwKICAgc3VtKHF0dHlfcGxhbl91bnZlcmlmaWVkKSBhcyBxdHR5X3BsYW5fdW52ZXJpZmllZAogICAgZnJvbSB0bXAKICAgIGdyb3VwIGJ5IGRvY190eXBlCiAgICcnJwoKCmRlZiBnZXRfZG9jX3RpbGVzKHNldHRpbmdzX2dsb2JhbCk6CgogICAgc21hbGxfdGlsZSA9IHsKICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICJhdXRvU2l6ZVRleHRUeXBlIiA6ICJ1bmlmb3JtIiwKICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGRvY05hbWUiLAogICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ3RpdGxlRG9jVHlwZUNhcmRUZXh0U2l6ZScpLCAjICIyNSIsCiAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMwMDAwMDAiLAogICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogMCwKICAgICAgICAgICAgICAgICJncmF2aXR5X2hvcml6b250YWwiOiAiY2VudGVyIgogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBRdHR5T2ZEb2NzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnRG9jVHlwZUNhcmRUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMzMzMzMzMiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICJGRkNDOTkiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQodGC0YDQvtC6OiAiLAogICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdEb2NUeXBlQ2FyZFRleHRTaXplJyksICMiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMzMzMzMzMiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICJGRkNDOTkiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGNvdW50X3ZlcmlmaWVkIiwKICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnRG9jVHlwZUNhcmRUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMzMzMzMzMiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICJGRkNDOTkiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQotC+0LLQsNGA0L7QsjogIiwKICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnRG9jVHlwZUNhcmRUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMzMzMzMzMiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICJGRkNDOTkiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHF0dHlfcGxhbl92ZXJpZmllZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0RvY1R5cGVDYXJkVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIjMzMzMzMzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiRkZDQzk5IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KCiAgICAgICAgXQogICAgfQoKICAgIHJldHVybiBzbWFsbF90aWxlCgpjbGFzcyBNb2Rlcm5GaWVsZDoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBoaW50PU5vbmUsIGRlZmF1bHRfdGV4dD1Ob25lLCBwYXNzd29yZD1GYWxzZSk6ICAjIGNvdW50ZXI9RmFsc2UsIGNvdW50ZXJfbWF4PU5vbmUsIGlucHV0X3R5cGU9IDEgLAogICAgICAgIHNlbGYuaGludCA9IGhpbnQKICAgICAgICBzZWxmLmRlZmF1bHRfdGV4dCA9IGRlZmF1bHRfdGV4dAogICAgICAgICNzZWxmLmNvdW50ZXIgPSBjb3VudGVyCiAgICAgICAgI3NlbGYuY291bnRlcl9tYXggPSBjb3VudGVyX21heAogICAgICAgICNzZWxmLmlucHV0X3R5cGUgPSBpbnB1dF90eXBlCiAgICAgICAgc2VsZi5wYXNzd29yZCA9IHBhc3N3b3JkCgogICAgZGVmIHRvX2pzb24oc2VsZik6CiAgICAgICAgcmV0ID0gewogICAgICAgICAgICAiaGludCI6IHNlbGYuaGludCwKICAgICAgICAgICAgImRlZmF1bHRfdGV4dCI6IHNlbGYuZGVmYXVsdF90ZXh0fQogICAgICAgICMgImNvdW50ZXIiOiBzZWxmLmNvdW50ZXIsCiAgICAgICAgIyAiY291bnRlcl9tYXgiOiBzZWxmLmNvdW50ZXJfbWF4LAogICAgICAgICMgImlucHV0X3R5cGUiOiBzZWxmLmlucHV0X3R5cGUsCiAgICAgICAgaWYgc2VsZi5wYXNzd29yZDoKICAgICAgICAgICAgcmV0WyJwYXNzd29yZCJdID0gc2VsZi5wYXNzd29yZAoKICAgICAgICByZXR1cm4ganNvbi5kdW1wcyhyZXQpCgoKIyBodHRwX3NldHRpbmdzID0geyd1cmwnOicxOTInLCAndXNlcic6J0FNRCcsICdwYXNzJzonMTIzJ30KIyBwcmludChNb2Rlcm5GaWVsZChoaW50PSd1cmwnLCBkZWZhdWx0X3RleHQ9aHR0cF9zZXR0aW5nc1sndXJsJ10sIHBhc3N3b3JkPUZhbHNlKS50b19qc29uKCkpCiMgcHJpbnQoTW9kZXJuRmllbGQoaGludD0ndXNlcicsIGRlZmF1bHRfdGV4dD1odHRwX3NldHRpbmdzWyd1c2VyJ10sIHBhc3N3b3JkPUZhbHNlKS50b19qc29uKCkpCiMgcHJpbnQoTW9kZXJuRmllbGQoaGludD0ncGFzcycsIGRlZmF1bHRfdGV4dD1odHRwX3NldHRpbmdzWydwYXNzJ10sIHBhc3N3b3JkPVRydWUpLnRvX2pzb24oKSk="
            },
            {
                "file_path": "C:/projects/python/simple_keep\\ui_form_data2.py",
                "PyFileKey": "ui_form_data2",
                "PyFileData": "Z29vZHNfY3VzdG9tX3RhYmxlX2NlbGwgPSB7ImN1c3RvbXRhYmxlIjogewogICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IFRydWUsCiAgICAgICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0K/Rh9C10LnQutCwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCi0L7QstCw0YAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0JrQvtC70LjRh9C10YHRgtCy0L4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0KXQsNGA0LDQutGC0LXRgNC40YHRgtC40LrQuCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIH0KCnRib2R5X3JlbWFpbnNfbGF5b3V0X2NlbGwgPSB7CiAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGNlbGwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAaXRlbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBxdWFudGl0eSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwcm9wZXJ0aWVzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgfQoKZ29vZHNfY3VzdG9tX3RhYmxlX3doID0geyJjdXN0b210YWJsZSI6IHsKICAgICAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0KHQutC70LDQtCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCi0L7QstCw0YAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQmtC+0LvQuNGH0LXRgdGC0LLQviIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCl0LDRgNCw0LrRgtC10YDQuNGB0YLQuNC60LgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKdGJvZHlfcmVtYWluc19sYXlvdXRfd2ggPSB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHdhcmVob3VzZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGl0ZW0iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBxdWFudGl0eSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHByb3BlcnRpZXMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KCnByaWNlc19jdXN0b21fdGFibGUgPSB7ImN1c3RvbXRhYmxlIjogewogICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBUcnVlLAogICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKICAgICAgICB9LAoKICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCi0L7QstCw0YAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCl0LDRgNCw0LrRgtC10YDQuNGB0YLQuNC60LgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCm0LXQvdCwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQotC40L8g0YbQtdC90YsiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCj0L/QsNC60L7QstC60LAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH0KICAgIH0KICAgIH0KCnRib2R5X3ByaWNlc19sYXlvdXQgPSB7CiAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGdvb2QiLAogICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTQiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHByb3BlcnR5IiwKICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE0IiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwcmljZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcHJpY2VfdHlwZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAdW5pdCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICBdCiAgICB9Cgpwcm9wZXJ0eV9saXN0X2NhcmRzID0geyJjdXN0b21jYXJkcyI6IHsKICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCgogICAgICAgIH0sCiAgICAgICAgImxheW91dCI6IHsKICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQG5hbWUiLAogICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIi0xIiwKICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiM2RjkzOTMiLAogICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0KICAgICAgICB9CgogICAgfQogICAgfQoKcHJpY2VfdHlwZXNfbGlzdF9jYXJkcyA9IHsiY3VzdG9tY2FyZHMiOiB7CiAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IFRydWUsCiAgICAgICAgICAgICJzYXZlX3Bvc2l0aW9uIjogVHJ1ZQoKICAgICAgICB9LAogICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBuYW1lIiwKICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICItMSIsCiAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIjNkY5MzkzIiwKICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgfQoKICAgIH0KICAgIH0KCndoX2xpc3RfY2FyZHMgPSB7ImN1c3RvbWNhcmRzIjogewogICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IFRydWUsCiAgICAgICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAbmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICItMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIzZGOTM5MyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgfQoKY2VsbF9saXN0X2NhcmRzID0geyJjdXN0b21jYXJkcyI6IHsKICAgICAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBUcnVlLAogICAgICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCgogICAgICAgICAgICB9LAogICAgICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQG5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiLTEiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiM2RjkzOTMiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CgogICAgICAgIH0KICAgIH0KCnVuaXRfbGlzdF9jYXJkcyA9IHsiY3VzdG9tY2FyZHMiOiB7CiAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IFRydWUsCiAgICAgICAgICAgICJzYXZlX3Bvc2l0aW9uIjogVHJ1ZQoKICAgICAgICB9LAogICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBuYW1lIiwKICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICItMSIsCiAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIjNkY5MzkzIiwKICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgfQoKICAgIH0KICAgIH0KCmJhcmNvZGVfY2FyZHMgPSB7ImN1c3RvbWNhcmRzIjogewogICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBUcnVlLAogICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKICAgICAgICB9LAoKICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHByb3BlcnRpZXMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAdW5pdCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAYmFyY29kZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBzZXJpZXMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH0KICAgIH0KICAgIH0KCgpkZWYgZ2V0X2RvY19kZXRhaWxfdGFibGVfaGVhZCgpOgoKICAgIGhlYWRfbGluZSA9IHsKICAgICAgICAiY3VzdG9tdGFibGUiOiB7CiAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICJzYXZlX3Bvc2l0aW9uIjogVHJ1ZSwKICAgICAgICAgICAgICAgICJvdmVycmlkZV9zZWFyY2giOiBGYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRkZGRkZGIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCd0LDQt9Cy0LDQvdC40LUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQn9C70LDQvSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCk0LDQutGCIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiBoZWFkX2xpbmUKCgpkZWYgZ2V0X2RvY19kZXRhaWxfdGFibGVfYm9keV9sYXlvdXQodXNlX3NlcmllcywgdXNlX3Byb3BlcnRpZXMsIHNldHRpbmdzX2dsb2JhbCwgaXNBZHI9RmFsc2UpOgoKICAgIGNlbGxNZW51Q29tbWFuZCA9ICc70JjQt9C80LXQvdC40YLRjCDRj9GH0LXQudC60YMnIGlmIGlzQWRyIGVsc2UgJycKICAgIGRvY19kZXRhaWxfYm9keV9sYXlvdXQgPSB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjAiLAogICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRkZGRkZGIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBnb29kX25hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBnb29kX2luZm8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHF0dHlfcGxhbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHF0dHkiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgXQogICAgfQoKICAgICIiImlmIHVzZV9zZXJpZXMgPT0gJ3RydWUnIG9yIHVzZV9zZXJpZXMgPT0gJzEnOgogICAgICAgIGRvY19kZXRhaWxfYm9keV9sYXlvdXRbJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ10uaW5zZXJ0KDEsIHsndHlwZSc6ICdUZXh0VmlldycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTZXJpZXNQcm9wZXJ0aWVzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgMTYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzaG93X2J5X2NvbmRpdGlvbic6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZhbHVlJzogJ0BzZXJpZXNfbmFtZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm9SZWZyZXNoJzogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZG9jdW1lbnRfdHlwZSc6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hc2snOiAnJywgJ1ZhcmlhYmxlJzogJyd9KQogICAgaWYgdXNlX3Byb3BlcnRpZXMgPT0gJ3RydWUnIG9yIHVzZV9wcm9wZXJ0aWVzID09ICcxJzoKICAgICAgICBkb2NfZGV0YWlsX2JvZHlfbGF5b3V0WydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddLmluc2VydCgxLCB7J3R5cGUnOiAnVGV4dFZpZXcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VyaWVzUHJvcGVydGllc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjICcxNicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2hvd19ieV9jb25kaXRpb24nOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWYWx1ZSc6ICdAcHJvcGVydGllc19uYW1lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdOb1JlZnJlc2gnOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkb2N1bWVudF90eXBlJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFzayc6ICcnLCAnVmFyaWFibGUnOiAnJ30pCiAgICBpZiBpc0FkcjoKICAgICAgICBkb2NfZGV0YWlsX2JvZHlfbGF5b3V0WydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddLmluc2VydCgxLCB7J3R5cGUnOiAnVGV4dFZpZXcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VyaWVzUHJvcGVydGllc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjICcxNicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2hvd19ieV9jb25kaXRpb24nOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWYWx1ZSc6ICdAY2VsbF9uYW1lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdOb1JlZnJlc2gnOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkb2N1bWVudF90eXBlJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFzayc6ICcnLCAnVmFyaWFibGUnOiAnJ30pIiIiCgogICAgcmV0dXJuIGRvY19kZXRhaWxfYm9keV9sYXlvdXQKCgpkZWYgZ2V0X2RvY19kZXRhaWxfY2FyZHNfbW9kKHVzZV9zZXJpZXMsIHVzZV9wcm9wZXJ0aWVzLCBzZXR0aW5nc19nbG9iYWwsIGlzQWRyID0gRmFsc2UpOgogICAgY2VsbE1lbnVDb21tYW5kID0gJzvQmNC30LzQtdC90LjRgtGMINGP0YfQtdC50LrRgycgaWYgaXNBZHIgZWxzZSAnJwogICAgbGlzdCA9IHsKICAgICAgICAiY3VzdG9tY2FyZHMiOiB7CiAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICJzYXZlX3Bvc2l0aW9uIjogVHJ1ZQogICAgICAgICAgICB9LAogICAgICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBnb29kX25hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0dvb2RzQ2FyZFRpdGxlVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGdvb2RfaW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJncmF2aXR5X2hvcml6b250YWwiOiAiY2VudGVyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcGljdHVyZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIyNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiI0RCNzA5MyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0ZGRkZGRiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiUG9wdXBNZW51QnV0dG9uIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6IGYi0KPQtNCw0LvQuNGC0Ywg0YHRgtGA0L7QutGDe2NlbGxNZW51Q29tbWFuZH0iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICJtZW51X2dvb2Rfc3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHVuaXRfbmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiZ29yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQn9C70LDQvSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcXR0eV9wbGFuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCk0LDQutGCIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBxdHR5IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCm0LXQvdCwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwcmljZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBpZiB1c2Vfc2VyaWVzID09ICd0cnVlJyBvciB1c2Vfc2VyaWVzID09ICcxJzoKICAgICAgICBsaXN0WydjdXN0b21jYXJkcyddWydsYXlvdXQnXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXS5pbnNlcnQoMSwgeyd0eXBlJzogJ1RleHRWaWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZScpLCAjMTYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzaG93X2J5X2NvbmRpdGlvbic6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZhbHVlJzogJ0BzZXJpZXNfbmFtZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm9SZWZyZXNoJzogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZG9jdW1lbnRfdHlwZSc6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hc2snOiAnJywgJ1ZhcmlhYmxlJzogJyd9KQogICAgaWYgdXNlX3Byb3BlcnRpZXMgPT0gJ3RydWUnIG9yIHVzZV9wcm9wZXJ0aWVzID09ICcxJzoKICAgICAgICBsaXN0WydjdXN0b21jYXJkcyddWydsYXlvdXQnXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXS5pbnNlcnQoMSwgeyd0eXBlJzogJ1RleHRWaWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZScpLCAjJzE2JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzaG93X2J5X2NvbmRpdGlvbic6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZhbHVlJzogJ0Bwcm9wZXJ0aWVzX25hbWUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ05vUmVmcmVzaCc6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RvY3VtZW50X3R5cGUnOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXNrJzogJycsICdWYXJpYWJsZSc6ICcnfSkKICAgIGlmIGlzQWRyOgogICAgICAgIGxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2xheW91dCddWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddLmluc2VydCgxLCB7J3R5cGUnOiAnVGV4dFZpZXcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VyaWVzUHJvcGVydGllc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjICcxNicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2hvd19ieV9jb25kaXRpb24nOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWYWx1ZSc6ICdAY2VsbF9uYW1lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdOb1JlZnJlc2gnOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkb2N1bWVudF90eXBlJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFzayc6ICcnLCAnVmFyaWFibGUnOiAnJ30pCgogICAgICAgIHBhc3MKCiAgICByZXR1cm4gbGlzdAoK"
            },
            {
                "file_path": "C:/projects/python/simple_keep\\database_init_queryes.py",
                "PyFileKey": "database_init_queryes",
                "PyFileData": "I2ltcG9ydCB1aV9nbG9iYWwKZGVmIGRhdGFiYXNlX3NoZW1hKCk6CiAgICBScyA9IFtdCgoKICAgICPQmtC+0L3RgdGC0LDQvdGC0Ysg0Lgg0YXRgNCw0L3QuNC80YvQtSDQvdCw0YHRgtGA0L7QudC60LggUlNfY29uc3RhbnRzCiAgICBScy5hcHBlbmQoJycnCiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU19jb25zdGFudHMgKAogICAgICAgIGlkICAgICAgICAgICAgIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCwKICAgICAgICB1c2Vfc2VyaWVzICAgICBURVhUICAgIERFRkFVTFQgMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTk9UIE5VTEwsCiAgICAgICAgdXNlX3Byb3BlcnRpZXMgVEVYVCAgICBERUZBVUxUIDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5PVCBOVUxMLAogICAgICAgIHVzZV9tYXJrICAgICAgIFRFWFQgICAgREVGQVVMVCAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOT1QgTlVMTCwKICAgICAgICBhZGRfaWZfbm90X2luX3BsYW4gICAgIFRFWFQgICAgREVGQVVMVCAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOT1QgTlVMTCwKICAgICAgICBwYXRoICAgICAgICAgICBURVhUICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUICIvL3N0b3JhZ2UvZW11bGF0ZWQvMC9BbmRyb2lkL2RhdGEvcnUudHJhdmVsZm9vZC5zaW1wbGVfdWkvIiwKICAgICAgICBkZWxldGVfZmlsZXMgICBURVhUICAgIERFRkFVTFQgMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTk9UIE5VTEwsCiAgICAgICAgcmVzZXJ2ZWQgICAgICAgVEVYVCAgICBOT1QgTlVMTCwKICAgICAgICBtYXhfaWRfZG9jICAgICAgICAgSU5URUdFUiBOT1QgTlVMTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVCAoMSksCiAgICAgICAgYWxsb3dfb3ZlcnNjYW4gVEVYVCAgICBERUZBVUxUIDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5PVCBOVUxMLAogICAgICAgIHJlbGVhc2UgICAgICAgIFRFWFQKICAgICkKICAgICcnJykKCgogICAgIyDQmtC70LDRgdGB0LjRhNC40LrQsNGC0L7RgCDQtdC00LjQvdC40YYg0LjQt9C80LXRgNC10L3QuNGPIFJTX2NsYXNzaWZpZXJfdW5pdHMKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX2NsYXNzaWZpZXJfdW5pdHMgKAogICAgICAgIGlkIFRFWFQgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgUFJJTUFSWSBLRVksCiAgICAgICAgY29kZSAgICBURVhUIE5PVCBOVUxMLAogICAgICAgIG5hbWUgICAgVEVYVCBOT1QgTlVMTAogICAgKQogICAgJycnKQoKICAgICMg0JLQuNC00Ysg0L3QvtC80LXQvdC60LvQsNGC0YPRgNGLIFJTX3R5cGVzX2dvb2RzCiAgICBScy5hcHBlbmQoJycnCiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU190eXBlc19nb29kcyAoCiAgICBpZCAgICAgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZLAogICAgbmFtZSAgICAgVEVYVCBOT1QgTlVMTCwKICAgIHVzZV9tYXJrIElOVCAgREVGQVVMVCAoMCkgCiAgICApCiAgICAnJycpCgogICAgIyDQndC+0LzQtdC90LrQu9Cw0YLRg9GA0LAgUlNfZ29vZHMKICAgIFJzLmFwcGVuZCgnJycKICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU19nb29kcyAoCiAgICAgICAgICAgIGlkICAgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJJTUFSWSBLRVksCiAgICAgICAgICAgIGNvZGUgICAgICAgIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgIG5hbWUgICAgICAgIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgIGFydCAgICAgICAgIFRFWFQsCiAgICAgICAgICAgIHVuaXQgICAgICAgIFRFWFQgIFJFRkVSRU5DRVMgUlNfY2xhc3NpZmllcl91bml0cyAoaWQpLAogICAgICAgICAgICB0eXBlX2dvb2QgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVGRVJFTkNFUyBSU190eXBlc19nb29kcyAoaWQpIE9OIERFTEVURSBOTyBBQ1RJT04KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNQVRDSCBbRlVMTF0sCiAgICAgICAgICAgIGRlc2NyaXB0aW9uIFRFWFQKICAgICAgICApCiAgICAgICAgJycnKQoKCiAgICAjINCl0LDRgNCw0LrRgtC10YDQuNGB0YLQuNC60Lgg0L3QvtC80LXQvdC60LvQsNGC0YPRgNGLIFJTX3Byb3BlcnRpZXMKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX3Byb3BlcnRpZXMgKAogICAgaWQgICAgICAgVEVYVCBOT1QgTlVMTAogICAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSBPTiBDT05GTElDVCBSRVBMQUNFLAogICAgaWRfb3duZXIgVEVYVCBOT1QgTlVMTAogICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX2dvb2RzIChpZCkgT04gREVMRVRFIE5PIEFDVElPTgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT04gVVBEQVRFIE5PIEFDVElPTiwKICAgIG5hbWUgICAgIFRFWFQgTk9UIE5VTEwKICAgICkKICAgICcnJykKCgogICAgIyDQo9C/0LDQutC+0LLQutC4INCV0LTQuNC90LjRhtGLINC40LfQvNC10YDQtdC90LjRjyBSU191bml0cwogICAgUnMuYXBwZW5kKCcnJwogICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgUlNfdW5pdHMgKAogICAgICAgIGlkICAgICAgIFRFWFQgICAgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJJTUFSWSBLRVksCiAgICAgICAgaWRfb3duZXIgICAgICBURVhUICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfZ29vZHMgKGlkKSwKICAgICAgICBjb2RlICAgICAgICAgIFRFWFQgICAgTk9UIE5VTEwsCiAgICAgICAgbmFtZSAgICAgICAgICBURVhUICAgIE5PVCBOVUxMLAogICAgICAgIG5vbWluYXRvciAgICAgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICBkZW5vbWluYXRvciAgIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgaW50X3JlZHVjdGlvbiBURVhUICAgIE5PVCBOVUxMCiAgICApCiAgICAnJycpCgoKCiAgICAjINCh0LXRgNC40Lgg0L3QvtC80LXQvdC60LvQsNGC0YPRgNGLIFJTX3NlcmllcwogICAgUnMuYXBwZW5kKCcnJwogICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgUlNfc2VyaWVzICgKICAgICAgICBpZCAgICAgICAgIFRFWFQgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSwKICAgICAgICBuYW1lICAgICAgICAgICAgVEVYVCBOT1QgTlVMTCwKICAgICAgICBiZXN0X2JlZm9yZSAgICAgVEVYVCwKICAgICAgICB0eXBlX2dvb2RzICAgICAgVEVYVCBOT1QgTlVMTCwKICAgICAgICBudW1iZXIgICAgICAgICAgVEVYVCBOT1QgTlVMTCwKICAgICAgICBwcm9kdWN0aW9uX2RhdGUgVEVYVCBOT1QgTlVMTAogICAgKQogICAgJycnKQoKCiAgICAjINCo0YLRgNC40YXQutC+0LTRiyBSU19iYXJjb2RlcwogICAgUnMuYXBwZW5kKCAnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX2JhcmNvZGVzICgKICAgIGJhcmNvZGUgICAgIFRFWFQgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgUFJJTUFSWSBLRVksCiAgICBpZF9nb29kICAgICBURVhUIE5PVCBOVUxMLAogICAgaWRfcHJvcGVydHkgVEVYVCwKICAgIGlkX3NlcmllcyAgIFRFWFQsCiAgICBpZF91bml0ICAgICBURVhUCikKCiAgICAnJycpCgogICAgI9Ca0L7QtNGLINC80LDRgNC60LjRgNC+0LLQutC4IFJTX21hcmtpbmdfY29kZXMKICAgIFJzLmFwcGVuZCggJycnCiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU19tYXJraW5nX2NvZGVzICgKICAgICAgICBpZCAgICAgICAgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSwKICAgICAgICBtYXJrX2NvZGUgICBURVhUIE5PVCBOVUxMLAogICAgICAgIGlkX2dvb2QgICAgIFRFWFQgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfZ29vZHMgKGlkKSwKICAgICAgICBpZF9wcm9wZXJ0eSBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX3Byb3BlcnRpZXMgKGlkKSwKICAgICAgICBpZF9zZXJpZXMgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX3NlcmllcyAoaWQpLAogICAgICAgIGlkX3VuaXQgICAgIFRFWFQgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfdW5pdHMgKGlkKSAKICAgICkKICAgICcnJykKCgoKICAgICMg0JrQvtC90YLRgNCw0LPQtdC90YLRiyBSU19jb3VudHJhZ2VudHMKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX2NvdW50cmFnZW50cyAoCiAgICAgICAgaWQgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgUFJJTUFSWSBLRVksCiAgICAgICAgbmFtZSAgICAgIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgZnVsbF9uYW1lIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgaW5uICAgICAgIFRFWFQgTk9UIE5VTEwsCiAgICAgICAga3BwICAgICAgIFRFWFQgTk9UIE5VTEwKICAgICkKICAgICcnJykKCiAgICAjINCh0LrQu9Cw0LTRiyBSU193YXJlaG91c2VzCiAgICBScy5hcHBlbmQoJycnCiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU193YXJlaG91c2VzICgKICAgICAgICBpZCBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZLAogICAgICAgIG5hbWUgICAgVEVYVCBOT1QgTlVMTAogICAgKQogICAgJycnKQoKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX2NlbGxzICgKICAgIGlkICAgVEVYVCBQUklNQVJZIEtFWQogICAgICAgICAgICAgIE5PVCBOVUxMLAogICAgbmFtZSBURVhUIE5PVCBOVUxMLAogICAgYmFyY29kZSBURVhUCiAgICApJycnKQoKICAgICMg0JLQuNC00Ysg0YbQtdC9INC90L7QvNC10L3QutC70LDRgtGD0YDRiyBSU19wcmljZV90eXBlcwogICAgUnMuYXBwZW5kKCcnJwogICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgUlNfcHJpY2VfdHlwZXMgKAogICAgICAgIGlkICAgVEVYVCBOT1QgTlVMTAogICAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSwKICAgICAgICBuYW1lIFRFWFQgTk9UIE5VTEwKICAgICkKICAgICcnJykKCiAgICAjINCm0LXQvdGLINC90L7QvNC10L3QutC70LDRgtGD0YDRiyBSU19wcmljZXMKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX3ByaWNlcyAoCiAgICAgICAgaWQgICAgICAgICAgICAgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULAogICAgICAgIGlkX3ByaWNlX3R5cGVzIFRFWFQgICAgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfcHJpY2VfdHlwZXMgKGlkKSwKICAgICAgICBpZF9nb29kcyAgICAgICBURVhUICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX2dvb2RzIChpZCksCiAgICAgICAgaWRfcHJvcGVydGllcyAgVEVYVCAgICBOT1QgTlVMTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVGRVJFTkNFUyBSU19wcm9wZXJ0aWVzIChpZCksCiAgICAgICAgcHJpY2UgICAgICAgICAgUkVBTCwKICAgICAgICBpZF91bml0ICAgICAgICBURVhUICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX3VuaXRzIChpZCkgCiAgICApCiAgICAnJycpCgogICAgUnMuYXBwZW5kKCcnJwogICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgUlNfZG9jX3R5cGVzICgKICAgIGRvY190eXBlIFRFWFQgUFJJTUFSWSBLRVkgT04gQ09ORkxJQ1QgUkVQTEFDRQogICAgICAgICAgICAgICAgTk9UIE5VTEwsCiAgICBpc19hZHJfc3RvcmFnZSBJTlQgIERFRkFVTFQgKDApIAogICAgKQogICAgJycnKQoKICAgICMg0JLRgdC1INC00L7QutGD0LzQtdC90YLRiyDRgdC/0LjRgdC60L7QvCBSU19kb2NzCiAgICBScy5hcHBlbmQoJycnCiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU19kb2NzICgKICAgICAgICBpZF9kb2MgICAgICAgICAgICAgVEVYVCAgICAgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJJTUFSWSBLRVksCiAgICAgICAgZG9jX3R5cGUgICAgICAgICAgIFRFWFQgICAgIE5PVCBOVUxMLAogICAgICAgIGRvY19uICAgICAgICAgICAgICBURVhUICAgICBOT1QgTlVMTCwKICAgICAgICBkb2NfZGF0ZSAgICAgICAgICAgVEVYVCAgICAgTk9UIE5VTEwsCiAgICAgICAgaWRfY291bnRyYWdlbnRzICAgIFRFWFQgICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfY291bnRyYWdlbnRzIChpZCksCiAgICAgICAgaWRfd2FyZWhvdXNlICAgICAgIFRFWFQgICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfd2FyZWhvdXNlcyAoaWQpLAogICAgICAgIHZlcmlmaWVkICAgICAgICAgICBJTlRFR0VSLAogICAgICAgIHNlbnQgICAgICAgICAgICAgICBJTlRFR0VSLAogICAgICAgIGFkZF9tYXJrX3NlbGVjdGlvbiBJTlRFR0VSLAogICAgICAgIGNyZWF0ZWRfYXQgICAgICAgICBEQVRFVElNRSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLAogICAgICAgIGNvbnRyb2wgICAgICAgICAgICBURVhUIERFRkFVTFQgMAogICAgKQogICAgJycnKQoKCiAgICAjINCi0LDQsdC70LjRh9C90LDRjyDRh9Cw0YHRgtGMINC00L7QutGD0LzQtdC90YLQvtCyIFJTX2RvY3NfdGFibGUKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX2RvY3NfdGFibGUgKAogICAgICAgIGlkICAgICAgICAgICAgSU5URUdFUiAgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCwKICAgICAgICBpZF9kb2MgICAgICAgIFRFWFQgICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX2RvY3MgKGlkX2RvYykgT04gREVMRVRFIENBU0NBREUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPTiBVUERBVEUgU0VUIERFRkFVTFQsCiAgICAgICAgaWRfZ29vZCAgICAgICBURVhUICAgICBOT1QgTlVMTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVGRVJFTkNFUyBSU19nb29kcyAoaWQpLAogICAgICAgIGlkX3Byb3BlcnRpZXMgVEVYVCAgICAgUkVGRVJFTkNFUyBSU19wcm9wZXJ0aWVzIChpZCksCiAgICAgICAgaWRfc2VyaWVzICAgICBURVhUICAgICBSRUZFUkVOQ0VTIFJTX3NlcmllcyAoaWQpLAogICAgICAgIGlkX3VuaXQgICAgICAgVEVYVCAgICAgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfdW5pdHMgKGlkKSwKICAgICAgICBxdHR5ICAgICAgICAgIFJFQUwsCiAgICAgICAgcXR0eV9wbGFuICAgICBSRUFMLAogICAgICAgIHByaWNlICAgICAgICAgUkVBTCwKICAgICAgICBpZF9wcmljZSAgICAgIFRFWFQgICAgIFJFRkVSRU5DRVMgUlNfcHJpY2VfdHlwZXMgKGlkKSwKICAgICAgICBzZW50ICAgICAgICAgIElOVEVHRVIsCiAgICAgICAgbGFzdF91cGRhdGVkICBEQVRFVElNRSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLAogICAgICAgIGlzX3BsYW4gICAgICAgVEVYVCBERUZBVUxUICJUcnVlIiwKICAgICAgICBpZF9jZWxsICAgICAgICAgIFRFWFQgICAgIFJFRkVSRU5DRVMgUlNfY2VsbHMgKGlkKSAKICAgICkKICAgICcnJykKCgogICAgIyDQmtC+0LTRiyDQvNCw0YDQutC40YDQvtCy0LrQuCDQsiDQtNC+0LrRg9C80LXQvdGC0LUgUlNfZG9jc19iYXJjb2RlcwogICAgUnMuYXBwZW5kKCcnJwogICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgUlNfZG9jc19iYXJjb2RlcyAoCiAgICBpZCAgICAgICAgICAgICAgICAgICBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsCiAgICBpZF9kb2MgICAgICAgICAgICAgICBURVhUICAgIE5PVCBOVUxMIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX2RvY3MgKGlkX2RvYykgT04gREVMRVRFIENBU0NBREUsCiAgICBpZF9nb29kICAgICBURVhUIE5PVCBOVUxMCiAgICAgICAgIFJFRkVSRU5DRVMgUlNfZ29vZHMgKGlkKSwKICAgIGlkX3Byb3BlcnR5IFRFWFQgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgUkVGRVJFTkNFUyBSU19wcm9wZXJ0aWVzIChpZCksCiAgICBpZF9zZXJpZXMgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfc2VyaWVzIChpZCksCiAgICBpZF91bml0ICAgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfdW5pdHMgKGlkKSAsCiAgICAtLSMgaWRfYmFyY29kZSAgICAgICAgICAgVEVYVCAgICBOT1QgTlVMTAogICAgLS0jICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVGRVJFTkNFUyBSU19tYXJraW5nX2NvZGVzIChpZCksCiAgICBiYXJjb2RlX2Zyb21fc2Nhbm5lciBURVhULAogICAgaXNfcGxhbiAgICAgICAgICAgICAgVEVYVCAgICBERUZBVUxUIDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTk9UIE5VTEwsCiAgICBhcHByb3ZlZCAgICAgICAgICAgICBURVhUICAgIERFRkFVTFQgMCwKICAgIEdUSU4gICAgICAgICAgICAgICAgIFRFWFQsCiAgICBTZXJpZXMgICAgICAgICAgICAgICBURVhUCiAgICApCiAgICAnJycpCgogICAgI9Cf0L7RgtC+0Log0L/RgNC+0LjQt9Cy0L7Qu9GM0L3Ri9GFINGI0YLRgNC40YXQutC+0LTQvtCyCiAgICBScy5hcHBlbmQoJycnCiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU19iYXJjX2Zsb3cgKAogICAgaWRfZG9jICBURVhUIFJFRkVSRU5DRVMgUlNfZG9jcyAoaWRfZG9jKSwKICAgIGJhcmNvZGUgVEVYVAogICAgKQogICAgJycnKQoKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX2Fkcl9kb2NzICgKICAgIGlkX2RvYyAgICAgICAgICAgICBURVhUICAgICBOT1QgTlVMTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZLAogICAgZG9jX3R5cGUgICAgICAgICAgIFRFWFQgICAgIE5PVCBOVUxMLAogICAgZG9jX24gICAgICAgICAgICAgIFRFWFQgICAgIE5PVCBOVUxMLAogICAgZG9jX2RhdGUgICAgICAgICAgIFRFWFQgICAgIE5PVCBOVUxMLAogICAgaWRfd2FyZWhvdXNlICAgICAgIFRFWFQgICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVGRVJFTkNFUyBSU193YXJlaG91c2VzIChpZCksCiAgICB2ZXJpZmllZCAgICAgICAgICAgSU5URUdFUiwKICAgIHNlbnQgICAgICAgICAgICAgICBJTlRFR0VSLAogICAgYWRkX21hcmtfc2VsZWN0aW9uIElOVEVHRVIsCiAgICBjcmVhdGVkX2F0ICAgICAgICAgREFURVRJTUUgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCwKICAgIGNvbnRyb2wgICAgICAgICAgICBURVhUICAgICBERUZBVUxUIDAKICAgICkKICAgICcnJykKCiAgICBScy5hcHBlbmQoJycnCiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU19hZHJfZG9jc190YWJsZSAoCiAgICBpZCAgICAgICAgICAgIElOVEVHRVIgIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsCiAgICBpZF9kb2MgICAgICAgIFRFWFQgICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfYWRyX2RvY3MgKGlkX2RvYykgT04gREVMRVRFIENBU0NBREUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPTiBVUERBVEUgU0VUIERFRkFVTFQsCiAgICBpZF9nb29kICAgICAgIFRFWFQgICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfZ29vZHMgKGlkKSwKICAgIGlkX3Byb3BlcnRpZXMgVEVYVCAgICAgUkVGRVJFTkNFUyBSU19wcm9wZXJ0aWVzIChpZCksCiAgICBpZF9zZXJpZXMgICAgIFRFWFQgICAgIFJFRkVSRU5DRVMgUlNfc2VyaWVzIChpZCksCiAgICBpZF91bml0ICAgICAgIFRFWFQgICAgIFJFRkVSRU5DRVMgUlNfdW5pdHMgKGlkKSwKICAgIHF0dHkgICAgICAgICAgUkVBTCwKICAgIHF0dHlfcGxhbiAgICAgUkVBTCwKICAgIHNlbnQgICAgICAgICAgSU5URUdFUiwKICAgIGxhc3RfdXBkYXRlZCAgREFURVRJTUUgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCwKICAgIGlzX3BsYW4gICAgICAgVEVYVCAgICAgREVGQVVMVCBUcnVlLAogICAgaWRfY2VsbCAgICAgICBURVhUICAgICBSRUZFUkVOQ0VTIFJTX2NlbGxzIChpZCksIAogICAgdGFibGVfdHlwZSAgICBURVhUICAgICBOT1QgTlVMTAogICAgICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUICdvdXQnCiAgICApCiAgICAnJycpCgogICAgUnMuYXBwZW5kKCcnJwogICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIEVycm9yX2xvZyAoCiAgICAgICAgbG9nICAgICAgIFRFWFQgICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgIERFRkFVTFQgKCcnKSwKICAgICAgICB0aW1lc3RhbXAgREFURVRJTUUgREVGQVVMVCAoQ1VSUkVOVF9USU1FU1RBTVApKSAKICAgICcnJykKCiAgICBScy5hcHBlbmQoJycnCiAgICBDUkVBVEUgSU5ERVggIElGIE5PVCBFWElTVFMgY2VsbF9uYW1lIE9OIFJTX2NlbGxzICgKICAgIG5hbWUKICAgICkKICAgICcnJykKCiAgICBScy5hcHBlbmQoJycnCiAgICBDUkVBVEUgSU5ERVggIElGIE5PVCBFWElTVFMgY2VsbF9uYW1lIE9OIFJTX2NlbGxzICgKICAgIGJhcmNvZGUKICAgICkKICAgICcnJykKCgojIFJTX2NvbnN0YW50cyArIFJTX2NsYXNzaWZpZXJfdW5pdHMgKyBSU190eXBlc19nb29kcwojICAgICBScyA9ICsgUlNfZ29vZHMgKyBSU19wcm9wZXJ0aWVzXAojICAgICAgICAgICsgUlNfc2VyaWVzICsgUlNfdW5pdHMgKyBSU19iYXJjb2RlcyArIFJTX21hcmtpbmdfY29kZXMgKyBSU19kb2NzICsgUlNfZG9jc19iYXJjb2Rlc1wKIyAgICAgICAgICArIFJTX2RvY3NfdGFibGUgKyBSU19wcmljZV90eXBlcyArIFJTX3ByaWNlcyArIFJTX2NvdW50cmFnZW50cyArIFJTX3dhcmVob3VzZXMKCiAgICByZXR1cm4gUnMKI3ByaW50KGRhdGFiYXNlX3NoZW1hKCkpCiAgICAjCiAgICAjIFJzLmFwcGVuZChSU19jb25zdGFudHMpCiAgICAjIFJzLmFwcGVuZChSU19jbGFzc2lmaWVyX3VuaXRzKQogICAgIyBScy5hcHBlbmQoUlNfdHlwZXNfZ29vZHMpCiAgICAjCiAgICAjIFJzLmFwcGVuZChSU19nb29kcykKICAgICMgUnMuYXBwZW5kKFJTX3Byb3BlcnRpZXMpCiAgICAjIFJzLmFwcGVuZChSU19zZXJpZXMpCiAgICAjIFJzLmFwcGVuZChSU191bml0cykKICAgICMKICAgICMgUnMuYXBwZW5kKFJTX2JhcmNvZGVzKQogICAgIyBScy5hcHBlbmQoUlNfbWFya2luZ19jb2RlcykKICAgICMKICAgICMgUnMuYXBwZW5kKFJTX2RvY3MpCiAgICAjIFJzLmFwcGVuZChSU19kb2NzX2JhcmNvZGVzKQogICAgIyBScy5hcHBlbmQoUlNfZG9jc190YWJsZSkKICAgICMKICAgICMgUnMuYXBwZW5kKFJTX3ByaWNlX3R5cGVzKQogICAgIyBScy5hcHBlbmQoUlNfcHJpY2VzKQogICAgIwogICAgIyBScy5hcHBlbmQoUlNfY291bnRyYWdlbnRzKQogICAgIyBScy5hcHBlbmQoUlNfd2FyZWhvdXNlcykKICAgICN1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChScykKCg=="
            },
            {
                "file_path": "C:/projects/python/simple_keep\\http_exchange.py",
                "PyFileKey": "http_exchange",
                "PyFileData": "aW1wb3J0IGlwYWRkcmVzcwppbXBvcnQganNvbgppbXBvcnQgcmVxdWVzdHMKZnJvbSByZXF1ZXN0cy5hdXRoIGltcG9ydCBIVFRQQmFzaWNBdXRoCiNpbXBvcnQgdGltZQppbXBvcnQgdWlfYmFyY29kZXMKCmltcG9ydCB1aV9nbG9iYWwKZnJvbSBoc19zZXJ2aWNlcyBpbXBvcnQgSHNTZXJ2aWNlCmZyb20gZGJfc2VydmljZXMgaW1wb3J0IERvY1NlcnZpY2UKZnJvbSB1aV9nbG9iYWwgaW1wb3J0IGdldF9xdWVyeV9yZXN1bHQKCmRlZiByZXBsYXNlX2dzX2luX3JlcyhzdHJ1Y3QpOgogICAgcmV0dXJuIFt7azogdi5yZXBsYWNlKGNocigyOSksICcnKS5yZXBsYWNlKGNocigyMzIpLCAnJykucmVwbGFjZShjaHIoMzIpLCcnKSBpZiBpc2luc3RhbmNlKHYsIHN0cikgZWxzZSB2IGZvciBrLCB2IGluIGQuaXRlbXMoKX0gZm9yIGQgaW4gc3RydWN0XQogICAgIyBmb3IgZWwgaW4gc3RydWN0OgogICAgIyAgICAgaWYgZWwuZ2V0KCdiYXJjb2RlX2Zyb21fc2Nhbm5lcicpOgogICAgIyAgICAgICAgIGVsWydiYXJjb2RlX2Zyb21fc2Nhbm5lciddID0gZWxbJ2JhcmNvZGVfZnJvbV9zY2FubmVyJ10ucmVwbGFjZShjaHIoMjkpLCcnKQogICAgIyAgICAgICAgIGVsWydiYXJjb2RlX2Zyb21fc2Nhbm5lciddID0gZWxbJ2JhcmNvZGVfZnJvbV9zY2FubmVyJ10ucmVwbGFjZShjaHIoMjMyKSwgJycpCgoKZGVmIHBhcnNlX2JhcmNvZGUodmFsKToKICAgIGlmIGxlbih2YWwpIDwgMjE6CiAgICAgICAgcmV0dXJuIHsnR1RJTic6ICcnLCAnU2VyaWVzJzogJyd9CgogICAgdmFsLnJlcGxhY2UoJygwMSknLCcwMScpCiAgICB2YWwucmVwbGFjZSgnKDIxKScsICcyMScpCiAgICBpZiB2YWxbOjJdPT0nMDEnOgogICAgICAgIEdUSU4gPSB2YWxbMjoxNl0KICAgICAgICBTZXJpZXMgPSB2YWxbMTg6XQoKICAgIGVsc2U6CiAgICAgICAgR1RJTiA9IHZhbFs6MTRdCiAgICAgICAgU2VyaWVzID0gdmFsWzE0Ol0KCiAgICByZXR1cm4geydHVElOJzpHVElOLCAnU2VyaWVzJzpTZXJpZXN9CgoKZGVmIHNlcnZlcl9sb2FkX2RhdGEoaHR0cCk6CiAgICB1c2VybmFtZSA9IGh0dHBbJ3VzZXInXQogICAgcGFzc3dvcmQgPWh0dHBbJ3Bhc3MnXQogICAgdXJsID0gaHR0cFsndXJsJ10KICAgIGFuZHJvaWRfaWQgPSBodHRwWydhbmRyb2lkX2lkJ10KCgogICAgI2FuZHJvaWRfaWQgPSc3YjFiYzkxMzM1OGI3MDQ5JwogICAgIyByID0gcmVxdWVzdHMuZ2V0KHVybCArICcvZ2V0X2RhdGE/YW5kcm9pZF9pZD0nICsgYW5kcm9pZF9pZCwgYXV0aD1IVFRQQmFzaWNBdXRoKHVzZXJuYW1lLCBwYXNzd29yZCwgKSwKICAgICMgICAgICAgICAgICAgICAgICBoZWFkZXJzPXsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCd9LAogICAgIyAgICAgICAgICAgICAgICAgIHBhcmFtcz17J2NvZGUnOiBhbmRyb2lkX2lkLCAnZnVsbF9sb2FkJzogZnVsbF9sb2FkfSkKICAgIHIgPSByZXF1ZXN0cy5nZXQodXJsICsgJy9zaW1wbGVfYWNjb3VudGluZy9kYXRhP2FuZHJvaWRfaWQ9JyArIGFuZHJvaWRfaWQsIGF1dGg9SFRUUEJhc2ljQXV0aCh1c2VybmFtZSwgcGFzc3dvcmQsICksCiAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM9eydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PXV0Zi04J30sCiAgICAgICAgICAgICAgICAgICAgIHBhcmFtcz17J3VzZXJfbmFtZSc6IGh0dHBbJ3VzZXJfbmFtZSddLCAnZGV2aWNlX21vZGVsJzogaHR0cFsnZGV2aWNlX21vZGVsJ119KQogICAgIyBwcmludChyLnN0YXR1c19jb2RlKQogICAgIyBwcmludChyLnRleHQpCiAgICBhbnN3ZXIgPSB7J3N0YXR1c19jb2RlJzogci5zdGF0dXNfY29kZX0KICAgIGlmIHIuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgIHIuZW5jb2RpbmcgPSAndXRmLTgnCiAgICAgICAgamRhdGEgPSBqc29uLmxvYWRzKHIudGV4dC5lbmNvZGUoInV0Zi04IikpCgogICAgICAgIGlmICdmb3JtYXQnIGluIGpkYXRhLmtleXMoKToKICAgICAgICAgICAgYW5zd2VyWydmb3JtYXQnXSA9IGpkYXRhWydmb3JtYXQnXQogICAgICAgICAgICBpZiBqZGF0YVsnZm9ybWF0J10gPT0gJ2lzX2RhdGEnOgogICAgICAgICAgICAgICAgI9Cf0LDRgNGB0LjQvCwg0L/QsNGA0LDQvNC10YLRgCBkYXRhINGB0L7QtNC10YDQttC40YIg0YHQv9C40YHQvtC6INGB0LvQvtCy0LDRgNC10Lkg0YEg0LTQsNC90L3Ri9C80Lgg0LfQsNC/0YDQvtGB0LAKICAgICAgICAgICAgICAgIHJlc19mb3Jfc3FsID0ganNvbl90b19zcWxpdGVfcXVlcnkoamRhdGFbJ2RhdGEnXSkKICAgICAgICAgICAgICAgIGlmIHJlc19mb3Jfc3FsOgogICAgICAgICAgICAgICAgICAgIGFuc3dlclsncmVzX2Zvcl9zcWwnXSA9IHJlc19mb3Jfc3FsCgogICAgICAgICAgICBlbGlmIGpkYXRhWydmb3JtYXQnXSA9PSAnaXNfb2snOiAj0J3QsNGIINC30LDQv9GA0L7RgSDQv9GA0LjQvdGP0YIsINC90L4g0LLQtdGA0L3Rg9GC0Ywg0L/QvtC60LAg0L3QtdGH0LXQs9C+LiDQlNCw0L3QvdGL0LUg0LjQu9C4INCz0L7RgtC+0LLRj9GC0YHRjyDQuNC70Lgg0LjRhSDQvdC10YIKICAgICAgICAgICAgICAgIGlmIGpkYXRhLmdldCgnYmF0Y2gnKSBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICBhbnN3ZXJbJ2JhdGNoJ10gPSBqZGF0YS5nZXQoJ2JhdGNoJykKCiAgICAgICAgICAgIGVsaWYgamRhdGFbJ2Zvcm1hdCddID09ICdmaWxlX2xpc3QnOgogICAgICAgICAgICAgICAgY29sdW1uX25hbWVzID0gW10KICAgICAgICAgICAgICAgIGZvciBmaWxlcyBpbiBqZGF0YVsnZGF0YSddOgogICAgICAgICAgICAgICAgICAgIGNvbHVtbl9uYW1lcy5hcHBlbmQoZmlsZXMpCgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFuc3dlclsnZm9ybWF0J10gPSBOb25lCgoKICAgIGVsaWYgci5zdGF0dXNfY29kZSA9PSA0MDM6CgogICAgICAgIGFuc3dlclsnZXJyb3JfcG9vbCddID1bci50ZXh0XQogICAgZWxpZiByLnN0YXR1c19jb2RlID09IDQwMToKICAgICAgICBhbnN3ZXJbJ2Vycm9yX3Bvb2wnXT1bci5yZWFzb25dCiAgICBlbHNlOgogICAgICAgIGFuc3dlclsnZXJyb3JfcG9vbCddPVtyLnRleHRdCgogICAgcmV0dXJuIGFuc3dlcgoKCgogICAgIyDQv9C+0LTRgtCy0LXRgNC20LTQsNC10Lwg0L/RgNC40L3Rj9GC0LjQtSDQv9Cw0LrQtdGC0LAg0LTQsNC90L3Ri9GFINCyIDHQoQogICAgIyByID0gcmVxdWVzdHMuZ2V0KHVybCArICcvZ2V0X2V4Y2hhbmdlX2NvbmZpcm1hdGlvbj9hbmRyb2lkX2lkPScgKyBhbmRyb2lkX2lkLAogICAgIyAgICAgICAgICAgICAgICAgIGF1dGg9SFRUUEJhc2ljQXV0aCh1c2VybmFtZSwgcGFzc3dvcmQsICksCiAgICAjICAgICAgICAgICAgICAgICAgaGVhZGVycz17J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgnfSwKICAgICMgICAgICAgICAgICAgICAgICBwYXJhbXM9eydjb2RlJzogYW5kcm9pZF9pZCwgJ05ObWVzc2FnZSc6IE5ObWVzc2FnZX0pCgoKCmRlZiBqc29uX3RvX3NxbGl0ZV9xdWVyeShkYXRhKToKCiAgICBxbGlzdCA9IFtdCiAgICAj0KbQuNC60Lsg0L/QviDQuNC80LXQvdCw0Lwg0YLQsNCx0LvQuNGGCiAgICB0YWJsZV9saXN0ID0gKAogICAgJ1JTX2RvY190eXBlcycsICdSU19nb29kcycsICdSU19wcm9wZXJ0aWVzJywgJ1JTX3VuaXRzJywgJ1JTX3R5cGVzX2dvb2RzJywgJ1JTX3NlcmllcycsICdSU19jb3VudHJhZ2VudHMnLAogICAgJ1JTX3dhcmVob3VzZXMnLCAnUlNfcHJpY2VfdHlwZXMnLCAnUlNfY2VsbHMnLCAnUlNfYmFyY29kZXMnLCAnUlNfcHJpY2VzJywgJ1JTX2RvY190eXBlcycsICdSU19kb2NzJywKICAgICdSU19kb2NzX3RhYmxlJywgJ1JTX2RvY3NfYmFyY29kZXMnLCAnUlNfYWRyX2RvY3MnLCAnUlNfYWRyX2RvY3NfdGFibGUnKSAjLCwgJ1JTX2JhcmNfZmxvdycKICAgIHRhYmxlX2Zvcl9kZWxldGUgPSAoJ1JTX2RvY3NfdGFibGUnLCAnUlNfZG9jc19iYXJjb2RlcywgUlNfYWRyX2RvY3NfdGFibGUnKSAgIywgJ1JTX2JhcmNfZmxvdycKICAgIGRvY19pZF9saXN0ID0gW10KICAgIGZvciB0YWJsZV9uYW1lIGluIHRhYmxlX2xpc3Q6CiAgICAgICAgaWYgZGF0YS5nZXQodGFibGVfbmFtZSkgaXMgTm9uZToKICAgICAgICAgICAgY29udGludWUKCiAgICAjZm9yIHRhYmxlX25hbWUgaW4gZGF0YVsnZGF0YSddOgogICAgICAgIGlmIGRhdGFbdGFibGVfbmFtZV0gPT0gW106CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgI9CU0L7QsdCw0LLQuNC8INCyINC30LDQv9GA0L7RgdGLINGD0LTQsNC70LXQvdC40LUg0LjQtyDQsdCw0LfRiyDRgdGC0YDQvtC6INGC0LXRhSDQtNC+0LrRg9C80LXQvdGC0L7Qsiwg0YfRgtC+INC80Ysg0LfQsNCz0YDRg9C20LDQtdC8CiAgICAgICAgaWYgdGFibGVfbmFtZSBpbiB0YWJsZV9mb3JfZGVsZXRlOgogICAgICAgICAgICBxdWVyeSA9IGYiREVMRVRFIEZST00ge3RhYmxlX25hbWV9IFdIRVJFIGlkX2RvYyBpbiAoeycsICcuam9pbihkb2NfaWRfbGlzdCl9KSAiCiAgICAgICAgICAgIHFsaXN0LmFwcGVuZChxdWVyeSkKCiAgICAgICAgY29sdW1uX25hbWVzID0gZGF0YVt0YWJsZV9uYW1lXVswXS5rZXlzKCkKICAgICAgICBpZiAnbWFya19jb2RlJyBpbiBjb2x1bW5fbmFtZXM6CiAgICAgICAgICAgIHF1ZXJ5X2NvbF9uYW1lcyA9IGxpc3QoY29sdW1uX25hbWVzKQogICAgICAgICAgICBxdWVyeV9jb2xfbmFtZXMuYXBwZW5kKCdHVElOJykKICAgICAgICAgICAgcXVlcnlfY29sX25hbWVzLmFwcGVuZCgnU2VyaWVzJykKICAgICAgICAgICAgcXVlcnlfY29sX25hbWVzLnJlbW92ZSgnbWFya19jb2RlJykKICAgICAgICBlbHNlOgogICAgICAgICAgICBxdWVyeV9jb2xfbmFtZXMgPSBjb2x1bW5fbmFtZXMKCiAgICAgICAgcXVlcnkgPSBmIlJFUExBQ0UgSU5UTyB7dGFibGVfbmFtZX0gKHsnLCAnLmpvaW4ocXVlcnlfY29sX25hbWVzKX0pIFZBTFVFUyAiCiAgICAgICAgdmFsdWVzID0gW10KCiAgICAgICAgZm9yIHJvdyBpbiBkYXRhW3RhYmxlX25hbWVdOgoKICAgICAgICAgICAgcm93X3ZhbHVlcyA9IFtdCiAgICAgICAgICAgIGxpc3RfcXVvdGVkX2ZpZWxkcyA9ICgnbmFtZScsICdmdWxsX25hbWUnLCAibWFya19jb2RlIiwgImFydCIpCiAgICAgICAgICAgIGZvciBjb2wgaW4gY29sdW1uX25hbWVzOgogICAgICAgICAgICAgICAgaWYgY29sIGluIGxpc3RfcXVvdGVkX2ZpZWxkcyBhbmQgICJcIiIgaW4gcm93W2NvbF06CiAgICAgICAgICAgICAgICAgICAgcm93W2NvbF0gPSByb3dbY29sXS5yZXBsYWNlKCJcIiIsICJcIlwiIikKICAgICAgICAgICAgICAgIGlmIHJvd1tjb2xdIGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgcm93W2NvbF0gPSAnJwogICAgICAgICAgICAgICAgaWYgY29sID09ICdtYXJrX2NvZGUnOiAgICPQl9Cw0LzQtdC90Y/QtdC8INGN0YLQviDQv9C+0LvQtSDQvdCwINC/0L7Qu9GPIEdUSU4g0LggU2VyaWVzCiAgICAgICAgICAgICAgICAgICAgYmFyY19zdHJ1Y3QgPSBwYXJzZV9iYXJjb2RlKHJvd1tjb2xdKQogICAgICAgICAgICAgICAgICAgIHJvd192YWx1ZXMuYXBwZW5kKGJhcmNfc3RydWN0WydHVElOJ10pCiAgICAgICAgICAgICAgICAgICAgcm93X3ZhbHVlcy5hcHBlbmQoYmFyY19zdHJ1Y3RbJ1NlcmllcyddKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICByb3dfdmFsdWVzLmFwcGVuZChyb3dbY29sXSkgICMoZicie3Jvd1tjb2xdfSInKQogICAgICAgICAgICAgICAgaWYgY29sID09ICdpZF9kb2MnIGFuZCB0YWJsZV9uYW1lID09ICdSU19kb2NzJzoKICAgICAgICAgICAgICAgICAgICBkb2NfaWRfbGlzdC5hcHBlbmQoJyInK3Jvd1tjb2xdKyciJykKICAgICAgICAgICAgZm9ybWF0dGVkX3ZhbCAgPSBbZicie3h9IicgaWYgaXNpbnN0YW5jZSh4LCBzdHIpIGVsc2Ugc3RyKHgpIGZvciB4IGluIHJvd192YWx1ZXNdCiAgICAgICAgICAgIHZhbHVlcy5hcHBlbmQoZiIoeycsICcuam9pbihmb3JtYXR0ZWRfdmFsKX0pIikKICAgICAgICBxdWVyeSArPSAiLCAiLmpvaW4odmFsdWVzKQogICAgICAgIHFsaXN0LmFwcGVuZChxdWVyeSkKCgogICAgcmV0dXJuIHFsaXN0CgoKCmRlZiBnZXRfYWxsX2NoYW5nZXNfZnJvbV9kYXRhYmFzZShkb2NfbGlzdD0nJyk6CiAgICB0cnk6CiAgICAgICAgcXRleHQgPSBmJycnCiAgICAgICAgU0VMRUNUICogRlJPTSBSU19kb2NzIFdIRVJFIGlkX2RvYyBpbiAoe2RvY19saXN0fSknJycKICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCxOb25lLFRydWUpCiAgICAgICAgcXRleHQgPSBmJycnCiAgICAgICAgICAgIFNFTEVDVCAqIEZST00gUlNfZG9jc190YWJsZSBXSEVSRSBpZF9kb2MgaW4gKHtkb2NfbGlzdH0pJycnIyBpbiAoCiAgICAgICAgICAgICNTRUxFQ1QgaWRfZG9jIEZST00gUlNfZG9jcyBXSEVSRSB2ZXJpZmllZCBpcyBOdWxsKScnJwogICAgICAgIHJlc19kb2NzX3RhYmxlID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsTm9uZSxUcnVlKQogICAgICAgIHF0ZXh0ID0gZicnJwogICAgICAgICAgICBTRUxFQ1QgKiBGUk9NIFJTX2RvY3NfYmFyY29kZXMgV0hFUkUgaWRfZG9jIGluICh7ZG9jX2xpc3R9KSBhbmQgYmFyY29kZV9mcm9tX3NjYW5uZXIgaXMgbm90IE51bGwnJycjIGluICgKICAgICAgICAgICAgI1NFTEVDVCBpZF9kb2MgRlJPTSBSU19kb2NzIFdIRVJFIHZlcmlmaWVkIGlzIE51bGwpJycnCiAgICAgICAgcmVzX2RvY3NfYmFyY29kZSA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LE5vbmUsVHJ1ZSkKICAgICAgICByZXNfZG9jc19iYXJjb2RlID0gcmVwbGFzZV9nc19pbl9yZXMocmVzX2RvY3NfYmFyY29kZSkKICAgICAgICBxdGV4dCA9IGYnJycKICAgICAgICAgICAgU0VMRUNUICogRlJPTSBSU19iYXJjX2Zsb3cgV0hFUkUgaWRfZG9jIGluICh7ZG9jX2xpc3R9KScnJyMgaW4gKAogICAgICAgICAgICAjU0VMRUNUIGlkX2RvYyBGUk9NIFJTX2RvY3MgV0hFUkUgdmVyaWZpZWQgaXMgTnVsbCknJycKICAgICAgICByZXNfZmxvdyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LE5vbmUsVHJ1ZSkKICAgICAgICByZXNfZmxvdyA9IHJlcGxhc2VfZ3NfaW5fcmVzKHJlc19mbG93KQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBzcWxfZXJyb3IgPSBUcnVlCiAgICAgICAgICAgICNlcnJvcl9wb29sLmFwcGVuZChlLmFyZ3NbMF0pCiAgICAgICAgICAgIHJldHVybiB7J0Vycm9yJzplLmFyZ3NbMF19CiAgICAjIGlmIGxlbihyZXMpID09IDA6CiAgICAjICAgICByZXR1cm4gTm9uZQoKICAgIGZvciBpdGVtIGluIHJlczoKICAgICAgICBmaWx0ZXJlZF9saXN0ID0gW2QgZm9yIGQgaW4gcmVzX2RvY3NfdGFibGUgaWYgZFsnaWRfZG9jJ10gPT0gaXRlbVsnaWRfZG9jJ11dCiAgICAgICAgaXRlbVsnUlNfZG9jc190YWJsZSddID0gZmlsdGVyZWRfbGlzdAoKICAgICAgICBmaWx0ZXJlZF9saXN0ID0gW2QgZm9yIGQgaW4gcmVzX2RvY3NfYmFyY29kZSBpZiBkWydpZF9kb2MnXSA9PSBpdGVtWydpZF9kb2MnXV0KICAgICAgICBpdGVtWydSU19kb2NzX2JhcmNvZGVzJ10gPSBmaWx0ZXJlZF9saXN0CgogICAgICAgIGZpbHRlcmVkX2xpc3QgPSBbZCBmb3IgZCBpbiByZXNfZmxvdyBpZiBkWydpZF9kb2MnXSA9PSBpdGVtWydpZF9kb2MnXV0KICAgICAgICBpdGVtWydSU19iYXJjX2Zsb3cnXSA9IGZpbHRlcmVkX2xpc3QKICAgICPQkNC00YDQtdGB0L3QvtC1INGF0YDQsNC90LXQvdC40LUKICAgIHRyeToKICAgICAgICBxdGV4dCA9IGYnJycKICAgICAgICBTRUxFQ1QgKiBGUk9NIFJTX2Fkcl9kb2NzIFdIRVJFIGlkX2RvYyBpbiAoe2RvY19saXN0fSknJycKICAgICAgICByZXNfYWRyID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsTm9uZSxUcnVlKQogICAgICAgIHF0ZXh0ID0gZicnJwogICAgICAgICAgICBTRUxFQ1QgKiBGUk9NIFJTX2Fkcl9kb2NzX3RhYmxlIFdIRVJFIGlkX2RvYyBpbiAoe2RvY19saXN0fSknJycjIGluICgKICAgICAgICAgICAgI1NFTEVDVCBpZF9kb2MgRlJPTSBSU19kb2NzIFdIRVJFIHZlcmlmaWVkIGlzIE51bGwpJycnCiAgICAgICAgcmVzX2Fkcl9kb2NzX3RhYmxlID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsTm9uZSxUcnVlKQoKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgc3FsX2Vycm9yID0gVHJ1ZQogICAgICAgICAgICAjZXJyb3JfcG9vbC5hcHBlbmQoZS5hcmdzWzBdKQogICAgICAgICAgICByZXR1cm4geydFcnJvcic6ZS5hcmdzWzBdfQogICAgIyBpZiBsZW4ocmVzKSA9PSAwOgogICAgIyAgICAgcmV0dXJuIE5vbmUKCiAgICBmb3IgaXRlbSBpbiByZXNfYWRyOgogICAgICAgIGZpbHRlcmVkX2xpc3QgPSBbZCBmb3IgZCBpbiByZXNfYWRyX2RvY3NfdGFibGUgaWYgZFsnaWRfZG9jJ10gPT0gaXRlbVsnaWRfZG9jJ11dCiAgICAgICAgaXRlbVsnUlNfYWRyX2RvY3NfdGFibGUnXSA9IGZpbHRlcmVkX2xpc3QKCgoKICAgIGlmIGxlbihyZXMpICsgbGVuKHJlc19hZHIpID09IDA6CiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICByZXR1cm4ganNvbi5kdW1wcyhyZXMgKyByZXNfYWRyKQoKCmRlZiBwb3N0X2NoYW5nZXNfdG9fc2VydmVyKGRvY19saXN0LCBodHBwYXJhbXMpOgogICAgdXJsID0gaHRwcGFyYW1zWyd1cmwnXQogICAgdXNlcm5hbWUgPSBodHBwYXJhbXNbJ3VzZXInXQogICAgcGFzc3dvcmQgPSBodHBwYXJhbXNbJ3Bhc3MnXQogICAgYW5kcm9pZF9pZCA9IGh0cHBhcmFtc1snYW5kcm9pZF9pZCddCiAgICByZXMgPSBnZXRfYWxsX2NoYW5nZXNfZnJvbV9kYXRhYmFzZShkb2NfbGlzdCkKICAgIGlmIHR5cGUocmVzKSA9PSB0eXBlKGRpY3QpIGFuZCByZXMuZ2V0KCdFcnJvcicpOgogICAgICAgIGFuc3dlciA9IHsnZW1wdHknOiBUcnVlLCAnRXJyb3InOnJlcy5nZXQoJ0Vycm9yJyl9CgogICAgICAgIHJldHVybiBhbnN3ZXIKICAgIGFuc3dlciA9IHsnZW1wdHknOlRydWV9CiAgICBpZiByZXMgaXMgbm90IE5vbmU6CgogICAgICAgIHIgPSByZXF1ZXN0cy5wb3N0KHVybCArICcvc2ltcGxlX2FjY291bnRpbmcvZG9jdW1lbnRzP2FuZHJvaWRfaWQ9JyArIGFuZHJvaWRfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoPUhUVFBCYXNpY0F1dGgodXNlcm5hbWUsIHBhc3N3b3JkLCApLAogICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycz17J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgnfSwKICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcz17J3VzZXJfbmFtZSc6IGh0cHBhcmFtc1sndXNlcl9uYW1lJ10sICdkZXZpY2VfbW9kZWwnOiBodHBwYXJhbXNbJ2RldmljZV9tb2RlbCddfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhPXJlcyApCiAgICAgICAgYW5zd2VyWydzdGF0dXNfY29kZSddID1yLnN0YXR1c19jb2RlCiAgICAgICAgaWYgci5zdGF0dXNfY29kZSA9PSAyMDA6CiAgICAgICAgICAgIGFuc3dlclsnZW1wdHknXT1GYWxzZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFuc3dlclsnZW1wdHknXSA9IFRydWUKICAgICAgICAgICAgYW5zd2VyWydFcnJvciddID0gci50ZXh0CgogICAgcmV0dXJuIGFuc3dlcgoKCmRlZiBwb3N0X2dvb2RzX3RvX3NlcnZlcihkb2NfaWQsIGh0dHBfcGFyYW1zKToKICAgIGhzX3NlcnZpY2UgPSBIc1NlcnZpY2UoaHR0cF9wYXJhbXMpCiAgICBkb2Nfc2VydmljZSA9IERvY1NlcnZpY2UoZG9jX2lkKQoKICAgIHJlcyA9IGRvY19zZXJ2aWNlLmdldF9sYXN0X2VkaXRlZF9nb29kcyh0b19qc29uPUZhbHNlKQoKICAgIGlmIGlzaW5zdGFuY2UocmVzLCBkaWN0KSBhbmQgcmVzLmdldCgnRXJyb3InKToKICAgICAgICBhbnN3ZXIgPSB7J2VtcHR5JzogVHJ1ZSwgJ0Vycm9yJzogcmVzLmdldCgnRXJyb3InKX0KICAgICAgICByZXR1cm4gYW5zd2VyCiAgICBlbGlmIHJlczoKICAgICAgICBoc19zZXJ2aWNlLnNlbmRfZG9jdW1lbnRzKHJlcykKICAgICAgICBpZiBub3QgcmVzIG9yIChpc2luc3RhbmNlKHJlcywgZGljdCkgYW5kIHJlcy5nZXQoJ0Vycm9yJykpOgogICAgICAgICAgICBhbnN3ZXIgPSB7J2VtcHR5JzogVHJ1ZSwgJ0Vycm9yJzogcmVzLmdldCgnRXJyb3InKX0KICAgICAgICAgICAgcmV0dXJuIGFuc3dlcgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRvY19zZXJ2aWNlLnVwZGF0ZV9zZW50X2RhdGEocmVzKQoKICAgIHRpbWVyX3NlcnZlcl9sb2FkX2RhdGEoaHR0cF9wYXJhbXMpCgoKZGVmIHRpbWVyX3NlcnZlcl9sb2FkX2RhdGEoaHR0cF9wYXJhbXMpOgogICAgaHNfc2VydmljZSA9IEhzU2VydmljZShodHRwX3BhcmFtcykKICAgIGRvY19zZXJ2aWNlID0gRG9jU2VydmljZSgnJykKCiAgICBkb2NzX2RhdGEgPSBoc19zZXJ2aWNlLmdldF9kYXRhKCkKICAgIGlmIGRvY3NfZGF0YS5nZXQoJ2RhdGEnKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGV4aXN0aW5nX2RvY3NfbGlzdCA9IGRvY19zZXJ2aWNlLmdldF9leGlzdGluZ19kb2NzX25hbWVzX2xpc3QoKQogICAgICAgICAgICBkb2Nfc2VydmljZS51cGRhdGVfZGF0YV9mcm9tX2pzb24oZG9jc19kYXRhWydkYXRhJ10pCiAgICAgICAgICAgIGRvY3NfbGlzdF9hZnRlcl9sb2FkID0gZG9jX3NlcnZpY2UuZ2V0X2V4aXN0aW5nX2RvY3NfbmFtZXNfbGlzdCgpCiAgICAgICAgICAgIGRpZmYgPSBbeCBmb3IgeCBpbiBkb2NzX2xpc3RfYWZ0ZXJfbG9hZCBpZiB4IG5vdCBpbiBleGlzdGluZ19kb2NzX2xpc3RdCiAgICAgICAgICAgIGRpZmZfc3RyID0gc3RyKGRpZmYpWzE6LTFdLnJlcGxhY2UoIiwiLCAiICIpLnJlcGxhY2UoIigiLCAiIikucmVwbGFjZSgiKSIsICIiKS5yZXBsYWNlKCInIiwgIiIpCiAgICAgICAgICAgIHJldHVybiBkaWZmX3N0cgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcmFpc2UgZQogICAgICAgICAgICAjIHJldHVybiB7J2VtcHR5JzogVHJ1ZSwgJ0Vycm9yJzogZS5hcmdzWzBdfQoKCgo="
            },
            {
                "file_path": "C:/projects/python/simple_keep\\ui_utils.py",
                "PyFileKey": "ui_utils",
                "PyFileData": "aW1wb3J0IGpzb24KZnJvbSB0eXBpbmcgaW1wb3J0IENhbGxhYmxlCmZyb20gZnVuY3Rvb2xzIGltcG9ydCB3cmFwcwoKZnJvbSBqYXZhIGltcG9ydCBqY2xhc3MKZnJvbSB1aV9nbG9iYWwgaW1wb3J0IFJzX2RvYywgZmluZF9iYXJjb2RlX2luX2JhcmNvZGVfdGFibGUKZnJvbSBkYl9zZXJ2aWNlcyBpbXBvcnQgRG9jU2VydmljZQoKbm9DbGFzcyA9IGpjbGFzcygicnUudHJhdmVsZm9vZC5zaW1wbGVfdWkuTm9TUUwiKQpyc19zZXR0aW5ncyA9IG5vQ2xhc3MoInJzX3NldHRpbmdzIikKCgojINCa0LvQsNGB0YEt0LTQtdC60L7RgNCw0YLQvtGAINC00LvRjyDRg9C00L7QsdC90L7QuSDRgNCw0LHQvtGC0Ysg0YEgaGFzaE1hcC4g0KLQsNC60LbQtSDQvNC+0LbQvdC+INC00L7QsdCw0LLQuNGC0Ywg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YPRjiDQu9C+0LPQuNC60YMuCmNsYXNzIEhhc2hNYXA6CiAgICBkZWYgX19pbml0X18oc2VsZiwgaGFzaF9tYXA9Tm9uZSwgZGVidWc6IGJvb2wgPSBGYWxzZSk6CiAgICAgICAgc2VsZi5oYXNoX21hcCA9IGhhc2hfbWFwCiAgICAgICAgc2VsZi5kZWJ1Z19tb2RlID0gZGVidWcKCiAgICBkZWYgX19jYWxsX18oc2VsZiwgZnVuYzogQ2FsbGFibGVbLi4uLCBOb25lXSk6CiAgICAgICAgQHdyYXBzKGZ1bmMpCiAgICAgICAgZGVmIHdyYXBwZXIoaGFzaE1hcCwgKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICAgICAgc2VsZi5pbml0KGhhc2hNYXApCiAgICAgICAgICAgIGZ1bmMoc2VsZikKICAgICAgICAgICAgcmV0dXJuIGhhc2hNYXAKCiAgICAgICAgcmV0dXJuIHdyYXBwZXIKCiAgICBkZWYgaW5pdChzZWxmLCBoYXNoTWFwKToKICAgICAgICBzZWxmLmhhc2hfbWFwID0gaGFzaE1hcAoKICAgIGRlZiB0b2FzdChzZWxmLCB0ZXh0LCBhZGRfdG9fbG9nPUZhbHNlKToKICAgICAgICBzZWxmLmhhc2hfbWFwLnB1dCgndG9hc3QnLCBzdHIodGV4dCkpCiAgICAgICAgaWYgYWRkX3RvX2xvZzoKICAgICAgICAgICAgc2VsZi5lcnJvcl9sb2codGV4dCkKCiAgICBkZWYgbm90aWZpY2F0aW9uKHNlbGYsIHRleHQsIHRpdGxlPU5vbmUsIGFkZF90b19sb2c9RmFsc2UpOgogICAgICAgIGlmIHRpdGxlIGlzIE5vbmU6CiAgICAgICAgICAgIHRpdGxlID0gc2VsZi5nZXRfY3VycmVudF9zY3JlZW4oKQogICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCJiYXNpY19ub3RpZmljYXRpb24iLCBqc29uLmR1bXBzKFt7J251bWJlcic6IDEsICd0aXRsZSc6IHRpdGxlLCAnbWVzc2FnZSc6IHRleHR9XSkpCiAgICAgICAgaWYgYWRkX3RvX2xvZzoKICAgICAgICAgICAgc2VsZi5lcnJvcl9sb2codGV4dCkKCiAgICBkZWYgZGVidWcoc2VsZiwgdGV4dCk6CiAgICAgICAgaWYgc2VsZi5kZWJ1Z19tb2RlOgogICAgICAgICAgICBzZWxmLnRvYXN0KHRleHQsIGFkZF90b19sb2c9VHJ1ZSkKCiAgICBkZWYgcmVmcmVzaF9zY3JlZW4oc2VsZik6CiAgICAgICAgc2VsZi5oYXNoX21hcC5wdXQoJ1JlZnJlc2hTY3JlZW4nLCAnJykKCiAgICBkZWYgcnVuX2V2ZW50KHNlbGYsIG1ldGhvZF9uYW1lKToKICAgICAgICBzZWxmWydSdW5FdmVudCddID0ganNvbi5kdW1wcyhzZWxmLl9nZXRfZXZlbnQobWV0aG9kX25hbWUpKQoKICAgIGRlZiBydW5fZXZlbnRfYXN5bmMoc2VsZiwgbWV0aG9kX25hbWUpOgogICAgICAgIHNlbGZbJ1J1bkV2ZW50J10gPSBqc29uLmR1bXBzKHNlbGYuX2dldF9ldmVudChtZXRob2RfbmFtZSwgVHJ1ZSkpCgogICAgZGVmIF9nZXRfZXZlbnQoc2VsZiwgbWV0aG9kX25hbWUsIGFzeW5jX2FjdGlvbj1GYWxzZSk6CiAgICAgICAgZXZ0ID0gW3sKICAgICAgICAgICAgJ2FjdGlvbic6ICdydW5hc3luYycgaWYgYXN5bmNfYWN0aW9uIGVsc2UgJ3J1bicsCiAgICAgICAgICAgICd0eXBlJzogJ3B5dGhvbicsCiAgICAgICAgICAgICdtZXRob2QnOiBtZXRob2RfbmFtZSwKICAgICAgICB9XQogICAgICAgIHJldHVybiBldnQKCiAgICBkZWYgZXJyb3JfbG9nKHNlbGYsIGVycl9kYXRhKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGVycl9kYXRhID0ganNvbi5kdW1wcyhlcnJfZGF0YSwgZW5zdXJlX2FzY2lpPUZhbHNlLCBpbmRlbnQ9MikKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGVycl9kYXRhID0gc3RyKGVycl9kYXRhKQoKICAgICAgICByc19zZXR0aW5ncy5wdXQoJ2Vycm9yX2xvZycsIGVycl9kYXRhLCBUcnVlKQoKICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLCBpdGVtKToKICAgICAgICByZXR1cm4gc2VsZi5nZXQoaXRlbSwgRmFsc2UpCgogICAgZGVmIF9fc2V0aXRlbV9fKHNlbGYsIGtleSwgdmFsdWUpOgogICAgICAgIHNlbGYucHV0KGtleSwgdmFsdWUsIEZhbHNlKQoKICAgIGRlZiBnZXQoc2VsZiwgaXRlbSwgZnJvbV9qc29uPUZhbHNlKToKICAgICAgICBpZiBmcm9tX2pzb246CiAgICAgICAgICAgIHJldHVybiBqc29uLmxvYWRzKHNlbGYuaGFzaF9tYXAuZ2V0KGl0ZW0pKSBpZiBzZWxmLmhhc2hfbWFwLmdldChpdGVtKSBlbHNlIE5vbmUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gc2VsZi5oYXNoX21hcC5nZXQoaXRlbSkKCiAgICBkZWYgZ2V0X2pzb24oc2VsZiwgaXRlbSk6CiAgICAgICAgcmV0dXJuIGpzb24ubG9hZHMoc2VsZi5oYXNoX21hcC5nZXQoaXRlbSkpIGlmIHNlbGYuaGFzaF9tYXAuZ2V0KGl0ZW0pIGVsc2UgTm9uZQoKICAgIGRlZiBnZXRfYm9vbChzZWxmLCBpdGVtKToKICAgICAgICB2YWx1ZSA9IHN0cihzZWxmLmhhc2hfbWFwLmdldChpdGVtKSkubG93ZXIoKSBub3QgaW4gKCcwJywgJ2ZhbHNlJywgJ25vbmUnKQogICAgICAgIHJldHVybiB2YWx1ZQoKICAgIGRlZiBwdXQoc2VsZiwga2V5LCB2YWx1ZSwgdG9fanNvbj1GYWxzZSk6CiAgICAgICAgaWYgdG9fanNvbjoKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5wdXQoa2V5LCBqc29uLmR1bXBzKHZhbHVlKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnB1dChrZXksIHN0cih2YWx1ZSkpCgogICAgZGVmIHB1dF9kYXRhKHNlbGYsIGRhdGE6IGRpY3QpOgogICAgICAgIGZvciBrZXksIHZhbHVlIGluIGRhdGEuaXRlbXMoKToKICAgICAgICAgICAgc2VsZltrZXldID0gdmFsdWUKCiAgICBkZWYgY29udGFpbnNLZXkoc2VsZiwga2V5KToKICAgICAgICByZXR1cm4gc2VsZi5oYXNoX21hcC5jb250YWluc0tleShrZXkpCgogICAgZGVmIHJlbW92ZShzZWxmLCBrZXkpOgogICAgICAgIHNlbGYuaGFzaF9tYXAucmVtb3ZlKGtleSkKCiAgICBkZWYgZGVsZXRlKHNlbGYsIGtleSk6CiAgICAgICAgc2VsZi5oYXNoX21hcC5yZW1vdmUoa2V5KQoKICAgIGRlZiBleHBvcnQoc2VsZikgLT4gbGlzdDoKICAgICAgICByZXR1cm4gc2VsZi5oYXNoX21hcC5leHBvcnQoKQoKICAgIGRlZiB0b19qc29uKHNlbGYpOgogICAgICAgIHJldHVybiBqc29uLmR1bXBzKHNlbGYuZXhwb3J0KCksIGluZGVudD00LCBlbnN1cmVfYXNjaWk9RmFsc2UpLmVuY29kZSgndXRmOCcpLmRlY29kZSgpCgogICAgZGVmIHNob3dfc2NyZWVuKHNlbGYsIG5hbWUsIGRhdGE9Tm9uZSk6CiAgICAgICAgc2VsZi5wdXQoJ1Nob3dTY3JlZW4nLCBuYW1lKQogICAgICAgIGlmIGRhdGE6CiAgICAgICAgICAgIHNlbGYucHV0X2RhdGEoZGF0YSkKCiAgICBkZWYgc2hvd19kaWFsb2coc2VsZiwgbGlzdGVuZXIsIHRpdGxlPScnLCBidXR0b25zPU5vbmUpOgogICAgICAgIHNlbGYucHV0KCJTaG93RGlhbG9nIiwgbGlzdGVuZXIpCgogICAgICAgIGlmIHRpdGxlIG9yIGJ1dHRvbnM6CiAgICAgICAgICAgIGRpYWxvZ19zdHlsZSA9IHsKICAgICAgICAgICAgICAgICd0aXRsZSc6IHRpdGxlIG9yIGxpc3RlbmVyLAogICAgICAgICAgICAgICAgJ3llcyc6ICfQntC6JywKICAgICAgICAgICAgICAgICdubyc6ICfQntGC0LzQtdC90LAnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgYnV0dG9ucyBhbmQgbGVuKGJ1dHRvbnMpID4gMToKICAgICAgICAgICAgICAgIGRpYWxvZ19zdHlsZVsneWVzJ10gPSBidXR0b25zWzBdCiAgICAgICAgICAgICAgICBkaWFsb2dfc3R5bGVbJ25vJ10gPSBidXR0b25zWzFdCgogICAgICAgICAgICBzZWxmLnB1dCgnU2hvd0RpYWxvZ1N0eWxlJywgZGlhbG9nX3N0eWxlKQoKICAgIGRlZiBnZXRfY3VycmVudF9zY3JlZW4oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGZbJ2N1cnJlbnRfc2NyZWVuX25hbWUnXQoKICAgIGRlZiBnZXRfY3VycmVudF9wcm9jZXNzKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmWydjdXJyZW50X3Byb2Nlc3NfbmFtZSddCgpjbGFzcyBSc0RvYyhSc19kb2MpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGlkX2RvYyk6CiAgICAgICAgc2VsZi5pZF9kb2MgPSBpZF9kb2MKCiAgICBkZWYgdXBkYXRlX2RvY19zdHIoc2VsZiwgcHJpY2U9MCk6CiAgICAgICAgcGFzcwoKICAgIGRlZiBkZWxldGVfZG9jKHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgY2xlYXJfYmFyY29kZV9kYXRhKHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgbWFya19mb3JfdXBsb2FkKHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgbWFya192ZXJpZmllZChzZWxmLCBrZXkpOgogICAgICAgIHN1cGVyKCkubWFya192ZXJpZmllZChrZXkpCgogICAgZGVmIGZpbmRfYmFyY29kZV9pbl90YWJsZShzZWxmLCBzZWFyY2hfdmFsdWUsIGZ1bmNfY29tcGFyZWQ9Jz0/JykgLT4gZGljdDoKICAgICAgICByZXN1bHQgPSBzdXBlcigpLmZpbmRfYmFyY29kZV9pbl90YWJsZShzZWFyY2hfdmFsdWUsIGZ1bmNfY29tcGFyZWQpCiAgICAgICAgaWYgcmVzdWx0OgogICAgICAgICAgICByZXR1cm4gcmVzdWx0WzBdCgoKICAgIGRlZiBmaW5kX2JhcmNvZGVfaW5fbWFya190YWJsZShzZWxmLCBzZWFyY2hfdmFsdWU6IHN0ciwgZnVuY19jb21wYXJlZD0nPT8nKToKICAgICAgICBwYXNzCgogICAgZGVmIHVwZGF0ZV9kb2NfdGFibGVfZGF0YShzZWxmLCBlbGVtX2Zvcl9hZGQ6IGRpY3QsIHF0dHk9MSwgdXNlcl90bXo9MCk6CiAgICAgICAgcGFzcwoKICAgIGRlZiBhZGRfbWFya2VkX2NvZGVzX2luX2RvYyhzZWxmLCBiYXJjb2RlX2luZm8pOgogICAgICAgIHBhc3MKCiAgICBkZWYgYWRkX25ld19iYXJjb2RlX2luX2RvY19iYXJjb2Rlc190YWJsZShzZWxmLCBlbCwgYmFyY29kZV9pbmZvKToKICAgICAgICBwYXNzCgogICAgZGVmIHByb2Nlc3NfdGhlX2JhcmNvZGUoCiAgICAgICAgICAgIHNlbGYsCiAgICAgICAgICAgIGJhcmNvZGUsCiAgICAgICAgICAgIGhhdmVfcXR0eV9wbGFuPUZhbHNlLAogICAgICAgICAgICBoYXZlX3plcm9fcGxhbj1GYWxzZSwKICAgICAgICAgICAgY29udHJvbD1GYWxzZSwKICAgICAgICAgICAgaGF2ZV9tYXJrX3BsYW49RmFsc2UsCiAgICAgICAgICAgIGVsZW09Tm9uZSwKICAgICAgICAgICAgdXNlX21hcmtfc2V0dGluZz0nZmFsc2UnLAogICAgICAgICAgICB1c2VyX3Rtej0wKToKCiAgICAgICAgUnNfZG9jLmlkX2RvYyA9IHNlbGYuaWRfZG9jCiAgICAgICAgcmVzdWx0ID0gUnNfZG9jLnByb2Nlc3NfdGhlX2JhcmNvZGUoCiAgICAgICAgICAgIFJzX2RvYywgYmFyY29kZSwgaGF2ZV9xdHR5X3BsYW4sIGhhdmVfemVyb19wbGFuLCBjb250cm9sLCBoYXZlX21hcmtfcGxhbiwgZWxlbSwgdXNlX21hcmtfc2V0dGluZywgdXNlcl90bXoKICAgICAgICApCiAgICAgICAgaWYgbm90IHJlc3VsdC5nZXQoJ0Vycm9yJyk6CiAgICAgICAgICAgIHNlcnZpY2UgPSBEb2NTZXJ2aWNlKHNlbGYuaWRfZG9jKQogICAgICAgICAgICBzZXJ2aWNlLnNldF9kb2NfdmFsdWUoJ3NlbnQnLCAwKQoKICAgICAgICAgICAgcmVzID0gc2VsZi5maW5kX2JhcmNvZGVfaW5fdGFibGUoYmFyY29kZSkKICAgICAgICAgICAgaWYgcmVzLmdldCgnaWQnKToKICAgICAgICAgICAgICAgIHJlc3VsdFsna2V5J10gPSByZXNbJ2lkJ10KCiAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgIGRlZiBhZGQoc2VsZiwgYXJncyk6CiAgICAgICAgcGFzcwoKICAgIGRlZiBnZXRfbmV3X2lkKHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgZmluZF9iYXJjb2RlX2luX2JhcmNvZGVfdGFibGUoc2VsZiwgYmFyY29kZSk6CiAgICAgICAgcmV0dXJuIGZpbmRfYmFyY29kZV9pbl9iYXJjb2RlX3RhYmxlKGJhcmNvZGUpCgoKZGVmIGZvcm1hdF9kb2NfZGF0ZShkYXRlX3N0cmluZyk6CiAgICBuZXdfZGF0ZV9zdHJpbmcgPSBkYXRlX3N0cmluZ1s4OjEwXSArICIuIiArIGRhdGVfc3RyaW5nWzU6N10gKyAiLiIgKyBkYXRlX3N0cmluZ1swOjRdICsgIiAiICsgXAogICAgICAgICAgICAgICAgICAgICAgZGF0ZV9zdHJpbmdbMTE6MTNdICsgIjoiICsgZGF0ZV9zdHJpbmdbMTQ6MTZdICsgIjoiICsgZGF0ZV9zdHJpbmdbMTc6MTldCiAgICByZXR1cm4gbmV3X2RhdGVfc3RyaW5n"
            },
            {
                "file_path": "C:/projects/python/simple_keep\\widgets.py",
                "PyFileKey": "widgets",
                "PyFileData": "ZnJvbSBhYmMgaW1wb3J0IEFCQywgYWJzdHJhY3RtZXRob2QKZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QKaW1wb3J0IGpzb24KCndyYXBfY29udGVudCA9ICJ3cmFwX2NvbnRlbnQiCm1hdGNoX3BhcmVudCA9ICdtYXRjaF9wYXJlbnQnCgoKY2xhc3MgV2lkZ2V0KEFCQyk6CiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqKmt3YXJncyk6CiAgICAgICAgc2VsZi50eXBlOiBzdHIKICAgICAgICBzZWxmLlZhbHVlOiBzdHIKICAgICAgICBzZWxmLndpZHRoID0gd3JhcF9jb250ZW50CiAgICAgICAgc2VsZi5oZWlnaHQgPSB3cmFwX2NvbnRlbnQKICAgICAgICBzZWxmLndlaWdodCA9IDAKCiAgICAgICAgaWYga3dhcmdzOgogICAgICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBrd2FyZ3MuaXRlbXMoKToKICAgICAgICAgICAgICAgIHNlbGYuX19kaWN0X19ba2V5XSA9IHZhbHVlCgogICAgZGVmIHRvX2pzb24oc2VsZik6CiAgICAgICAgcmV0dXJuIGpzb24uZHVtcHMoc2VsZiwgZGVmYXVsdD1sYW1iZGEgeDogdmFycyh4KSwgaW5kZW50PTQpCgoKY2xhc3MgUGljdHVyZShXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsICoqa3dhcmdzKToKICAgICAgICBzZWxmLlZhbHVlID0gJ0BwaWMnCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygqKmt3YXJncykKICAgICAgICBzZWxmLnR5cGUgPSAiUGljdHVyZSIKCgpjbGFzcyBUZXh0VmlldyhXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsICoqa3dhcmdzKToKICAgICAgICBzZWxmLlZhbHVlID0gJ0B2YWx1ZScKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCoqa3dhcmdzKQogICAgICAgIHNlbGYudHlwZSA9ICJUZXh0VmlldyIKCgpjbGFzcyBDaGVja0JveChXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsICoqa3dhcmdzKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCoqa3dhcmdzKQogICAgICAgIHNlbGYudHlwZSA9ICdDaGVja0JveCcKCgpjbGFzcyBQb3B1cE1lbnVCdXR0b24oV2lkZ2V0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqKmt3YXJncyk6CiAgICAgICAgc2VsZi5WYWx1ZSA9ICdAdmFsdWUnCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygqKmt3YXJncykKICAgICAgICBzZWxmLnR5cGUgPSAiUG9wdXBNZW51QnV0dG9uIgogICAgICAgIHNlbGYuc2hvd19ieV9jb25kaXRpb24gPSAnJwogICAgICAgIHNlbGYuTm9SZWZyZXNoID0gRmFsc2UKICAgICAgICBzZWxmLmRvY3VtZW50X3R5cGUgPSAnJwogICAgICAgIHNlbGYubWFzayA9ICcnCgoKY2xhc3MgTGluZWFyTGF5b3V0KFdpZGdldCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICBzZWxmLnR5cGUgPSAnTGluZWFyTGF5b3V0JwogICAgICAgIHNlbGYub3JpZW50YXRpb24gPSAidmVydGljYWwiCgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKiprd2FyZ3MpCiAgICAgICAgc2VsZi5FbGVtZW50cyA9IGxpc3QoYXJncykgb3IgW10KCiAgICBkZWYgYXBwZW5kKHNlbGYsICp3aWRnZXRzKToKICAgICAgICBmb3Igd2lkZ2V0IGluIHdpZGdldHM6CiAgICAgICAgICAgIHNlbGYuRWxlbWVudHMuYXBwZW5kKHdpZGdldCkKCgpjbGFzcyBPcHRpb25zOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHNlYXJjaF9lbmFibGVkPVRydWUsIHNhdmVfcG9zaXRpb249VHJ1ZSk6CiAgICAgICAgc2VsZi5vcHRpb25zID0gewogICAgICAgICAgICAnc2VhcmNoX2VuYWJsZWQnOiBzZWFyY2hfZW5hYmxlZCwKICAgICAgICAgICAgJ3NhdmVfcG9zaXRpb24nOiBzYXZlX3Bvc2l0aW9uCiAgICAgICAgfQoKCmNsYXNzIEN1c3RvbUNhcmRzOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGxheW91dDogTGluZWFyTGF5b3V0LCBvcHRpb25zOiBPcHRpb25zLCBjYXJkc2RhdGE6IExpc3RbZGljdF0gPSBbXSk6CiAgICAgICAgc2VsZi5jdXN0b21jYXJkcyA9IHsKICAgICAgICAgICAgJ2xheW91dCc6IGxheW91dCwKICAgICAgICAgICAgJ2NhcmRzZGF0YSc6IGNhcmRzZGF0YSwKICAgICAgICAgICAgJ29wdGlvbnMnOiBvcHRpb25zIG9yIE9wdGlvbnMoKQogICAgICAgIH0KCiAgICBkZWYgdG9fanNvbihzZWxmKToKICAgICAgICByZXR1cm4ganNvbi5kdW1wcyhzZWxmLCBkZWZhdWx0PWxhbWJkYSB4OiB2YXJzKHgpLCBpbmRlbnQ9NCwgZW5zdXJlX2FzY2lpPUZhbHNlKS5lbmNvZGUoJ3V0ZjgnKS5kZWNvZGUoKQoKCmNsYXNzIEN1c3RvbVRhYmxlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGxheW91dDogTGluZWFyTGF5b3V0LCBvcHRpb25zOiBPcHRpb25zLCB0YWJsZWRhdGE6IExpc3RbZGljdF0pOgogICAgICAgIHNlbGYuY3VzdG9tdGFibGUgPSB7CiAgICAgICAgICAgICdsYXlvdXQnOiBsYXlvdXQsCiAgICAgICAgICAgICd0YWJsZWRhdGEnOiB0YWJsZWRhdGEsCiAgICAgICAgICAgICdvcHRpb25zJzogb3B0aW9ucyBvciBPcHRpb25zKCkKICAgICAgICB9CgogICAgZGVmIHRvX2pzb24oc2VsZik6CiAgICAgICAgcmV0dXJuIGpzb24uZHVtcHMoc2VsZiwgZGVmYXVsdD1sYW1iZGEgeDogdmFycyh4KSwgaW5kZW50PTQsIGVuc3VyZV9hc2NpaT1GYWxzZSkuZW5jb2RlKCd1dGY4JykuZGVjb2RlKCkK"
            },
            {
                "file_path": "C:/projects/python/simple_keep\\ui_models.py",
                "PyFileKey": "ui_models",
                "PyFileData": "ZnJvbSBhYmMgaW1wb3J0IEFCQywgYWJzdHJhY3RtZXRob2QKaW1wb3J0IGpzb24KCmZyb20gdWlfdXRpbHMgaW1wb3J0IEhhc2hNYXAsIFJzRG9jCmZyb20gZGJfc2VydmljZXMgaW1wb3J0IERvY1NlcnZpY2UKZnJvbSBoc19zZXJ2aWNlcyBpbXBvcnQgSHNTZXJ2aWNlCmltcG9ydCBodHRwX2V4Y2hhbmdlCmZyb20gaHR0cF9leGNoYW5nZSBpbXBvcnQgcG9zdF9jaGFuZ2VzX3RvX3NlcnZlcgppbXBvcnQgd2lkZ2V0cwppbXBvcnQgdWlfZ2xvYmFsCgoKY2xhc3MgU2NyZWVuKEFCQyk6CiAgICBzY3JlZW5fbmFtZTogc3RyCiAgICBwcm9jZXNzX25hbWU6IHN0cgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBoYXNoX21hcDogSGFzaE1hcCwgcnNfc2V0dGluZ3MpOgogICAgICAgIHNlbGYuaGFzaF9tYXA6IEhhc2hNYXAgPSBoYXNoX21hcAogICAgICAgIHNlbGYuc2NyZWVuX3ZhbHVlcyA9IHt9CiAgICAgICAgc2VsZi5yc19zZXR0aW5ncyA9IHJzX3NldHRpbmdzCiAgICAgICAgc2VsZi5saXN0ZW5lcjogc3RyID0gJycKICAgICAgICBzZWxmLmV2ZW50OiBzdHIgPSAnJwoKICAgIEBhYnN0cmFjdG1ldGhvZAogICAgZGVmIG9uX3N0YXJ0KHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBvbl9pbnB1dChzZWxmKToKICAgICAgICBwYXNzCgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgb25fcG9zdF9zdGFydChzZWxmKToKICAgICAgICBwYXNzCgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgc2hvdyhzZWxmLCBhcmdzPU5vbmUpOgogICAgICAgIHBhc3MKCiAgICBkZWYgdG9hc3Qoc2VsZiwgdGV4dCk6CiAgICAgICAgc2VsZi5oYXNoX21hcC50b2FzdCh0ZXh0KQoKICAgIGRlZiBfaXNfcmVzdWx0X3Bvc2l0aXZlKHNlbGYsIGxpc3RlbmVyKSAtPiBib29sOgogICAgICAgIHJldHVybiBzZWxmLmxpc3RlbmVyID09IGxpc3RlbmVyIGFuZCBzZWxmLmV2ZW50ID09ICdvblJlc3VsdFBvc2l0aXZlJwoKICAgIGRlZiBfX3N0cl9fKHNlbGYpOgogICAgICAgIHJldHVybiBmJ3tzZWxmLnByb2Nlc3NfbmFtZX0gLyB7c2VsZi5zY3JlZW5fbmFtZX0nCgogICAgZGVmIF92YWxpZGF0ZV9zY3JlZW5fdmFsdWVzKHNlbGYpOgogICAgICAgIGZvciBrZXksIHZhbHVlIGluIHNlbGYuc2NyZWVuX3ZhbHVlcy5pdGVtcygpOgogICAgICAgICAgICBpZiB2YWx1ZSBpcyBOb25lOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmJ1Byb2Nlc3M6IHtzZWxmLnByb2Nlc3NfbmFtZX0sIHNjcmVlbjoge3NlbGYuc2NyZWVuX25hbWV9LicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZidGb3Iga2V5IHtrZXl9IG11c3QgYmUgc2V0IHZhbHVlIG5vdCBOb25lJykKCiAgICBkZWYgZ2V0X2h0dHBfc2V0dGluZ3Moc2VsZik6CiAgICAgICAgaHR0cF9zZXR0aW5ncyA9IHsKICAgICAgICAgICAgJ3VybCc6IHNlbGYucnNfc2V0dGluZ3MuZ2V0KCJVUkwiKSwKICAgICAgICAgICAgJ3VzZXInOiBzZWxmLnJzX3NldHRpbmdzLmdldCgnVVNFUicpLAogICAgICAgICAgICAncGFzcyc6IHNlbGYucnNfc2V0dGluZ3MuZ2V0KCdQQVNTJyksCiAgICAgICAgICAgICdkZXZpY2VfbW9kZWwnOiBzZWxmLmhhc2hfbWFwWydERVZJQ0VfTU9ERUwnXSwKICAgICAgICAgICAgJ2FuZHJvaWRfaWQnOiBzZWxmLmhhc2hfbWFwWydBTkRST0lEX0lEJ10sCiAgICAgICAgICAgICd1c2VyX25hbWUnOiBzZWxmLnJzX3NldHRpbmdzLmdldCgndXNlcl9uYW1lJyl9CiAgICAgICAgcmV0dXJuIGh0dHBfc2V0dGluZ3MKCiAgICBkZWYgcHV0X25vdGlmaWNhdGlvbihzZWxmLCB0ZXh0LCB0aXRsZT1Ob25lKToKICAgICAgICBzZWxmLmhhc2hfbWFwLm5vdGlmaWNhdGlvbih0ZXh0LCB0aXRsZSkKCmNsYXNzIFRpbGVzKFNjcmVlbik6CiAgICBkZWYgb25fc3RhcnQoc2VsZik6CiAgICAgICAgcGFzcwoKICAgIGRlZiBvbl9pbnB1dChzZWxmKToKICAgICAgICBwYXNzCgogICAgZGVmIG9uX3Bvc3Rfc3RhcnQoc2VsZik6CiAgICAgICAgcGFzcwoKICAgIGRlZiBzaG93KHNlbGYsIGFyZ3M9Tm9uZSk6CiAgICAgICAgcGFzcwoKICAgIGRlZiBfZ2V0X3RpbGVfcm93KHNlbGYsIGxheW91dCwgdGlsZV9lbGVtZW50LCBzdGFydF9zY3JlZW49J9CU0L7QutGD0LzQtdC90YLRiycpOgogICAgICAgIHRpbGUgPSB7CiAgICAgICAgICAgICJsYXlvdXQiOiBsYXlvdXQsCiAgICAgICAgICAgICJkYXRhIjogc2VsZi5fZ2V0X3RpbGVfZGF0YSh0aWxlX2VsZW1lbnQpLAogICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICJjb2xvciI6ICcjRkZGRkZGJywKICAgICAgICAgICAgInN0YXJ0X3NjcmVlbiI6IGYie3N0YXJ0X3NjcmVlbn0iLAogICAgICAgICAgICAic3RhcnRfcHJvY2VzcyI6ICIiLAogICAgICAgICAgICAna2V5JzogdGlsZV9lbGVtZW50Wydkb2NUeXBlJ10KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRpbGUKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgX2dldF90aWxlX2RhdGEodGlsZV9lbGVtZW50KToKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAiZG9jTmFtZSI6IHRpbGVfZWxlbWVudFsnZG9jVHlwZSddLAogICAgICAgICAgICAnUXR0eU9mRG9jcyc6ICd7fS97fScuZm9ybWF0KHRpbGVfZWxlbWVudFsnY291bnQnXSwgdGlsZV9lbGVtZW50Wyd2ZXJpZmllZCddKSwKICAgICAgICAgICAgJ2NvdW50X3ZlcmlmaWVkJzogJ3t9L3t9Jy5mb3JtYXQoCiAgICAgICAgICAgICAgICB0aWxlX2VsZW1lbnRbJ2NvdW50X3ZlcmlmaWVkJ10gKyB0aWxlX2VsZW1lbnRbJ2NvdW50X3VudmVyaWZpZWQnXSwKICAgICAgICAgICAgICAgIHRpbGVfZWxlbWVudFsnY291bnRfdW52ZXJpZmllZCddKSwKICAgICAgICAgICAgJ3F0dHlfcGxhbl92ZXJpZmllZCc6ICd7fS97fScuZm9ybWF0KAogICAgICAgICAgICAgICAgdGlsZV9lbGVtZW50WydxdHR5X3BsYW5fdmVyaWZpZWQnXSArIHRpbGVfZWxlbWVudFsncXR0eV9wbGFuX3VudmVyaWZpZWQnXSwKICAgICAgICAgICAgICAgIHRpbGVfZWxlbWVudFsncXR0eV9wbGFuX3VudmVyaWZpZWQnXSkKICAgICAgICB9CgogICAgZGVmIF9nZXRfdGlsZV92aWV3KHNlbGYpIC0+IHdpZGdldHMuTGluZWFyTGF5b3V0OgogICAgICAgIHRpbGVzX3ZpZXcgPSB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldygKICAgICAgICAgICAgICAgIFZhbHVlPSdAZG9jTmFtZScsCiAgICAgICAgICAgICAgICBUZXh0U2l6ZT1zZWxmLnJzX3NldHRpbmdzLmdldCgndGl0bGVEb2NUeXBlQ2FyZFRleHRTaXplJyksCiAgICAgICAgICAgICAgICBUZXh0Q29sb3I9JyMwMDAwMDAnLAogICAgICAgICAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcsCiAgICAgICAgICAgICAgICB3ZWlnaHQ9MAogICAgICAgICAgICApLAogICAgICAgICAgICB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICAgICAgICAgIHNlbGYuVGV4dFZpZXcoJ0BRdHR5T2ZEb2NzJywgc2VsZi5yc19zZXR0aW5ncyksCiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbj0naG9yaXpvbnRhbCcsCiAgICAgICAgICAgICAgICB3aWR0aD0ibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgIHdlaWdodD0xCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHdpZGdldHMuTGluZWFyTGF5b3V0KAogICAgICAgICAgICAgICAgc2VsZi5UZXh0Vmlldygn0KHRgtGA0L7QujogJywgc2VsZi5yc19zZXR0aW5ncyksCiAgICAgICAgICAgICAgICBzZWxmLlRleHRWaWV3KCdAY291bnRfdmVyaWZpZWQnLCBzZWxmLnJzX3NldHRpbmdzKSwKICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uPSdob3Jpem9udGFsJywKICAgICAgICAgICAgICAgIHdpZHRoPSJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgd2VpZ2h0PTEKICAgICAgICAgICAgKSwKICAgICAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgICAgICBzZWxmLlRleHRWaWV3KCfQotC+0LLQsNGA0L7QsjogJywgc2VsZi5yc19zZXR0aW5ncyksCiAgICAgICAgICAgICAgICBzZWxmLlRleHRWaWV3KCdAcXR0eV9wbGFuX3ZlcmlmaWVkJywgc2VsZi5yc19zZXR0aW5ncyksCiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbj0naG9yaXpvbnRhbCcsCiAgICAgICAgICAgICAgICB3aWR0aD0ibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgIHdlaWdodD0xCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHdpZHRoPSdtYXRjaF9wYXJlbnQnLAogICAgICAgICAgICBhdXRvU2l6ZVRleHRUeXBlPSd1bmlmb3JtJywKICAgICAgICAgICAgd2VpZ2h0PTAKICAgICAgICApCgogICAgICAgIHJldHVybiB0aWxlc192aWV3CgogICAgY2xhc3MgVGV4dFZpZXcod2lkZ2V0cy5UZXh0Vmlldyk6CiAgICAgICAgZGVmIF9faW5pdF9fKHNlbGYsIHZhbHVlLCByc19zZXR0aW5ncyk6CiAgICAgICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgICAgICBzZWxmLlRleHRTaXplID0gcnNfc2V0dGluZ3MuZ2V0KCdEb2NUeXBlQ2FyZFRleHRTaXplJykKICAgICAgICAgICAgc2VsZi5UZXh0Q29sb3IgPSAnIzMzMzMzMycKICAgICAgICAgICAgc2VsZi5CYWNrZ3JvdW5kQ29sb3IgPSAnRkZDQzk5JwogICAgICAgICAgICBzZWxmLndlaWdodCA9IDAKICAgICAgICAgICAgc2VsZi5WYWx1ZSA9IHZhbHVlCgoKY2xhc3MgR3JvdXBTY2FuVGlsZXMoVGlsZXMpOgogICAgc2NyZWVuX25hbWUgPSAn0J/Qu9C40YLQutC4JwogICAgcHJvY2Vzc19uYW1lID0gJ9CT0YDRg9C/0L/QvtCy0LDRjyDQvtCx0YDQsNCx0L7RgtC60LAnCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGhhc2hfbWFwOiBIYXNoTWFwLCByc19zZXR0aW5ncyk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhoYXNoX21hcCwgcnNfc2V0dGluZ3MpCiAgICAgICAgc2VsZi5saXN0ZW5lciA9IHNlbGYuaGFzaF9tYXBbJ2xpc3RlbmVyJ10KICAgICAgICBzZWxmLm5hbWUgPSAn0J/Qu9C40YLQutC4JwogICAgICAgIHNlbGYuZGJfc2VydmljZSA9IERvY1NlcnZpY2UoKQogICAgICAgIHNlbGYuc2NyZWVuX25hbWUgPSBzZWxmLmhhc2hfbWFwLmdldF9jdXJyZW50X3NjcmVlbigpCiAgICAgICAgc2VsZi5wcm9jZXNzX25hbWUgPSBzZWxmLmhhc2hfbWFwLmdldF9jdXJyZW50X3Byb2Nlc3MoKQoKICAgIGRlZiBvbl9zdGFydChzZWxmKSAtPiBOb25lOgogICAgICAgIGRhdGEgPSBzZWxmLmRiX3NlcnZpY2UuZ2V0X2RvY3Nfc3RhdCgpCiAgICAgICAgbGF5b3V0ID0ganNvbi5sb2FkcyhzZWxmLl9nZXRfdGlsZV92aWV3KCkudG9fanNvbigpKQoKICAgICAgICB0aWxlc19saXN0ID0gW3NlbGYuX2dldF90aWxlX3JvdyhsYXlvdXQsIGl0ZW0pIGZvciBpdGVtIGluIGRhdGFdCgogICAgICAgICMgc3BsaXQgbGlzdCBieSB0d28gZWxlbWVudCBpbiByb3cKICAgICAgICBjb3VudF9yb3dfZWxlbWVudHMgPSAyCiAgICAgICAgdGlsZXMgPSB7CiAgICAgICAgICAgICd0aWxlcyc6IFsKICAgICAgICAgICAgICAgIHRpbGVzX2xpc3RbaTppICsgY291bnRfcm93X2VsZW1lbnRzXQogICAgICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMCwgbGVuKHRpbGVzX2xpc3QpLCBjb3VudF9yb3dfZWxlbWVudHMpCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICdiYWNrZ3JvdW5kX2NvbG9yJzogJyNmNWY1ZjUnCiAgICAgICAgfQoKICAgICAgICBzZWxmLmhhc2hfbWFwLnB1dCgndGlsZXMnLCB0aWxlcywgdG9fanNvbj1UcnVlKQoKICAgIGRlZiBvbl9pbnB1dChzZWxmKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkub25faW5wdXQoKQogICAgICAgIGlmIHNlbGYubGlzdGVuZXIgPT0gJ09OX0JBQ0tfUFJFU1NFRCc6CiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCdGaW5pc2hQcm9jZXNzJywgJycpCgogICAgZGVmIG9uX3Bvc3Rfc3RhcnQoc2VsZik6CiAgICAgICAgcGFzcwoKICAgIGRlZiBzaG93KHNlbGYsIGFyZ3M9Tm9uZSk6CiAgICAgICAgc2VsZi5oYXNoX21hcC5zaG93X3NjcmVlbihzZWxmLm5hbWUsIGFyZ3MpCgoKY2xhc3MgRG9jdW1lbnRzVGlsZXMoR3JvdXBTY2FuVGlsZXMpOgogICAgc2NyZWVuX25hbWUgPSAn0J/Qu9C40YLQutC4JwogICAgcHJvY2Vzc19uYW1lID0gJ9CU0L7QutGD0LzQtdC90YLRiycKCiMgPT09PT09PT09PT09PT09PT09PT0gRG9jc0xpc3QgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCgpjbGFzcyBEb2NzTGlzdFNjcmVlbihTY3JlZW4pOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGhhc2hfbWFwOiBIYXNoTWFwLCAgcnNfc2V0dGluZ3MpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oaGFzaF9tYXAsIHJzX3NldHRpbmdzKQogICAgICAgIHNlbGYubGlzdGVuZXIgPSBzZWxmLmhhc2hfbWFwWydsaXN0ZW5lciddCiAgICAgICAgc2VsZi5ldmVudCA9IHNlbGYuaGFzaF9tYXBbJ2V2ZW50J10KICAgICAgICBzZWxmLnNlcnZpY2UgPSBEb2NTZXJ2aWNlKCkKICAgICAgICBzZWxmLnNjcmVlbl92YWx1ZXMgPSB7fQoKICAgIGRlZiBvbl9zdGFydChzZWxmKSAtPiBOb25lOgogICAgICAgIGRvY190eXBlcyA9IHNlbGYuc2VydmljZS5nZXRfZG9jX3R5cGVzKCkKICAgICAgICBzZWxmLmhhc2hfbWFwWydkb2NfdHlwZV9zZWxlY3QnXSA9ICc7Jy5qb2luKFsn0JLRgdC1J10gKyBkb2NfdHlwZXMpCiAgICAgICAgc2VsZi5oYXNoX21hcFsnZG9jX3N0YXR1c19zZWxlY3QnXSA9ICfQktGB0LU70Jog0LLRi9C/0L7Qu9C90LXQvdC40Y470JLRi9Cz0YDRg9C20LXQvTvQmiDQstGL0LPRgNGD0LfQutC1JwoKICAgICAgICBkb2NfdHlwZSA9IHNlbGYuaGFzaF9tYXBbJ3NlbGVjdGVkX3RpbGVfa2V5J10gb3Igc2VsZi5oYXNoX21hcFsnZG9jX3R5cGVfY2xpY2snXQogICAgICAgIGRvY19zdGF0dXMgPSBzZWxmLmhhc2hfbWFwWydzZWxlY3RlZF9kb2Nfc3RhdHVzJ10KICAgICAgICBzZWxmLmhhc2hfbWFwWydkb2NfdHlwZV9jbGljayddID0gZG9jX3R5cGUKICAgICAgICBzZWxmLmhhc2hfbWFwWydzZWxlY3RlZF90aWxlX2tleSddID0gJycKICAgICAgICBsaXN0X2RhdGEgPSBzZWxmLl9nZXRfZG9jX2xpc3RfZGF0YShkb2NfdHlwZSwgZG9jX3N0YXR1cykKICAgICAgICBpZiBzZWxmLnByb2Nlc3NfbmFtZSA9PSAi0JPRgNGD0L/Qv9C+0LLQsNGPINC+0LHRgNCw0LHQvtGC0LrQsCI6CiAgICAgICAgICAgIGRvY19jYXJkcyA9IHNlbGYuX2dldF9kb2NfY2FyZHNfdmlldyhsaXN0X2RhdGEsICfQo9C00LDQu9C40YLRjCcpCiAgICAgICAgZWxpZiBzZWxmLnByb2Nlc3NfbmFtZSA9PSAi0JTQvtC60YPQvNC10L3RgtGLIjoKICAgICAgICAgICAgZG9jX2NhcmRzID0gc2VsZi5fZ2V0X2RvY19jYXJkc192aWV3KGxpc3RfZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwX21lbnVfZGF0YT0n0KPQtNCw0LvQuNGC0Yw70J7Rh9C40YHRgtC40YLRjCDQtNCw0L3QvdGL0LUg0L/QtdGA0LXRgdGH0LXRgtCwO9Ce0YLQv9GA0LDQstC40YLRjCDQv9C+0LLRgtC+0YDQvdC+JykKICAgICAgICBzZWxmLmhhc2hfbWFwWydkb2NDYXJkcyddID0gZG9jX2NhcmRzLnRvX2pzb24oKQoKICAgIGRlZiBvbl9pbnB1dChzZWxmKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkub25faW5wdXQoKQogICAgICAgIGlmIHNlbGYubGlzdGVuZXIgPT0gImRvY19zdGF0dXNfY2xpY2siOgogICAgICAgICAgICBzZWxmLmhhc2hfbWFwWydzZWxlY3RlZF9kb2Nfc3RhdHVzJ10gPSBzZWxmLmhhc2hfbWFwWyJkb2Nfc3RhdHVzX2NsaWNrIl0KCiAgICAgICAgZWxpZiBzZWxmLmxpc3RlbmVyID09ICdMYXlvdXRBY3Rpb24nOgogICAgICAgICAgICBzZWxmLl9sYXlvdXRfYWN0aW9uKCkKCiAgICAgICAgZWxpZiBzZWxmLl9pc19yZXN1bHRfcG9zaXRpdmUoJ2NvbmZpcm1fZGVsZXRlJyk6CiAgICAgICAgICAgIHNlbGYuY29uZmlybV9kZWxldGVfZG9jX2xpc3RlbmVyKCkKCiAgICAgICAgZWxpZiBzZWxmLmxpc3RlbmVyID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnNob3dfc2NyZWVuKCfQn9C70LjRgtC60LgnKQoKICAgIGRlZiBvbl9wb3N0X3N0YXJ0KHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgc2hvdyhzZWxmLCBhcmdzPU5vbmUpOgogICAgICAgIHNlbGYuX3ZhbGlkYXRlX3NjcmVlbl92YWx1ZXMoKQogICAgICAgIHNlbGYuaGFzaF9tYXAuc2hvd19zY3JlZW4oc2VsZi5zY3JlZW5fbmFtZSwgYXJncykKCiAgICBkZWYgX2xheW91dF9hY3Rpb24oc2VsZikgLT4gTm9uZToKICAgICAgICBsYXlvdXRfbGlzdGVuZXIgPSBzZWxmLmhhc2hfbWFwWydsYXlvdXRfbGlzdGVuZXInXQoKICAgICAgICBpZiBsYXlvdXRfbGlzdGVuZXIgPT0gJ9Cj0LTQsNC70LjRgtGMJzoKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5zaG93X2RpYWxvZygKICAgICAgICAgICAgICAgIGxpc3RlbmVyPSdjb25maXJtX2RlbGV0ZScsCiAgICAgICAgICAgICAgICB0aXRsZT0n0KPQtNCw0LvQuNGC0Ywg0LTQvtC60YPQvNC10L3RgiDRgSDRg9GB0YLRgNC+0LnRgdGC0LLQsD8nCiAgICAgICAgICAgICkKICAgICAgICBlbGlmIGxheW91dF9saXN0ZW5lciA9PSAn0J7Rh9C40YHRgtC40YLRjCDQtNCw0L3QvdGL0LUg0L/QtdGA0LXRgdGH0LXRgtCwJzoKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5zaG93X2RpYWxvZygKICAgICAgICAgICAgICAgIGxpc3RlbmVyPSdjb25maXJtX2NsZWFyX2JhcmNvZGVfZGF0YScsCiAgICAgICAgICAgICAgICB0aXRsZT0n0J7Rh9C40YHRgtC40YLRjCDQtNCw0L3QvdGL0LUg0L/QtdGA0LXRgdGH0LXRgtCwPycKICAgICAgICAgICAgKQogICAgICAgIGVsaWYgbGF5b3V0X2xpc3RlbmVyID09ICfQntGC0L/RgNCw0LLQuNGC0Ywg0L/QvtCy0YLQvtGA0L3Qvic6CiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAuc2hvd19kaWFsb2coCiAgICAgICAgICAgICAgICBsaXN0ZW5lcj0nY29uZmlybV9yZXNlbmRfZG9jJywKICAgICAgICAgICAgICAgIHRpdGxlPSfQntGC0L/RgNCw0LLQuNGC0Ywg0LTQvtC60YPQvNC10L3RgiDQv9C+0LLRgtC+0YDQvdC+PycKICAgICAgICAgICAgKQoKICAgIGRlZiBfZ2V0X2RvY19saXN0X2RhdGEoc2VsZiwgZG9jX3R5cGU9JycsIGRvY19zdGF0dXM9JycpIC0+IGxpc3Q6CiAgICAgICAgcmVzdWx0cyA9IHNlbGYuc2VydmljZS5nZXRfZG9jX3ZpZXdfZGF0YShkb2NfdHlwZSwgZG9jX3N0YXR1cykKICAgICAgICB0YWJsZV9kYXRhID0gW10KCiAgICAgICAgZm9yIHJlY29yZCBpbiByZXN1bHRzOgogICAgICAgICAgICBkb2Nfc3RhdHVzID0gJycKCiAgICAgICAgICAgIGlmIHJlY29yZFsndmVyaWZpZWQnXSBhbmQgcmVjb3JkWydzZW50J106CiAgICAgICAgICAgICAgICBkb2Nfc3RhdHVzID0gJ9CS0YvQs9GA0YPQttC10L0nCiAgICAgICAgICAgIGVsaWYgcmVjb3JkWyd2ZXJpZmllZCddOgogICAgICAgICAgICAgICAgZG9jX3N0YXR1cyA9ICfQmiDQstGL0LPRgNGD0LfQutC1JwogICAgICAgICAgICBlbGlmIG5vdCAocmVjb3JkWyd2ZXJpZmllZCddIGFuZCByZWNvcmRbJ3NlbnQnXSk6CiAgICAgICAgICAgICAgICBkb2Nfc3RhdHVzID0gJ9CaINCy0YvQv9C+0LvQvdC10L3QuNGOJwoKICAgICAgICAgICAgdGFibGVfZGF0YS5hcHBlbmQoewogICAgICAgICAgICAgICAgJ2tleSc6IHJlY29yZFsnaWRfZG9jJ10sCiAgICAgICAgICAgICAgICAndHlwZSc6IHJlY29yZFsnZG9jX3R5cGUnXSwKICAgICAgICAgICAgICAgICdudW1iZXInOiByZWNvcmRbJ2RvY19uJ10sCiAgICAgICAgICAgICAgICAnZGF0YSc6IHJlY29yZFsnZG9jX2RhdGUnXSwKICAgICAgICAgICAgICAgICd3YXJlaG91c2UnOiByZWNvcmRbJ1JTX3dhcmVob3VzZSddLAogICAgICAgICAgICAgICAgJ2NvdW50cmFnZW50JzogcmVjb3JkWydSU19jb3VudHJhZ2VudCddLAogICAgICAgICAgICAgICAgJ2FkZF9tYXJrX3NlbGVjdGlvbic6IHJlY29yZFsnYWRkX21hcmtfc2VsZWN0aW9uJ10sCiAgICAgICAgICAgICAgICAnc3RhdHVzJzogZG9jX3N0YXR1cwogICAgICAgICAgICB9KQoKICAgICAgICByZXR1cm4gdGFibGVfZGF0YQoKICAgIGRlZiBfZ2V0X2RvY19jYXJkc192aWV3KHNlbGYsIHRhYmxlX2RhdGEsIHBvcHVwX21lbnVfZGF0YSk6CiAgICAgICAgdGl0bGVfdGV4dF9zaXplID0gc2VsZi5yc19zZXR0aW5ncy5nZXQoIlRpdGxlVGV4dFNpemUiKQogICAgICAgIGNhcmRfdGl0bGVfdGV4dF9zaXplID0gc2VsZi5yc19zZXR0aW5ncy5nZXQoJ0NhcmRUaXRsZVRleHRTaXplJykKICAgICAgICBjYXJkX2RhdGVfdGV4dF9zaXplID0gc2VsZi5yc19zZXR0aW5ncy5nZXQoJ0NhcmREYXRlVGV4dFNpemUnKQoKICAgICAgICBkb2NfY2FyZHMgPSB3aWRnZXRzLkN1c3RvbUNhcmRzKAogICAgICAgICAgICB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICAgICAgICAgIHdpZGdldHMuTGluZWFyTGF5b3V0KAogICAgICAgICAgICAgICAgICAgIHdpZGdldHMuVGV4dFZpZXcoCiAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlPSdAc3RhdHVzJywKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGdyYXZpdHlfaG9yaXpvbnRhbD0nbGVmdCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodD0yCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KAogICAgICAgICAgICAgICAgICAgICAgICBWYWx1ZT0nQHR5cGUnLAogICAgICAgICAgICAgICAgICAgICAgICBUZXh0U2l6ZT10aXRsZV90ZXh0X3NpemUsCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICB3aWRnZXRzLlBvcHVwTWVudUJ1dHRvbigKICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWU9cG9wdXBfbWVudV9kYXRhLAogICAgICAgICAgICAgICAgICAgICAgICBWYXJpYWJsZT0ibWVudV9kZWxldGUiLAogICAgICAgICAgICAgICAgICAgICksCgogICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uPSdob3Jpem9udGFsJywKICAgICAgICAgICAgICAgICAgICB3aWR0aD0nbWF0Y2hfcGFyZW50JywKCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldygKICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWU9J0BudW1iZXInLAogICAgICAgICAgICAgICAgICAgICAgICBUZXh0Qm9sZD1UcnVlLAogICAgICAgICAgICAgICAgICAgICAgICBUZXh0U2l6ZT1jYXJkX3RpdGxlX3RleHRfc2l6ZQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICAgICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KAogICAgICAgICAgICAgICAgICAgICAgICBWYWx1ZT0nQGNvdW50cmFnZW50JywKICAgICAgICAgICAgICAgICAgICAgICAgVGV4dFNpemU9Y2FyZF9kYXRlX3RleHRfc2l6ZQogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldygKICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWU9J0B3YXJlaG91c2UnLAogICAgICAgICAgICAgICAgICAgICAgICBUZXh0U2l6ZT1jYXJkX2RhdGVfdGV4dF9zaXplCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHdpZHRoPSJtYXRjaF9wYXJlbnQiCiAgICAgICAgICAgICksCiAgICAgICAgICAgIG9wdGlvbnM9d2lkZ2V0cy5PcHRpb25zKCkub3B0aW9ucywKICAgICAgICAgICAgY2FyZHNkYXRhPXRhYmxlX2RhdGEKICAgICAgICApCgogICAgICAgIHJldHVybiBkb2NfY2FyZHMKCiAgICBkZWYgX2dldF9zZWxlY3RlZF9jYXJkKHNlbGYpOgogICAgICAgIGN1cnJlbnRfc3RyID0gc2VsZi5oYXNoX21hcC5nZXQoInNlbGVjdGVkX2NhcmRfcG9zaXRpb24iKQogICAgICAgIGpsaXN0ID0gc2VsZi5oYXNoX21hcC5nZXRfanNvbigiZG9jQ2FyZHMiKQogICAgICAgIHNlbGVjdGVkX2NhcmQgPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ11baW50KGN1cnJlbnRfc3RyKV0KCiAgICAgICAgcmV0dXJuIHNlbGVjdGVkX2NhcmQKCiAgICBkZWYgX2dldF9zZWxlY3RlZF9jYXJkX3B1dF9kYXRhKHNlbGYsIHB1dF9kYXRhPU5vbmUpOgogICAgICAgIGNhcmRfZGF0YSA9IHNlbGYuX2dldF9zZWxlY3RlZF9jYXJkKCkKCiAgICAgICAgcHV0X2RhdGEgPSBwdXRfZGF0YSBvciB7fQogICAgICAgIHB1dF9kYXRhWydpZF9kb2MnXSA9IGNhcmRfZGF0YVsna2V5J10KICAgICAgICBwdXRfZGF0YVsnZG9jX3R5cGUnXSA9IGNhcmRfZGF0YVsndHlwZSddCiAgICAgICAgcHV0X2RhdGFbJ2RvY19uJ10gPSBjYXJkX2RhdGFbJ251bWJlciddCiAgICAgICAgcHV0X2RhdGFbJ2RvY19kYXRlJ10gPSBjYXJkX2RhdGFbJ2RhdGEnXQogICAgICAgIHB1dF9kYXRhWyd3YXJlaG91c2UnXSA9IGNhcmRfZGF0YVsnd2FyZWhvdXNlJ10KICAgICAgICBwdXRfZGF0YVsnY291bnRyYWdlbnQnXSA9IGNhcmRfZGF0YVsnY291bnRyYWdlbnQnXQoKICAgICAgICByZXR1cm4gcHV0X2RhdGEKCiAgICBkZWYgX3NldF9kb2NfdmVyaWZpZWQoc2VsZiwgaWRfZG9jLCB2YWx1ZT1UcnVlKToKICAgICAgICBzZXJ2aWNlID0gRG9jU2VydmljZShpZF9kb2MpCiAgICAgICAgdmFsdWUgPSBzdHIoaW50KHZhbHVlKSkKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZXJ2aWNlLnNldF9kb2NfdmFsdWUoJ3ZlcmlmaWVkJywgdmFsdWUpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLmVycm9yX2xvZyhlLmFyZ3NbMF0pCgogICAgZGVmIF9kb2NfZGVsZXRlKHNlbGYsIGlkX2RvYyk6CiAgICAgICAgc2VydmljZSA9IERvY1NlcnZpY2UoaWRfZG9jKQogICAgICAgIHJlc3VsdCA9IFRydWUKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZXJ2aWNlLmRlbGV0ZV9kb2MoaWRfZG9jKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5lcnJvcl9sb2coZS5hcmdzWzBdKQogICAgICAgICAgICByZXN1bHQgPSBGYWxzZQoKICAgICAgICByZXR1cm4gcmVzdWx0CgogICAgZGVmIF9nZXRfZG9jc19jb3VudChzZWxmLCBkb2NfdHlwZT0nJyk6CiAgICAgICAgZG9jX3R5cGUgPSAnJyBpZiBub3QgZG9jX3R5cGUgb3IgZG9jX3R5cGUgPT0gJ9CS0YHQtScgZWxzZSBkb2NfdHlwZQogICAgICAgIHJldHVybiBzZWxmLnNlcnZpY2UuZ2V0X2RvY3NfY291bnQoZG9jX3R5cGUpCgogICAgZGVmIF9jbGVhcl9iYXJjb2RlX2RhdGEoc2VsZiwgaWRfZG9jKToKICAgICAgICByZXR1cm4gc2VsZi5zZXJ2aWNlLmNsZWFyX2JhcmNvZGVfZGF0YShpZF9kb2MpCgogICAgZGVmIGNvbmZpcm1fZGVsZXRlX2RvY19saXN0ZW5lcihzZWxmKToKICAgICAgICBjYXJkX2RhdGEgPSBzZWxmLmhhc2hfbWFwLmdldF9qc29uKCJjYXJkX2RhdGEiKQogICAgICAgIGlkX2RvYyA9IGNhcmRfZGF0YVsna2V5J10KICAgICAgICBkb2NfdHlwZSA9IHNlbGYuaGFzaF9tYXBbJ2RvY190eXBlX2NsaWNrJ10KCiAgICAgICAgaWYgc2VsZi5fZG9jX2RlbGV0ZShpZF9kb2MpOgogICAgICAgICAgICBkb2NzX2NvdW50ID0gc2VsZi5fZ2V0X2RvY3NfY291bnQoZG9jX3R5cGU9ZG9jX3R5cGUpCiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAudG9hc3QoJ9CU0L7QutGD0LzQtdC90YIg0YPRgdC/0LXRiNC90L4g0YPQtNCw0LvRkdC9JykKICAgICAgICAgICAgaWYgZG9jc19jb3VudDoKICAgICAgICAgICAgICAgIHNlbGYub25fc3RhcnQoKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5zaG93X3NjcmVlbign0J/Qu9C40YLQutC4JykKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnRvYXN0KCfQntGI0LjQsdC60LAg0YPQtNCw0LvQtdC90LjRjyDQtNC+0LrRg9C80LXQvdGC0LAnKQoKCmNsYXNzIEdyb3VwU2NhbkRvY3NMaXN0U2NyZWVuKERvY3NMaXN0U2NyZWVuKToKICAgIHNjcmVlbl9uYW1lID0gJ9CU0L7QutGD0LzQtdC90YLRiycKICAgIHByb2Nlc3NfbmFtZSA9ICfQk9GA0YPQv9C/0L7QstCw0Y8g0L7QsdGA0LDQsdC+0YLQutCwJwoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBoYXNoX21hcCwgcnNfc2V0dGluZ3MpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oaGFzaF9tYXAsIHJzX3NldHRpbmdzKQoKICAgIGRlZiBvbl9zdGFydChzZWxmKToKICAgICAgICBzdXBlcigpLm9uX3N0YXJ0KCkKCiAgICBkZWYgb25faW5wdXQoc2VsZik6CiAgICAgICAgc3VwZXIoKS5vbl9pbnB1dCgpCiAgICAgICAgaWYgc2VsZi5saXN0ZW5lciA9PSAiQ2FyZHNDbGljayI6CiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAuc2hvd19kaWFsb2coJ9Cf0L7QtNGC0LLQtdGA0LTQuNGC0LUg0LTQtdC50YHRgtCy0LjQtScpCiAgICAgICAgICAgIHNlbGVjdGVkX2NhcmRfa2V5ID0gc2VsZi5oYXNoX21hcFsnc2VsZWN0ZWRfY2FyZF9rZXknXQogICAgICAgICAgICBzZWxmLmhhc2hfbWFwWydpZF9kb2MnXSA9IHNlbGVjdGVkX2NhcmRfa2V5CgogICAgICAgIGVsaWYgc2VsZi5faXNfcmVzdWx0X3Bvc2l0aXZlKCfQn9C+0LTRgtCy0LXRgNC00LjRgtC1INC00LXQudGB0YLQstC40LUnKToKICAgICAgICAgICAgaWRfZG9jID0gc2VsZi5oYXNoX21hcFsnaWRfZG9jJ10KICAgICAgICAgICAgc2VsZi5zZXJ2aWNlLmRvY19pZCA9IGlkX2RvYwogICAgICAgICAgICBzZWxmLnNlcnZpY2Uuc2V0X2RvY192YWx1ZSgndmVyaWZpZWQnLCAxKQoKICAgICAgICAgICAgc2NyZWVuX25hbWUgPSAn0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsnCiAgICAgICAgICAgIHNjcmVlbiA9IFNjcmVlbnNGYWN0b3J5LmNyZWF0ZV9zY3JlZW4oCiAgICAgICAgICAgICAgICBzY3JlZW5fbmFtZT1zY3JlZW5fbmFtZSwKICAgICAgICAgICAgICAgIHByb2Nlc3M9c2VsZi5wcm9jZXNzX25hbWUsCiAgICAgICAgICAgICAgICBoYXNoX21hcD1zZWxmLmhhc2hfbWFwLAogICAgICAgICAgICAgICAgcnNfc2V0dGluZ3M9c2VsZi5yc19zZXR0aW5ncykKCiAgICAgICAgICAgIHNjcmVlbi5zaG93KGFyZ3M9c2VsZi5fZ2V0X3NlbGVjdGVkX2NhcmRfcHV0X2RhdGEoKSkKCgpjbGFzcyBEb2N1bWVudHNEb2NzTGlzdFNjcmVlbihEb2NzTGlzdFNjcmVlbik6CiAgICBzY3JlZW5fbmFtZSA9ICfQlNC+0LrRg9C80LXQvdGC0YsnCiAgICBwcm9jZXNzX25hbWUgPSAn0JTQvtC60YPQvNC10L3RgtGLJwoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBoYXNoX21hcCwgcnNfc2V0dGluZ3MpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oaGFzaF9tYXAsIHJzX3NldHRpbmdzKQoKICAgIGRlZiBvbl9zdGFydChzZWxmKToKICAgICAgICBzdXBlcigpLm9uX3N0YXJ0KCkKCiAgICBkZWYgb25faW5wdXQoc2VsZik6CiAgICAgICAgc3VwZXIoKS5vbl9pbnB1dCgpCiAgICAgICAgaWYgc2VsZi5saXN0ZW5lciA9PSAiQ2FyZHNDbGljayI6CiAgICAgICAgICAgIGlkX2RvYyA9IHNlbGYuZ2V0X2lkX2RvYygpCiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXBbJ2lkX2RvYyddID0gaWRfZG9jCiAgICAgICAgICAgIHNlbGYuc2VydmljZS5kb2NfaWQgPSBpZF9kb2MKCiAgICAgICAgICAgIHNjcmVlbl9uYW1lID0gJ9CU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLJwogICAgICAgICAgICBzY3JlZW4gPSBTY3JlZW5zRmFjdG9yeS5jcmVhdGVfc2NyZWVuKAogICAgICAgICAgICAgICAgc2NyZWVuX25hbWU9c2NyZWVuX25hbWUsCiAgICAgICAgICAgICAgICBwcm9jZXNzPXNlbGYucHJvY2Vzc19uYW1lLAogICAgICAgICAgICAgICAgaGFzaF9tYXA9c2VsZi5oYXNoX21hcCwKICAgICAgICAgICAgICAgIHJzX3NldHRpbmdzPXNlbGYucnNfc2V0dGluZ3MpCgogICAgICAgICAgICBzY3JlZW4uc2hvdyhhcmdzPXNlbGYuX2dldF9zZWxlY3RlZF9jYXJkX3B1dF9kYXRhKCkpCgogICAgICAgIGVsaWYgc2VsZi5faXNfcmVzdWx0X3Bvc2l0aXZlKCdjb25maXJtX2NsZWFyX2JhcmNvZGVfZGF0YScpOgogICAgICAgICAgICBpZF9kb2MgPSBzZWxmLmdldF9pZF9kb2MoKQogICAgICAgICAgICByZXMgPSBzZWxmLl9jbGVhcl9iYXJjb2RlX2RhdGEoaWRfZG9jKQogICAgICAgICAgICBpZiByZXMuZ2V0KCdyZXN1bHQnKToKICAgICAgICAgICAgICAgIHNlbGYudG9hc3QoJ9CU0LDQvdC90YvQtSDQv9C10YDQtdGB0YfQtdGC0LAg0Lgg0LzQsNGA0LrQuNGA0L7QstC60Lgg0L7Rh9C40YnQtdC90YsnKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VsZi50b2FzdCgn0J/RgNC4INC+0YfQuNGB0YLQutC1INC00LDQvdC90YvRhSDQv9C10YDQtdGB0YfQtdGC0LAg0LLQvtC30L3QuNC60LvQsCDQvtGI0LjQsdC60LAuJykKICAgICAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAuZXJyb3JfbG9nKHJlcy5nZXQoJ2Vycm9yJykpCgogICAgICAgIGVsaWYgc2VsZi5faXNfcmVzdWx0X3Bvc2l0aXZlKCdjb25maXJtX3Jlc2VuZF9kb2MnKToKICAgICAgICAgICAgaWRfZG9jID0gc2VsZi5nZXRfaWRfZG9jKCkKICAgICAgICAgICAgaHR0cF9wYXJhbXMgPSBzZWxmLmdldF9odHRwX3NldHRpbmdzKCkKICAgICAgICAgICAgYW5zd2VyID0gcG9zdF9jaGFuZ2VzX3RvX3NlcnZlcihmIid7aWRfZG9jfSciLCBodHRwX3BhcmFtcykKICAgICAgICAgICAgaWYgYW5zd2VyLmdldCgnRXJyb3InKSBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHVpX2dsb2JhbC53cml0ZV9lcnJvcl9vbl9sb2coc3RyKGFuc3dlci5nZXQoJ0Vycm9yJykpKQogICAgICAgICAgICAgICAgc2VsZi50b2FzdCgn0J3QtSDRg9C00LDQu9C+0YHRjCDQvtGC0L/RgNCw0LLQuNGC0Ywg0LTQvtC60YPQvNC10L3RgiDQv9C+0LLRgtC+0YDQvdC+JykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlbGYudG9hc3QoJ9CU0L7QutGD0LzQtdC90YIg0L7RgtC/0YDQsNCy0LvQtdC9INC/0L7QstGC0L7RgNC90L4nKQoKICAgIGRlZiBnZXRfaWRfZG9jKHNlbGYpOgogICAgICAgIGNhcmRfZGF0YSA9IHNlbGYuaGFzaF9tYXAuZ2V0X2pzb24oImNhcmRfZGF0YSIpIG9yIHt9CiAgICAgICAgaWRfZG9jID0gY2FyZF9kYXRhLmdldCgna2V5Jykgb3Igc2VsZi5oYXNoX21hcFsnc2VsZWN0ZWRfY2FyZF9rZXknXQogICAgICAgIHJldHVybiBpZF9kb2MKCgojIF5eXl5eXl5eXl5eXl5eXl5eXl5eXiBEb2NzTGlzdCBeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eCgojID09PT09PT09PT09PT09PT09PT09IERvY0RldGFpbHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCgpjbGFzcyBEb2NEZXRhaWxzU2NyZWVuKFNjcmVlbik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgaGFzaF9tYXAsIHJzX3NldHRpbmdzKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKGhhc2hfbWFwLCByc19zZXR0aW5ncykKICAgICAgICBzZWxmLmxpc3RlbmVyID0gc2VsZi5oYXNoX21hcFsnbGlzdGVuZXInXQogICAgICAgIHNlbGYuZXZlbnQgPSBzZWxmLmhhc2hfbWFwWydldmVudCddCiAgICAgICAgc2VsZi5yc19zZXR0aW5ncyA9IHJzX3NldHRpbmdzCiAgICAgICAgc2VsZi5pZF9kb2MgPSBzZWxmLmhhc2hfbWFwWydpZF9kb2MnXQogICAgICAgIHNlbGYuc2VydmljZSA9IERvY1NlcnZpY2Uoc2VsZi5pZF9kb2MpCgogICAgZGVmIG9uX3N0YXJ0KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgcGFzcwoKICAgIGRlZiBvbl9pbnB1dChzZWxmKSAtPiBOb25lOgogICAgICAgIHBhc3MKCiAgICBkZWYgb25fcG9zdF9zdGFydChzZWxmKToKICAgICAgICBwYXNzCgogICAgZGVmIHNob3coc2VsZiwgYXJncz1Ob25lKToKICAgICAgICBzZWxmLmhhc2hfbWFwLnNob3dfc2NyZWVuKHNlbGYuc2NyZWVuX25hbWUsIGFyZ3MpCiAgICAgICAgc2VsZi5fdmFsaWRhdGVfc2NyZWVuX3ZhbHVlcygpCgogICAgZGVmIF9vbl9zdGFydChzZWxmKToKICAgICAgICBzZWxmLl9zZXRfdmlzaWJpbGl0eV9vbl9zdGFydCgpCiAgICAgICAgc2VsZi5oYXNoX21hcC5wdXQoJ1NldFRpdGxlJywgc2VsZi5oYXNoX21hcFsiZG9jX3R5cGUiXSkKCiAgICAgICAgaGF2ZV9xdHR5X3BsYW4gPSBGYWxzZQogICAgICAgIGhhdmVfemVyb19wbGFuID0gRmFsc2UKICAgICAgICBoYXZlX21hcmtfcGxhbiA9IEZhbHNlCgogICAgICAgIGRvY19kZXRhaWxzID0gc2VsZi5fZ2V0X2RvY19kZXRhaWxzX2RhdGEoKQogICAgICAgIHRhYmxlX2RhdGEgPSBzZWxmLl9wcmVwYXJlX3RhYmxlX2RhdGEoZG9jX2RldGFpbHMpCiAgICAgICAgdGFibGVfdmlldyA9IHNlbGYuX2dldF9kb2NfdGFibGVfdmlldyh0YWJsZV9kYXRhPXRhYmxlX2RhdGEpCgogICAgICAgIGlmIGRvY19kZXRhaWxzOgogICAgICAgICAgICBzZWxmLmhhc2hfbWFwWyd0YWJsZV9saW5lc19xdHR5J10gPSBsZW4oZG9jX2RldGFpbHMpCiAgICAgICAgICAgIGhhdmVfemVyb19wbGFuID0gVHJ1ZQogICAgICAgICAgICBoYXZlX3F0dHlfcGxhbiA9IHN1bShbaXRlbVsncXR0eV9wbGFuJ10gZm9yIGl0ZW0gaW4gZG9jX2RldGFpbHMgaWYgaXRlbVsncXR0eV9wbGFuJ11dKSA+IDAKCiAgICAgICAgc2VsZi5oYXNoX21hcFsnaGF2ZV9xdHR5X3BsYW4nXSA9IGhhdmVfcXR0eV9wbGFuCiAgICAgICAgc2VsZi5oYXNoX21hcFsnaGF2ZV96ZXJvX3BsYW4nXSA9IGhhdmVfemVyb19wbGFuCiAgICAgICAgc2VsZi5oYXNoX21hcFsnaGF2ZV9tYXJrX3BsYW4nXSA9IGhhdmVfbWFya19wbGFuCgogICAgICAgIGNvbnRyb2wgPSBzZWxmLnNlcnZpY2UuZ2V0X2RvY192YWx1ZSgnY29udHJvbCcsIHNlbGYuaWRfZG9jKSBub3QgaW4gKDAsICcwJywgJ2ZhbHNlJywgJ0ZhbHNlJywgTm9uZSkKICAgICAgICBzZWxmLmhhc2hfbWFwWydjb250cm9sJ10gPSBjb250cm9sCgogICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCJkb2NfZ29vZHNfdGFibGUiLCB0YWJsZV92aWV3LnRvX2pzb24oKSkKCiAgICBkZWYgX2JhcmNvZGVfc2Nhbm5lZChzZWxmKToKICAgICAgICBpZF9kb2MgPSBzZWxmLmhhc2hfbWFwLmdldCgnaWRfZG9jJykKICAgICAgICBkb2MgPSBSc0RvYyhpZF9kb2MpCiAgICAgICAgaWYgc2VsZi5oYXNoX21hcC5nZXQoImV2ZW50IikgPT0gIm9uUmVzdWx0UG9zaXRpdmUiOgogICAgICAgICAgICBiYXJjb2RlID0gc2VsZi5oYXNoX21hcC5nZXQoJ2ZsZF9iYXJjb2RlJykKICAgICAgICBlbHNlOgogICAgICAgICAgICBiYXJjb2RlID0gc2VsZi5oYXNoX21hcC5nZXQoJ2JhcmNvZGVfY2FtZXJhJykKCiAgICAgICAgaWYgbm90IGJhcmNvZGU6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBoYXZlX3F0dHlfcGxhbiA9IHNlbGYuaGFzaF9tYXAuZ2V0X2Jvb2woJ2hhdmVfcXR0eV9wbGFuJykKICAgICAgICBoYXZlX3plcm9fcGxhbiA9IHNlbGYuaGFzaF9tYXAuZ2V0X2Jvb2woJ2hhdmVfemVyb19wbGFuJykKICAgICAgICBoYXZlX21hcmtfcGxhbiA9IHNlbGYuaGFzaF9tYXAuZ2V0X2Jvb2woJ2hhdmVfbWFya19wbGFuJykKICAgICAgICBjb250cm9sID0gc2VsZi5oYXNoX21hcC5nZXRfYm9vbCgnY29udHJvbCcpCgogICAgICAgIHJlcyA9IGRvYy5wcm9jZXNzX3RoZV9iYXJjb2RlKAogICAgICAgICAgICBiYXJjb2RlLAogICAgICAgICAgICBoYXZlX3F0dHlfcGxhbiwKICAgICAgICAgICAgaGF2ZV96ZXJvX3BsYW4sCiAgICAgICAgICAgIGNvbnRyb2wsCiAgICAgICAgICAgIGhhdmVfbWFya19wbGFuLAogICAgICAgICAgICB1c2VfbWFya19zZXR0aW5nPXNlbGYucnNfc2V0dGluZ3MuZ2V0KCd1c2VfbWFyaycpKQogICAgICAgIGlmIHJlcyBpcyBOb25lOgogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnB1dCgnc2Nhbm5lZF9iYXJjb2RlJywgYmFyY29kZSkKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5zaG93X3NjcmVlbign0J7RiNC40LHQutCwINGB0LrQsNC90LXRgNCwJykKICAgICAgICBlbGlmIHJlc1snRXJyb3InXToKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5wdXQoJ2JlZXBfZHVyYXRpb24gJywgc2VsZi5yc19zZXR0aW5ncy5nZXQoJ2JlZXBfZHVyYXRpb24nKSkKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5wdXQoImJlZXAiLCBzZWxmLnJzX3NldHRpbmdzLmdldCgnc2lnbmFsX251bScpKQogICAgICAgICAgICBpZiByZXNbJ0Vycm9yJ10gPT0gJ0FscmVhZHlTY2FubmVkJzoKICAgICAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCdiYXJjb2RlJywganNvbi5kdW1wcyh7J2JhcmNvZGUnOiByZXNbJ0JhcmNvZGUnXSwgJ2RvY19pbmZvJzogcmVzWydkb2NfaW5mbyddfSkpCiAgICAgICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnNob3dfc2NyZWVuKCfQo9C00LDQu9C10L3QuNC1INGI0YLRgNC40YXQutC+0LTQsCcpCiAgICAgICAgICAgIGVsaWYgcmVzWydFcnJvciddID09ICdRdWFudGl0eVBsYW5SZWFjaGVkJzoKICAgICAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAudG9hc3QoJ3RvYXN0JywgcmVzWydEZXNjciddKQogICAgICAgICAgICBlbGlmIHJlc1snRXJyb3InXSA9PSAnWmVyb19wbGFuX2Vycm9yJzoKICAgICAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAudG9hc3QocmVzWydEZXNjciddKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VsZi5oYXNoX21hcC50b2FzdChyZXNbJ0Rlc2NyJ10pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5fYWRkX3NjYW5uZWRfcm93KGlkX2RvYywgcmVzLmdldCgna2V5JykpCiAgICAgICAgICAgICMgc2VsZi5oYXNoX21hcC50b2FzdCgn0KLQvtCy0LDRgCDQtNC+0LHQsNCy0LvQtdC9INCyINC00L7QutGD0LzQtdC90YInKQogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnB1dCgnYmFyY29kZV9zY2FubmVkJywgVHJ1ZSkKCiAgICBkZWYgX3NldF92aXNpYmlsaXR5X29uX3N0YXJ0KHNlbGYpOgogICAgICAgIF92YXJzID0gWyd3YXJlaG91c2UnLCAnY291bnRyYWdlbnQnXQoKICAgICAgICBmb3IgdiBpbiBfdmFyczoKICAgICAgICAgICAgbmFtZSA9IGYnU2hvd197dn0nCiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXBbbmFtZV0gPSAnMScgaWYgc2VsZi5oYXNoX21hcFt2XSBlbHNlICctMScKICAgICAgICAjIFRPRE8gcmV3b3JrIHRoaXMKICAgICAgICBpZiBzZWxmLnJzX3NldHRpbmdzLmdldCgnYWxsb3dfZmFjdF9pbnB1dCcpID09ICd0cnVlJzoKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5wdXQoIlNob3dfZmFjdF9xdHR5X2lucHV0IiwgIjEiKQogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnB1dCgiU2hvd19mYWN0X3F0dHlfbm90ZSIsICItMSIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5wdXQoIlNob3dfZmFjdF9xdHR5X2lucHV0IiwgIi0xIikKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5wdXQoIlNob3dfZmFjdF9xdHR5X25vdGUiLCAiMSIpCgogICAgZGVmIF9nZXRfZG9jX2RldGFpbHNfZGF0YShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5zZXJ2aWNlLmdldF9kb2NfZGV0YWlsc19kYXRhKHNlbGYuaWRfZG9jKQoKICAgIGRlZiBfcHJlcGFyZV90YWJsZV9kYXRhKHNlbGYsIGRvY19kZXRhaWxzKToKICAgICAgICB0YWJsZV9kYXRhID0gW3t9XQogICAgICAgIHJvd19maWx0ZXIgPSBzZWxmLmhhc2hfbWFwLmdldF9ib29sKCdyb3dzX2ZpbHRlcicpCgogICAgICAgIGZvciByZWNvcmQgaW4gZG9jX2RldGFpbHM6CiAgICAgICAgICAgIGlmIHJvd19maWx0ZXIgYW5kIHJlY29yZFsncXR0eSddID09IHJlY29yZFsncXR0eV9wbGFuJ106CiAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgcGljID0gJyNmMDJhJyBpZiByZWNvcmRbJ0lzRG9uZSddICE9IDAgZWxzZSAnI2YwMGMnCiAgICAgICAgICAgIGlmIHJlY29yZFsncXR0eSddID09IDAgYW5kIHJlY29yZFsncXR0eV9wbGFuJ10gPT0gMDoKICAgICAgICAgICAgICAgIHBpYyA9ICcnCgogICAgICAgICAgICBwcm9kdWN0X3JvdyA9IHsKICAgICAgICAgICAgICAgICdrZXknOiBzdHIocmVjb3JkWydpZCddKSwKICAgICAgICAgICAgICAgICdnb29kX25hbWUnOiBzdHIocmVjb3JkWydnb29kX25hbWUnXSksCiAgICAgICAgICAgICAgICAnaWRfZ29vZCc6IHN0cihyZWNvcmRbJ2lkX2dvb2QnXSksCiAgICAgICAgICAgICAgICAnaWRfcHJvcGVydGllcyc6IHN0cihyZWNvcmRbJ2lkX3Byb3BlcnRpZXMnXSksCiAgICAgICAgICAgICAgICAncHJvcGVydGllc19uYW1lJzogc3RyKHJlY29yZFsncHJvcGVydGllc19uYW1lJ10gb3IgJycpLAogICAgICAgICAgICAgICAgJ2lkX3Nlcmllcyc6IHN0cihyZWNvcmRbJ2lkX3NlcmllcyddKSwKICAgICAgICAgICAgICAgICdzZXJpZXNfbmFtZSc6IHN0cihyZWNvcmRbJ3Nlcmllc19uYW1lJ10gb3IgJycpLAogICAgICAgICAgICAgICAgJ2lkX3VuaXQnOiBzdHIocmVjb3JkWydpZF91bml0J10pLAogICAgICAgICAgICAgICAgJ3VuaXRzX25hbWUnOiBzdHIocmVjb3JkWyd1bml0c19uYW1lJ10gb3IgJycpLAogICAgICAgICAgICAgICAgJ2NvZGVfYXJ0JzogJ9Ca0L7QtDogJyArIHN0cihyZWNvcmRbJ2NvZGUnXSksCiAgICAgICAgICAgICAgICAnYXJ0Jzogc3RyKHJlY29yZFsnYXJ0J10pLAogICAgICAgICAgICAgICAgJ3F0dHknOiBzdHIocmVjb3JkWydxdHR5J10gaWYgcmVjb3JkWydxdHR5J10gaXMgbm90IE5vbmUgZWxzZSAwKSwKICAgICAgICAgICAgICAgICdxdHR5X3BsYW4nOiBzdHIocmVjb3JkWydxdHR5X3BsYW4nXSBpZiByZWNvcmRbJ3F0dHlfcGxhbiddIGlzIG5vdCBOb25lIGVsc2UgMCksCiAgICAgICAgICAgICAgICAncHJpY2UnOiBzdHIocmVjb3JkWydwcmljZSddIGlmIHJlY29yZFsncHJpY2UnXSBpcyBub3QgTm9uZSBlbHNlIDApLAogICAgICAgICAgICAgICAgJ3ByaWNlX25hbWUnOiBzdHIocmVjb3JkWydwcmljZV9uYW1lJ10gb3IgJycpLAogICAgICAgICAgICAgICAgJ3BpY3R1cmUnOiBwaWMsCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHByb3BzID0gWwogICAgICAgICAgICAgICAgJ3t9ICcuZm9ybWF0KHByb2R1Y3Rfcm93WydhcnQnXSkgaWYgcHJvZHVjdF9yb3dbJ2FydCddIGVsc2UgJycsCiAgICAgICAgICAgICAgICAnKHt9KSAnLmZvcm1hdChwcm9kdWN0X3Jvd1sncHJvcGVydGllc19uYW1lJ10pIGlmIHByb2R1Y3Rfcm93Wydwcm9wZXJ0aWVzX25hbWUnXSBlbHNlICcnLAogICAgICAgICAgICAgICAgJ3t9Jy5mb3JtYXQocHJvZHVjdF9yb3dbJ3Nlcmllc19uYW1lJ10pIGlmIHByb2R1Y3Rfcm93WydzZXJpZXNfbmFtZSddIGVsc2UgJycsCiAgICAgICAgICAgICAgICAnLCB7fScuZm9ybWF0KHByb2R1Y3Rfcm93Wyd1bml0c19uYW1lJ10pIGlmIHByb2R1Y3Rfcm93Wyd1bml0c19uYW1lJ10gZWxzZSAnJwogICAgICAgICAgICBdCiAgICAgICAgICAgIHByb2R1Y3Rfcm93Wydnb29kX2luZm8nXSA9ICcnLmpvaW4ocHJvcHMpCgogICAgICAgICAgICBwcm9kdWN0X3Jvd1snX2xheW91dCddID0gc2VsZi5fZ2V0X2RvY190YWJsZV9yb3dfdmlldygpCiAgICAgICAgICAgIHNlbGYuX3NldF9iYWNrZ3JvdW5kX3Jvd19jb2xvcihwcm9kdWN0X3Jvdywgc2VsZi5pZF9kb2MpCgogICAgICAgICAgICBpZiBzZWxmLl9hZGRlZF9nb29kc19oYXNfa2V5KHByb2R1Y3Rfcm93WydrZXknXSk6CiAgICAgICAgICAgICAgICB0YWJsZV9kYXRhLmluc2VydCgxLCBwcm9kdWN0X3JvdykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHRhYmxlX2RhdGEuYXBwZW5kKHByb2R1Y3Rfcm93KQoKICAgICAgICByZXR1cm4gdGFibGVfZGF0YQoKICAgIGRlZiBfZ2V0X2RvY190YWJsZV92aWV3KHNlbGYsIHRhYmxlX2RhdGEpOgogICAgICAgIHRhYmxlX3ZpZXcgPSB3aWRnZXRzLkN1c3RvbVRhYmxlKAogICAgICAgICAgICB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICAgICAgICAgIHNlbGYuTGluZWFyTGF5b3V0KAogICAgICAgICAgICAgICAgICAgIHNlbGYuVGV4dFZpZXcoJ9Cd0LDQt9Cy0LDQvdC40LUnKSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ9MwogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHNlbGYuTGluZWFyTGF5b3V0KAogICAgICAgICAgICAgICAgICAgIHNlbGYuVGV4dFZpZXcoJ9Cf0LvQsNC9JyksCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0PTEKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBzZWxmLkxpbmVhckxheW91dCgKICAgICAgICAgICAgICAgICAgICBzZWxmLlRleHRWaWV3KCfQpNCw0LrRgicpLAogICAgICAgICAgICAgICAgICAgIHdlaWdodD0xCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgb3JpZW50YXRpb249J2hvcml6b250YWwnLAogICAgICAgICAgICAgICAgaGVpZ2h0PSJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgd2lkdGg9Im1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kQ29sb3I9JyNGRkZGRkYnCiAgICAgICAgICAgICksCiAgICAgICAgICAgIG9wdGlvbnM9d2lkZ2V0cy5PcHRpb25zKCkub3B0aW9ucywKICAgICAgICAgICAgdGFibGVkYXRhPXRhYmxlX2RhdGEKICAgICAgICApCgogICAgICAgIHJldHVybiB0YWJsZV92aWV3CgogICAgZGVmIF9nZXRfZG9jX3RhYmxlX3Jvd192aWV3KHNlbGYpOgogICAgICAgIHJvd192aWV3ID0gd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgIHdpZGdldHMuTGluZWFyTGF5b3V0KAogICAgICAgICAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuVGV4dFZpZXcoJ0Bnb29kX25hbWUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldygKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlPSdAZ29vZF9pbmZvJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRleHRTaXplPTE1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcKICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcsCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICB3aWR0aD0nbWF0Y2hfcGFyZW50JywKICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbj0naG9yaXpvbnRhbCcsCiAgICAgICAgICAgICAgICAgICAgU3Ryb2tlV2lkdGg9MQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHdpZHRoPSdtYXRjaF9wYXJlbnQnLAogICAgICAgICAgICAgICAgd2VpZ2h0PTMsCiAgICAgICAgICAgICAgICBTdHJva2VXaWR0aD0xCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHdpZGdldHMuTGluZWFyTGF5b3V0KAogICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldygKICAgICAgICAgICAgICAgICAgICBWYWx1ZT0nQHF0dHlfcGxhbicsCiAgICAgICAgICAgICAgICAgICAgVGV4dFNpemU9MTUsCiAgICAgICAgICAgICAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcsCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcsCiAgICAgICAgICAgICAgICBoZWlnaHQ9J21hdGNoX3BhcmVudCcsCiAgICAgICAgICAgICAgICB3ZWlnaHQ9MSwKICAgICAgICAgICAgICAgIFN0cm9rZVdpZHRoPTEKICAgICAgICAgICAgKSwKICAgICAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KAogICAgICAgICAgICAgICAgICAgIFZhbHVlPSdAcXR0eScsCiAgICAgICAgICAgICAgICAgICAgVGV4dFNpemU9MTUsCiAgICAgICAgICAgICAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICB3aWR0aD0nbWF0Y2hfcGFyZW50JywKICAgICAgICAgICAgICAgIGhlaWdodD0nbWF0Y2hfcGFyZW50JywKICAgICAgICAgICAgICAgIHdlaWdodD0xLAogICAgICAgICAgICAgICAgU3Ryb2tlV2lkdGg9MQogICAgICAgICAgICApLAogICAgICAgICAgICBvcmllbnRhdGlvbj0naG9yaXpvbnRhbCcsCiAgICAgICAgICAgIHdpZHRoPSdtYXRjaF9wYXJlbnQnLAogICAgICAgICAgICBCYWNrZ3JvdW5kQ29sb3I9JyNGRkZGRkYnCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gcm93X3ZpZXcKCiAgICBkZWYgX3NldF9iYWNrZ3JvdW5kX3Jvd19jb2xvcihzZWxmLCBwcm9kdWN0X3JvdywgaWRfZG9jKToKICAgICAgICBiYWNrZ3JvdW5kX2NvbG9yID0gJyNGRkZGRkYnCiAgICAgICAgcXR0eSwgcXR0eV9wbGFuID0gZmxvYXQocHJvZHVjdF9yb3dbJ3F0dHknXSksIGZsb2F0KHByb2R1Y3Rfcm93WydxdHR5X3BsYW4nXSkKCiAgICAgICAgaWYgcXR0eV9wbGFuID4gcXR0eToKICAgICAgICAgICAgaWYgc2VsZi5fYWRkZWRfZ29vZHNfaGFzX2tleShwcm9kdWN0X3Jvd1sna2V5J10pOgogICAgICAgICAgICAgICAgYmFja2dyb3VuZF9jb2xvciA9ICcjRjBGOEZGJwogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgYmFja2dyb3VuZF9jb2xvciA9ICIjRkJFOUU3IgoKICAgICAgICBlbGlmIHF0dHlfcGxhbiA8IHF0dHk6CiAgICAgICAgICAgIGJhY2tncm91bmRfY29sb3IgPSAiI0ZGRjlDNCIKCiAgICAgICAgcHJvZHVjdF9yb3dbJ19sYXlvdXQnXS5CYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kX2NvbG9yCgogICAgZGVmIF9hZGRlZF9nb29kc19oYXNfa2V5KHNlbGYsIGtleSk6CiAgICAgICAgYWRkZWRfZ29vZHMgPSBzZWxmLmhhc2hfbWFwLmdldF9qc29uKCdhZGRlZF9nb29kcycpCiAgICAgICAgcmVzdWx0ID0gRmFsc2UKCiAgICAgICAgaWYgYWRkZWRfZ29vZHM6CiAgICAgICAgICAgIGFkZGVkX2dvb2RzX2RvYyA9IGFkZGVkX2dvb2RzLmdldChzZWxmLmlkX2RvYywgW10pCiAgICAgICAgICAgIHJlc3VsdCA9IHN0cihrZXkpIGluIFtzdHIoaXRlbSkgZm9yIGl0ZW0gaW4gYWRkZWRfZ29vZHNfZG9jXQoKICAgICAgICByZXR1cm4gcmVzdWx0CgogICAgZGVmIF9hZGRfc2Nhbm5lZF9yb3coc2VsZiwgaWRfZG9jLCByb3dfa2V5KToKICAgICAgICBpZiBub3Qgcm93X2tleToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICMgcmFpc2UgVmFsdWVFcnJvcihmJ1JvdyBrZXkgbXVzdCBiZSBzZXQgbm90IHtyb3dfa2V5fScpCgogICAgICAgIGFkZGVkX2dvb2RzID0gc2VsZi5oYXNoX21hcC5nZXRfanNvbignYWRkZWRfZ29vZHMnKSBvciB7fQogICAgICAgICPQn9C+0LrQsCDRh9GC0L4g0L7RgtC60LvRjtGH0LjQuyDRgNCw0YHQutGA0LDRgdC60YMg0LLRgdC10YUg0L7RgtGB0LrQsNC90LjRgNC+0LLQsNC90L3Ri9GFCiAgICAgICAgIyBhZGRlZF9nb29kc19kb2MgPSBhZGRlZF9nb29kcy5nZXQoaWRfZG9jLCBbcm93X2tleV0pCiAgICAgICAgIyBpZiByb3dfa2V5IG5vdCBpbiBhZGRlZF9nb29kc19kb2M6CiAgICAgICAgIyAgICAgYWRkZWRfZ29vZHNfZG9jLmFwcGVuZChyb3dfa2V5KQoKICAgICAgICAjIGFkZGVkX2dvb2RzW2lkX2RvY10gPSBhZGRlZF9nb29kc19kb2MKICAgICAgICBhZGRlZF9nb29kc1tpZF9kb2NdID0gW3Jvd19rZXldCgogICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCdhZGRlZF9nb29kcycsIGFkZGVkX2dvb2RzLCB0b19qc29uPVRydWUpCgogICAgZGVmIF9maWxsX25vbmVfdmFsdWVzKHNlbGYsIGRhdGEsIGtleXMsIGRlZmF1bHQ9JycpOgogICAgICAgIG5vbmVfbGlzdCA9IFtOb25lLCAnTm9uZSddCiAgICAgICAgZm9yIGtleSBpbiBrZXlzOgogICAgICAgICAgICBkYXRhW2tleV0gPSBkZWZhdWx0IGlmIGRhdGFba2V5XSBpbiBub25lX2xpc3QgZWxzZSBkYXRhW2tleV0KCiAgICBjbGFzcyBUZXh0Vmlldyh3aWRnZXRzLlRleHRWaWV3KToKICAgICAgICBkZWYgX19pbml0X18oc2VsZiwgdmFsdWUpOgogICAgICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICAgICAgc2VsZi5UZXh0U2l6ZSA9ICcxNScKICAgICAgICAgICAgc2VsZi5UZXh0Qm9sZCA9IFRydWUKICAgICAgICAgICAgc2VsZi53aWR0aCA9ICdtYXRjaF9wYXJlbnQnCiAgICAgICAgICAgIHNlbGYuVmFsdWUgPSB2YWx1ZQoKICAgIGNsYXNzIExpbmVhckxheW91dCh3aWRnZXRzLkxpbmVhckxheW91dCk6CiAgICAgICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgICAgIHN1cGVyKCkuX19pbml0X18oKmFyZ3MsICoqa3dhcmdzKQogICAgICAgICAgICBzZWxmLm9yaWVudGF0aW9uID0gJ2hvcml6b250YWwnCiAgICAgICAgICAgIHNlbGYuaGVpZ2h0ID0gIm1hdGNoX3BhcmVudCIKICAgICAgICAgICAgc2VsZi53aWR0aCA9ICJtYXRjaF9wYXJlbnQiCiAgICAgICAgICAgIHNlbGYuU3Ryb2tlV2lkdGggPSAxCgoKY2xhc3MgR3JvdXBTY2FuRG9jRGV0YWlsc1NjcmVlbihEb2NEZXRhaWxzU2NyZWVuKToKICAgIHNjcmVlbl9uYW1lID0gJ9CU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLJwogICAgcHJvY2Vzc19uYW1lID0gJ9CT0YDRg9C/0L/QvtCy0LDRjyDQvtCx0YDQsNCx0L7RgtC60LAnCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGhhc2hfbWFwLCByc19zZXR0aW5ncyk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhoYXNoX21hcCwgcnNfc2V0dGluZ3MpCiAgICAgICAgc2VsZi5zY3JlZW5fdmFsdWVzID0gewogICAgICAgICAgICAnaWRfZG9jJzogaGFzaF9tYXBbJ2lkX2RvYyddLAogICAgICAgICAgICAnZG9jX3R5cGUnOiBoYXNoX21hcFsnZG9jX3R5cGUnXSwKICAgICAgICAgICAgJ2RvY19uJzogaGFzaF9tYXBbJ2RvY19uJ10sCiAgICAgICAgICAgICdkb2NfZGF0ZSc6IGhhc2hfbWFwWydkb2NfZGF0ZSddLAogICAgICAgICAgICAnd2FyZWhvdXNlJzogaGFzaF9tYXBbJ3dhcmVob3VzZSddLAogICAgICAgICAgICAnY291bnRyYWdlbnQnOiBoYXNoX21hcFsnY291bnRyYWdlbnQnXSwKICAgICAgICB9CgogICAgZGVmIG9uX3N0YXJ0KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fb25fc3RhcnQoKQoKICAgIGRlZiBvbl9pbnB1dChzZWxmKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkub25faW5wdXQoKQogICAgICAgIGxpc3RlbmVyID0gc2VsZi5oYXNoX21hcFsnbGlzdGVuZXInXQoKICAgICAgICBpZiBsaXN0ZW5lciA9PSAiQ2FyZHNDbGljayI6CiAgICAgICAgICAgIHBhc3MKCiAgICAgICAgZWxpZiBsaXN0ZW5lciA9PSAnYmFyY29kZScgb3Igc2VsZi5faXNfcmVzdWx0X3Bvc2l0aXZlKCfQktCy0LXRgdGC0LjQqNGC0YDQuNGF0LrQvtC0Jyk6CiAgICAgICAgICAgIHNlbGYuX2JhcmNvZGVfc2Nhbm5lZCgpCiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAucnVuX2V2ZW50X2FzeW5jKCdkb2NfZGV0YWlsc19iYXJjb2RlX3NjYW5uZWQnKQoKICAgICAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fYmFyY29kZXMnOgogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnNob3dfZGlhbG9nKCfQktCy0LXRgdGC0LjQqNGC0YDQuNGF0LrQvtC0JykKCiAgICAgICAgZWxpZiBsaXN0ZW5lciBpbiBbJ09OX0JBQ0tfUFJFU1NFRCcsICdCQUNLX0JVVFRPTiddOgogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGC0YsiKQoKICAgICAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fcm93c19maWx0ZXJfb24nOgogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnB1dCgncm93c19maWx0ZXInLCAnMScpCiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAucmVmcmVzaF9zY3JlZW4oKQoKICAgICAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fcm93c19maWx0ZXJfb2ZmJzoKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5yZW1vdmUoJ3Jvd3NfZmlsdGVyJykKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5yZWZyZXNoX3NjcmVlbigpCgogICAgZGVmIHBvc3RfYmFyY29kZV9zY2FubmVkKHNlbGYsIGh0dHBfc2V0dGluZ3MpOgogICAgICAgIGlmIHNlbGYuaGFzaF9tYXAuZ2V0X2Jvb2woJ2JhcmNvZGVfc2Nhbm5lZCcpOgogICAgICAgICAgICBpZF9kb2MgPSBzZWxmLmhhc2hfbWFwLmdldCgnaWRfZG9jJykKICAgICAgICAgICAgYW5zd2VyID0gaHR0cF9leGNoYW5nZS5wb3N0X2dvb2RzX3RvX3NlcnZlcihpZF9kb2MsIGh0dHBfc2V0dGluZ3MpCgogICAgICAgICAgICBpZiBhbnN3ZXIgYW5kIGFuc3dlci5nZXQoJ0Vycm9yJykgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBzZWxmLmhhc2hfbWFwLmRlYnVnKGFuc3dlci5nZXQoJ0Vycm9yJykpCgogICAgICAgICAgICBkb2NfZGV0YWlscyA9IHNlbGYuX2dldF9kb2NfZGV0YWlsc19kYXRhKCkKICAgICAgICAgICAgdGFibGVfZGF0YSA9IHNlbGYuX3ByZXBhcmVfdGFibGVfZGF0YShkb2NfZGV0YWlscykKICAgICAgICAgICAgdGFibGVfdmlldyA9IHNlbGYuX2dldF9kb2NfdGFibGVfdmlldyh0YWJsZV9kYXRhPXRhYmxlX2RhdGEpCiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCJkb2NfZ29vZHNfdGFibGUiLCB0YWJsZV92aWV3LnRvX2pzb24oKSkKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5yZWZyZXNoX3NjcmVlbigpCgoKY2xhc3MgRG9jdW1lbnRzRG9jRGV0YWlsU2NyZWVuKERvY0RldGFpbHNTY3JlZW4pOgogICAgc2NyZWVuX25hbWUgPSAn0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsnCiAgICBwcm9jZXNzX25hbWUgPSAn0JTQvtC60YPQvNC10L3RgtGLJwoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBoYXNoX21hcCwgcnNfc2V0dGluZ3MpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oaGFzaF9tYXAsIHJzX3NldHRpbmdzKQoKICAgIGRlZiBvbl9zdGFydChzZWxmKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX29uX3N0YXJ0KCkKCiAgICBkZWYgb25faW5wdXQoc2VsZikgLT4gTm9uZToKICAgICAgICBzdXBlcigpLm9uX2lucHV0KCkKICAgICAgICBsaXN0ZW5lciA9IHNlbGYuaGFzaF9tYXBbJ2xpc3RlbmVyJ10KICAgICAgICBpZF9kb2MgPSBzZWxmLmhhc2hfbWFwLmdldCgnaWRfZG9jJykKCiAgICAgICAgaWYgbGlzdGVuZXIgPT0gIkNhcmRzQ2xpY2siOgogICAgICAgICAgICBzZWxlY3RlZF9jYXJkX2tleSA9IHNlbGYuaGFzaF9tYXBbJ3NlbGVjdGVkX2NhcmRfa2V5J10KICAgICAgICAgICAgZG9jX2dvb2RzX3RhYmxlID0gc2VsZi5oYXNoX21hcC5nZXRfanNvbignZG9jX2dvb2RzX3RhYmxlJykKICAgICAgICAgICAgdGFibGVfZGF0YSA9IGRvY19nb29kc190YWJsZVsnY3VzdG9tdGFibGUnXVsndGFibGVkYXRhJ10KCiAgICAgICAgICAgIGN1cnJlbnRfZWxlbSA9IE5vbmUKICAgICAgICAgICAgY3VycmVudF9lbGVtX2ZpbHRlciA9IFtpdGVtIGZvciBpdGVtIGluIHRhYmxlX2RhdGEgaWYgaXRlbS5nZXQoJ2tleScpID09IHNlbGVjdGVkX2NhcmRfa2V5XQoKICAgICAgICAgICAgaWYgY3VycmVudF9lbGVtX2ZpbHRlcjoKICAgICAgICAgICAgICAgIGN1cnJlbnRfZWxlbSA9IGN1cnJlbnRfZWxlbV9maWx0ZXJbMF0KCiAgICAgICAgICAgIGN1cnJlbnRfc3RyID0gc2VsZi5oYXNoX21hcFsic2VsZWN0ZWRfY2FyZF9wb3NpdGlvbiJdCiAgICAgICAgICAgIHRhYmxlX2xpbmVzX3F0dHkgPSBzZWxmLmhhc2hfbWFwWyd0YWJsZV9saW5lc19xdHR5J10KCiAgICAgICAgICAgICMg0YLQtdC60YPRidC40Lkg0Y3Qu9C10LzQtdC90YIg0L3QtSDQvdCw0LnQtNC10L0g0LjQu9C4INGN0YLQviDQt9Cw0LPQvtC70L7QstC+0Log0YLQsNCx0LvQuNGG0YsKICAgICAgICAgICAgaWYgY3VycmVudF9lbGVtIGlzIE5vbmUgb3IgJ2dvb2RfbmFtZScgbm90IGluIGN1cnJlbnRfZWxlbToKICAgICAgICAgICAgICAgIHJldHVybgoKICAgICAgICAgICAgdGl0bGUgPSAne30g4oSWIHt9INC+0YIge30nLmZvcm1hdChzZWxmLmhhc2hfbWFwWydkb2NfdHlwZSddLCBzZWxmLmhhc2hfbWFwWydkb2NfbiddLCBzZWxmLmhhc2hfbWFwWydkb2NfZGF0ZSddKQogICAgICAgICAgICBwdXRfZGF0YSA9IHsKICAgICAgICAgICAgICAgICdEb2NfZGF0YSc6IHRpdGxlLAogICAgICAgICAgICAgICAgJ0dvb2QnOiBjdXJyZW50X2VsZW1bJ2dvb2RfbmFtZSddLAogICAgICAgICAgICAgICAgJ2dvb2RfYXJ0JzogY3VycmVudF9lbGVtWydhcnQnXSwKICAgICAgICAgICAgICAgICdnb29kX3NuJzogY3VycmVudF9lbGVtWydzZXJpZXNfbmFtZSddLAogICAgICAgICAgICAgICAgJ2dvb2RfcHJvcGVydHknOiBjdXJyZW50X2VsZW1bJ3Byb3BlcnRpZXNfbmFtZSddLAogICAgICAgICAgICAgICAgJ2dvb2RfcHJpY2UnOiBjdXJyZW50X2VsZW1bJ3ByaWNlJ10sCiAgICAgICAgICAgICAgICAnZ29vZF91bml0JzogY3VycmVudF9lbGVtWyd1bml0c19uYW1lJ10sCiAgICAgICAgICAgICAgICAnZ29vZF9zdHInOiBmJ3tjdXJyZW50X3N0cn0gLyB7dGFibGVfbGluZXNfcXR0eX0nLAogICAgICAgICAgICAgICAgJ3F0dHlfcGxhbic6IGN1cnJlbnRfZWxlbVsncXR0eV9wbGFuJ10sCiAgICAgICAgICAgICAgICAnZ29vZF9wbGFuJzogY3VycmVudF9lbGVtWydxdHR5X3BsYW4nXSwKICAgICAgICAgICAgICAgICdrZXknOiBjdXJyZW50X2VsZW1bJ2tleSddLAogICAgICAgICAgICAgICAgJ3ByaWNlJzogY3VycmVudF9lbGVtWydwcmljZSddLAogICAgICAgICAgICAgICAgJ3ByaWNlX3R5cGUnOiBjdXJyZW50X2VsZW1bJ3ByaWNlX25hbWUnXSwKICAgICAgICAgICAgICAgICdxdHR5JzogY3VycmVudF9lbGVtWydxdHR5J10gaWYgY3VycmVudF9lbGVtWydxdHR5J10gYW5kIGZsb2F0KGN1cnJlbnRfZWxlbVsncXR0eSddKSAhPSAwIGVsc2UgJycsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2VsZi5fZmlsbF9ub25lX3ZhbHVlcygKICAgICAgICAgICAgICAgIHB1dF9kYXRhLAogICAgICAgICAgICAgICAgKCdnb29kX2FydCcsICdnb29kX3NuJywgJ2dvb2RfcHJvcGVydHknLCAnZ29vZF9wcmljZScsICdnb29kX3BsYW4nKSwKICAgICAgICAgICAgICAgIGRlZmF1bHQ9J9C+0YLRgdGD0YLRgdGC0LLRg9C10YInKQoKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5wdXRfZGF0YShwdXRfZGF0YSkKCiAgICAgICAgICAgICMg0KTQvtGA0LzQuNGA0YPQtdC8INGC0LDQsdC70LjRhtGDIFFSINC60L7QtNC+0LItLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgICAgIGFyZ3MgPSB7CiAgICAgICAgICAgICAgICAnaWRfZG9jJzogaWRfZG9jLAogICAgICAgICAgICAgICAgJ2lkX2dvb2QnOiBjdXJyZW50X2VsZW1bJ2lkX2dvb2QnXSwKICAgICAgICAgICAgICAgICdpZF9wcm9wZXJ0eSc6IGN1cnJlbnRfZWxlbVsnaWRfcHJvcGVydGllcyddLAogICAgICAgICAgICAgICAgJ2lkX3Nlcmllcyc6IGN1cnJlbnRfZWxlbVsnaWRfc2VyaWVzJ10sCiAgICAgICAgICAgICAgICAnaWRfdW5pdCc6IGN1cnJlbnRfZWxlbVsnaWRfdW5pdCddLAogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlcyA9IHNlbGYuX2dldF9kb2NfYmFyY29kZV9kYXRhKGFyZ3MpCgogICAgICAgICAgICAjIFRPRE8g0J/QtdGA0LXQtNC10LvQsNGC0Ywg0YfQtdGA0LXQtyDQstC40LTQttC10YLRiwogICAgICAgICAgICBjYXJkcyA9IHNlbGYuX2dldF9iYXJjb2RlX2NhcmQoKQoKICAgICAgICAgICAgIyDQpNC+0YDQvNC40YDRg9C10Lwg0YHQv9C40YHQvtC6INC60LDRgNGC0L7Rh9C10Log0LHQsNGA0LrQvtC00L7QsgogICAgICAgICAgICBjYXJkc1snY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10gPSBbXQogICAgICAgICAgICBmb3IgZWwgaW4gcmVzOgoKICAgICAgICAgICAgICAgIHBpY3R1cmUgPSAnI2YwMGMnIGlmIGVsWydhcHByb3ZlZCddIGluIFsnVHJ1ZScsICd0cnVlJywgJzEnXSBlbHNlICcnCiAgICAgICAgICAgICAgICByb3cgPSB7CiAgICAgICAgICAgICAgICAgICAgJ2JhcmNvZGUnOiBlbFsnbWFya19jb2RlJ10sCiAgICAgICAgICAgICAgICAgICAgJ3BpY3R1cmUnOiBwaWN0dXJlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXJkc1snY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10uYXBwZW5kKHJvdykKCiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCdiYXJjb2RlX2NhcmRzJywgY2FyZHMsIHRvX2pzb249VHJ1ZSkKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5zaG93X3NjcmVlbigi0KLQvtCy0LDRgCDQstGL0LHQvtGAIikKCiAgICAgICAgZWxpZiBsaXN0ZW5lciA9PSAnYmFyY29kZScgb3Igc2VsZi5faXNfcmVzdWx0X3Bvc2l0aXZlKCfQktCy0LXRgdGC0LjQqNGC0YDQuNGF0LrQvtC0Jyk6CiAgICAgICAgICAgIHNlbGYuX2JhcmNvZGVfc2Nhbm5lZCgpCgogICAgICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9iYXJjb2Rlcyc6CiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAuc2hvd19kaWFsb2coJ9CS0LLQtdGB0YLQuNCo0YLRgNC40YXQutC+0LQnKQoKICAgICAgICBlbGlmIGxpc3RlbmVyIGluIFsnT05fQkFDS19QUkVTU0VEJywgJ0JBQ0tfQlVUVE9OJ106CiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YLRiyIpCgogICAgICAgIGVsaWYgc2VsZi5faXNfcmVzdWx0X3Bvc2l0aXZlKCdjb25maXJtX3ZlcmlmaWVkJyk6CiAgICAgICAgICAgIGlkX2RvYyA9IHNlbGYuaGFzaF9tYXBbJ2lkX2RvYyddCiAgICAgICAgICAgIGRvYyA9IFJzRG9jKGlkX2RvYykKICAgICAgICAgICAgZG9jLm1hcmtfdmVyaWZpZWQoMSkKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5zaG93X3NjcmVlbigi0JTQvtC60YPQvNC10L3RgtGLIikKCiAgICAgICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX2RvY19tYXJrX3ZlcmlmaWVkJzoKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5zaG93X2RpYWxvZygnY29uZmlybV92ZXJpZmllZCcsICfQl9Cw0LLQtdGA0YjQuNGC0Ywg0LTQvtC60YPQvNC10L3Rgj8nLCBbJ9CU0LAnLCAn0J3QtdGCJ10pCgogICAgICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9yb3dzX2ZpbHRlcl9vbic6CiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCdyb3dzX2ZpbHRlcicsICcxJykKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5yZWZyZXNoX3NjcmVlbigpCgogICAgICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9yb3dzX2ZpbHRlcl9vZmYnOgogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnJlbW92ZSgncm93c19maWx0ZXInKQogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnJlZnJlc2hfc2NyZWVuKCkKCiAgICBkZWYgX2dldF9iYXJjb2RlX2NhcmQoc2VsZik6CiAgICAgICAgIyBUT0RPINCf0LXRgNC10LTQtdC70LDRgtGMINGH0LXRgNC10Lcg0LLQuNC00LbQtdGC0YsKCiAgICAgICAgbHMgPSB7ImN1c3RvbWNhcmRzIjogewogICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGJhcmNvZGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNlbGYucnNfc2V0dGluZ3MuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHBpY3R1cmUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiI0RCNzA5MyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRkZGRkZGIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiYnRuX3RzdDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjYXJkQ29ybmVyUmFkaXVzIjogIjE1ZHAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH19CiAgICAgICAgfQogICAgICAgIHJldHVybiBscwoKICAgIGRlZiBfZ2V0X2RvY19iYXJjb2RlX2RhdGEoc2VsZiwgYXJncyk6CiAgICAgICAgcmV0dXJuIHNlbGYuc2VydmljZS5nZXRfZG9jX2JhcmNvZGVfZGF0YShhcmdzKQoKIyBeXl5eXl5eXl5eXl5eXl5eXl5eXl4gRG9jRGV0YWlscyBeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eCgoKIyA9PT09PT09PT09PT09PT09PT09PSBUaW1lciA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKCmNsYXNzIFRpbWVyOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGhhc2hfbWFwOiBIYXNoTWFwLCByc19zZXR0aW5ncyk6CiAgICAgICAgc2VsZi5oYXNoX21hcCA9IGhhc2hfbWFwCiAgICAgICAgc2VsZi5yc19zZXR0aW5ncyA9IHJzX3NldHRpbmdzCiAgICAgICAgc2VsZi5odHRwX3NldHRpbmdzID0gc2VsZi5fZ2V0X2h0dHBfc2V0dGluZ3MoKQogICAgICAgIHNlbGYuZGJfc2VydmljZSA9IERvY1NlcnZpY2UoKQogICAgICAgIHNlbGYuaHR0cF9zZXJ2aWNlID0gSHNTZXJ2aWNlKHNlbGYuaHR0cF9zZXR0aW5ncykKCiAgICBkZWYgdGltZXJfb25fc3RhcnQoc2VsZik6CiAgICAgICAgZG9jc19kYXRhID0gc2VsZi5odHRwX3NlcnZpY2UuZ2V0X2RhdGEoKQogICAgICAgIGZvcm1hdF9yZXN1bHRzID0gWydpc19vaycsICdpc19kYXRhJywgJ25vX2RhdGEnXQogICAgICAgICMgaWYgZG9jc19kYXRhLmdldCgnZGF0YScpOgogICAgICAgICMgICAgIHRyeToKICAgICAgICAjICAgICAgICAgc2VsZi5kYl9zZXJ2aWNlLnVwZGF0ZV9kYXRhX2Zyb21fanNvbihkb2NzX2RhdGFbJ2RhdGEnXSkKICAgICAgICAjICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgIyAgICAgICAgIHJhaXNlIGUKCiAgICBkZWYgX2dldF9odHRwX3NldHRpbmdzKHNlbGYpOgogICAgICAgIGh0dHBfc2V0dGluZ3MgPSB7CiAgICAgICAgICAgICd1cmwnOiBzZWxmLnJzX3NldHRpbmdzLmdldCgiVVJMIiksCiAgICAgICAgICAgICd1c2VyJzogc2VsZi5yc19zZXR0aW5ncy5nZXQoJ1VTRVInKSwKICAgICAgICAgICAgJ3Bhc3MnOiBzZWxmLnJzX3NldHRpbmdzLmdldCgnUEFTUycpLAogICAgICAgICAgICAnZGV2aWNlX21vZGVsJzogc2VsZi5oYXNoX21hcFsnREVWSUNFX01PREVMJ10sCiAgICAgICAgICAgICdhbmRyb2lkX2lkJzogc2VsZi5oYXNoX21hcFsnQU5EUk9JRF9JRCddLAogICAgICAgICAgICAndXNlcl9uYW1lJzogc2VsZi5yc19zZXR0aW5ncy5nZXQoJ3VzZXJfbmFtZScpfQogICAgICAgIHJldHVybiBodHRwX3NldHRpbmdzCgojIF5eXl5eXl5eXl5eXl5eXl5eXl5eXiBUaW1lciBeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eCgoKY2xhc3MgU2NyZWVuc0ZhY3Rvcnk6CiAgICBzY3JlZW5zID0gWwogICAgICAgIEdyb3VwU2NhblRpbGVzLAogICAgICAgIERvY3VtZW50c1RpbGVzLAogICAgICAgIEdyb3VwU2NhbkRvY3NMaXN0U2NyZWVuLAogICAgICAgIERvY3VtZW50c0RvY3NMaXN0U2NyZWVuLAogICAgICAgIEdyb3VwU2NhbkRvY0RldGFpbHNTY3JlZW4sCiAgICAgICAgRG9jdW1lbnRzRG9jRGV0YWlsU2NyZWVuCiAgICBdCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIGNyZWF0ZV9zY3JlZW4oc2NyZWVuX25hbWU9Tm9uZSwgcHJvY2Vzcz1Ob25lLCAqKmt3YXJncyk6CiAgICAgICAgaWYgbm90IHNjcmVlbl9uYW1lOgogICAgICAgICAgICBzY3JlZW5fbmFtZSA9IGt3YXJnc1snaGFzaF9tYXAnXS5nZXRfY3VycmVudF9zY3JlZW4oKQogICAgICAgIGlmIG5vdCBwcm9jZXNzOgogICAgICAgICAgICBwcm9jZXNzID0ga3dhcmdzWydoYXNoX21hcCddLmdldF9jdXJyZW50X3Byb2Nlc3MoKQoKICAgICAgICBmb3IgaXRlbSBpbiBTY3JlZW5zRmFjdG9yeS5zY3JlZW5zOgogICAgICAgICAgICBpZiBnZXRhdHRyKGl0ZW0sICdzY3JlZW5fbmFtZScpID09IHNjcmVlbl9uYW1lIGFuZCBnZXRhdHRyKGl0ZW0sICdwcm9jZXNzX25hbWUnKSA9PSBwcm9jZXNzOgogICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0oKiprd2FyZ3MpCgoKY2xhc3MgTW9ja1NjcmVlbihTY3JlZW4pOgogICAgZGVmIG9uX3N0YXJ0KHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgb25faW5wdXQoc2VsZik6CiAgICAgICAgcGFzcwoKICAgIGRlZiBvbl9wb3N0X3N0YXJ0KHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgc2hvdyhzZWxmLCBhcmdzPU5vbmUpOgogICAgICAgIHBhc3MK"
            },
            {
                "file_path": "C:/projects/python/simple_keep\\db_services.py",
                "PyFileKey": "db_services",
                "PyFileData": "aW1wb3J0IGpzb24KCmZyb20gdWlfZ2xvYmFsIGltcG9ydCBnZXRfcXVlcnlfcmVzdWx0CgoKY2xhc3MgRG9jU2VydmljZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkb2NfaWQ9JycpOgogICAgICAgIHNlbGYuZG9jX2lkID0gZG9jX2lkCgogICAgZGVmIGdldF9sYXN0X2VkaXRlZF9nb29kcyhzZWxmLCB0b19qc29uPUZhbHNlKToKICAgICAgICBxdWVyeV9kb2NzID0gZidTRUxFQ1QgKiBGUk9NIFJTX2RvY3MgV0hFUkUgaWRfZG9jID0gPyBhbmQgdmVyaWZpZWQgPSAxJwoKICAgICAgICBxdWVyeV9nb29kcyA9ICcnJwogICAgICAgIFNFTEVDVCAqIEZST00gUlNfZG9jc190YWJsZQogICAgICAgIFdIRVJFIGlkX2RvYyA9ID8gYW5kIHNlbnQgPSAwCiAgICAgICAgJycnCgogICAgICAgIHRyeToKICAgICAgICAgICAgcmVzX2RvY3MgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X2RvY3MsIChzZWxmLmRvY19pZCwpLCBUcnVlKQogICAgICAgICAgICByZXNfZ29vZHMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X2dvb2RzLCAoc2VsZi5kb2NfaWQsKSwgVHJ1ZSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHJhaXNlIGUKICAgICAgICAgICAgIyByZXR1cm4geydFcnJvcic6IGUuYXJnc1swXX0KCiAgICAgICAgaWYgbm90IHJlc19nb29kczoKICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICAgICAgZm9yIGl0ZW0gaW4gcmVzX2RvY3M6CiAgICAgICAgICAgIGZpbHRlcmVkX2xpc3QgPSBbZCBmb3IgZCBpbiByZXNfZ29vZHMgaWYgZFsnaWRfZG9jJ10gPT0gaXRlbVsnaWRfZG9jJ11dCiAgICAgICAgICAgIGl0ZW1bJ1JTX2RvY3NfdGFibGUnXSA9IGZpbHRlcmVkX2xpc3QKICAgICAgICAgICAgaXRlbVsnUlNfZG9jc19iYXJjb2RlcyddID0gW10KICAgICAgICAgICAgaXRlbVsnUlNfYmFyY19mbG93J10gPSBbXQoKICAgICAgICBpZiB0b19qc29uOgogICAgICAgICAgICByZXR1cm4ganNvbi5kdW1wcyhyZXNfZG9jcykKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gcmVzX2RvY3MKCiAgICBkZWYgdXBkYXRlX2RhdGFfZnJvbV9qc29uKHNlbGYsIGpzb25fZGF0YSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBkYXRhID0ganNvbi5sb2Fkcyhqc29uX2RhdGEpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBkYXRhID0ganNvbl9kYXRhCgogICAgICAgIGlmIGRhdGEuZ2V0KCdSU19kb2NzJyk6CiAgICAgICAgICAgIHNlbGYudXBkYXRlX2RvY3MoZGF0YSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnVwZGF0ZV9uc2koZGF0YSkKCiAgICBkZWYgdXBkYXRlX2RvY3Moc2VsZiwgZGF0YSk6CiAgICAgICAgZG9jX2lkcyA9ICcsJy5qb2luKFtmJyJ7aXRlbS5nZXQoImlkX2RvYyIpfSInIGZvciBpdGVtIGluIGRhdGFbJ1JTX2RvY3MnXV0pCgogICAgICAgIHF1ZXJ5ID0gZicnJwogICAgICAgICAgICBTRUxFQ1QgaWRfZG9jLCB2ZXJpZmllZAogICAgICAgICAgICBGUk9NIFJTX2RvY3MKICAgICAgICAgICAgV0hFUkUgaWRfZG9jIElOICh7ZG9jX2lkc30pCiAgICAgICAgJycnCiAgICAgICAgZG9jcyA9IHtpdGVtWydpZF9kb2MnXTogaXRlbVsndmVyaWZpZWQnXSBmb3IgaXRlbSBpbiBzZWxmLl9nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQ9cXVlcnksIHJldHVybl9kaWN0PVRydWUpfQoKICAgICAgICBxdWVyaWVzID0gc2VsZi5qc29uX3RvX3NxbGl0ZV9xdWVyeShkYXRhLCBkb2NzKQoKICAgICAgICBmb3IgcXVlcnkgaW4gcXVlcmllczoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc2VsZi5fZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSkKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgcmFpc2UgZQoKICAgICAgICByZXR1cm4gZG9jcwoKICAgIGRlZiB1cGRhdGVfbnNpKHNlbGYsIGRhdGEpOgogICAgICAgIHF1ZXJpZXMgPSBzZWxmLmpzb25fdG9fc3FsaXRlX3F1ZXJ5KGRhdGEpCgogICAgICAgIGZvciBxdWVyeSBpbiBxdWVyaWVzOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzZWxmLl9nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5KQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICByYWlzZSBlCgogICAgZGVmIHVwZGF0ZV9zZW50X2RhdGEoc2VsZiwgZGF0YSk6CiAgICAgICAgaWYgZGF0YToKICAgICAgICAgICAgZm9yIGRvYyBpbiBkYXRhOgogICAgICAgICAgICAgICAgaWRfZG9jID0gZG9jWydpZF9kb2MnXQogICAgICAgICAgICAgICAgaWRfZ29vZHMgPSAnLCcuam9pbihbZicie2l0ZW0uZ2V0KCJpZF9nb29kIil9IicgZm9yIGl0ZW0gaW4gZG9jLmdldCgnUlNfZG9jc190YWJsZScsIFtdKV0pCgogICAgICAgICAgICAgICAgcXVlcnkgPSBmJycnCiAgICAgICAgICAgICAgICAgICAgVVBEQVRFIFJTX2RvY3NfdGFibGUKICAgICAgICAgICAgICAgICAgICBTRVQgc2VudCA9IDEKICAgICAgICAgICAgICAgICAgICBXSEVSRSBpZF9kb2MgPSAne2lkX2RvY30nIEFORCBpZF9nb29kIElOICh7aWRfZ29vZHN9KQogICAgICAgICAgICAgICAgICAgICcnJwoKICAgICAgICAgICAgICAgIHNlbGYuX2dldF9xdWVyeV9yZXN1bHQocXVlcnkpCgogICAgZGVmIGpzb25fdG9fc3FsaXRlX3F1ZXJ5KHNlbGYsIGRhdGEsIGRvY3M9Tm9uZSk6CiAgICAgICAgcWxpc3QgPSBbXQogICAgICAgICMg0KbQuNC60Lsg0L/QviDQuNC80LXQvdCw0Lwg0YLQsNCx0LvQuNGGCiAgICAgICAgdGFibGVfbGlzdCA9ICgKICAgICAgICAgICAgJ1JTX2RvY190eXBlcycsICdSU19nb29kcycsICdSU19wcm9wZXJ0aWVzJywgJ1JTX3VuaXRzJywgJ1JTX3R5cGVzX2dvb2RzJywgJ1JTX3NlcmllcycsICdSU19jb3VudHJhZ2VudHMnLAogICAgICAgICAgICAnUlNfd2FyZWhvdXNlcycsICdSU19wcmljZV90eXBlcycsICdSU19jZWxscycsICdSU19iYXJjb2RlcycsICdSU19wcmljZXMnLCAnUlNfZG9jX3R5cGVzJywgJ1JTX2RvY3MnLAogICAgICAgICAgICAnUlNfZG9jc190YWJsZScsICdSU19kb2NzX2JhcmNvZGVzJywgJ1JTX2Fkcl9kb2NzJywgJ1JTX2Fkcl9kb2NzX3RhYmxlJykgICMgLCwgJ1JTX2JhcmNfZmxvdycKICAgICAgICB0YWJsZV9mb3JfZGVsZXRlID0gKCdSU19kb2NzX3RhYmxlJywgJ1JTX2RvY3NfYmFyY29kZXMsIFJTX2Fkcl9kb2NzX3RhYmxlJykgICMgLCAnUlNfYmFyY19mbG93JwogICAgICAgIGRvY19pZF9saXN0ID0gW10KICAgICAgICBmb3IgdGFibGVfbmFtZSBpbiB0YWJsZV9saXN0OgogICAgICAgICAgICBpZiBub3QgZGF0YS5nZXQodGFibGVfbmFtZSk6CiAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgIyDQlNC+0LHQsNCy0LjQvCDQsiDQt9Cw0L/RgNC+0YHRiyDRg9C00LDQu9C10L3QuNC1INC40Lcg0LHQsNC30Ysg0YHRgtGA0L7QuiDRgtC10YUg0LTQvtC60YPQvNC10L3RgtC+0LIsINGH0YLQviDQvNGLINC30LDQs9GA0YPQttCw0LXQvAogICAgICAgICAgICBpZiB0YWJsZV9uYW1lIGluIHRhYmxlX2Zvcl9kZWxldGU6CiAgICAgICAgICAgICAgICBxdWVyeSA9IGYiREVMRVRFIEZST00ge3RhYmxlX25hbWV9IFdIRVJFIGlkX2RvYyBpbiAoeycsICcuam9pbihkb2NfaWRfbGlzdCl9KSAiCiAgICAgICAgICAgICAgICBxbGlzdC5hcHBlbmQocXVlcnkpCgogICAgICAgICAgICBjb2x1bW5fbmFtZXMgPSBkYXRhW3RhYmxlX25hbWVdWzBdLmtleXMoKQogICAgICAgICAgICBpZiAnbWFya19jb2RlJyBpbiBjb2x1bW5fbmFtZXM6CiAgICAgICAgICAgICAgICBxdWVyeV9jb2xfbmFtZXMgPSBsaXN0KGNvbHVtbl9uYW1lcykKICAgICAgICAgICAgICAgIHF1ZXJ5X2NvbF9uYW1lcy5hcHBlbmQoJ0dUSU4nKQogICAgICAgICAgICAgICAgcXVlcnlfY29sX25hbWVzLmFwcGVuZCgnU2VyaWVzJykKICAgICAgICAgICAgICAgIHF1ZXJ5X2NvbF9uYW1lcy5yZW1vdmUoJ21hcmtfY29kZScpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBxdWVyeV9jb2xfbmFtZXMgPSBsaXN0KGNvbHVtbl9uYW1lcykKCiAgICAgICAgICAgIGlmIGRvY3MgYW5kIHRhYmxlX25hbWUgPT0gJ1JTX2RvY3MnOgogICAgICAgICAgICAgICAgcXVlcnlfY29sX25hbWVzLmFwcGVuZCgndmVyaWZpZWQnKQoKICAgICAgICAgICAgcXVlcnkgPSBmIlJFUExBQ0UgSU5UTyB7dGFibGVfbmFtZX0gKHsnLCAnLmpvaW4ocXVlcnlfY29sX25hbWVzKX0pIFZBTFVFUyAiCiAgICAgICAgICAgIHZhbHVlcyA9IFtdCgogICAgICAgICAgICBmb3Igcm93IGluIGRhdGFbdGFibGVfbmFtZV06CiAgICAgICAgICAgICAgICByb3dfdmFsdWVzID0gW10KICAgICAgICAgICAgICAgIGxpc3RfcXVvdGVkX2ZpZWxkcyA9ICgnbmFtZScsICdmdWxsX25hbWUnLCAibWFya19jb2RlIikKICAgICAgICAgICAgICAgIGZvciBjb2wgaW4gY29sdW1uX25hbWVzOgogICAgICAgICAgICAgICAgICAgIGlmIGNvbCBpbiBsaXN0X3F1b3RlZF9maWVsZHMgYW5kICJcIiIgaW4gcm93W2NvbF06CiAgICAgICAgICAgICAgICAgICAgICAgIHJvd1tjb2xdID0gcm93W2NvbF0ucmVwbGFjZSgiXCIiLCAiXCJcIiIpCiAgICAgICAgICAgICAgICAgICAgaWYgcm93W2NvbF0gaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgcm93W2NvbF0gPSAnJwogICAgICAgICAgICAgICAgICAgIGlmIGNvbCA9PSAnbWFya19jb2RlJzogICMg0JfQsNC80LXQvdGP0LXQvCDRjdGC0L4g0L/QvtC70LUg0L3QsCDQv9C+0LvRjyBHVElOINC4IFNlcmllcwogICAgICAgICAgICAgICAgICAgICAgICBiYXJjX3N0cnVjdCA9IHNlbGYucGFyc2VfYmFyY29kZShyb3dbY29sXSkKICAgICAgICAgICAgICAgICAgICAgICAgcm93X3ZhbHVlcy5hcHBlbmQoYmFyY19zdHJ1Y3RbJ0dUSU4nXSkKICAgICAgICAgICAgICAgICAgICAgICAgcm93X3ZhbHVlcy5hcHBlbmQoYmFyY19zdHJ1Y3RbJ1NlcmllcyddKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHJvd192YWx1ZXMuYXBwZW5kKHJvd1tjb2xdKSAgIyAoZicie3Jvd1tjb2xdfSInKQogICAgICAgICAgICAgICAgICAgIGlmIGNvbCA9PSAnaWRfZG9jJyBhbmQgdGFibGVfbmFtZSA9PSAnUlNfZG9jcyc6CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY19pZF9saXN0LmFwcGVuZCgnIicgKyByb3dbY29sXSArICciJykKCiAgICAgICAgICAgICAgICBpZiBkb2NzIGFuZCB0YWJsZV9uYW1lID09ICdSU19kb2NzJzoKICAgICAgICAgICAgICAgICAgICByb3dfdmFsdWVzLmFwcGVuZChkb2NzW3Jvd1snaWRfZG9jJ11dKQoKICAgICAgICAgICAgICAgIGZvcm1hdHRlZF92YWwgPSBbZicie3h9IicgaWYgaXNpbnN0YW5jZSh4LCBzdHIpIGVsc2Ugc3RyKHgpIGZvciB4IGluIHJvd192YWx1ZXNdCiAgICAgICAgICAgICAgICB2YWx1ZXMuYXBwZW5kKGYiKHsnLCAnLmpvaW4oZm9ybWF0dGVkX3ZhbCl9KSIpCiAgICAgICAgICAgIHF1ZXJ5ICs9ICIsICIuam9pbih2YWx1ZXMpCiAgICAgICAgICAgIHFsaXN0LmFwcGVuZChxdWVyeSkKCiAgICAgICAgcmV0dXJuIHFsaXN0CgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIF9nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsIGFyZ3M9Tm9uZSwgcmV0dXJuX2RpY3Q9RmFsc2UpOgogICAgICAgIHJldHVybiBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsIGFyZ3M9YXJncywgcmV0dXJuX2RpY3Q9cmV0dXJuX2RpY3QpCgogICAgZGVmIHNldF9kb2NfdmFsdWUoc2VsZiwga2V5LCB2YWx1ZSk6CiAgICAgICAgcXVlcnkgPSBmJycnCiAgICAgICAgICAgIFVQREFURSBSU19kb2NzCiAgICAgICAgICAgIFNFVCB7a2V5fSA9IHt2YWx1ZX0KICAgICAgICAgICAgV0hFUkUgaWRfZG9jID0gIntzZWxmLmRvY19pZH0iCiAgICAgICAgICAgICcnJwoKICAgICAgICBzZWxmLl9nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5KQoKICAgIGRlZiBnZXRfZG9jX3ZhbHVlKHNlbGYsIGtleSwgaWRfZG9jKToKICAgICAgICBxdWVyeSA9IGYnU0VMRUNUIHtrZXl9IGZyb20gUlNfZG9jcyAgV0hFUkUgaWRfZG9jID0gPycKICAgICAgICByZXMgPSBzZWxmLl9nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoaWRfZG9jLCksIFRydWUpCiAgICAgICAgaWYgcmVzOgogICAgICAgICAgICByZXR1cm4gcmVzWzBdW2tleV0KCiAgICBkZWYgZ2V0X2RvY190eXBlcyhzZWxmKSAtPiBsaXN0OgogICAgICAgIHF1ZXJ5ID0gJ1NFTEVDVCBESVNUSU5DVCBkb2NfdHlwZSBmcm9tIFJTX2RvY3MnCiAgICAgICAgZG9jX3R5cGVzID0gW3JlY1swXSBmb3IgcmVjIGluIHNlbGYuX2dldF9xdWVyeV9yZXN1bHQocXVlcnkpXQogICAgICAgIHJldHVybiBkb2NfdHlwZXMKCiAgICBkZWYgZ2V0X2RvY192aWV3X2RhdGEoc2VsZiwgZG9jX3R5cGU9JycsIGRvY19zdGF0dXM9JycpIC0+IGxpc3Q6CiAgICAgICAgcXVlcnlfdGV4dCA9ICcnJwogICAgICAgICAgICBTRUxFQ1QgUlNfZG9jcy5pZF9kb2MsCiAgICAgICAgICAgICAgICBSU19kb2NzLmRvY190eXBlLAogICAgICAgICAgICAgICAgUlNfZG9jcy5kb2NfbiwKICAgICAgICAgICAgICAgIFJTX2RvY3MuZG9jX2RhdGUsCiAgICAgICAgICAgICAgICBSU19kb2NzLmlkX2NvdW50cmFnZW50cywKICAgICAgICAgICAgICAgIFJTX2RvY3MuaWRfd2FyZWhvdXNlLAogICAgICAgICAgICAgICAgaWZudWxsKFJTX2NvdW50cmFnZW50cy5mdWxsX25hbWUsJycpIGFzIFJTX2NvdW50cmFnZW50LAogICAgICAgICAgICAgICAgaWZudWxsKFJTX3dhcmVob3VzZXMubmFtZSwnJykgYXMgUlNfd2FyZWhvdXNlLAogICAgICAgICAgICAgICAgaWZudWxsKFJTX2RvY3MudmVyaWZpZWQsIDApIGFzIHZlcmlmaWVkLAogICAgICAgICAgICAgICAgaWZudWxsKFJTX2RvY3Muc2VudCwgMCkgYXMgc2VudCwKICAgICAgICAgICAgICAgIFJTX2RvY3MuYWRkX21hcmtfc2VsZWN0aW9uCgogICAgICAgICAgICBGUk9NIFJTX2RvY3MKICAgICAgICAgICAgTEVGVCBKT0lOIFJTX2NvdW50cmFnZW50cyBhcyBSU19jb3VudHJhZ2VudHMKICAgICAgICAgICAgICAgIE9OIFJTX2NvdW50cmFnZW50cy5pZCA9IFJTX2RvY3MuaWRfY291bnRyYWdlbnRzCiAgICAgICAgICAgIExFRlQgSk9JTiBSU193YXJlaG91c2VzIGFzIFJTX3dhcmVob3VzZXMKICAgICAgICAgICAgICAgIE9OIFJTX3dhcmVob3VzZXMuaWQ9UlNfZG9jcy5pZF93YXJlaG91c2UKICAgICAgICAnJycKCiAgICAgICAgaWYgZG9jX3N0YXR1czoKICAgICAgICAgICAgaWYgZG9jX3N0YXR1cyA9PSAi0JLRi9Cz0YDRg9C20LXQvSI6CiAgICAgICAgICAgICAgICB3aGVyZSA9ICJXSEVSRSBzZW50PTEgQU5EIHZlcmlmaWVkPTEiCiAgICAgICAgICAgIGVsaWYgZG9jX3N0YXR1cyA9PSAi0Jog0LLRi9Cz0YDRg9C30LrQtSI6CiAgICAgICAgICAgICAgICB3aGVyZSA9ICJXSEVSRSBpZm51bGwodmVyaWZpZWQsMCk9MSBBTkQgaWZudWxsKHNlbnQsMCk9MCIKICAgICAgICAgICAgZWxpZiBkb2Nfc3RhdHVzID09ICLQmiDQstGL0L/QvtC70L3QtdC90LjRjiI6CiAgICAgICAgICAgICAgICB3aGVyZSA9ICJXSEVSRSBpZm51bGwodmVyaWZpZWQsMCk9MCBBTkQgaWZudWxsKHNlbnQsMCk9MCIKICAgICAgICAgICAgZWxpZiBkb2Nfc3RhdHVzID09ICLQktGB0LUiOgogICAgICAgICAgICAgICAgd2hlcmUgPSAiIgoKICAgICAgICBpZiBub3QgZG9jX3R5cGUgb3IgZG9jX3R5cGUgPT0gItCS0YHQtSI6CiAgICAgICAgICAgIGFyZ3NfdHVwbGUgPSBOb25lCiAgICAgICAgICAgIGlmIG5vdCBkb2Nfc3RhdHVzIG9yIGRvY19zdGF0dXMgPT0gItCS0YHQtSI6CiAgICAgICAgICAgICAgICB3aGVyZSA9ICcnCgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFyZ3NfdHVwbGUgPSAoZG9jX3R5cGUsKQogICAgICAgICAgICBpZiBub3QgZG9jX3N0YXR1cyBvciBkb2Nfc3RhdHVzID09ICLQktGB0LUiOgogICAgICAgICAgICAgICAgd2hlcmUgPSAnV0hFUkUgZG9jX3R5cGU9PycKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHdoZXJlICs9ICcgQU5EIGRvY190eXBlPT8nCgogICAgICAgIHF1ZXJ5X3RleHQgPSBmJycnCiAgICAgICAgICAgIHtxdWVyeV90ZXh0fQogICAgICAgICAgICB7d2hlcmV9CiAgICAgICAgICAgIE9SREVSIEJZIFJTX2RvY3MuZG9jX2RhdGUKICAgICAgICAnJycKCiAgICAgICAgcmVzdWx0ID0gc2VsZi5fZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCBhcmdzX3R1cGxlLCByZXR1cm5fZGljdD1UcnVlKQogICAgICAgIHJldHVybiByZXN1bHQKCiAgICBkZWYgZGVsZXRlX2RvYyhzZWxmLCBpZF9kb2MpOgogICAgICAgIHF1ZXJ5X2RvYyA9ICdERUxFVEUgRlJPTSBSU19kb2NzIFdIRVJFIGlkX2RvYyA9ID8nCiAgICAgICAgcmVzID0gc2VsZi5fZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV9kb2MsIChpZF9kb2MsKSkKCiAgICAgICAgcmV0dXJuIHJlcwoKICAgIGRlZiBnZXRfZG9jc19zdGF0KHNlbGYpOgogICAgICAgIHF1ZXJ5ID0gJycnCiAgICAgICAgV0lUSCB0bXAgQVMgKAogICAgICAgICAgICBTRUxFQ1QgCiAgICAgICAgICAgICAgICBkb2NfdHlwZSwKICAgICAgICAgICAgICAgIFJTX2RvY3MuaWRfZG9jLAogICAgICAgICAgICAgICAgMSBhcyBkb2NfQ291bnQsCiAgICAgICAgICAgICAgICBJRk5VTEwoUlNfZG9jcy5zZW50LDApIGFzIHNlbnQsCiAgICAgICAgICAgICAgICBJRk5VTEwodmVyaWZpZWQsMCkgYXMgdmVyaWZpZWQsIAogICAgICAgICAgICAgICAgQ0FTRSBXSEVOIElGTlVMTCh2ZXJpZmllZCwwKT0wIFRIRU4gCiAgICAgICAgICAgICAgICAgICAgQ09VTlQoUlNfZG9jc190YWJsZS5pZCkKICAgICAgICAgICAgICAgIEVMU0UgCiAgICAgICAgICAgICAgICAgICAgMCAKICAgICAgICAgICAgICAgIEVORCBhcyBjb3VudF92ZXJpZmllZCwKICAgICAgICAgICAgICAgIENBU0UgV0hFTiBJRk5VTEwodmVyaWZpZWQsMCk9MSBUSEVOIAogICAgICAgICAgICAgICAgICAgIGNvdW50KFJTX2RvY3NfdGFibGUuaWQpCiAgICAgICAgICAgICAgICBFTFNFIAogICAgICAgICAgICAgICAgICAgIDAgCiAgICAgICAgICAgICAgICBFTkQgYXMgY291bnRfdW52ZXJpZmllZCwKICAgICAgICAgICAgICAgIENBU0UgV0hFTiBJRk5VTEwodmVyaWZpZWQsMCk9MCBUSEVOCiAgICAgICAgICAgICAgICAgICAgIFNVTShSU19kb2NzX3RhYmxlLnF0dHlfcGxhbikKICAgICAgICAgICAgICAgIEVMU0UgCiAgICAgICAgICAgICAgICAgICAgMCAKICAgICAgICAgICAgICAgIEVORCBhcyBxdHR5X3BsYW5fdmVyaWZpZWQsCiAgICAgICAgICAgICAgICBDQVNFIFdIRU4gSUZOVUxMKHZlcmlmaWVkLDApPTEgVEhFTiAKICAgICAgICAgICAgICAgICAgICBTVU0oUlNfZG9jc190YWJsZS5xdHR5X3BsYW4pCiAgICAgICAgICAgICAgICBFTFNFIAogICAgICAgICAgICAgICAgICAgIDAgCiAgICAgICAgICAgICAgICBFTkQgYXMgcXR0eV9wbGFuX3VudmVyaWZpZWQKICAgICAgICAgICAgRlJPTSBSU19kb2NzCiAgICAgICAgICAgIExFRlQgSk9JTiBSU19kb2NzX3RhYmxlIAogICAgICAgICAgICAgICAgT04gUlNfZG9jc190YWJsZS5pZF9kb2MgPSBSU19kb2NzLmlkX2RvYwogICAgICAgICAgICBHUk9VUCBCWSBSU19kb2NzLmlkX2RvYwogICAgICAgICkKICAgICAgICBTRUxFQ1QgCiAgICAgICAgICAgIGRvY190eXBlIGFzIGRvY1R5cGUsIAogICAgICAgICAgICBDT1VOVChpZF9kb2MpLAogICAgICAgICAgICBTVU0oZG9jX0NvdW50KSBhcyBjb3VudCwgCiAgICAgICAgICAgIFNVTShzZW50KSBhcyBzZW50LCAKICAgICAgICAgICAgU1VNKHZlcmlmaWVkKSBhcyB2ZXJpZmllZCwKICAgICAgICAgICAgU1VNKGNvdW50X3ZlcmlmaWVkKSBhcyBjb3VudF92ZXJpZmllZCwKICAgICAgICAgICAgU1VNKGNvdW50X3VudmVyaWZpZWQpIGFzIGNvdW50X3VudmVyaWZpZWQsCiAgICAgICAgICAgIFNVTShxdHR5X3BsYW5fdmVyaWZpZWQpIGFzIHF0dHlfcGxhbl92ZXJpZmllZCwKICAgICAgICAgICAgU1VNKHF0dHlfcGxhbl91bnZlcmlmaWVkKSBhcyBxdHR5X3BsYW5fdW52ZXJpZmllZAogICAgICAgIEZST00gdG1wCiAgICAgICAgR1JPVVAgQlkgZG9jX3R5cGUKICAgICAgICAnJycKCiAgICAgICAgcmVzID0gc2VsZi5fZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSwgcmV0dXJuX2RpY3Q9VHJ1ZSkKICAgICAgICByZXR1cm4gcmVzCgogICAgZGVmIGdldF9kb2NfZGV0YWlsc19kYXRhKHNlbGYsIGlkX2RvYykgLT4gbGlzdDoKICAgICAgICBxdWVyeSA9ICIiIgogICAgICAgICAgICBTRUxFQ1QKICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZCwKICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZF9kb2MsCiAgICAgICAgICAgIFJTX2RvY3NfdGFibGUuaWRfZ29vZCwKICAgICAgICAgICAgUlNfZ29vZHMubmFtZSBhcyBnb29kX25hbWUsCiAgICAgICAgICAgIFJTX2dvb2RzLmNvZGUsCiAgICAgICAgICAgIFJTX2dvb2RzLmFydCwKICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZF9wcm9wZXJ0aWVzLAogICAgICAgICAgICBSU19wcm9wZXJ0aWVzLm5hbWUgYXMgcHJvcGVydGllc19uYW1lLAogICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3NlcmllcywKICAgICAgICAgICAgUlNfc2VyaWVzLm5hbWUgYXMgc2VyaWVzX25hbWUsCiAgICAgICAgICAgIFJTX2RvY3NfdGFibGUuaWRfdW5pdCwKICAgICAgICAgICAgUlNfdW5pdHMubmFtZSBhcyB1bml0c19uYW1lLAogICAgICAgICAgICBSU19kb2NzX3RhYmxlLnF0dHksCiAgICAgICAgICAgIFJTX2RvY3NfdGFibGUucXR0eV9wbGFuLAogICAgICAgICAgICBSU19kb2NzX3RhYmxlLnByaWNlLAogICAgICAgICAgICBSU19wcmljZV90eXBlcy5uYW1lIGFzIHByaWNlX25hbWUsCiAgICAgICAgICAgIFJTX2RvY3NfdGFibGUucXR0eV9wbGFuIC0gUlNfZG9jc190YWJsZS5xdHR5IGFzIElzRG9uZQogICAgICAgICAgICBGUk9NIFJTX2RvY3NfdGFibGUgCgogICAgICAgICAgICBMRUZUIEpPSU4gUlNfZ29vZHMgCiAgICAgICAgICAgIE9OIFJTX2dvb2RzLmlkPVJTX2RvY3NfdGFibGUuaWRfZ29vZAogICAgICAgICAgICBMRUZUIEpPSU4gUlNfcHJvcGVydGllcwogICAgICAgICAgICBPTiBSU19wcm9wZXJ0aWVzLmlkID0gUlNfZG9jc190YWJsZS5pZF9wcm9wZXJ0aWVzCiAgICAgICAgICAgIExFRlQgSk9JTiBSU19zZXJpZXMKICAgICAgICAgICAgT04gUlNfc2VyaWVzLmlkID0gUlNfZG9jc190YWJsZS5pZF9zZXJpZXMKICAgICAgICAgICAgTEVGVCBKT0lOIFJTX3VuaXRzCiAgICAgICAgICAgIE9OIFJTX3VuaXRzLmlkPVJTX2RvY3NfdGFibGUuaWRfdW5pdAogICAgICAgICAgICBMRUZUIEpPSU4gUlNfcHJpY2VfdHlwZXMKICAgICAgICAgICAgT04gUlNfcHJpY2VfdHlwZXMuaWQgPSBSU19kb2NzX3RhYmxlLmlkX3ByaWNlCiAgICAgICAgICAgIFdIRVJFIGlkX2RvYyA9ICRhcmcxCiAgICAgICAgICAgIE9SREVSIEJZIFJTX2RvY3NfdGFibGUubGFzdF91cGRhdGVkIERFU0MgCiAgICAgICAgICAgICIiIgogICAgICAgIHJlcyA9IHNlbGYuX2dldF9xdWVyeV9yZXN1bHQocXVlcnksIChpZF9kb2MsKSwgcmV0dXJuX2RpY3Q9VHJ1ZSkKICAgICAgICByZXR1cm4gcmVzCgogICAgZGVmIHBhcnNlX2JhcmNvZGUoc2VsZiwgdmFsKToKICAgICAgICBpZiBsZW4odmFsKSA8IDIxOgogICAgICAgICAgICByZXR1cm4geydHVElOJzogJycsICdTZXJpZXMnOiAnJ30KCiAgICAgICAgdmFsLnJlcGxhY2UoJygwMSknLCAnMDEnKQogICAgICAgIHZhbC5yZXBsYWNlKCcoMjEpJywgJzIxJykKCiAgICAgICAgaWYgdmFsWzoyXSA9PSAnMDEnOgogICAgICAgICAgICBHVElOID0gdmFsWzI6MTZdCiAgICAgICAgICAgIFNlcmllcyA9IHZhbFsxODpdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgR1RJTiA9IHZhbFs6MTRdCiAgICAgICAgICAgIFNlcmllcyA9IHZhbFsxNDpdCgogICAgICAgIHJldHVybiB7J0dUSU4nOiBHVElOLCAnU2VyaWVzJzogU2VyaWVzfQoKICAgIGRlZiBjbGVhcl9iYXJjb2RlX2RhdGEoc2VsZiwgaWRfZG9jKToKICAgICAgICBxdWVyeV90ZXh0ID0gKCdVcGRhdGUgUlNfZG9jc19iYXJjb2RlcyBTZXQgYXBwcm92ZWQgPSAwIFdoZXJlIGlkX2RvYz06aWRfZG9jJywKICAgICAgICAgICAgICAgICAgICAgICdEZWxldGUgRnJvbSBSU19kb2NzX2JhcmNvZGVzIFdoZXJlICBpZF9kb2M9OmlkX2RvYyBBbmQgaXNfcGxhbiA9IDAnLAogICAgICAgICAgICAgICAgICAgICAgJ1VwZGF0ZSBSU19kb2NzX3RhYmxlIFNldCBxdHR5ID0gMCBXaGVyZSBpZF9kb2M9OmlkX2RvYycsCiAgICAgICAgICAgICAgICAgICAgICAnRGVsZXRlIEZyb20gUlNfZG9jc190YWJsZSBXaGVyZSBpZF9kb2M9OmlkX2RvYyBhbmQgaXNfcGxhbiA9ICJGYWxzZSInKQogICAgICAgIHRyeToKICAgICAgICAgICAgZm9yIGVsIGluIHF1ZXJ5X3RleHQ6CiAgICAgICAgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KGVsLCAoeydpZF9kb2MnOiBpZF9kb2N9KSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHJldHVybiB7J3Jlc3VsdCc6IEZhbHNlLCAnZXJyb3InOiBlLmFyZ3NbMF19CgogICAgICAgIHJldHVybiB7J3Jlc3VsdCc6IFRydWUsICdlcnJvcic6ICcnfQoKICAgIGRlZiBnZXRfZG9jX2JhcmNvZGVfZGF0YShzZWxmLCBhcmdzKToKICAgICAgICBxdWVyeSA9ICcnJwogICAgICAgICAgICBTRUxFQ1QKICAgICAgICAgICAgIigwMSkiIHx8IEdUSU4gfHwgIigyMSkiIHx8IFNlcmllcyBhcyBtYXJrX2NvZGUsCiAgICAgICAgICAgIGFwcHJvdmVkCiAgICAgICAgICAgIEZST00gUlNfZG9jc19iYXJjb2RlcwogICAgICAgICAgICBXaGVyZQogICAgICAgICAgICBpZF9kb2MgPSA6aWRfZG9jIEFORAogICAgICAgICAgICBpZF9nb29kID0gOmlkX2dvb2QgQU5ECiAgICAgICAgICAgIGlkX3Byb3BlcnR5ID0gOmlkX3Byb3BlcnR5IEFORAogICAgICAgICAgICBpZF9zZXJpZXMgPSA6aWRfc2VyaWVzIAogICAgICAgICAgICAtLUFORCAgaWRfdW5pdCA9IDppZF91bml0CiAgICAgICAgICcnJwoKICAgICAgICByZXMgPSBzZWxmLl9nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCBhcmdzLCByZXR1cm5fZGljdD1UcnVlKQogICAgICAgIHJldHVybiByZXMKCiAgICBkZWYgZ2V0X2RvY3NfY291bnQoc2VsZiwgZG9jX3R5cGU9JycpOgogICAgICAgIHF1ZXJ5ID0gJ1NFTEVDVCBDT1VOVCgqKSBBUyBkb2NzX2NvdW50IEZST00gUlNfZG9jcycKICAgICAgICBhcmdzID0gTm9uZQoKICAgICAgICBpZiBkb2NfdHlwZToKICAgICAgICAgICAgcXVlcnkgPSAnXG4nLmpvaW4oW3F1ZXJ5LCAnV0hFUkUgZG9jX3R5cGUgPSA/J10pCiAgICAgICAgICAgIGFyZ3MgPSAoZG9jX3R5cGUsKQoKICAgICAgICByZXMgPSBzZWxmLl9nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCBhcmdzLCBUcnVlKQogICAgICAgIGlmIHJlczoKICAgICAgICAgICAgcmV0dXJuIHJlc1swXS5nZXQoJ2RvY3NfY291bnQnLCAwKQogICAgICAgIHJldHVybiAwCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIGdldF9leGlzdGluZ19kb2NzX25hbWVzX2xpc3QoKToKICAgICAgICBxdWVyeV90ZXh0ID0gIlNFTEVDVCBkb2NfbiBGUk9NIFJTX2RvY3MiCiAgICAgICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0KQogICAgICAgIHJldHVybiByZXMKCgpjbGFzcyBEYlNlcnZpY2U6CiAgICBkZWYgX19pbml0X18oc2VsZiwgX2RiX3Nlc3Npb24sIHRhYmxlX25hbWUpOgogICAgICAgIHNlbGYuZGJfc2Vzc2lvbiA9IF9kYl9zZXNzaW9uCiAgICAgICAgc2VsZi50YWJsZV9uYW1lID0gdGFibGVfbmFtZQogICAgICAgIHNlbGYubW9kZWwgPSBNb2RlbHNGYWN0b3J5KCkuY3JlYXRlKHNlbGYudGFibGVfbmFtZSkKCiAgICBkZWYgZ2V0KHNlbGYsIF9maWx0ZXIpOgogICAgICAgIHdpdGggc2VsZi5kYl9zZXNzaW9uOgogICAgICAgICAgICAjIHJldHVybiBzZWxmLm1vZGVsLnNlbGVjdCgqKl9maWx0ZXIpWzpdIG9yIE5vbmUKICAgICAgICAgICAgcmV0dXJuIHNlbGYubW9kZWwuZ2V0KCoqX2ZpbHRlcikKCiAgICBkZWYgY3JlYXRlKHNlbGYsIGRhdGEpOgogICAgICAgIHdpdGggc2VsZi5kYl9zZXNzaW9uOgogICAgICAgICAgICByZXR1cm4gc2VsZi5tb2RlbCgqKmRhdGEpCgogICAgZGVmIHVwZGF0ZShzZWxmLCBfZmlsdGVyLCBkYXRhKToKICAgICAgICB3aXRoIHNlbGYuZGJfc2Vzc2lvbjoKICAgICAgICAgICAgb2JqID0gc2VsZi5nZXQoX2ZpbHRlcikKCiAgICAgICAgICAgIGlmIG9iajoKICAgICAgICAgICAgICAgIG9iai5zZXQoKipkYXRhKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgb2JqID0gc2VsZi5tb2RlbCgqKmRhdGEpCgogICAgICAgICAgICByZXR1cm4gb2JqCgogICAgZGVmIGRlbGV0ZShzZWxmLCBfZmlsdGVyKToKICAgICAgICB3aXRoIHNlbGYuZGJfc2Vzc2lvbjoKICAgICAgICAgICAgb2JqID0gc2VsZi5nZXQoX2ZpbHRlcikKICAgICAgICAgICAgaWYgb2JqOgogICAgICAgICAgICAgICAgcmV0dXJuIG9iai5kZWxldGUoKQoKCmNsYXNzIERvY0RiU2VydmljZShEYlNlcnZpY2UpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIF9kYl9zZXNzaW9uKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKF9kYl9zZXNzaW9uLCAnUlNfZG9jcycpCgogICAgZGVmIHVwZGF0ZShzZWxmLCBfZmlsdGVyLCBkYXRhOiBkaWN0KToKICAgICAgICB3aXRoIHNlbGYuZGJfc2Vzc2lvbjoKICAgICAgICAgICAgZG9jID0gc2VsZi5nZXQoX2ZpbHRlcikKCiAgICAgICAgICAgIGlmIGRhdGEuZ2V0KCdnb29kcycpOgogICAgICAgICAgICAgICAgZ29vZHNfc2VydmljZSA9IERiU2VydmljZShzZWxmLmRiX3Nlc3Npb24sICdSU19kb2NzX3RhYmxlJykKICAgICAgICAgICAgICAgIGdvb2RzID0gW10KICAgICAgICAgICAgICAgIGZvciByb3cgaW4gZGF0YVsnZ29vZHMnXToKICAgICAgICAgICAgICAgICAgICBpdGVtID0gZ29vZHNfc2VydmljZS5jcmVhdGUocm93KQogICAgICAgICAgICAgICAgICAgIGdvb2RzLmFwcGVuZChpdGVtKQoKICAgICAgICAgICAgICAgIGRhdGFbJ2dvb2RzJ10gPSBnb29kcwoKICAgICAgICAgICAgaWYgZG9jOgogICAgICAgICAgICAgICAgZG9jLnNldCgqKmRhdGEpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzZWxmLm1vZGVsKCoqZGF0YSkKCiAgICAgICAgICAgIHJldHVybiBkb2MKCgpjbGFzcyBNb2RlbHNGYWN0b3J5OgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIGltcG9ydCBkYl9tb2RlbHMKICAgICAgICBzZWxmLm1vZGVscyA9IHttb2RlbC5fdGFibGVfOiBtb2RlbCBmb3IgbW9kZWwgaW4gZGJfbW9kZWxzLm1vZGVsc30KCiAgICBkZWYgY3JlYXRlKHNlbGYsIHRhYmxlX25hbWUpOgogICAgICAgIHJldHVybiBzZWxmLm1vZGVscy5nZXQodGFibGVfbmFtZSkKCgo="
            },
            {
                "file_path": "",
                "PyFileKey": "test_load_docs",
                "PyFileData": ""
            }
        ],
        "StyleTemplates": [],
        "arch2": true,
        "CommonHandlers": [
            {
                "event": "onLaunch",
                "action": "run",
                "type": "python",
                "method": "app_on_start",
                "postExecute": "",
                "alias": "on_start"
            },
            {
                "event": "onWebServiceSyncCommand",
                "action": "run",
                "type": "python",
                "method": "event_service",
                "postExecute": "",
                "alias": "event_service"
            },
            {
                "event": "onWebServiceSyncCommand",
                "listener": "",
                "action": "run",
                "type": "python",
                "method": "put_notification",
                "postExecute": "",
                "alias": ""
            }
        ]
    }
}