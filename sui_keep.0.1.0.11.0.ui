{
    "ClientConfiguration": {
        "ConfigurationName": "Simple Учет",
        "ConfigurationDescription": "Простое решение для работы с штрихкодами товаров. Поставляется в комплекте с расширением для 1С. Подробнее про расширение Вы можете узнать по ссылке: https://www.simple-kit.ru/products/simple-uchet/ ",
        "ConfigurationVersion": "0.1.11.0",
        "Processes": [
            {
                "type": "Process",
                "ProcessName": "Документы",
                "hidden": false,
                "DefineOnBackPressed": true,
                "login_screen": false,
                "PlanFactHeader": "...",
                "SC": false,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Плитки",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "Tiles",
                                "Value": "@tiles",
                                "Variable": "tiles",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@gtin",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@series",
                                        "Variable": ""
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "tiles_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "tiles_on_select",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Документы",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "type": "SpinnerLayout",
                                                "Value": "@doc_type_select",
                                                "Variable": "doc_type_click",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "left",
                                                "gravity_vertical": "center",
                                                "weight": "0"
                                            },
                                            {
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "+",
                                                "Variable": "btn_add_doc"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@docCards",
                                        "Variable": "doc_cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "docs_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "docs_on_select",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Документ товары",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "vertical",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "LinearLayout",
                                                        "Variable": "",
                                                        "Elements": [
                                                            {
                                                                "TextSize": "24",
                                                                "TextColor": "#7A005C",
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@doc_n",
                                                                "Variable": ""
                                                            },
                                                            {
                                                                "TextBold": false,
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@doc_date",
                                                                "Variable": "doc_date"
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@warehouse",
                                                                "Variable": "warehouse"
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@countragent",
                                                                "Variable": "countragent"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "2",
                                                        "type": "TextView",
                                                        "Value": "",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextColor": "#7A005C",
                                                        "BackgroundColor": "#FFFFFF",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "1",
                                                        "type": "Button",
                                                        "Value": "|| ||| ||",
                                                        "Variable": "btn_barcodes"
                                                    },
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "2",
                                                        "type": "TextView",
                                                        "Value": "",
                                                        "Variable": ""
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TableLayout",
                                        "Value": "@doc_goods_table",
                                        "Variable": "doc_goods_table"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@doc_goods_cards",
                                        "Variable": "doc_goods_cards"
                                    },
                                    {
                                        "BackgroundColor": "#FFFFFF",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Отметить к отправке",
                                        "Variable": "btn_doc_mark_verified"
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "CButtons",
                                                "Value": "",
                                                "Variable": ""
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode_camera"
                            },
                            {
                                "type": "fab",
                                "Value": "#f067",
                                "Variable": "btn_add_string"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Все строки",
                                "Variable": "btn_rows_filter_off"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Необработанные строки",
                                "Variable": "btn_rows_filter_on"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Ввести штрихкод",
                                "Variable": "btn_barcodes"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Вид таблиц",
                                "Variable": "table_view"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Вид карточек",
                                "Variable": "card_view"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "doc_details_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "doc_details_listener",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Товар",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Doc_data",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "24",
                                                "TextColor": "#7A005C",
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "left",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@Good",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_good_select"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@properties",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_properties"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@Series",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_series"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@Unit",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_unit"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "План",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@qtty_plan",
                                                        "Variable": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Факт",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "EditTextNumeric",
                                                        "Value": "@qtty",
                                                        "Variable": "qtty"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "Цена",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "EditTextNumeric",
                                                "Value": "@price",
                                                "Variable": "price"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "Button",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@barcode_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            },
                            {
                                "type": "HorizontalGallery",
                                "Value": "@photoGallery",
                                "Variable": "photoGallery"
                            },
                            {
                                "type": "photo",
                                "Value": "",
                                "Variable": "photo"
                            },
                            {
                                "type": "photoGallery",
                                "Value": "",
                                "Variable": "photo"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "elem_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "elem_on_click",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Товар выбор",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Doc_data",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "#7A005C",
                                        "TextBold": true,
                                        "BackgroundColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Good",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Good_info",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "План",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@qtty_plan",
                                                        "Variable": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Факт",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "EditTextNumeric",
                                                        "Value": "@qtty",
                                                        "Variable": "qtty"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "Цена",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "EditTextNumeric",
                                                "Value": "@price",
                                                "Variable": "price"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "#FFFFFF",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "Button",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@barcode_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "elem_viev_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "elem_viev_on_click",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Новый документ",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "type": "SpinnerLayout",
                                        "Value": "@doc_type_select",
                                        "Variable": "doc_type_click",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "50",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "EditTextText",
                                        "Value": "@fld_number",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "DateField",
                                        "Value": "@doc_date",
                                        "Variable": "fld_data"
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "18",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@countragent",
                                                "Variable": "fld_countragent"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_select_countragent"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "18",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@warehouse",
                                                "Variable": "doc_warehouse"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_select_warehouse"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Отменить",
                                                "Variable": "btn_cancel"
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "new_doc_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "new_doc_on_select",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Документ штрихкоды",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@barc_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "doc_barcodes_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "doc_barcodes_listener",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Удаление штрихкода",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Товар с такой маркировкой уже есть в документе!",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "#7A005C",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@good",
                                        "Variable": "id_good"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@code_art",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@unit_name",
                                        "Variable": "id_unit"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@barcode_value",
                                        "Variable": "barcode_value1"
                                    },
                                    {
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Отменить",
                                                "Variable": "btn_barcode_cancel"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Удалить",
                                                "Variable": "btn_barcode_delete"
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "delete_barcode_screen_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "delete_barcode_screen_click",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Ошибка сканера",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@scanned_barcode",
                                        "Variable": "scanned_barcode"
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "ОШИБКА",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Товар не найден по штрихкоду!",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Сканер отключен",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Продолжить сканирование",
                                        "Variable": "btn_continue_scan"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "barcode_error_screen_listener",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "ВвестиШтрихкод",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": false,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Введите значение штрихкода",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "EditTextText",
                                        "Value": "@fld_barcode",
                                        "Variable": "fld_barcode"
                                    }
                                ]
                            }
                        ],
                        "Handlers": []
                    },
                    {
                        "type": "Operation",
                        "Name": "ПотокШтрихкодовДокумента",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextSize": "18",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@doc_type",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "24",
                                                "TextColor": "#7A005C",
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@doc_n",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@doc_date",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "|| ||| ||",
                                                "Variable": "btn_barcodes"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@warehouse",
                                        "Variable": ""
                                    },
                                    {
                                        "orientation": "vertical",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@countragent",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@doc_barc_flow",
                                        "Variable": "doc_barc_flow"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Отметить к отправке",
                                        "Variable": "btn_doc_mark_verified"
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode_camera"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "barcode_flow_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "barcode_flow_listener",
                                "postExecute": ""
                            }
                        ]
                    }
                ]
            },
            {
                "type": "Process",
                "ProcessName": "Групповая обработка",
                "hidden": false,
                "DefineOnBackPressed": true,
                "login_screen": false,
                "PlanFactHeader": "...",
                "SC": false,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Плитки",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "Tiles",
                                "Value": "@tiles",
                                "Variable": "tiles",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@gtin",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@series",
                                        "Variable": ""
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "tiles_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "tiles_on_select",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Документы",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "type": "SpinnerLayout",
                                                "Value": "@doc_type_select",
                                                "Variable": "doc_type_click",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "left",
                                                "gravity_vertical": "center",
                                                "weight": "0"
                                            },
                                            {
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "+",
                                                "Variable": "btn_add_doc"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@docCards",
                                        "Variable": "doc_cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "docs_on_start_new",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "docs_on_select",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "listener": "CardsClick",
                                "action": "runasync",
                                "type": "python",
                                "method": "docs_on_select_CardsClick",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Документ товары",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "vertical",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "LinearLayout",
                                                        "Variable": "",
                                                        "Elements": [
                                                            {
                                                                "TextSize": "24",
                                                                "TextColor": "#7A005C",
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@doc_n",
                                                                "Variable": ""
                                                            },
                                                            {
                                                                "TextBold": false,
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@doc_date",
                                                                "Variable": "doc_date"
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@warehouse",
                                                                "Variable": "warehouse"
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "0",
                                                                "type": "TextView",
                                                                "Value": "@countragent",
                                                                "Variable": "countragent"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "2",
                                                        "type": "TextView",
                                                        "Value": "",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextColor": "#7A005C",
                                                        "BackgroundColor": "#FFFFFF",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "1",
                                                        "type": "Button",
                                                        "Value": "|| ||| ||",
                                                        "Variable": "btn_barcodes"
                                                    },
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "2",
                                                        "type": "TextView",
                                                        "Value": "",
                                                        "Variable": ""
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TableLayout",
                                        "Value": "@doc_goods_table",
                                        "Variable": "doc_goods_table"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@doc_goods_cards",
                                        "Variable": "doc_goods_cards"
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "CButtons",
                                                "Value": "",
                                                "Variable": ""
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode_camera"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Все строки",
                                "Variable": "btn_rows_filter_off"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Необработанные строки",
                                "Variable": "btn_rows_filter_on"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Ввести штрихкод",
                                "Variable": "btn_barcodes"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Вид таблиц",
                                "Variable": "table_view"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Вид карточек",
                                "Variable": "card_view"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "doc_details_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "doc_details_listener_new",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "listener": "",
                                "action": "runasync",
                                "type": "python",
                                "method": "doc_details_barcode_scanned",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Товар",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Doc_data",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "24",
                                                "TextColor": "#7A005C",
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "left",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@Good",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_good_select"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@properties",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_properties"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@Series",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_series"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@Unit",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_unit"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "План",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@qtty_plan",
                                                        "Variable": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Факт",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "EditTextNumeric",
                                                        "Value": "@qtty",
                                                        "Variable": "qtty"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "Цена",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "EditTextNumeric",
                                                "Value": "@price",
                                                "Variable": "price"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "Button",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@barcode_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            },
                            {
                                "type": "HorizontalGallery",
                                "Value": "@photoGallery",
                                "Variable": "photoGallery"
                            },
                            {
                                "type": "photo",
                                "Value": "",
                                "Variable": "photo"
                            },
                            {
                                "type": "photoGallery",
                                "Value": "",
                                "Variable": "photo"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "elem_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "elem_on_click",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Товар выбор",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Doc_data",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "#7A005C",
                                        "TextBold": true,
                                        "BackgroundColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Good",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Good_info",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "План",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@qtty_plan",
                                                        "Variable": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Факт",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "EditTextNumeric",
                                                        "Value": "@qtty",
                                                        "Variable": "qtty"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "Цена",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "EditTextNumeric",
                                                "Value": "@price",
                                                "Variable": "price"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "#FFFFFF",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "Button",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@barcode_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "elem_viev_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "elem_viev_on_click",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Новый документ",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "type": "SpinnerLayout",
                                        "Value": "@doc_type_select",
                                        "Variable": "doc_type_click",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "50",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "EditTextText",
                                        "Value": "@fld_number",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "DateField",
                                        "Value": "@doc_date",
                                        "Variable": "fld_data"
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "18",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@countragent",
                                                "Variable": "fld_countragent"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_select_countragent"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "18",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@warehouse",
                                                "Variable": "doc_warehouse"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_select_warehouse"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Отменить",
                                                "Variable": "btn_cancel"
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "new_doc_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "new_doc_on_select",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Документ штрихкоды",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@barc_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "doc_barcodes_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "doc_barcodes_listener",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Удаление штрихкода",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Товар с такой маркировкой уже есть в документе!",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "#7A005C",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@good",
                                        "Variable": "id_good"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@code_art",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@unit_name",
                                        "Variable": "id_unit"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@barcode_value",
                                        "Variable": "barcode_value1"
                                    },
                                    {
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Отменить",
                                                "Variable": "btn_barcode_cancel"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Удалить",
                                                "Variable": "btn_barcode_delete"
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "delete_barcode_screen_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "delete_barcode_screen_click",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Ошибка сканера",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@scanned_barcode",
                                        "Variable": "scanned_barcode"
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "ОШИБКА",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Товар не найден по штрихкоду!",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Сканер отключен",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Продолжить сканирование",
                                        "Variable": "btn_continue_scan"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "barcode_error_screen_listener",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "ВвестиШтрихкод",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": false,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Введите значение штрихкода",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "EditTextText",
                                        "Value": "@fld_barcode",
                                        "Variable": "fld_barcode"
                                    }
                                ]
                            }
                        ],
                        "Handlers": []
                    },
                    {
                        "type": "Operation",
                        "Name": "ПотокШтрихкодовДокумента",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextSize": "18",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@doc_type",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "24",
                                                "TextColor": "#7A005C",
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@doc_n",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@doc_date",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "|| ||| ||",
                                                "Variable": "btn_barcodes"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@warehouse",
                                        "Variable": ""
                                    },
                                    {
                                        "orientation": "vertical",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@countragent",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@doc_barc_flow",
                                        "Variable": "doc_barc_flow"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Отметить к отправке",
                                        "Variable": "btn_doc_mark_verified"
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode_camera"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "barcode_flow_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "barcode_flow_listener",
                                "postExecute": ""
                            }
                        ]
                    }
                ]
            },
            {
                "type": "Process",
                "ProcessName": "Адресное хранение",
                "hidden": true,
                "DefineOnBackPressed": true,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Документы",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "type": "SpinnerLayout",
                                                "Value": "@doc_adr_type_select",
                                                "Variable": "doc_adr_type_click",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "left",
                                                "gravity_vertical": "center",
                                                "weight": "0"
                                            },
                                            {
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "+",
                                                "Variable": "btn_add_doc"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@docAdrCards",
                                        "Variable": "doc_adr_cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "docs_adr_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "docs_adr_on_select",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Документ товары",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "Текущая ячейка: ",
                                                "Variable": ""
                                            },
                                            {
                                                "TextSize": "20",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@current_cell",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_select_cell"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "x",
                                                "Variable": "btn_clear_cell"
                                            }
                                        ]
                                    },
                                    {
                                        "TextSize": "18",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@doc_type",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "24",
                                                "TextColor": "#7A005C",
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@doc_n",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "0",
                                                "width": "0",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@doc_date",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "0",
                                                "width": "0",
                                                "gravity_horizontal": "right",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "|| ||| ||",
                                                "Variable": "btn_barcodes"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@warehouse",
                                        "Variable": ""
                                    },
                                    {
                                        "orientation": "vertical",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@countragent",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@doc_goods",
                                        "Variable": "doc_goods"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Отметить к отправке",
                                        "Variable": "btn_doc_mark_verified"
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode_camera"
                            },
                            {
                                "type": "fab",
                                "Value": "#f067",
                                "Variable": "btn_add_string"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Все строки",
                                "Variable": "btn_rows_filter_off"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Необработанные строки",
                                "Variable": "btn_rows_filter_on"
                            },
                            {
                                "type": "MenuItem",
                                "Value": "Ввести штрихкод",
                                "Variable": "btn_barcodes"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "doc_adr_details_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "doc_adr_details_listener",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Товар",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Doc_data",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "20",
                                                "TextColor": "#7A005C",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@current_cell_name",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "30",
                                                "width": "30",
                                                "gravity_horizontal": "right",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_select_cell"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "24",
                                                "TextColor": "#7A005C",
                                                "TextBold": true,
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "left",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@Good",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_good_select"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@properties",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "30",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_properties"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "План",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@qtty_plan",
                                                        "Variable": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Факт",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "EditTextNumeric",
                                                        "Value": "@qtty",
                                                        "Variable": "qtty"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "Button",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@barcode_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            },
                            {
                                "type": "HorizontalGallery",
                                "Value": "@photoGallery",
                                "Variable": "photoGallery"
                            },
                            {
                                "type": "photo",
                                "Value": "",
                                "Variable": "photo"
                            },
                            {
                                "type": "photoGallery",
                                "Value": "",
                                "Variable": "photo"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "adr_elem_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "adr_elem_on_click",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Товар выбор",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Doc_data",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "#7A005C",
                                        "TextBold": true,
                                        "BackgroundColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@Good",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "План",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@qtty_plan",
                                                        "Variable": ""
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Факт",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextSize": "24",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "EditTextNumeric",
                                                        "Value": "@qtty",
                                                        "Variable": "qtty"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "Цена",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "EditTextNumeric",
                                                "Value": "@price",
                                                "Variable": "price"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "Button",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "adr_elem_viev_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "adr_elem_viev_on_click",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Ошибка сканера",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@scanned_barcode",
                                        "Variable": "scanned_barcode"
                                    },
                                    {
                                        "TextSize": "24",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "ОШИБКА",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Товар не найден по штрихкоду!",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Сканер отключен",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Продолжить сканирование",
                                        "Variable": "btn_continue_scan"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "barcode_error_screen_listener",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "ВвестиШтрихкод",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": false,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Введите значение штрихкода",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "EditTextText",
                                        "Value": "@fld_barcode",
                                        "Variable": "fld_barcode"
                                    }
                                ]
                            }
                        ],
                        "Handlers": []
                    },
                    {
                        "type": "Operation",
                        "Name": "Новый документ",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "type": "SpinnerLayout",
                                        "Value": "@doc_adr_type_select",
                                        "Variable": "doc_type_click",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "50",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "EditTextText",
                                        "Value": "@fld_number",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "DateField",
                                        "Value": "@doc_date",
                                        "Variable": "fld_data"
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "18",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@warehouse",
                                                "Variable": "warehouse"
                                            },
                                            {
                                                "TextSize": "18",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "...",
                                                "Variable": "btn_select_warehouse"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "Button",
                                                "Value": "Отменить",
                                                "Variable": "btn_cancel"
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "new_adr_doc_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "new_adr_doc_on_select",
                                "postExecute": ""
                            }
                        ]
                    }
                ]
            },
            {
                "CVOperationName": "ActiveCV",
                "type": "CVOperation",
                "hidden": true,
                "CVFrames": [
                    {
                        "Name": "Новый шаг ActiveCV",
                        "type": "CVFrame",
                        "CVOnline": false,
                        "CVDetector": "Objects_Full",
                        "CVResolution": "HD720",
                        "CVMode": "green_and_grey",
                        "CVCameraDevice": "Back",
                        "CVDetectorMode": "train"
                    }
                ]
            },
            {
                "type": "Process",
                "ProcessName": "Создание таблиц",
                "hidden": true,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Создать таблицы",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Создать таблицы",
                                        "Variable": "btn_init"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "app_on_start",
                                "postExecute": ""
                            }
                        ]
                    }
                ]
            },
            {
                "type": "Process",
                "ProcessName": "Универсальный справочник",
                "hidden": true,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Справочник",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@cards",
                                        "Variable": "current_card"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "online",
                                "method": "universal_cards_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "online",
                                "method": "universal_cards_listener",
                                "postExecute": ""
                            }
                        ]
                    }
                ]
            },
            {
                "type": "Process",
                "ProcessName": "Товары",
                "DefineOnBackPressed": true,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Товары список",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextItalic": false,
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "2",
                                                "type": "TextView",
                                                "Value": "Категория:",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "object",
                                                "Value": "@select_goods_type",
                                                "Variable": "select_goods_type"
                                            }
                                        ]
                                    },
                                    {
                                        "TextColor": "#ff0000",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@error_txt",
                                        "Variable": "error_txt"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@goods_cards",
                                        "Variable": "goods_cards"
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "goods_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "goods_on_input",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Цены товара",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextColor": "18",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@name",
                                        "Variable": ""
                                    },
                                    {
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "TextSize": "16",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@code",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@type_name",
                                                "Variable": ""
                                            }
                                        ]
                                    },
                                    {
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@good_prices",
                                        "Variable": "good_prices"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "price_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "price_on_click",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Выбор",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@cards",
                                        "Variable": "cards"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "good_types_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "good_types_on_click",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Карточка товара",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "buttons",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "ProgressButton",
                                                "Value": "Цены",
                                                "Variable": "to_prices"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "2",
                                                "type": "TextView",
                                                "Value": "",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "ProgressButton",
                                                "Value": "Остатки",
                                                "Variable": "to_remains"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "vertical",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "name",
                                        "Elements": [
                                            {
                                                "TextSize": "22",
                                                "TextColor": "#7A005C",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "TextView",
                                                "Value": "@good_name",
                                                "Variable": ""
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@item_key",
                                                "Variable": "item_key"
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "vertical",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "good_info",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@good_type",
                                                "Variable": "good_type"
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "art",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Артикул:",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextBold": true,
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@good_art",
                                                        "Variable": "good_art"
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "code",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Код:",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@good_code",
                                                        "Variable": "good_code"
                                                    }
                                                ]
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "descr",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "Описание:",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@good_descr",
                                                        "Variable": "good_descr"
                                                    }
                                                ]
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "CardsLayout",
                                                "Value": "@barcode_cards",
                                                "Variable": "barcode_cards"
                                            }
                                        ]
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@load_info",
                                        "Variable": "load_info"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "good_card_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "good_card_on_input",
                                "postExecute": ""
                            },
                            {
                                "event": "onPostStart",
                                "action": "run",
                                "type": "python",
                                "method": "get_good_variants",
                                "postExecute": ""
                            }
                        ]
                    }
                ]
            },
            {
                "type": "Process",
                "ProcessName": "Параметры",
                "hidden": false,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Настройки и обмен",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextSize": "25",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@ip_adr",
                                        "Variable": "text_ip"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CheckBox",
                                        "Value": "Отображать серии",
                                        "Variable": "use_series"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CheckBox",
                                        "Value": "Отображать характеристики",
                                        "Variable": "use_properties"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Настройки маркировки",
                                        "Variable": "",
                                        "drawable": "plus"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CheckBox",
                                        "Value": "ИспользоватьМаркировку",
                                        "Variable": "use_mark"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CheckBox",
                                        "Value": "Запретить сканирование сверх плана",
                                        "Variable": "allow_overscan"
                                    },
                                    {
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "EditTextText",
                                        "Value": "@ip_host",
                                        "Variable": "ip_host"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Скопировать базу на компьютер",
                                        "Variable": "btn_copy_base"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "EditTextText",
                                        "Value": "@path",
                                        "Variable": "path"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CheckBox",
                                        "Value": "Использовать HTTP сервер 1С",
                                        "Variable": "use_http_server"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Настройки HTTP подключения",
                                        "Variable": "btn_http_settings"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CheckBox",
                                        "Value": "Удалять файлы после загрузки",
                                        "Variable": "delete_files"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Загрузить локальные файлы",
                                        "Variable": "btn_local_files"
                                    },
                                    {
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Выгрузить данные",
                                        "Variable": "btn_export"
                                    },
                                    {
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Создать таблицы",
                                        "Variable": "btn_init"
                                    },
                                    {
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Список локальных файлов",
                                        "Variable": "btn_files_list"
                                    },
                                    {
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Версия конфигурации",
                                        "Variable": "btn_conf_version"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Настройки шрифтов",
                                        "Variable": "btn_size"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Настройки звука",
                                        "Variable": "btn_sound_settings"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Тест штрихкода",
                                        "Variable": "btn_test_barcode"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "1",
                                        "type": "ProgressButton",
                                        "Value": "Загрузить данные с сервера",
                                        "Variable": "btn_load_data"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Лог ошибок",
                                        "Variable": "btn_err_log"
                                    },
                                    {
                                        "height": "0",
                                        "width": "0",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Очистить базу",
                                        "Variable": "bnt_clear_tables"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Выгрузка документов",
                                        "Variable": "btn_upload_docs"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Выполнить таймер обмена",
                                        "Variable": "btn_timer"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "listener": "",
                                "action": "run",
                                "type": "python",
                                "method": "settings_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "settings_on_click",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "СписокФайлов",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": false,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "MultilineText",
                                        "Value": "@files_list",
                                        "Variable": "files_list"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "file_list_on_start",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Настройки Шрифтов",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Размеры",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@TitleTextSize",
                                        "Variable": "TitleTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@CardTitleTextSize",
                                        "Variable": "CardTitleTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@CardDateTextSize",
                                        "Variable": "CardDateTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@CardTextSize",
                                        "Variable": "CardTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@GoodsCardTitleTextSize",
                                        "Variable": "GoodsCardTitleTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@goodsTextSize",
                                        "Variable": "goodsTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@SeriesPropertiesTextSize",
                                        "Variable": "SeriesPropertiesTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@DocTypeCardTextSize",
                                        "Variable": "DocTypeCardTextSize"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@titleDocTypeCardTextSize",
                                        "Variable": "titleDocTypeCardTextSize"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "font_sizes_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "font_size_settings_listener",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Тест штрихкода",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextSize": "20",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Отсканируйте штрихкод",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_1",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_2",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_3",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_4",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_5",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_6",
                                        "Variable": ""
                                    },
                                    {
                                        "TextSize": "20",
                                        "TextColor": "",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "left",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@fld_7",
                                        "Variable": ""
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode_camera"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "test_barcode_listener",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Ошибки",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "MultilineText",
                                        "Value": "@error_log",
                                        "Variable": "error_log"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Очистить",
                                        "Variable": "btn_clear_err"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "settings_errors_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "settings_errors_on_click",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Настройки http соединения",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextSize": "25",
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Адрес сервера",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@url",
                                        "Variable": "url"
                                    },
                                    {
                                        "TextSize": "20",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Пользователь",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@user",
                                        "Variable": "user"
                                    },
                                    {
                                        "TextSize": "20",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Пароль",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@pass",
                                        "Variable": "pass"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Ваше имя для идентификации в 1С",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@user_name",
                                        "Variable": "user_name"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "@btn_test_connection",
                                        "Variable": "btn_test_connection"
                                    },
                                    {
                                        "TextSize": "20",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@ANDROID_ID",
                                        "Variable": ""
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "",
                                        "Elements": [
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "ProgressButton",
                                                "Value": "Отменить",
                                                "Variable": "btn_cancel"
                                            },
                                            {
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "ProgressButton",
                                                "Value": "Сохранить",
                                                "Variable": "btn_save"
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode_camera2"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "http_settings_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "http_settings_on_click",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Настройка звука",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Номер мелодии",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@signal_num",
                                        "Variable": "signal_num_value"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ModernEditText",
                                        "Value": "@beep_duration",
                                        "Variable": "beep_duration_value"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Тест звука",
                                        "Variable": "btn_test_sound"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Сохранить и закрыть",
                                        "Variable": "btn_on_save"
                                    }
                                ]
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "online",
                                "method": "sound_settings_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "online",
                                "method": "sound_settings_listener",
                                "postExecute": ""
                            }
                        ]
                    }
                ]
            },
            {
                "type": "Process",
                "ProcessName": "Остатки",
                "hidden": true,
                "DefineOnBackPressed": true,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Проверить остатки",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "vertical",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "head_block",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "horizontal",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "1",
                                                        "type": "LinearLayout",
                                                        "Variable": "",
                                                        "Elements": [
                                                            {
                                                                "TextItalic": true,
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "2",
                                                                "type": "TextView",
                                                                "Value": "Выбор склада:",
                                                                "Variable": ""
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "1",
                                                                "type": "object",
                                                                "Value": "@wh_select",
                                                                "Variable": "wh_select"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "height": "4",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "",
                                                "Variable": ""
                                            },
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "2",
                                                        "type": "TextView",
                                                        "Value": "Выбор ячейки:",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "1",
                                                        "type": "object",
                                                        "Value": "@cell_select",
                                                        "Variable": "cell_select"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "input_block",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "horizontal",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "LinearLayout",
                                                        "Variable": "art",
                                                        "Elements": [
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "2",
                                                                "type": "TextView",
                                                                "Value": "Артикул товара:",
                                                                "Variable": ""
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "1",
                                                                "type": "EditTextText",
                                                                "Value": "@good_art_input",
                                                                "Variable": "good_art_input"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "TextColor": "#008000",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@selected_object_name",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "horizontal",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "LinearLayout",
                                                        "Variable": "cell",
                                                        "Elements": [
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "2",
                                                                "type": "TextView",
                                                                "Value": "Артикул ячейки:",
                                                                "Variable": ""
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "1",
                                                                "type": "EditTextText",
                                                                "Value": "@cell_input",
                                                                "Variable": "cell_input"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "TextColor": "#008000",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@selected_cell_name",
                                                        "Variable": "selected_cell_name"
                                                    },
                                                    {
                                                        "TextColor": "#ff0000",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@error_msg",
                                                        "Variable": "error_msg"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "TextSize": "15",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Запросить остатки",
                                        "Variable": "get_remains_btn"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TableLayout",
                                        "Value": "@goods_custom_table",
                                        "Variable": "goods_custom_table"
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "runprogress",
                                "type": "python",
                                "method": "remains_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "remains_on_input",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Выбор склада",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@wh_cards",
                                        "Variable": "wh_cards"
                                    }
                                ]
                            },
                            {
                                "type": "fab",
                                "Value": "backward",
                                "Variable": "back_to_remains"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "open_wh_list_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "warehouse_on_input",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Таблица остатков",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextColor": "#008000",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@barcode_info",
                                        "Variable": "barcode_info"
                                    },
                                    {
                                        "TextColor": "#008000",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@selected_object_name",
                                        "Variable": "selected_object_name"
                                    },
                                    {
                                        "TextColor": "#008000",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@selected_wh_name",
                                        "Variable": "selected_wh_name"
                                    },
                                    {
                                        "TextColor": "#008000",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@selected_cell_name",
                                        "Variable": "selected_cell_name"
                                    },
                                    {
                                        "TextColor": "#ff0000",
                                        "TextItalic": true,
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@error_msg",
                                        "Variable": "error_msg"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TableLayout",
                                        "Value": "@goods_custom_table",
                                        "Variable": "goods_custom_table"
                                    }
                                ]
                            },
                            {
                                "type": "fab",
                                "Value": "#f1de",
                                "Variable": "show_filters"
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "remains_tables_on_input",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Выбор ячейки",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@cell_cards",
                                        "Variable": "cell_cards"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@cards_loading",
                                        "Variable": "cards_loading"
                                    }
                                ]
                            },
                            {
                                "type": "fab",
                                "Value": "backward",
                                "Variable": "back_to_remains"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "open_cell_list_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "cell_list_on_input",
                                "postExecute": ""
                            },
                            {
                                "event": "onPostStart",
                                "action": "run",
                                "type": "python",
                                "method": "get_good_cells",
                                "postExecute": ""
                            }
                        ]
                    }
                ]
            },
            {
                "type": "Process",
                "ProcessName": "Цены",
                "hidden": true,
                "DefineOnBackPressed": true,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Проверка цен",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "vertical",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "head_block",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "horizontal",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "TextItalic": true,
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "2",
                                                        "type": "TextView",
                                                        "Value": "Артикул товара:",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "1",
                                                        "type": "EditTextText",
                                                        "Value": "@input_good_art",
                                                        "Variable": "input_good_art"
                                                    }
                                                ]
                                            },
                                            {
                                                "TextColor": "#008000",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "0",
                                                "type": "TextView",
                                                "Value": "@prices_object_name",
                                                "Variable": ""
                                            }
                                        ]
                                    },
                                    {
                                        "BackgroundColor": "",
                                        "StrokeWidth": "",
                                        "Padding": "",
                                        "orientation": "horizontal",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "LinearLayout",
                                        "Variable": "input_block",
                                        "Elements": [
                                            {
                                                "BackgroundColor": "",
                                                "StrokeWidth": "",
                                                "Padding": "",
                                                "orientation": "vertical",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "gravity_horizontal": "center",
                                                "gravity_vertical": "center",
                                                "weight": "1",
                                                "type": "LinearLayout",
                                                "Variable": "",
                                                "Elements": [
                                                    {
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "horizontal",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "LinearLayout",
                                                        "Variable": "price_type",
                                                        "Elements": [
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "2",
                                                                "type": "TextView",
                                                                "Value": "Тип цены:",
                                                                "Variable": ""
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "1",
                                                                "type": "object",
                                                                "Value": "@price_type_select",
                                                                "Variable": "price_type_select"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "height": "10",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "horizontal",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "LinearLayout",
                                                        "Variable": "properties",
                                                        "Elements": [
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "2",
                                                                "type": "TextView",
                                                                "Value": "Характеристики:",
                                                                "Variable": ""
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "1",
                                                                "type": "object",
                                                                "Value": "@property_select",
                                                                "Variable": "property_select"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "height": "10",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "BackgroundColor": "",
                                                        "StrokeWidth": "",
                                                        "Padding": "",
                                                        "orientation": "horizontal",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "LinearLayout",
                                                        "Variable": "units",
                                                        "Elements": [
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "2",
                                                                "type": "TextView",
                                                                "Value": "Упаковка:",
                                                                "Variable": ""
                                                            },
                                                            {
                                                                "height": "wrap_content",
                                                                "width": "match_parent",
                                                                "gravity_horizontal": "center",
                                                                "gravity_vertical": "center",
                                                                "weight": "1",
                                                                "type": "object",
                                                                "Value": "@unit_select",
                                                                "Variable": "unit_select"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "height": "10",
                                                        "width": "wrap_content",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "TextColor": "#ff0000",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "gravity_horizontal": "center",
                                                        "gravity_vertical": "center",
                                                        "weight": "0",
                                                        "type": "TextView",
                                                        "Value": "@prices_error_msg",
                                                        "Variable": "prices_error_msg"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "height": "1",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "ProgressButton",
                                        "Value": "Показать",
                                        "Variable": "get_prices_btn"
                                    },
                                    {
                                        "height": "3",
                                        "width": "wrap_content",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TableLayout",
                                        "Value": "@prices_custom_table",
                                        "Variable": "prices_custom_table"
                                    }
                                ]
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "runprogress",
                                "type": "python",
                                "method": "prices_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "prices_on_input",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Выбор типа цены",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@price_type_cards",
                                        "Variable": "price_type_cards"
                                    }
                                ]
                            },
                            {
                                "type": "fab",
                                "Value": "backward",
                                "Variable": "back_to_prices"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "price_types_list_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "price_types_on_input",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Выбор характеристик",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@property_cards",
                                        "Variable": "property_cards"
                                    }
                                ]
                            },
                            {
                                "type": "fab",
                                "Value": "backward",
                                "Variable": "back_to_prices"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "property_list_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "properties_on_input",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Выбор упаковки",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "CardsLayout",
                                        "Value": "@unit_cards",
                                        "Variable": "unit_cards"
                                    }
                                ]
                            },
                            {
                                "type": "fab",
                                "Value": "backward",
                                "Variable": "back_to_prices"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "unit_list_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "units_on_input",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "type": "Operation",
                        "Name": "Таблица цен",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": "",
                                "orientation": "vertical",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "gravity_horizontal": "center",
                                "gravity_vertical": "center",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "TextColor": "#008000",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@barcode_info",
                                        "Variable": "barcode_info"
                                    },
                                    {
                                        "TextColor": "#008000",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@prices_object_name",
                                        "Variable": "prices_object_name"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TableLayout",
                                        "Value": "@prices_custom_table",
                                        "Variable": "prices_custom_table"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "gravity_horizontal": "center",
                                        "gravity_vertical": "center",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@no_data",
                                        "Variable": ""
                                    }
                                ]
                            },
                            {
                                "type": "fab",
                                "Value": "#f1de",
                                "Variable": "show_filters"
                            },
                            {
                                "type": "barcode",
                                "Value": "",
                                "Variable": "barcode"
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "price_tables_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "prices_tables_on_input",
                                "postExecute": ""
                            }
                        ]
                    }
                ]
            }
        ],
        "ConfigurationSettings": {
            "uid": "a6ce59bc3f714a5284213f6e293e3e91",
            "vendor": "Simple",
            "vendor_url": "",
            "vendor_auth": "",
            "handler_split_mode": false,
            "handler_code": "",
            "handler_url": "",
            "handler_auth": "",
            "dictionaries": ""
        },
        "ConfigurationTags": "Py,off-line,ActiveCV®",
        "FaceRecognitionURL": "",
        "ForegroundService": false,
        "StopForegroundServiceOnExit": false,
        "RunPython": true,
        "LaunchProcess": "",
        "MainMenu": [
            {
                "MenuId": "01",
                "MenuItem": "faq",
                "MenuTitle": "FAQ",
                "MenuTop": false
            }
        ],
        "Mediafile": [],
        "PyHandlers": "aW1wb3J0IGRiX3NlcnZpY2VzCmZyb20gcnUudHJhdmVsZm9vZC5zaW1wbGVfdWkgaW1wb3J0IFNpbXBsZVV0aWxpdGVzIGFzIHN1Q2xhc3MKCmltcG9ydCB1aV9iYXJjb2RlcwppbXBvcnQgdWlfY3N2CmltcG9ydCB1aV9nbG9iYWwKaW1wb3J0IHVpX2Zvcm1fZGF0YQppbXBvcnQgdWlfZm9ybV9kYXRhMiBhcyB1aV90YWJsZXNfc3RydWN0dXJlCmltcG9ydCBzb2NrZXQKaW1wb3J0IGpzb24KaW1wb3J0IHJlcXVlc3RzCmltcG9ydCBkYXRhYmFzZV9pbml0X3F1ZXJ5ZXMKaW1wb3J0IG9zCmZyb20gUElMIGltcG9ydCBJbWFnZQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQppbXBvcnQgaW1wb3J0bGliCgppbXBvcnQgd2lkZ2V0cwojIGZyb20gcnNfc2V0dGluZ3MgaW1wb3J0IFJTU2V0dGluZ3MKZnJvbSBqYXZhIGltcG9ydCBqY2xhc3MKaW1wb3J0IGh0dHBfZXhjaGFuZ2UKZnJvbSByZXF1ZXN0cy5hdXRoIGltcG9ydCBIVFRQQmFzaWNBdXRoCmltcG9ydCB1aV91dGlscwpmcm9tIHVpX3V0aWxzIGltcG9ydCBIYXNoTWFwCmZyb20gcnUudHJhdmVsZm9vZC5zaW1wbGVfdWkgaW1wb3J0IEltcG9ydFV0aWxzIGFzIGl1Q2xhc3MKIyBmcm9tIGFuZHJvaWQuZ3JhcGhpY3MuZHJhd2FibGUgaW1wb3J0IEdyYWRpZW50RHJhd2FibGUgYXMgR3JhZGllbnREcmF3YWJsZQojIGZyb20gYW5kcm9pZC5ncmFwaGljcyBpbXBvcnQgQ29sb3IKCm5vQ2xhc3MgPSBqY2xhc3MoInJ1LnRyYXZlbGZvb2Quc2ltcGxlX3VpLk5vU1FMIikKcnNfc2V0dGluZ3MgPSBub0NsYXNzKCJyc19zZXR0aW5ncyIpCgppbXBvcnRsaWIucmVsb2FkKHVpX2NzdikKaW1wb3J0bGliLnJlbG9hZCh1aV9nbG9iYWwpCmltcG9ydGxpYi5yZWxvYWQodWlfZm9ybV9kYXRhKQppbXBvcnRsaWIucmVsb2FkKHVpX3RhYmxlc19zdHJ1Y3R1cmUpCmltcG9ydGxpYi5yZWxvYWQoZGF0YWJhc2VfaW5pdF9xdWVyeWVzKQppbXBvcnRsaWIucmVsb2FkKGh0dHBfZXhjaGFuZ2UpCmltcG9ydGxpYi5yZWxvYWQodWlfdXRpbHMpCmltcG9ydGxpYi5yZWxvYWQoZGJfc2VydmljZXMpCmltcG9ydGxpYi5yZWxvYWQod2lkZ2V0cykKCgojIC0tLS0tCiMgMDEwMDYwODk0MDU1Mzg4NjIxNSxpUEdTUXBCdCEmQgpkZWYgc2V0dGluZ3Nfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgIyBoYXNoTWFwLnB1dCgndG9hc3QnLCfQvtCx0L3QvtCy0LjQu9C40YHRjCcpCiAgICBhcHBfb25fc3RhcnQoaGFzaE1hcCkKICAgIHMgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19ER1JBTSkKICAgIHRyeToKICAgICAgICBzLmNvbm5lY3QoKCI4LjguOC44IiwgODApKQogICAgICAgIGFhID0gKHMuZ2V0c29ja25hbWUoKVswXSkKICAgICAgICAjIGFhID0gaGFzaE1hcC5nZXQoJ2lwX2FkcicpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2lwX2FkcicsIGFhKQogICAgICAgICMgaGFzaE1hcC5wdXQoJ3RvYXN0JywgYWEpCiAgICBleGNlcHQ6CiAgICAgICAgaGFzaE1hcC5wdXQoJ2lwX2FkcicsICfQvdC10YIg0YHQtdGC0LgnKQogICAgIyBhcHBfb25fc3RhcnQoaGFzaE1hcCkKICAgICMg0JfQvdCw0YfQtdC90LjRjyDQutC+0L3RgdGC0LDQvdGCINC4INC90LDRgdGC0YDQvtC10LoKICAgIHJlcyA9IHVpX2dsb2JhbC5nZXRfY29uc3RhbnRzKCkKICAgIGlmIHJlczoKICAgICAgICBoYXNoTWFwLnB1dCgndXNlX3NlcmllcycsIHN0cihyZXNbMV0pKQogICAgICAgIGhhc2hNYXAucHV0KCd1c2VfcHJvcGVydGllcycsIHN0cihyZXNbMl0pKQogICAgICAgIGhhc2hNYXAucHV0KCd1c2VfbWFyaycsIHN0cihyZXNbM10pKQogICAgICAgIGhhc2hNYXAucHV0KCdhZGRfaWZfbm90X2luX3BsYW4nLCBzdHIocmVzWzRdKSkKICAgICAgICBoYXNoTWFwLnB1dCgncGF0aCcsIHN0cihyZXNbNV0pKQogICAgICAgIGhhc2hNYXAucHV0KCdkZWxldGVfZmlsZXMnLCBzdHIocmVzWzZdKSkKICAgICAgICBoYXNoTWFwLnB1dCgnYWxsb3dfb3ZlcnNjYW4nLCBzdHIocmVzWzldKSkKCiAgICBpZiBub3QgaGFzaE1hcC5jb250YWluc0tleSgnaXBfaG9zdCcpOgogICAgICAgIGhhc2hNYXAucHV0KCdpcF9ob3N0JywgJzE5Mi4xNjguMS43NycpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZGVidWdfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgbm90IGhhc2hNYXAuY29udGFpbnNLZXkoJ2lwX2hvc3QnKToKICAgICAgICBoYXNoTWFwLnB1dCgnaXBfaG9zdCcsICcxOTIuMTY4LjEuNzcnKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZGVidWdfbGlzdGVuZXIoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgoKICAgIGxpc3RlbmVyID0gaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykKCiAgICBpZiBsaXN0ZW5lciA9PSAnYnRuX2NvcHlfYmFzZSc6CiAgICAgICAgaXBfaG9zdCA9IGhhc2hNYXAuZ2V0KCdpcF9ob3N0JykKICAgICAgICBpZiBvcy5wYXRoLmlzZmlsZSgnLy9kYXRhL2RhdGEvcnUudHJhdmVsZm9vZC5zaW1wbGVfdWkvZGF0YWJhc2VzL1NpbXBsZUtlZXAnKTogI0tlZXAnKToKICAgICAgICAgICAgd2l0aCBvcGVuKCcvL2RhdGEvZGF0YS9ydS50cmF2ZWxmb29kLnNpbXBsZV91aS9kYXRhYmFzZXMvU2ltcGxlS2VlcCcsICdyYicpIGFzIGY6ICAjIHJpZ2h0c2NhbgogICAgICAgICAgICAgICAgciA9IHJlcXVlc3RzLnBvc3QoJ2h0dHA6Ly8nICsgaXBfaG9zdCArICc6MjQ0NC9wb3N0JywgZmlsZXM9eydSaWdodHNjYW4nOiBmfSkgICMgcmlnaHRzY2FuCiAgICAgICAgICAgIGlmIHIuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0JywgJ9CR0LDQt9CwIFNRTGl0ZSDRg9GB0L/QtdGI0L3QviDQstGL0LPRgNGD0LbQtdC90LAnKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0JywgJ9Ce0YjQuNCx0LrQsCDRgdC+0LXQtNC40L3QtdC90LjRjycpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0JywgJ9Ck0LDQudC7INC90LUg0L3QsNC50LTQtdC9JykKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBzZXR0aW5nc19vbl9jbGljayhoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICB1c2Vfc2VyaWVzID0gaGFzaE1hcC5nZXQoJ3VzZV9zZXJpZXMnKQogICAgdXNlX3Byb3BlcnRpZXMgPSBoYXNoTWFwLmdldCgndXNlX3Byb3BlcnRpZXMnKQogICAgdXNlX21hcmsgPSBoYXNoTWFwLmdldCgndXNlX21hcmsnKQogICAgZGVsZXRlX2ZpbGVzID0gaGFzaE1hcC5nZXQoJ2RlbGV0ZV9maWxlcycpCiAgICBhZGRfaWZfbm90X2luX3BsYW4gPSBoYXNoTWFwLmdldCgnYWRkX2lmX25vdF9pbl9wbGFuJykKICAgIGFsbG93X292ZXJzY2FuID0gaGFzaE1hcC5nZXQoJ2FsbG93X292ZXJzY2FuJykKICAgIHBhdGggPSBoYXNoTWFwLmdldCgncGF0aCcpCgogICAgaWYgdXNlX3NlcmllcyBpcyBOb25lOiB1c2Vfc2VyaWVzID0gJ2ZhbHNlJwogICAgaWYgdXNlX3Byb3BlcnRpZXMgaXMgTm9uZTogdXNlX3Byb3BlcnRpZXMgPSAnZmFsc2UnCiAgICBpZiB1c2VfbWFyayBpcyBOb25lOiB1c2VfbWFyayA9ICdmYWxzZScKICAgIGlmIGFkZF9pZl9ub3RfaW5fcGxhbiBpcyBOb25lOiBhZGRfaWZfbm90X2luX3BsYW4gPSAnZmFsc2UnCiAgICBpZiBwYXRoIGlzIE5vbmU6IHBhdGggPSAnLy9zdG9yYWdlL2VtdWxhdGVkLzAvQW5kcm9pZC9kYXRhL3J1LnRyYXZlbGZvb2Quc2ltcGxlX3VpLycgICMgJy8vc3RvcmFnZS9lbXVsYXRlZC8wL2Rvd25sb2FkLycKICAgIGlmIGRlbGV0ZV9maWxlcyBpcyBOb25lOiBkZWxldGVfZmlsZXMgPSAnZmFsc2UnCiAgICBpZiBhbGxvd19vdmVyc2NhbiBpcyBOb25lOiBhbGxvd19vdmVyc2NhbiA9ICdmYWxzZScKICAgICMgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoJ1VwZGF0ZSBSU19kb2NzIFNFVCBjb250cm9sID0gPycsKGFsbG93X292ZXJzY2FuLCkpICAj0JIg0YLQsNCx0LvQuNGG0Ysg0LTQvtC60YPQvNC10L3RgtC+0LIg0LfQsNC/0LjRgdGL0LLQsNC10Lwg0L3QvtCy0L7QtSDQt9C90LDRh9C10L3QuNC1INC60L7QvdGC0YDQvtC70Y8KICAgIHVpX2dsb2JhbC5wdXRfY29uc3RhbnRzKAogICAgICAgICh1c2Vfc2VyaWVzLCB1c2VfcHJvcGVydGllcywgdXNlX21hcmssIGFkZF9pZl9ub3RfaW5fcGxhbiwgcGF0aCwgZGVsZXRlX2ZpbGVzLCBhbGxvd19vdmVyc2NhbikpCiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpCgoKICAgIGlmIGxpc3RlbmVyID09ICdidG5fbG9jYWxfZmlsZXMnOgogICAgICAgICMgcGF0aCA9IGhhc2hNYXAuZ2V0KCdsb2NhbHBhdGgnKQogICAgICAgIHBhdGggPSBoYXNoTWFwLmdldCgncGF0aCcpCiAgICAgICAgZGVsZXRlX2ZpbGVzID0gaGFzaE1hcC5nZXQoJ2RlbGV0ZV9maWxlcycpCiAgICAgICAgaWYgbm90IGRlbGV0ZV9maWxlczogZGVsZXRlX2ZpbGVzID0gJzAnCiAgICAgICAgaWYgbm90IHBhdGg6IHBhdGggPSAnLy9zdG9yYWdlL2VtdWxhdGVkLzAvZG93bmxvYWQvJwoKICAgICAgICByZXRfdGV4dCA9IHVpX2Nzdi5saXN0X2ZvbGRlcihwYXRoLCBkZWxldGVfZmlsZXMpCgogICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsIHJldF90ZXh0KQogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX2V4cG9ydCc6CgogICAgICAgIHVpX2Nzdi5leHBvcnRfY3N2KHBhdGgsIGhhc2hNYXAuZ2V0KCdpcF9hZHInKSwgaGFzaE1hcC5nZXQoJ0FORFJPSURfSUQnKSkKICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCAn0JTQsNC90L3Ri9C1INCy0YvQs9GA0YPQttC10L3RiycpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKCiAgICAgICAgaGFzaE1hcC5wdXQoJ0ZpbmlzaFByb2Nlc3MnLCAnJykKCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fZmlsZXNfbGlzdCc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0KHQv9C40YHQvtC60KTQsNC50LvQvtCyJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9jb25mX3ZlcnNpb24nOgogICAgICAgIGNvbmYgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCdfY29uZmlndXJhdGlvbiAnKSkKCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fc2l6ZSc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0J3QsNGB0YLRgNC+0LnQutC4INCo0YDQuNGE0YLQvtCyJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl90ZXN0X2JhcmNvZGUnOgogICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9Ci0LXRgdGCINGI0YLRgNC40YXQutC+0LTQsCcpCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fbG9hZF9kYXRhJzoKICAgICAgICAjIGh0dHAgPSBnZXRfaHR0cF9zZXR0aW5ncyhoYXNoTWFwKQogICAgICAgICMgcmVzdWx0ID0gaHR0cF9leGNoYW5nZS5zZXJ2ZXJfbG9hZF9kYXRhKGh0dHApCiAgICAgICAgdGltZXJfdXBkYXRlKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKQogICAgICAgICMgaWYgbm90IHJlc3VsdCA9PSAnb2snOgogICAgICAgICMgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcscmVzdWx0KQogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX2Vycl9sb2cnOgogICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9Ce0YjQuNCx0LrQuCcpCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5faHR0cF9zZXR0aW5ncyc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0J3QsNGB0YLRgNC+0LnQutC4IGh0dHAg0YHQvtC10LTQuNC90LXQvdC40Y8nKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnYm50X2NsZWFyX3RhYmxlcyc6CiAgICAgICAgcXRleHQgPSAnJycKICAgICAgICBTRUxFQ1QgbmFtZSBGUk9NIHNxbGl0ZV9tYXN0ZXIgV0hFUkUgdHlwZT0ndGFibGUnCiAgICAgICAgJycnCiAgICAgICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQpCiAgICAgICAgZm9yIGVsIGluIHJlczoKICAgICAgICAgICAgZGVsX3RleHQgPSAnREVMRVRFIEZST00gJyArIGVsWzBdCiAgICAgICAgICAgIHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KGRlbF90ZXh0KQogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX3VwbG9hZF9kb2NzJzoKICAgICAgICB1cmwgPSBnZXRfaHR0cF9zZXR0aW5ncyhoYXNoTWFwKQogICAgICAgIHF0ZXh0ID0gJycnU0VMRUNUIGlkX2RvYyBGUk9NIFJTX2RvY3MgV0hFUkUgdmVyaWZpZWQgPSAnMScKICAgICAgICAgICAgICAgICAgICBVTklPTgogICAgICAgICAgICAgICAgICAgIFNFTEVDVCBpZF9kb2MgRlJPTSBSU19hZHJfZG9jcyBXSEVSRSB2ZXJpZmllZCA9ICcxJyAnJycKICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgTm9uZSwgVHJ1ZSkKCiAgICAgICAgaWYgcmVzOgogICAgICAgICAgICBkb2NfbGlzdCA9IFtdCiAgICAgICAgICAgIGZvciBlbCBpbiByZXM6CiAgICAgICAgICAgICAgICBkb2NfbGlzdC5hcHBlbmQoJyInICsgZWxbJ2lkX2RvYyddICsgJyInKQogICAgICAgICAgICBkb2NfaW5fc3RyID0gJywnLmpvaW4oZG9jX2xpc3QpCiAgICAgICAgICAgICMgaHRwcGFyYW1zID0geyd1c2VybmFtZSc6aGFzaE1hcC5nZXQoJ29ubGluZVVzZXInKSwgJ3Bhc3N3b3JkJzpoYXNoTWFwLmdldCgnb25saW5lUGFzcycpLCAndXJsJzp1cmx9CiAgICAgICAgICAgIGFuc3dlciA9IGh0dHBfZXhjaGFuZ2UucG9zdF9jaGFuZ2VzX3RvX3NlcnZlcihkb2NfaW5fc3RyLCB1cmwpCiAgICAgICAgICAgIGlmIGFuc3dlci5nZXQoJ0Vycm9yJykgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICB1aV9nbG9iYWwud3JpdGVfZXJyb3Jfb25fbG9nKHN0cihhbnN3ZXIuZ2V0KCdFcnJvcicpKSkKCiAgICAgICAgICAgIHF0ZXh0ID0gZidVUERBVEUgUlNfZG9jcyBTRVQgc2VudCA9IDEgIFdIRVJFIGlkX2RvYyBpbiAoe2RvY19pbl9zdHJ9KSAnCiAgICAgICAgICAgIHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCAoZG9jX2luX3N0ciwpLCBGYWxzZSkKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl90aW1lcic6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB0aW1lcl91cGRhdGUoaGFzaE1hcCkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsc3RyKGUpKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX3NvdW5kX3NldHRpbmdzJzoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsJ9Cd0LDRgdGC0YDQvtC50LrQsCDQt9Cy0YPQutCwJykKICAgIHJldHVybiBoYXNoTWFwCgoKIyDQl9Cw0L/QvtC70L3QtdC90LjQtSDRgdC/0LjRgdC60LAg0LTQvtC60YPQvNC10L3RgtC+0LIKZGVmIHJlZmlsbF9kb2NzX2xpc3QoZmlsdGVyPScnKToKICAgIGRvY19saXN0ID0gdWlfZm9ybV9kYXRhLmdldF9kb2NfY2FyZChyc19zZXR0aW5ncykKICAgIGRvY19saXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXSA9IFtdCgogICAgcXVlcnlfdGV4dCA9IHVpX2Zvcm1fZGF0YS5nZXRfZG9jX3F1ZXJ5KGZpbHRlcikKCiAgICBpZiBmaWx0ZXIgPT0gJycgb3IgZmlsdGVyID09ICfQktGB0LUnOgogICAgICAgIHJlc3VsdHMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0KQogICAgZWxzZToKICAgICAgICByZXN1bHRzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCwgKGZpbHRlciwpKQoKICAgIGZvciByZWNvcmQgaW4gcmVzdWx0czoKICAgICAgICBpZiByZWNvcmRbOF0gPT0gMToKICAgICAgICAgICAgY29tcGxldGVkID0gJ3RydWUnCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY29tcGxldGVkID0gJ2ZhbHNlJwogICAgICAgIHByb2R1Y3Rfcm93ID0gewogICAgICAgICAgICAnY29tcGxldGVkJzogY29tcGxldGVkLAogICAgICAgICAgICAndHlwZSc6IHN0cihyZWNvcmRbMV0pLAogICAgICAgICAgICAnbnVtYmVyJzogc3RyKHJlY29yZFsyXSksCiAgICAgICAgICAgICdkYXRhJzogc3RyKHJlY29yZFszXSksCiAgICAgICAgICAgICdrZXknOiByZWNvcmRbMF0sCiAgICAgICAgICAgICd3YXJlaG91c2UnOiByZWNvcmRbN10sCiAgICAgICAgICAgICdjb3VudHJhZ2VudCc6IHJlY29yZFs2XSwKICAgICAgICAgICAgJ2FkZF9tYXJrX3NlbGVjdGlvbic6IHJlY29yZFsxMF0KICAgICAgICB9CiAgICAgICAgZG9jX2xpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddLmFwcGVuZChwcm9kdWN0X3JvdykKCiAgICByZXR1cm4ganNvbi5kdW1wcyhkb2NfbGlzdCkKCgpkZWYgcmVmaWxsX2RvY3NfbGlzdF9uZXcoX2ZpbHRlcj0nJyk6CiAgICBxdWVyeV90ZXh0ID0gdWlfZm9ybV9kYXRhLmdldF9kb2NfcXVlcnkoX2ZpbHRlcikKCiAgICBpZiBfZmlsdGVyID09ICcnIG9yIF9maWx0ZXIgPT0gJ9CS0YHQtSc6CiAgICAgICAgcmVzdWx0cyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsIHJldHVybl9kaWN0PVRydWUpCiAgICBlbHNlOgogICAgICAgIHJlc3VsdHMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCAoX2ZpbHRlciwpLCByZXR1cm5fZGljdD1UcnVlKQoKICAgIHRhYmxlX2RhdGEgPSBbXQoKICAgIGZvciByZWNvcmQgaW4gcmVzdWx0czoKICAgICAgICB0YWJsZV9kYXRhLmFwcGVuZCh7CiAgICAgICAgICAgICdrZXknOiByZWNvcmRbJ2lkX2RvYyddLAogICAgICAgICAgICAndHlwZSc6IHJlY29yZFsnZG9jX3R5cGUnXSwKICAgICAgICAgICAgJ251bWJlcic6IHJlY29yZFsnZG9jX24nXSwKICAgICAgICAgICAgJ2RhdGEnOiByZWNvcmRbJ2RvY19kYXRlJ10sCiAgICAgICAgICAgICd3YXJlaG91c2UnOiByZWNvcmRbJ1JTX3dhcmVob3VzZSddLAogICAgICAgICAgICAnY291bnRyYWdlbnQnOiByZWNvcmRbJ1JTX2NvdW50cmFnZW50J10sCiAgICAgICAgICAgICdhZGRfbWFya19zZWxlY3Rpb24nOiByZWNvcmRbJ2FkZF9tYXJrX3NlbGVjdGlvbiddCiAgICAgICAgfSkKCiAgICByZXR1cm4gdWlfZm9ybV9kYXRhLmdldF9kb2NfY2FyZF9uZXcocnNfc2V0dGluZ3MsIHRhYmxlX2RhdGEpCgoKZGVmIGRvY3Nfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgIyDQl9Cw0L/QvtC70L3QuNC8INC/0L7Qu9C1INGE0LjQu9GM0YLRgNCwINC/0L4g0LLQuNC00YMg0LTQvtC60YPQvNC10L3RgtC+0LIKICAgIGhhc2hNYXAucHV0KCJTZXRUaXRsZSIsICLQlNC+0LrRg9C80LXQvdGC0YsiKQogICAgcmVzdWx0ID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQodWlfZm9ybV9kYXRhLmdldF9kb2NfdHlwZV9xdWVyeSgpKQogICAgaWYgaGFzaE1hcC5nZXQoJ2RvY190eXBlX3NlbGVjdCcpID09IE5vbmU6CiAgICAgICAgZG9jX3R5cGVfbGlzdCA9IFsn0JLRgdC1J10KICAgICAgICBmb3IgcmVjb3JkIGluIHJlc3VsdDoKICAgICAgICAgICAgZG9jX3R5cGVfbGlzdC5hcHBlbmQocmVjb3JkWzBdKQogICAgICAgIGhhc2hNYXAucHV0KCdkb2NfdHlwZV9zZWxlY3QnLCAnOycuam9pbihkb2NfdHlwZV9saXN0KSkKCiAgICAjIGhhc2hNYXAucHV0KCdkb2NfdHlwZV9jbGljaycsICfQktGB0LUnKQogICAgIyDQldGB0LvQuCDQktGL0LfQvtCyINGN0LrRgNCw0L3QsCDQuNC3INC80LXQvdGOINC/0LvQuNGC0L7QuiAtINC+0LHRgNCw0LHQvtGC0LDQtdC8CiAgICBpZiBoYXNoTWFwLmNvbnRhaW5zS2V5KCdzZWxlY3RlZF90aWxlX2tleScpOgogICAgICAgIHRpbGVfa2V5ID0gaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX3RpbGVfa2V5JykKICAgICAgICBpZiB0aWxlX2tleToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2RvY190eXBlX2NsaWNrJywgdGlsZV9rZXkpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdzZWxlY3RlZF90aWxlX2tleScsICcnKQogICAgIyDQn9C10YDQtdC30LDQv9C+0LvQvdC40Lwg0YHQv9C40YHQvtC6INC00L7QutGD0LzQtdC90YLQvtCyCiAgICBpZiBoYXNoTWFwLmdldCgnZG9jX3R5cGVfY2xpY2snKSA9PSBOb25lOgogICAgICAgIGxzID0gcmVmaWxsX2RvY3NfbGlzdCgpCiAgICBlbHNlOgogICAgICAgIGxzID0gcmVmaWxsX2RvY3NfbGlzdChoYXNoTWFwLmdldCgnZG9jX3R5cGVfY2xpY2snKSkKICAgIGhhc2hNYXAucHV0KCJkb2NDYXJkcyIsIGxzKQoKICAgIHJldHVybiBoYXNoTWFwCgoKQEhhc2hNYXAoKQpkZWYgZG9jc19vbl9zdGFydF9uZXcoaGFzaF9tYXA6IEhhc2hNYXApOgogICAgcmVzdWx0ID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQodWlfZm9ybV9kYXRhLmdldF9kb2NfdHlwZV9xdWVyeSgpKQogICAgaWYgbm90IGhhc2hfbWFwLmdldCgnZG9jX3R5cGVfc2VsZWN0Jyk6CiAgICAgICAgZG9jX3R5cGVfbGlzdCA9IFsn0JLRgdC1J10KICAgICAgICBmb3IgcmVjb3JkIGluIHJlc3VsdDoKICAgICAgICAgICAgZG9jX3R5cGVfbGlzdC5hcHBlbmQocmVjb3JkWzBdKQogICAgICAgIGhhc2hfbWFwLnB1dCgnZG9jX3R5cGVfc2VsZWN0JywgJzsnLmpvaW4oZG9jX3R5cGVfbGlzdCkpCgogICAgIyDQldGB0LvQuCDQktGL0LfQvtCyINGN0LrRgNCw0L3QsCDQuNC3INC80LXQvdGOINC/0LvQuNGC0L7QuiAtINC+0LHRgNCw0LHQvtGC0LDQtdC8CiAgICBpZiBoYXNoX21hcC5jb250YWluc0tleSgnc2VsZWN0ZWRfdGlsZV9rZXknKToKICAgICAgICB0aWxlX2tleSA9IGhhc2hfbWFwLmdldCgnc2VsZWN0ZWRfdGlsZV9rZXknKQogICAgICAgIGlmIHRpbGVfa2V5OgogICAgICAgICAgICBoYXNoX21hcC5wdXQoJ2RvY190eXBlX2NsaWNrJywgdGlsZV9rZXkpCiAgICAgICAgICAgIGhhc2hfbWFwLnB1dCgnc2VsZWN0ZWRfdGlsZV9rZXknLCAnJykKCiAgICAjINCf0LXRgNC10LfQsNC/0L7Qu9C90LjQvCDRgdC/0LjRgdC+0Log0LTQvtC60YPQvNC10L3RgtC+0LIKICAgIGlmIG5vdCBoYXNoX21hcC5nZXQoJ2RvY190eXBlX2NsaWNrJyk6CiAgICAgICAgbHMgPSByZWZpbGxfZG9jc19saXN0X25ldygpCiAgICBlbHNlOgogICAgICAgIGxzID0gcmVmaWxsX2RvY3NfbGlzdF9uZXcoaGFzaF9tYXAuZ2V0KCdkb2NfdHlwZV9jbGljaycpKQogICAgaGFzaF9tYXAucHV0KCJkb2NDYXJkcyIsIGxzKQoKCmRlZiBkb2NfZGV0YWlsc19vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgaWYgaGFzaE1hcC5nZXQoJ2RvY19nb29kc190YWJsZScpOgogICAgICAgIGhhc2hNYXAucHV0KCJkb2NfZ29vZHNfdGFibGUiLCBOb25lKQoKICAgIGlmIGhhc2hNYXAuZ2V0KCJ3YXJlaG91c2UiKToKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd193YXJlaG91c2UiLCAiMSIpCiAgICBlbHNlOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93X3dhcmVob3VzZSIsICItMSIpCiAgICBpZiBoYXNoTWFwLmdldCgiY291bnRyYWdlbnQiKToKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd19jb3VudHJhZ2VudCIsICIxIikKICAgIGVsc2U6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dfY291bnRyYWdlbnQiLCAiLTEiKQoKICAgIGhhc2hNYXAucHV0KCdTZXRUaXRsZScsIGhhc2hNYXAuZ2V0KCJkb2NfdHlwZSIpKQoKICAgIGlkX2RvYyA9IGhhc2hNYXAuZ2V0KCdpZF9kb2MnKQogICAgZmFsc2VWYWx1ZUxpc3QgPSAoMCwnMCcsJ2ZhbHNlJywnRmFsc2UnLE5vbmUpCiAgICAjINCk0L7RgNC80LjRgNGD0LXQvCDRgtCw0LHQu9C40YbRgyDQutCw0YDRgtC+0YfQtdC6INC4INC30LDQv9GA0L7RgSDQuiDQsdCw0LfQtQogICAgcmVzID0gdWlfZ2xvYmFsLmdldF9jb25zdGFudHMoKQogICAgdXNlX3NlcmllcyA9IHJlc1sxXQogICAgdXNlX3Byb3BlcnRpZXMgPSByZXNbMl0KICAgIGhhc2hNYXAucHV0KCd1c2VfcHJvcGVydGllcycsIHJlc1syXSkKICAgIGlmIGhhc2hNYXAuZ2V0KCd2aWV3JykgPT0gImNhcmRzIjoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd19jYXJkX3ZpZXcnLCAiLTEiKQogICAgICAgICMgZG9jX2RldGFpbF9saXN0ID0gdWlfZm9ybV9kYXRhLmdldF9kb2NfZGV0YWlsX2NhcmRzKHVzZV9zZXJpZXMsIHVzZV9wcm9wZXJ0aWVzLCByc19zZXR0aW5ncykKICAgICAgICBkb2NfZGV0YWlsX2xpc3QgPSB1aV90YWJsZXNfc3RydWN0dXJlLmdldF9kb2NfZGV0YWlsX2NhcmRzX21vZCh1c2Vfc2VyaWVzLCB1c2VfcHJvcGVydGllcywgcnNfc2V0dGluZ3MpCgogICAgICAgIGRvY19kZXRhaWxfbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10gPSBbXQogICAgZWxzZToKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd190YWJsZV92aWV3JywgIi0xIikKICAgICAgICBkb2NfZGV0YWlsX2xpc3QgPSB1aV90YWJsZXNfc3RydWN0dXJlLmdldF9kb2NfZGV0YWlsX3RhYmxlX2hlYWQoKQogICAgICAgIGRvY19kZXRhaWxfbGlzdFsiY3VzdG9tdGFibGUiXVsidGFibGVkYXRhIl0gPSBbe31dCgogICAgIyDQn9C+0LvRg9GH0LDQtdC8INGC0LXQtdC60YPRidC40Lkg0LTQvtC60YPQvNC10L3RggogICAgY3VycmVudF9zdHIgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9wb3NpdGlvbiIpCiAgICBqbGlzdCA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoJ2RvY0NhcmRzJykpCgogICAgZWxlbV9uID0gamxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddCgogICAgZm9yIGVsIGluIGVsZW1fbjoKICAgICAgICBpZiBlbFsna2V5J10gPT0gaWRfZG9jOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnYWRkX21hcmtfc2VsZWN0aW9uJywKICAgICAgICAgICAgICAgICAgICAgICAgc3RyKGVsWydhZGRfbWFya19zZWxlY3Rpb24nXSBpZiBlbFsnYWRkX21hcmtfc2VsZWN0aW9uJ10gZWxzZSAnMCcpKQogICAgIyAgICBjdXJyZW50X2VsZW0gPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ11baW50KGN1cnJlbnRfc3RyKS0xXQoKICAgIHF1ZXJ5X3RleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X2RvY19kZXRhaWxzX3F1ZXJ5KCkKCiAgICByZXN1bHRzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCwgKGlkX2RvYywpLCBUcnVlKQogICAgcm93X2ZpbHRlciA9IFRydWUgaWYgaGFzaE1hcC5nZXQoJ3Jvd3NfZmlsdGVyJykgPT0gJzEnIGVsc2UgRmFsc2UKICAgIGlmIHJlc3VsdHM6CiAgICAgICAgaGFzaE1hcC5wdXQoJ2lkX2RvYycsIHN0cihyZXN1bHRzWzBdWydpZF9kb2MnXSkpCiAgICAgICAgZm9yIHJlY29yZCBpbiByZXN1bHRzOgogICAgICAgICAgICBwaWMgPSAnI2YwMmEnIGlmIHJlY29yZFsnSXNEb25lJ10gIT0gMCBlbHNlICcjZjAwYycKICAgICAgICAgICAgaWYgcmVjb3JkWydxdHR5J10gPT0gMCBhbmQgcmVjb3JkWydxdHR5X3BsYW4nXSA9PSAwOgogICAgICAgICAgICAgICAgcGljID0gJycKICAgICAgICAgICAgaWYgcm93X2ZpbHRlciBhbmQgcmVjb3JkWydxdHR5J10gPT0gcmVjb3JkWydxdHR5X3BsYW4nXToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIHByb2R1Y3Rfcm93ID0gewogICAgICAgICAgICAgICAgJ2tleSc6IHN0cihyZWNvcmRbJ2lkJ10pLAogICAgICAgICAgICAgICAgJ2dvb2RfbmFtZSc6IHN0cihyZWNvcmRbJ2dvb2RfbmFtZSddKSwKICAgICAgICAgICAgICAgICdpZF9nb29kJzogc3RyKHJlY29yZFsnaWRfZ29vZCddKSwKICAgICAgICAgICAgICAgICdpZF9wcm9wZXJ0aWVzJzogc3RyKHJlY29yZFsnaWRfcHJvcGVydGllcyddKSwKICAgICAgICAgICAgICAgICdwcm9wZXJ0aWVzX25hbWUnOiBzdHIocmVjb3JkWydwcm9wZXJ0aWVzX25hbWUnXSksCiAgICAgICAgICAgICAgICAnaWRfc2VyaWVzJzogc3RyKHJlY29yZFsnaWRfc2VyaWVzJ10pLAogICAgICAgICAgICAgICAgJ3Nlcmllc19uYW1lJzogc3RyKHJlY29yZFsnc2VyaWVzX25hbWUnXSksCiAgICAgICAgICAgICAgICAnaWRfdW5pdCc6IHN0cihyZWNvcmRbJ2lkX3VuaXQnXSksCiAgICAgICAgICAgICAgICAndW5pdHNfbmFtZSc6IHN0cihyZWNvcmRbJ3VuaXRzX25hbWUnXSksCiAgICAgICAgICAgICAgICAnY29kZV9hcnQnOiBzdHIocmVjb3JkWydjb2RlJ10pLAogICAgICAgICAgICAgICAgJ2FydCc6IHN0cihyZWNvcmRbJ2FydCddKSwKICAgICAgICAgICAgICAgICdxdHR5Jzogc3RyKHJlY29yZFsncXR0eSddIGlmIHJlY29yZFsncXR0eSddIGlzIG5vdCBOb25lIGVsc2UgMCksCiAgICAgICAgICAgICAgICAncXR0eV9wbGFuJzogc3RyKHJlY29yZFsncXR0eV9wbGFuJ10gaWYgcmVjb3JkWydxdHR5X3BsYW4nXSBpcyBub3QgTm9uZSBlbHNlIDApLAogICAgICAgICAgICAgICAgJ3ByaWNlJzogc3RyKHJlY29yZFsncHJpY2UnXSBpZiByZWNvcmRbJ3ByaWNlJ10gaXMgbm90IE5vbmUgZWxzZSAwKSwKICAgICAgICAgICAgICAgICdwcmljZV9uYW1lJzogc3RyKHJlY29yZFsncHJpY2VfbmFtZSddKSwKICAgICAgICAgICAgICAgICdwaWN0dXJlJzogcGljLAogICAgICAgICAgICAgICAgIyAnbGFzdF91cGRhdGVkJzogc3RyKHJlY29yZFsnbGFzdF91cGRhdGVkJ10pLAogICAgICAgICAgICB9CgogICAgICAgICAgICBnb29kX2luZm8gPSAiIgogICAgICAgICAgICBpZiBwcm9kdWN0X3Jvd1snYXJ0J10gIT0gIk5vbmUiOgogICAgICAgICAgICAgICAgZ29vZF9pbmZvICs9IHByb2R1Y3Rfcm93WydhcnQnXSArICIgIgogICAgICAgICAgICBpZiBwcm9kdWN0X3Jvd1sncHJvcGVydGllc19uYW1lJ10gIT0gIk5vbmUiOgogICAgICAgICAgICAgICAgZ29vZF9pbmZvICs9ICIoIiArIHByb2R1Y3Rfcm93Wydwcm9wZXJ0aWVzX25hbWUnXSArICIpICIKICAgICAgICAgICAgaWYgcHJvZHVjdF9yb3dbJ3Nlcmllc19uYW1lJ10gIT0gIk5vbmUiOgogICAgICAgICAgICAgICAgZ29vZF9pbmZvICs9IHByb2R1Y3Rfcm93WydzZXJpZXNfbmFtZSddCiAgICAgICAgICAgIGlmIHByb2R1Y3Rfcm93Wyd1bml0c19uYW1lJ10gIT0gIk5vbmUiOgogICAgICAgICAgICAgICAgZ29vZF9pbmZvICs9ICIsICIgKyBwcm9kdWN0X3Jvd1sndW5pdHNfbmFtZSddCiAgICAgICAgICAgIHByb2R1Y3Rfcm93Wydnb29kX2luZm8nXSA9IGdvb2RfaW5mbwoKICAgICAgICAgICAgaWYgaGFzaE1hcC5nZXQoJ3ZpZXcnKSA9PSAiY2FyZHMiOgogICAgICAgICAgICAgICAgZG9jX2RldGFpbF9saXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXS5hcHBlbmQocHJvZHVjdF9yb3cpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcm9kdWN0X3Jvd1snX2xheW91dCddID0gdWlfdGFibGVzX3N0cnVjdHVyZS5nZXRfZG9jX2RldGFpbF90YWJsZV9ib2R5X2xheW91dCh1c2Vfc2VyaWVzLCB1c2VfcHJvcGVydGllcywgcnNfc2V0dGluZ3MpCgogICAgICAgICAgICAgICAgaWYgZmxvYXQocHJvZHVjdF9yb3dbJ3F0dHlfcGxhbiddKSA+IGZsb2F0KHByb2R1Y3Rfcm93WydxdHR5J10pOgogICAgICAgICAgICAgICAgICAgIHByb2R1Y3Rfcm93WydfbGF5b3V0J11bIkJhY2tncm91bmRDb2xvciJdID0gIiNGQkU5RTciCgogICAgICAgICAgICAgICAgaWYgaGFzaE1hcC5nZXQoImFkZGVkX2dvb2RzIik6CiAgICAgICAgICAgICAgICAgICAgYWRkZWRfZ29vZHNfZGljdCA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoImFkZGVkX2dvb2RzIikpCiAgICAgICAgICAgICAgICAgICAgaWYgc3RyKHJlc3VsdHNbMF1bJ2lkX2RvYyddKSBpbiBhZGRlZF9nb29kc19kaWN0LmtleXMoKToKICAgICAgICAgICAgICAgICAgICAgICAgaWYgc3RyKHJlY29yZFsnaWRfZ29vZCddKSBpbiBhZGRlZF9nb29kc19kaWN0W3N0cihyZXN1bHRzWzBdWydpZF9kb2MnXSldWzBdOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgc3RyKHJlY29yZFsnaWRfcHJvcGVydGllcyddKSBpbiBhZGRlZF9nb29kc19kaWN0W3N0cihyZXN1bHRzWzBdWydpZF9kb2MnXSldWzFdIG9yIG5vdCBzdHIocmVjb3JkWydpZF9wcm9wZXJ0aWVzJ10pOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Rfcm93WydfbGF5b3V0J11bIkJhY2tncm91bmRDb2xvciJdID0gIiNGMEY4RkYiCgogICAgICAgICAgICAgICAgaWYgZmxvYXQocHJvZHVjdF9yb3dbJ3F0dHlfcGxhbiddKSA9PSBmbG9hdChwcm9kdWN0X3Jvd1sncXR0eSddKToKICAgICAgICAgICAgICAgICAgICBwcm9kdWN0X3Jvd1snX2xheW91dCddWyJCYWNrZ3JvdW5kQ29sb3IiXSA9ICIjRkZGRkZGIgoKICAgICAgICAgICAgICAgIGlmIGZsb2F0KHByb2R1Y3Rfcm93WydxdHR5X3BsYW4nXSkgPCBmbG9hdChwcm9kdWN0X3Jvd1sncXR0eSddKToKICAgICAgICAgICAgICAgICAgICBwcm9kdWN0X3Jvd1snX2xheW91dCddWyJCYWNrZ3JvdW5kQ29sb3IiXSA9ICIjRkZGOUM0IgoKICAgICAgICAgICAgICAgIGRvY19kZXRhaWxfbGlzdFsnY3VzdG9tdGFibGUnXVsndGFibGVkYXRhJ10uYXBwZW5kKHByb2R1Y3Rfcm93KQoKICAgICAgICAjINCf0YDQuNC30L3QsNC6LCBoYXZlX3F0dHlfcGxhbiDQldGB0YLRjNCf0LvQsNC90J/QntCa0J7Qu9C40YfQtdGB0YLQstGDICAtICDQmNGB0YLQuNC90LAg0LrQvtCz0LTQsCDRgdGD0LzQvNCwINC60L7Qu9C+0L3QutC4IFF0dHlfcGxhbiA+IDAKICAgICAgICAjINCf0YDQuNC30L3QsNC6ICBoYXZlX21hcmtfcGxhbiAi0JXRgdGC0YzQn9C70LDQvdCa0J7QtNC+0LLQnNCw0YDQutC40YDQvtCy0LrQuCDigJMg0JjRgdGC0LjQvdCwLCDQutC+0LPQtNCwINC60L7Qu9C40YfQtdGB0YLQstC+INGB0YLRgNC+0Log0YLQsNCx0LsuIFJTX2RvY3NfYmFyY29kZXMg0YEg0LfQsNC00LDQvdC90YvQvCBpZF9kb2Mg0LggaXNfcGxhbiAg0LHQvtC70YzRiNC1INC90YPQu9GPLgogICAgICAgICMg0J/RgNC40LfQvdCw0LogaGF2ZV96ZXJvX3BsYW4gItCV0YHRgtGMINGB0YLRgNC+0LrQuCDRgtC+0LLQsNGA0LAg0LIg0LTQvtC60YPQvNC10L3RgtC1IiDQmNGB0YLQuNC90LAsINC60L7Qs9C00LAg0LXRgdGC0Ywg0LfQsNC/0L7Qu9C90LXQvdC90YvQtSDRgdGC0YDQvtC60Lgg0YLQvtCy0LDRgNC+0LIg0LIg0LTQvtC60YPQvNC10L3RgtC1CiAgICAgICAgIyDQn9GA0LjQt9C90LDQuiAi0JrQvtC90YLRgNC+0LvQuNGA0L7QstCw0YLRjCIgIC0g0L/RgNC40LfQvdCw0Log0LTQu9GPINC00L7QutGD0LzQtdC90YLQsCwg0L3QsNC00L4g0LvQuCDQutC+0L3RgtGA0L7Qu9C40YDQvtCy0LDRgtGMCgogICAgICAgIHF0ZXh0ID0gdWlfZm9ybV9kYXRhLmdldF9xdHR5X3N0cmluZ19jb3VudF9xdWVyeSgpCiAgICAgICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsIHsnaWRfZG9jJzogaWRfZG9jfSkKICAgICAgICBpZiBub3QgcmVzOgogICAgICAgICAgICBoYXZlX3F0dHlfcGxhbiA9IEZhbHNlCiAgICAgICAgICAgIGhhdmVfemVyb19wbGFuID0gRmFsc2UKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXZlX3plcm9fcGxhbiA9IHJlc1swXVswXSA+IDAgICMg0JIg0LTQvtC60YPQvNC10L3RgtC1INC10YHRgtGMINGB0YLRgNC+0LrQuAogICAgICAgICAgICBpZiBoYXZlX3plcm9fcGxhbjoKICAgICAgICAgICAgICAgIGhhdmVfcXR0eV9wbGFuID0gcmVzWzBdWzFdID4gMCAgIyDQkiDQtNC+0LrRg9C80LXQvdGC0LUg0LXRgdGC0Ywg0LrQvtC70LLQviDQv9C70LDQvQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaGF2ZV9xdHR5X3BsYW4gPSBGYWxzZQogICAgICAgICMg0JXRgdGC0Ywg0LvQuCDQsiDQtNC+0LrRg9C80LXQvdGC0LUg0L/Qu9Cw0L0g0L/QviDQutC+0LTQsNC8INC80LDRgNC60LjRgNC+0LLQutC4CiAgICAgICAgcXRleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X2hhdmVfbWFya19jb2Rlc19xdWVyeSgpCiAgICAgICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsIHsnaWRfZG9jJzogaWRfZG9jLCAnaXNfcGxhbic6ICcxJ30pCiAgICAgICAgaWYgbm90IHJlczoKICAgICAgICAgICAgaGF2ZV9tYXJrX3BsYW4gPSBGYWxzZQoKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXZlX21hcmtfcGxhbiA9IHJlc1swXVswXSA+IDAKICAgIGVsc2U6CiAgICAgICAgaGF2ZV9xdHR5X3BsYW4gPSBGYWxzZQogICAgICAgIGhhdmVfemVyb19wbGFuID0gRmFsc2UKICAgICAgICBoYXZlX21hcmtfcGxhbiA9IEZhbHNlCgogICAgaGFzaE1hcC5wdXQoJ2hhdmVfcXR0eV9wbGFuJywgc3RyKGhhdmVfcXR0eV9wbGFuKSkKICAgIGhhc2hNYXAucHV0KCdoYXZlX3plcm9fcGxhbicsIHN0cihoYXZlX3plcm9fcGxhbikpCiAgICBoYXNoTWFwLnB1dCgnaGF2ZV9tYXJrX3BsYW4nLCBzdHIoaGF2ZV9tYXJrX3BsYW4pKQogICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoJ1NFTEVDVCBjb250cm9sIGZyb20gUlNfZG9jcyAgV0hFUkUgaWRfZG9jID0gPycsIChpZF9kb2MsKSkKICAgICMg0JXRgdGC0Ywg0LvQuCDQutC+0L3RgtGA0L7Qu9GMINC/0LvQsNC90LAg0LIg0LTQvtC60YPQvNC10L3RgtC1CiAgICBpZiByZXM6CiAgICAgICAgaWYgcmVzWzBdWzBdOgogICAgICAgICAgICBpZiByZXNbMF1bMF0gaW4gZmFsc2VWYWx1ZUxpc3Q6CiAgICAgICAgICAgICAgICBjb250cm9sID0gJ0ZhbHNlJwogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY29udHJvbCA9ICdUcnVlJwoKICAgICAgICAgICAgIyBjb250cm9sID0gcmVzWzBdWzBdICMnVHJ1ZScKICAgICAgICBlbHNlOgogICAgICAgICAgICBjb250cm9sID0gJ0ZhbHNlJwogICAgZWxzZToKICAgICAgICBjb250cm9sID0gJ0ZhbHNlJwoKICAgIGhhc2hNYXAucHV0KCdjb250cm9sJywgY29udHJvbCkKICAgIGlmIGhhc2hNYXAuZ2V0KCJ2aWV3IikgPT0gImNhcmRzIjoKICAgICAgICBoYXNoTWFwLnB1dCgiZG9jX2dvb2RzX2NhcmRzIiwganNvbi5kdW1wcyhkb2NfZGV0YWlsX2xpc3QpKQogICAgZWxzZToKICAgICAgICBoYXNoTWFwLnB1dCgiZG9jX2dvb2RzX3RhYmxlIiwganNvbi5kdW1wcyhkb2NfZGV0YWlsX2xpc3QpKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGhpZ2hsaWdodF9hZGRlZF9nb29kKGhhc2hNYXAsIGJhcmNvZGUpOgoKICAgIGdvb2RfcXVlcnkgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgiU0VMRUNUIGlkX2dvb2QsaWRfcHJvcGVydHkgRlJPTSBSU19iYXJjb2RlcyB3aGVyZSBiYXJjb2RlID0gJyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhcmNvZGUgKyAiJyIpCiAgICBpZF9kb2MgPSBoYXNoTWFwLmdldCgnaWRfZG9jJykKCiAgICBpZiBsZW4oZ29vZF9xdWVyeSkgPiAwOgogICAgICAgIGdvb2RfaWQgPSBnb29kX3F1ZXJ5WzBdWzBdCiAgICAgICAgZ29vZF9wcm9wZXJ0eV9pZCA9IGdvb2RfcXVlcnlbMF1bMV0KCiAgICAgICAgaWYgaGFzaE1hcC5nZXQoImFkZGVkX2dvb2RzIik6CiAgICAgICAgICAgIGFkZGVkX2dvb2RzX2RpY3QgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJhZGRlZF9nb29kcyIpKQogICAgICAgICAgICBpZiBpZF9kb2MgaW4gYWRkZWRfZ29vZHNfZGljdC5rZXlzKCk6CiAgICAgICAgICAgICAgICBpZiBnb29kX2lkIG5vdCBpbiBhZGRlZF9nb29kc19kaWN0W2lkX2RvY11bMF06CiAgICAgICAgICAgICAgICAgICAgYWRkZWRfZ29vZHNfZGljdFtpZF9kb2NdWzBdLmFwcGVuZChnb29kX2lkKQogICAgICAgICAgICAgICAgaWYgZ29vZF9wcm9wZXJ0eV9pZDoKICAgICAgICAgICAgICAgICAgICBpZiBnb29kX3Byb3BlcnR5X2lkIG5vdCBpbiBhZGRlZF9nb29kc19kaWN0W2lkX2RvY11bMV06CiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkX2dvb2RzX2RpY3RbaWRfZG9jXVsxXS5hcHBlbmQoZ29vZF9wcm9wZXJ0eV9pZCkKCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBhZGRlZF9nb29kc19kaWN0W2lkX2RvY10gPSBbW2dvb2RfaWRdLCBbZ29vZF9wcm9wZXJ0eV9pZF1dCgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFkZGVkX2dvb2RzX2RpY3QgPSB7aWRfZG9jOiBbW2dvb2RfaWRdLCBbZ29vZF9wcm9wZXJ0eV9pZF1dfQogICAgICAgIGhhc2hNYXAucHV0KCJhZGRlZF9nb29kcyIsIHN0cihhZGRlZF9nb29kc19kaWN0KS5yZXBsYWNlKCInIiwgJyInKSkKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiByZW1vdmVfYWRkZWRfZ29vZF9oaWdobGlnaHQoaGFzaE1hcCwgZ29vZF9pZD1Ob25lLCBwcm9wZXJ0eV9pZD1Ob25lKToKICAgIGlmIGhhc2hNYXAuZ2V0KCJhZGRlZF9nb29kcyIpOgogICAgICAgIGlkX2RvYyA9IGhhc2hNYXAuZ2V0KCdpZF9kb2MnKQogICAgICAgIGFkZGVkX2dvb2RzX2RpY3QgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJhZGRlZF9nb29kcyIpKQogICAgICAgIGlmIGlkX2RvYyBpbiBhZGRlZF9nb29kc19kaWN0LmtleXMoKToKICAgICAgICAgICAgaWYgZ29vZF9pZCBpbiBhZGRlZF9nb29kc19kaWN0W2lkX2RvY11bMF06CiAgICAgICAgICAgICAgICBhZGRlZF9nb29kc19kaWN0W2lkX2RvY11bMF0ucmVtb3ZlKGdvb2RfaWQpCiAgICAgICAgICAgICIiImlmIHByb3BlcnR5X2lkIGluIGFkZGVkX2dvb2RzX2RpY3RbZ29vZF9pZF1bMV06CiAgICAgICAgICAgICAgICBhZGRlZF9nb29kc19kaWN0W2dvb2RfaWRdWzFdLnJlbW92ZShwcm9wZXJ0eV9pZCkiIiIKICAgICAgICAgICAgaGFzaE1hcC5wdXQoImFkZGVkX2dvb2RzIiwgc3RyKGFkZGVkX2dvb2RzX2RpY3QpLnJlcGxhY2UoIiciLCAnIicpKQogICAgICAgICAgICBpZiBsZW4oYWRkZWRfZ29vZHNfZGljdFtpZF9kb2NdWzBdKSA9PSAwOgogICAgICAgICAgICAgICAgZGVsIGFkZGVkX2dvb2RzX2RpY3RbaWRfZG9jXQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZG9jX2RldGFpbHNfb25fbG9hZChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgYmFyY29kZV9idG4gPSBpdUNsYXNzLmdldFZpZXcoImJ0bl9iYXJjb2RlcyIpCiAgICBzaGFwZV8yID0gR3JhZGllbnREcmF3YWJsZSgpICAjINCh0L7Qt9C00LDQtdC8INGE0L7RgNC80YMKICAgIHNoYXBlXzIuc2V0U2hhcGUoR3JhZGllbnREcmF3YWJsZS5SRUNUQU5HTEUpCiAgICBzaGFwZV8yLnNldENvcm5lclJhZGl1cyg1MCkKICAgIHNoYXBlXzIuc2V0Q29sb3IoQ29sb3IuV0hJVEUpCiAgICBiYXJjb2RlX2J0bi5zZXRCYWNrZ3JvdW5kKHNoYXBlXzIpCiAgICBiYXJjb2RlX2J0bi5zZXRFbGV2YXRpb24oMTUpCiAgICByZXR1cm4gaGFzaE1hcAoKCkBIYXNoTWFwKCkKZGVmIGRvY19kZXRhaWxzX29uX3N0YXJ0X25ldyhoYXNoX21hcCk6CiAgICBpZF9kb2MgPSBoYXNoX21hcC5nZXQoJ2lkX2RvYycpCiAgICB1c2Vfc2VyaWVzLCB1c2VfcHJvcGVydGllcywgKmNvbnN0YW50cyA9IHVpX2dsb2JhbC5nZXRfY29uc3RhbnRzKCkKICAgIGFkZF9sYWJlbHMgPSBbCiAgICAgICAga2V5IGZvciBrZXksIHZhbHVlIGluCiAgICAgICAgeydzZXJpZXNfbmFtZSc6IHVzZV9zZXJpZXMsICdwcm9wZXJ0aWVzX25hbWUnOiB1c2VfcHJvcGVydGllc30uaXRlbXMoKQogICAgICAgIGlmIHN0cih2YWx1ZSkgaW4gWycxJywgJ3RydWUnXQogICAgXQoKICAgIGhhc2hfbWFwLnB1dCgndXNlX3Byb3BlcnRpZXMnLCB1c2VfcHJvcGVydGllcykKCiAgICBxdWVyeV90ZXh0ID0gdWlfZm9ybV9kYXRhLmdldF9kb2NfZGV0YWlsc19xdWVyeSgpCiAgICBkb2NfZGV0YWlscyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsIChpZF9kb2MsKSwgVHJ1ZSkKICAgIGNhcmRzX2RhdGEgPSBbXQogICAgaGF2ZV96ZXJvX3BsYW4gPSBGYWxzZQoKICAgIGlmIGRvY19kZXRhaWxzOgogICAgICAgIGZvciByZWNvcmQgaW4gZG9jX2RldGFpbHM6CiAgICAgICAgICAgIHBpYyA9ICcjZjAyYScgaWYgcmVjb3JkWydJc0RvbmUnXSAhPSAwIGVsc2UgJyNmMDBjJwogICAgICAgICAgICBpZiByZWNvcmRbJ3F0dHknXSA9PSAwIGFuZCByZWNvcmRbJ3F0dHlfcGxhbiddID09IDA6CiAgICAgICAgICAgICAgICBwaWMgPSAnJwoKICAgICAgICAgICAgY2FyZHNfZGF0YS5hcHBlbmQoewogICAgICAgICAgICAgICAgJ2tleSc6IHN0cihyZWNvcmRbJ2lkJ10pLAogICAgICAgICAgICAgICAgJ2dvb2RfbmFtZSc6IHN0cihyZWNvcmRbJ2dvb2RfbmFtZSddKSwKICAgICAgICAgICAgICAgICdpZF9nb29kJzogc3RyKHJlY29yZFsnaWRfZ29vZCddKSwKICAgICAgICAgICAgICAgICdpZF9wcm9wZXJ0aWVzJzogc3RyKHJlY29yZFsnaWRfcHJvcGVydGllcyddKSwKICAgICAgICAgICAgICAgICdwcm9wZXJ0aWVzX25hbWUnOiBzdHIocmVjb3JkWydwcm9wZXJ0aWVzX25hbWUnXSBvciAnJyksCiAgICAgICAgICAgICAgICAnaWRfc2VyaWVzJzogc3RyKHJlY29yZFsnaWRfc2VyaWVzJ10pLAogICAgICAgICAgICAgICAgJ3Nlcmllc19uYW1lJzogc3RyKHJlY29yZFsnc2VyaWVzX25hbWUnXSBvciAnJyksCiAgICAgICAgICAgICAgICAnaWRfdW5pdCc6IHN0cihyZWNvcmRbJ2lkX3VuaXQnXSksCiAgICAgICAgICAgICAgICAndW5pdHNfbmFtZSc6IHN0cihyZWNvcmRbJ3VuaXRzX25hbWUnXSBvciAnJyksCiAgICAgICAgICAgICAgICAnY29kZV9hcnQnOiAn0JrQvtC0OiAnICsgc3RyKHJlY29yZFsnY29kZSddKSwKCiAgICAgICAgICAgICAgICAncXR0eSc6IHN0cihyZWNvcmRbJ3F0dHknXSBpZiByZWNvcmRbJ3F0dHknXSBpcyBub3QgTm9uZSBlbHNlIDApLAogICAgICAgICAgICAgICAgJ3F0dHlfcGxhbic6IHN0cihyZWNvcmRbJ3F0dHlfcGxhbiddIGlmIHJlY29yZFsncXR0eV9wbGFuJ10gaXMgbm90IE5vbmUgZWxzZSAwKSwKICAgICAgICAgICAgICAgICdwcmljZSc6IHN0cihyZWNvcmRbJ3ByaWNlJ10gaWYgcmVjb3JkWydwcmljZSddIGlzIG5vdCBOb25lIGVsc2UgMCksCiAgICAgICAgICAgICAgICAncHJpY2VfbmFtZSc6IHN0cihyZWNvcmRbJ3ByaWNlX25hbWUnXSBvciAnJyksCiAgICAgICAgICAgICAgICAncGljdHVyZSc6IHBpYwogICAgICAgICAgICB9KQogICAgICAgICAgICBoYXZlX3plcm9fcGxhbiA9IFRydWUKCiAgICBkb2NfZ29vZHMgPSB1aV9mb3JtX2RhdGEuZ2V0X2RvY19kZXRhaWxfY2FyZHNfbmV3KHJzX3NldHRpbmdzLCBjYXJkc19kYXRhLCBhZGRfbGFiZWxzPWFkZF9sYWJlbHMpCiAgICBoYXNoX21hcC5wdXQoImRvY19nb29kcyIsIGRvY19nb29kcykKCiAgICBoYXZlX3F0dHlfcGxhbiA9IHN1bShbaXRlbVsncXR0eV9wbGFuJ10gb3IgMCBmb3IgaXRlbSBpbiBkb2NfZGV0YWlsc10pID4gMAoKICAgIHF0ZXh0ID0gdWlfZm9ybV9kYXRhLmdldF9oYXZlX21hcmtfY29kZXNfcXVlcnkoKQogICAgcmVzID0gbGlzdCh1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgeydpZF9kb2MnOiBpZF9kb2MsICdpc19wbGFuJzogJzEnfSkpCiAgICBoYXZlX21hcmtfcGxhbiA9IHJlcyBhbmQgcmVzWzBdWzBdID4gMAoKICAgIHJlcyA9IGxpc3QodWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoJ1NFTEVDVCBjb250cm9sIGZyb20gUlNfZG9jcyAgV0hFUkUgaWRfZG9jID0gPycsIChpZF9kb2MsKSkpCiAgICBjb250cm9sID0gcmVzIGFuZCByZXNbMF1bMF0gbm90IGluICgwLCAnMCcsICdmYWxzZScsICdGYWxzZScsIE5vbmUpCgogICAgaGFzaF9tYXAucHV0KCdoYXZlX3plcm9fcGxhbicsIHN0cihoYXZlX3plcm9fcGxhbikpCiAgICBoYXNoX21hcC5wdXQoJ2hhdmVfcXR0eV9wbGFuJywgc3RyKGhhdmVfcXR0eV9wbGFuKSkKICAgIGhhc2hfbWFwLnB1dCgnaGF2ZV9tYXJrX3BsYW4nLCBzdHIoaGF2ZV9tYXJrX3BsYW4pKQogICAgaGFzaF9tYXAucHV0KCdjb250cm9sJywgc3RyKGNvbnRyb2wpKQoKCmRlZiBkb2NfYWRyX2RldGFpbHNfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWRfZG9jID0gaGFzaE1hcC5nZXQoJ2lkX2RvYycpCiAgICBjdXJyZW50X2NlbGwgPSBoYXNoTWFwLmdldCgnY3VycmVudF9jZWxsX2lkJykKCiAgICBmYWxzZVZhbHVlTGlzdCA9ICgwLCcwJywnZmFsc2UnLCdGYWxzZScsTm9uZSkKICAgICMg0KTQvtGA0LzQuNGA0YPQtdC8INGC0LDQsdC70LjRhtGDINC60LDRgNGC0L7Rh9C10Log0Lgg0LfQsNC/0YDQvtGBINC6INCx0LDQt9C1CiAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X2NvbnN0YW50cygpCiAgICB1c2Vfc2VyaWVzID0gcmVzWzFdCiAgICB1c2VfcHJvcGVydGllcyA9IHJlc1syXQogICAgaGFzaE1hcC5wdXQoJ3VzZV9wcm9wZXJ0aWVzJywgcmVzWzJdKQogICAgI2RvY19kZXRhaWxfbGlzdCA9IHVpX2Zvcm1fZGF0YS5nZXRfZG9jX2RldGFpbF9jYXJkcyh1c2Vfc2VyaWVzLCB1c2VfcHJvcGVydGllcyxyc19zZXR0aW5ncywgVHJ1ZSkKCiAgICBkb2NfZGV0YWlsX2xpc3QgPSB3aWRnZXRzLkN1c3RvbUNhcmRzKAogICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQod2lkZ2V0cy5UZXh0VmlldyhWYWx1ZT0nQGdvb2RfbmFtZScsIFRleHRTaXplPSByc19zZXR0aW5ncy5nZXQoJ0dvb2RzQ2FyZFRpdGxlVGV4dFNpemUnKSwgVGV4dEJvbGQgPSBUcnVlLCB3ZWlnaHQgPSAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXRzLlBvcHVwTWVudUJ1dHRvbihWYWx1ZSA9ICLQo9C00LDQu9C40YLRjCDRgdGC0YDQvtC60YMiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldyhUZXh0Qm9sZCA9IFRydWUsIHdlaWdodCA9IDEsIFZhbHVlPSdAY29kZV9hcnQnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldyhUZXh0Qm9sZCA9IEZhbHNlLCB3ZWlnaHQgPSAxLCBWYWx1ZSA9ICdAYXJ0JyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uPSJob3Jpem9udGFsIiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldHMuTGluZWFyTGF5b3V0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldyhWYWx1ZSA9ICfQn9C70LDQvScsIFRleHRTaXplID0gcnNfc2V0dGluZ3MuZ2V0KCdnb29kc1RleHRTaXplJykpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldyhWYWx1ZT0nQHF0dHlfcGxhbicpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldyhWYWx1ZT0n0KTQsNC60YInKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldHMuVGV4dFZpZXcoVmFsdWU9J0BxdHR5JyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjd2lkZ2V0cy5UZXh0VmlldyhWYWx1ZSA9ICdAJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KFZhbHVlID0gJ9Cm0LXQvdCwJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KFZhbHVlID0gJ0BwcmljZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldyhWYWx1ZSA9ICdAcGljdHVyZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbj0iaG9yaXpvbnRhbCIpLG9yaWVudGF0aW9uPSJ2ZXJ0aWNhbCIpLG9wdGlvbnMgPSB3aWRnZXRzLk9wdGlvbnMoKSkKCiAgICAjZG9jX2RldGFpbF9saXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXSA9IFtdCgogICAgIyDQn9C+0LvRg9GH0LDQtdC8INGC0LXQtdC60YPRidC40Lkg0LTQvtC60YPQvNC10L3RggogICAgY3VycmVudF9zdHIgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9wb3NpdGlvbiIpCiAgICBqbGlzdCA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoJ2RvY0FkckNhcmRzJykpCgogICAgZWxlbV9uID0gamxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddCgogICAgZm9yIGVsIGluIGVsZW1fbjoKICAgICAgICBpZiBlbFsna2V5J10gPT0gaWRfZG9jOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnYWRkX21hcmtfc2VsZWN0aW9uJywKICAgICAgICAgICAgICAgICAgICAgICAgc3RyKGVsWydhZGRfbWFya19zZWxlY3Rpb24nXSBpZiBlbFsnYWRkX21hcmtfc2VsZWN0aW9uJ10gZWxzZSAnMCcpKQogICAgIyAgICBjdXJyZW50X2VsZW0gPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ11baW50KGN1cnJlbnRfc3RyKS0xXQoKICAgIHF1ZXJ5X3RleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X2RvY19kZXRhaWxzX3F1ZXJ5KFRydWUsIFRydWUgaWYgY3VycmVudF9jZWxsIGVsc2UgRmFsc2UpCiAgICB0YWJsZV90eXBlX2ZpbHRlciA9IGhhc2hNYXAuZ2V0KCd0YWJsZV90eXBlX2ZpbHRlcicpIGlmIGhhc2hNYXAuZ2V0KCd0YWJsZV90eXBlX2ZpbHRlcicpIGVsc2UgJ291dCcKICAgIGlmIGN1cnJlbnRfY2VsbDoKICAgICAgICBwYXJhbXMgPSAoaWRfZG9jLCB0YWJsZV90eXBlX2ZpbHRlciwgY3VycmVudF9jZWxsKQogICAgZWxzZToKICAgICAgICBwYXJhbXMgPSB7J2lkX2RvYyc6aWRfZG9jLCAndGFibGVfdHlwZSc6dGFibGVfdHlwZV9maWx0ZXIsICdFbXB0eVN0cmluZyc6JycsICdOdWxsVmFsdWUnOic80L/Rg9GB0YLQvtC1INC30L3QsNGH0LXQvdC40LU+J30KCiAgICByZXN1bHRzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCwgcGFyYW1zLCBUcnVlKQogICAgcm93X2ZpbHRlciA9IFRydWUgaWYgaGFzaE1hcC5nZXQoJ3Jvd3NfZmlsdGVyJykgPT0gJzEnIGVsc2UgRmFsc2UKCiAgICBpZiByZXN1bHRzOgogICAgICAgIGhhc2hNYXAucHV0KCdpZF9kb2MnLCBzdHIocmVzdWx0c1swXVsnaWRfZG9jJ10pKQogICAgICAgIGN1cnJlbnRfY2VsbCA9JycKICAgICAgICBmb3IgcmVjb3JkIGluIHJlc3VsdHM6CiAgICAgICAgICAgIGlmIHJvd19maWx0ZXIgYW5kIHJlY29yZFsncXR0eSddID09IHJlY29yZFsncXR0eV9wbGFuJ106CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBwaWMgPSAnI2YwMmEnIGlmIHJlY29yZFsnSXNEb25lJ10gIT0gMCBlbHNlICcjZjAwYycKICAgICAgICAgICAgaWYgcmVjb3JkWydxdHR5J10gPT0gMCBhbmQgcmVjb3JkWydxdHR5X3BsYW4nXSA9PSAwOgogICAgICAgICAgICAgICAgcGljID0gJycKCiAgICAgICAgICAgIGlmIGN1cnJlbnRfY2VsbCAhPSByZWNvcmRbJ2NlbGxfbmFtZSddOgogICAgICAgICAgICAgICAgYyA9IHsiZ3JvdXAiOiByZWNvcmRbJ2NlbGxfbmFtZSddfQogICAgICAgICAgICAgICAgI2RvY19kZXRhaWxfbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10uYXBwZW5kKGMpCiAgICAgICAgICAgICAgICBkb2NfZGV0YWlsX2xpc3QuY3VzdG9tY2FyZHNbJ2NhcmRzZGF0YSddLmFwcGVuZChjKQogICAgICAgICAgICAgICAgY3VycmVudF9jZWxsID0gcmVjb3JkWydjZWxsX25hbWUnXQoKICAgICAgICAgICAgcHJvZHVjdF9yb3cgPSB7CiAgICAgICAgICAgICAgICAna2V5Jzogc3RyKHJlY29yZFsnaWQnXSksCiAgICAgICAgICAgICAgICAnZ29vZF9uYW1lJzogc3RyKHJlY29yZFsnZ29vZF9uYW1lJ10pLAogICAgICAgICAgICAgICAgJ2lkX2dvb2QnOiBzdHIocmVjb3JkWydpZF9nb29kJ10pLAogICAgICAgICAgICAgICAgJ2lkX3Byb3BlcnRpZXMnOiBzdHIocmVjb3JkWydpZF9wcm9wZXJ0aWVzJ10pLAogICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXNfbmFtZSc6IHN0cihyZWNvcmRbJ3Byb3BlcnRpZXNfbmFtZSddKSwKICAgICAgICAgICAgICAgICdpZF9zZXJpZXMnOiBzdHIocmVjb3JkWydpZF9zZXJpZXMnXSksCiAgICAgICAgICAgICAgICAnc2VyaWVzX25hbWUnOiBzdHIocmVjb3JkWydzZXJpZXNfbmFtZSddKSwKICAgICAgICAgICAgICAgICdpZF91bml0Jzogc3RyKHJlY29yZFsnaWRfdW5pdCddKSwKICAgICAgICAgICAgICAgICd1bml0c19uYW1lJzogc3RyKHJlY29yZFsndW5pdHNfbmFtZSddKSwKICAgICAgICAgICAgICAgICdjb2RlX2FydCc6ICfQmtC+0LQ6ICcgKyBzdHIocmVjb3JkWydjb2RlJ10pLAogICAgICAgICAgICAgICAgJ2NlbGxfbmFtZSc6IHN0cihyZWNvcmRbJ2NlbGxfbmFtZSddKSwKICAgICAgICAgICAgICAgICdpZF9jZWxsJzogc3RyKHJlY29yZFsnaWRfY2VsbCddKSwKCiAgICAgICAgICAgICAgICAncXR0eSc6IHN0cihyZWNvcmRbJ3F0dHknXSBpZiByZWNvcmRbJ3F0dHknXSBpcyBub3QgTm9uZSBlbHNlIDApLAogICAgICAgICAgICAgICAgJ3F0dHlfcGxhbic6IHN0cihyZWNvcmRbJ3F0dHlfcGxhbiddIGlmIHJlY29yZFsncXR0eV9wbGFuJ10gaXMgbm90IE5vbmUgZWxzZSAwKSwKICAgICAgICAgICAgICAgICdwaWN0dXJlJzogcGljCiAgICAgICAgICAgIH0KCiMgICAgICAgICAgICBkb2NfZGV0YWlsX2xpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddLmFwcGVuZChwcm9kdWN0X3JvdykKICAgICAgICAgICAgZG9jX2RldGFpbF9saXN0LmN1c3RvbWNhcmRzWydjYXJkc2RhdGEnXS5hcHBlbmQocHJvZHVjdF9yb3cpCgogICAgICAgICMg0J/RgNC40LfQvdCw0LosIGhhdmVfcXR0eV9wbGFuINCV0YHRgtGM0J/Qu9Cw0L3Qn9Ce0JrQntC70LjRh9C10YHRgtCy0YMgIC0gINCY0YHRgtC40L3QsCDQutC+0LPQtNCwINGB0YPQvNC80LAg0LrQvtC70L7QvdC60LggUXR0eV9wbGFuID4gMAogICAgICAgICMg0J/RgNC40LfQvdCw0LogIGhhdmVfbWFya19wbGFuICLQldGB0YLRjNCf0LvQsNC90JrQntC00L7QstCc0LDRgNC60LjRgNC+0LLQutC4IOKAkyDQmNGB0YLQuNC90LAsINC60L7Qs9C00LAg0LrQvtC70LjRh9C10YHRgtCy0L4g0YHRgtGA0L7QuiDRgtCw0LHQuy4gUlNfZG9jc19iYXJjb2RlcyDRgSDQt9Cw0LTQsNC90L3Ri9C8IGlkX2RvYyDQuCBpc19wbGFuICDQsdC+0LvRjNGI0LUg0L3Rg9C70Y8uCiAgICAgICAgIyDQn9GA0LjQt9C90LDQuiBoYXZlX3plcm9fcGxhbiAi0JXRgdGC0Ywg0YHRgtGA0L7QutC4INGC0L7QstCw0YDQsCDQsiDQtNC+0LrRg9C80LXQvdGC0LUiINCY0YHRgtC40L3QsCwg0LrQvtCz0LTQsCDQtdGB0YLRjCDQt9Cw0L/QvtC70L3QtdC90L3Ri9C1INGB0YLRgNC+0LrQuCDRgtC+0LLQsNGA0L7QsiDQsiDQtNC+0LrRg9C80LXQvdGC0LUKICAgICAgICAjINCf0YDQuNC30L3QsNC6ICLQmtC+0L3RgtGA0L7Qu9C40YDQvtCy0LDRgtGMIiAgLSDQv9GA0LjQt9C90LDQuiDQtNC70Y8g0LTQvtC60YPQvNC10L3RgtCwLCDQvdCw0LTQviDQu9C4INC60L7QvdGC0YDQvtC70LjRgNC+0LLQsNGC0YwKCiAgICAgICAgcXRleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X3F0dHlfc3RyaW5nX2NvdW50X3F1ZXJ5KCkKICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgeydpZF9kb2MnOiBpZF9kb2N9KQogICAgICAgIGlmIG5vdCByZXM6CiAgICAgICAgICAgIGhhdmVfcXR0eV9wbGFuID0gRmFsc2UKICAgICAgICAgICAgaGF2ZV96ZXJvX3BsYW4gPSBGYWxzZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGhhdmVfemVyb19wbGFuID0gcmVzWzBdWzBdID4gMCAgIyDQkiDQtNC+0LrRg9C80LXQvdGC0LUg0LXRgdGC0Ywg0YHRgtGA0L7QutC4CiAgICAgICAgICAgIGlmIGhhdmVfemVyb19wbGFuOgogICAgICAgICAgICAgICAgaGF2ZV9xdHR5X3BsYW4gPSByZXNbMF1bMV0gPiAwICAjINCSINC00L7QutGD0LzQtdC90YLQtSDQtdGB0YLRjCDQutC+0LvQstC+INC/0LvQsNC9CiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBoYXZlX3F0dHlfcGxhbiA9IEZhbHNlCiAgICAgICAgIyDQldGB0YLRjCDQu9C4INCyINC00L7QutGD0LzQtdC90YLQtSDQv9C70LDQvSDQv9C+INC60L7QtNCw0Lwg0LzQsNGA0LrQuNGA0L7QstC60LgKICAgICAgICBxdGV4dCA9IHVpX2Zvcm1fZGF0YS5nZXRfaGF2ZV9tYXJrX2NvZGVzX3F1ZXJ5KCkKICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgeydpZF9kb2MnOiBpZF9kb2MsICdpc19wbGFuJzogJzEnfSkKICAgICAgICBpZiBub3QgcmVzOgogICAgICAgICAgICBoYXZlX21hcmtfcGxhbiA9IEZhbHNlCgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGhhdmVfbWFya19wbGFuID0gcmVzWzBdWzBdID4gMAogICAgZWxzZToKICAgICAgICBoYXZlX3F0dHlfcGxhbiA9IEZhbHNlCiAgICAgICAgaGF2ZV96ZXJvX3BsYW4gPSBGYWxzZQogICAgICAgIGhhdmVfbWFya19wbGFuID0gRmFsc2UKCiAgICBoYXNoTWFwLnB1dCgnaGF2ZV9xdHR5X3BsYW4nLCBzdHIoaGF2ZV9xdHR5X3BsYW4pKQogICAgaGFzaE1hcC5wdXQoJ2hhdmVfemVyb19wbGFuJywgc3RyKGhhdmVfemVyb19wbGFuKSkKICAgIGhhc2hNYXAucHV0KCdoYXZlX21hcmtfcGxhbicsIHN0cihoYXZlX21hcmtfcGxhbikpCiAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgnU0VMRUNUIGNvbnRyb2wgZnJvbSBSU19kb2NzICBXSEVSRSBpZF9kb2MgPSA/JywgKGlkX2RvYywpKQogICAgIyDQldGB0YLRjCDQu9C4INC60L7QvdGC0YDQvtC70Ywg0L/Qu9Cw0L3QsCDQsiDQtNC+0LrRg9C80LXQvdGC0LUKICAgIGlmIHJlczoKICAgICAgICBpZiByZXNbMF1bMF06CiAgICAgICAgICAgIGlmIHJlc1swXVswXSBpbiBmYWxzZVZhbHVlTGlzdDoKICAgICAgICAgICAgICAgIGNvbnRyb2wgPSAnRmFsc2UnCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBjb250cm9sID0gJ1RydWUnCgogICAgICAgICAgICAjIGNvbnRyb2wgPSByZXNbMF1bMF0gIydUcnVlJwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNvbnRyb2wgPSAnRmFsc2UnCiAgICBlbHNlOgogICAgICAgIGNvbnRyb2wgPSAnRmFsc2UnCgogICAgaGFzaE1hcC5wdXQoJ2NvbnRyb2wnLCBjb250cm9sKQogICAgIyAgICBoYXNoTWFwLnB1dCgiZG9jX2dvb2RzIiwganNvbi5kdW1wcyhkb2NfZGV0YWlsX2xpc3QpKQogICAgaGFzaE1hcC5wdXQoImRvY19nb29kcyIsIGRvY19kZXRhaWxfbGlzdC50b19qc29uKCkpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZG9jX2Fkcl9kZXRhaWxzX2xpc3RlbmVyKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgICMg0J3QsNGF0L7QtNC40LwgSUQg0LTQvtC60YPQvNC10L3RgtCwCiAgICAjIGN1cnJlbnRfc3RyID0gaGFzaE1hcC5nZXQoInNlbGVjdGVkX2NhcmRfcG9zaXRpb24iKQogICAgIyBjdXJyZW50X2NhcmRfbGlzdCA9IGhhc2hNYXAuZ2V0KCJkb2NfZ29vZHMiKQogICAgIyBqbCA9IGpsaXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXQogICAgIyBpZiBub3QgY3VycmVudF9jYXJkX2xpc3QgPT0gTm9uZToKICAgICMgICAgIGpsaXN0ID0ganNvbi5sb2FkcyhjdXJyZW50X2NhcmRfbGlzdCkKICAgICMgICAgIGN1cnJlbnRfZWxlbSA9IGpsaXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXVtpbnQoY3VycmVudF9zdHIpLTFdCiAgICAjIGVsc2U6CiAgICAjICAgICBjdXJyZW50X2VsZW0gPSBOb25lCiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpCiAgICBpZiBsaXN0ZW5lciA9PSAiQ2FyZHNDbGljayI6CgogICAgICAgICMg0J3QsNGF0L7QtNC40LwgSUQg0LTQvtC60YPQvNC10L3RgtCwCiAgICAgICAgY3VycmVudF9zdHIgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9wb3NpdGlvbiIpCiAgICAgICAgamxpc3QgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJkb2NfZ29vZHMiKSkKICAgICAgICBjdXJyZW50X2VsZW0gPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ11baW50KGN1cnJlbnRfc3RyKV0KICAgICAgICBoYXNoTWFwLnB1dCgiRG9jX2RhdGEiLAogICAgICAgICAgICAgICAgICAgIGhhc2hNYXAuZ2V0KCdkb2NfdHlwZScpICsgJyDihJYnICsgaGFzaE1hcC5nZXQoJ2RvY19uJykgKwogICAgICAgICAgICAgICAgICAgICcg0L7RgicgKyBoYXNoTWFwLmdldCgnZG9jX2RhdGUnKSkKICAgICAgICBoYXNoTWFwLnB1dCgiY3VycmVudF9jZWxsX25hbWUiLCAn0K/Rh9C10LnQutCwOiAnICsgIGN1cnJlbnRfZWxlbVsnY2VsbF9uYW1lJ10pCiAgICAgICAgaGFzaE1hcC5wdXQoJ2lkX2NlbGwnLCBjdXJyZW50X2VsZW1bJ2lkX2NlbGwnXSkKICAgICAgICBoYXNoTWFwLnB1dCgiR29vZCIsIGN1cnJlbnRfZWxlbVsnZ29vZF9uYW1lJ10pCiAgICAgICAgaGFzaE1hcC5wdXQoInF0dHlfcGxhbiIsIHN0cihjdXJyZW50X2VsZW1bJ3F0dHlfcGxhbiddKSkKICAgICAgICBpZiBub3QgY3VycmVudF9lbGVtWydxdHR5J106ICAjIG9yIGZsb2F0KGN1cnJlbnRfZWxlbVsncXR0eSddKSA9PSAwOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgicXR0eSIsICcnKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGlmIGZsb2F0KGN1cnJlbnRfZWxlbVsncXR0eSddKSA9PSAwOgogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoInF0dHkiLCAnJykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCJxdHR5Iiwgc3RyKGN1cnJlbnRfZWxlbVsncXR0eSddKSkKICAgICAgICBoYXNoTWFwLnB1dCgna2V5JywgY3VycmVudF9lbGVtWydrZXknXSkKCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0KLQvtCy0LDRgCDQstGL0LHQvtGAIikKCiAgICBlbGlmIGxpc3RlbmVyID09ICJCQUNLX0JVVFRPTiI6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgtGLIikKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9iYXJjb2RlcyI6CgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93RGlhbG9nIiwgItCS0LLQtdGB0YLQuNCo0YLRgNC40YXQutC+0LQiKQoKICAgICMgZWxpZiBoYXNoTWFwLmdldCgiZXZlbnQiKSA9PSAib25SZXN1bHRQb3NpdGl2ZSI6CgogICAgZWxpZiBsaXN0ZW5lciA9PSAnYmFyY29kZScgb3IgaGFzaE1hcC5nZXQoImV2ZW50IikgPT0gIm9uUmVzdWx0UG9zaXRpdmUiOgogICAgICAgIGN1cnJlbnRfY2VsbCA9IGhhc2hNYXAuZ2V0KCdjdXJyZW50X2NlbGwnKQoKICAgICAgICBkb2MgPSB1aV9nbG9iYWwuUnNfYWRyX2RvYwogICAgICAgIGRvYy5pZF9kb2MgPSBoYXNoTWFwLmdldCgnaWRfZG9jJykKICAgICAgICBpZiBoYXNoTWFwLmdldCgiZXZlbnQiKSA9PSAib25SZXN1bHRQb3NpdGl2ZSI6CiAgICAgICAgICAgIGJhcmNvZGUgPSBoYXNoTWFwLmdldCgnZmxkX2JhcmNvZGUnKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGJhcmNvZGUgPSBoYXNoTWFwLmdldCgnYmFyY29kZV9jYW1lcmEnKQoKICAgICAgICBkb2NfY2VsbCA9IGRvYy5maW5kX2NlbGwoZG9jLCBiYXJjb2RlKQogICAgICAgIGlmIG5vdCBjdXJyZW50X2NlbGwgYW5kIG5vdCBkb2NfY2VsbDoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2JlZXBfZHVyYXRpb24gJywgcnNfc2V0dGluZ3MuZ2V0KCdiZWVwX2R1cmF0aW9uJykpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCJiZWVwIiwgcnNfc2V0dGluZ3MuZ2V0KCdzaWduYWxfbnVtJykpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQndC1INC90LDQudC00LXQvdCwINGP0YfQtdC50LrQsCcpCiAgICAgICAgICAgIHJldHVybiBoYXNoTWFwCgogICAgICAgIGlmIGRvY19jZWxsOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnY3VycmVudF9jZWxsJywgZG9jX2NlbGxbJ25hbWUnXSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2N1cnJlbnRfY2VsbF9pZCcsIGRvY19jZWxsWydpZCddKQogICAgICAgICAgICByZXR1cm4gaGFzaE1hcAoKCiAgICAgICAgaGF2ZV9xdHR5X3BsYW4gPSBoYXNoTWFwLmdldCgnaGF2ZV9xdHR5X3BsYW4nKQogICAgICAgIGhhdmVfemVyb19wbGFuID0gaGFzaE1hcC5nZXQoJ2hhdmVfemVyb19wbGFuJykKICAgICAgICBoYXZlX21hcmtfcGxhbiA9IGhhc2hNYXAuZ2V0KCdoYXZlX21hcmtfcGxhbicpCiAgICAgICAgY29udHJvbCA9IGhhc2hNYXAuZ2V0KCdjb250cm9sJykKICAgICAgICByZXMgPSBkb2MucHJvY2Vzc190aGVfYmFyY29kZShkb2MsIGJhcmNvZGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGV2YWwoaGF2ZV9xdHR5X3BsYW4pLCBldmFsKGhhdmVfemVyb19wbGFuKSwgZXZhbChjb250cm9sKSwgIGhhc2hNYXAuZ2V0KCdjdXJyZW50X2NlbGxfaWQnKSkKICAgICAgICBpZiByZXMgPT0gTm9uZToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3NjYW5uZWRfYmFyY29kZScsIGJhcmNvZGUpCiAgICAgICAgICAgICMgc3VDbGFzcy51cm92b19zZXRfbG9ja190cmlnZ2VyKFRydWUpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9Ce0YjQuNCx0LrQsCDRgdC60LDQvdC10YDQsCcpCiAgICAgICAgICAgICMgaGFzaE1hcC5wdXQoJ3RvYXN0JywKICAgICAgICAgICAgIyAgICAgICAgICAgICAn0KjRgtGA0LjRhSDQutC+0LQg0L3QtSDQt9Cw0YDQtdCz0LjRgdGC0YDQuNGA0L7QstCw0L0g0LIg0LHQsNC30LUg0LTQsNC90L3Ri9GFLiDQn9GA0L7QstC10YDRjNGC0LUg0YLQvtCy0LDRgCDQuNC70Lgg0LLRi9C/0L7Qu9C90LjRgtC1INC+0LHQvNC10L0g0LTQsNC90L3Ri9C80LgnKQogICAgICAgIGVsaWYgcmVzWydFcnJvciddOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnYmVlcF9kdXJhdGlvbiAnLCByc19zZXR0aW5ncy5nZXQoJ2JlZXBfZHVyYXRpb24nKSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoImJlZXAiLCByc19zZXR0aW5ncy5nZXQoJ3NpZ25hbF9udW0nKSkKICAgICAgICAgICAgaWYgcmVzWydFcnJvciddID09ICdBbHJlYWR5U2Nhbm5lZCc6CgogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2JhcmNvZGUnLCBqc29uLmR1bXBzKHsnYmFyY29kZSc6IHJlc1snQmFyY29kZSddLCAnZG9jX2luZm8nOiByZXNbJ2RvY19pbmZvJ119KSkKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9Cj0LTQsNC70LXQvdC40LUg0YjRgtGA0LjRhdC60L7QtNCwJykKICAgICAgICAgICAgZWxpZiByZXNbJ0Vycm9yJ10gPT0gJ1F1YW50aXR5UGxhblJlYWNoZWQnOgogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0JywgcmVzWydEZXNjciddKQogICAgICAgICAgICBlbGlmIHJlc1snRXJyb3InXSA9PSAnWmVyb19wbGFuX2Vycm9yJzoKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsIHJlc1snRGVzY3InXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsIHJlc1snRGVzY3InXSApICAjKyAnICcrIHJlc1snQmFyY29kZSddCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0JywgJ9Ci0L7QstCw0YAg0LTQvtCx0LDQstC70LXQvSDQsiDQtNC+0LrRg9C80LXQvdGCJykKICAgICAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9kb2NfbWFya192ZXJpZmllZCc6CiAgICAgICAgZG9jID0gdWlfZ2xvYmFsLlJzX2Fkcl9kb2MKICAgICAgICBkb2MuaWRfZG9jID0gaGFzaE1hcC5nZXQoJ2lkX2RvYycpCiAgICAgICAgZG9jLm1hcmtfdmVyaWZpZWQoZG9jLCAxKQogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YLRiyIpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBpZiBoYXNoTWFwLmdldCgnY3VycmVudF9jZWxsX2lkJyk6CiAgICAgICAgICAgIGhhc2hNYXAucmVtb3ZlKCdjdXJyZW50X2NlbGwnKQogICAgICAgICAgICBoYXNoTWFwLnJlbW92ZSgnY3VycmVudF9jZWxsX2lkJykKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGC0YsiKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9jbGVhcl9jZWxsJzoKICAgICAgICBoYXNoTWFwLnJlbW92ZSgnY3VycmVudF9jZWxsJykKICAgICAgICBoYXNoTWFwLnJlbW92ZSgnY3VycmVudF9jZWxsX2lkJykKCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fc2VsZWN0X2NlbGwnOiAj0JrQvdC+0L/QutCwINCy0YvQsdGA0LDRgtGMINGP0YfQtdC50LrRgwoKICAgICAgICBoYXNoTWFwLnJlbW92ZSgnY3VycmVudF9jZWxsJykKICAgICAgICBoYXNoTWFwLnJlbW92ZSgnY3VycmVudF9jZWxsX2lkJykKICAgICAgICBoYXNoTWFwLnJlbW92ZSgnU2VhcmNoU3RyaW5nJykKICAgICAgICBoYXNoTWFwLnB1dCgndGFibGVfZm9yX3NlbGVjdCcsICdSU19jZWxscycpICPQotCw0LHQu9C40YbQsCDQtNC70Y8g0LLRi9Cx0L7RgNCwINC30L3QsNGH0LXQvdC40Y8KICAgICAgICBoYXNoTWFwLnB1dCgnU2V0UmVzdWx0TGlzdGVuZXInLCAnc2VsZWN0X2NlbGxfdmFsdWUnKQogICAgICAgIGhhc2hNYXAucHV0KCdmaWx0ZXJfZmllbGRzJywnbmFtZTtiYXJjb2RlJykKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1Byb2Nlc3NSZXN1bHQnLCfQo9C90LjQstC10YDRgdCw0LvRjNC90YvQuSDRgdC/0YDQsNCy0L7Rh9C90LjQunzQodC/0YDQsNCy0L7Rh9C90LjQuicpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnc2VsZWN0X2NlbGxfdmFsdWUnOgogICAgICAgIGlmIGhhc2hNYXAuZ2V0KCdjdXJyZW50X2lkJyk6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdjdXJyZW50X2NlbGxfaWQnLGhhc2hNYXAuZ2V0KCdjdXJyZW50X2lkJykpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdjdXJyZW50X2NlbGwnLCBoYXNoTWFwLmdldCgnY3VycmVudF9uYW1lJykpCgogICAgZWxpZiBsaXN0ZW5lciA9PSdMYXlvdXRBY3Rpb24nOgogICAgICAgIGxheW91dF9saXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCdsYXlvdXRfbGlzdGVuZXInKQogICAgICAgICMg0J3QsNGF0L7QtNC40LwgSUQg0YHRgtGA0L7QutC4CiAgICAgICAgIyBjdXJyZW50X3N0ciA9IGludChoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9wb3NpdGlvbiIpKQogICAgICAgICMgamxpc3QgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJkb2NfZ29vZHMiKSkKICAgICAgICAjIGN1cnJlbnRfZWxlbSA9IGpsaXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXVtjdXJyZW50X3N0cl0KICAgICAgICAjIGlmIGN1cnJlbnRfZWxlbS5nZXQoJ2dyb3VwJyk6CiAgICAgICAgIyAgICAgY3VycmVudF9lbGVtID0gamxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddW2N1cnJlbnRfc3RyKzFdCiAgICAgICAgIwogICAgICAgIGN1cnJlbnRfa2V5ID0gaGFzaE1hcC5nZXQoImtleSIpCiAgICAgICAgaWYgbGF5b3V0X2xpc3RlbmVyID09ICfQo9C00LDQu9C40YLRjCDRgdGC0YDQvtC60YMnOgoKICAgICAgICAgICAgaWYgY3VycmVudF9rZXk6ICNjdXJyZW50X2VsZW1bJ2tleSddOgogICAgICAgICAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoJ0RFTEVURSBGUk9NIFJTX2Fkcl9kb2NzX3RhYmxlIFdIRVJFIGlkID0gPycsIChjdXJyZW50X2tleSwgKSkgI2N1cnJlbnRfZWxlbVsna2V5J10sKSkKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCdSZWZyZXNoU2NyZWVuJywnJykKICAgICAgICBlbGlmIGxheW91dF9saXN0ZW5lciA9PSAn0JjQt9C80LXQvdC40YLRjCDRj9GH0LXQudC60YMnOgoKICAgICAgICAgICAgaGFzaE1hcC5yZW1vdmUoJ1NlYXJjaFN0cmluZycpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0YWJsZV9mb3Jfc2VsZWN0JywgJ1JTX2NlbGxzJykgICMg0KLQsNCx0LvQuNGG0LAg0LTQu9GPINCy0YvQsdC+0YDQsCDQt9C90LDRh9C10L3QuNGPCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTZXRSZXN1bHRMaXN0ZW5lcicsICdzZWxlY3RfY2VsbF92YWx1ZV9mb3JfY2FyZCcpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdmaWx0ZXJfZmllbGRzJywgJ25hbWU7YmFyY29kZScpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93UHJvY2Vzc1Jlc3VsdCcsICfQo9C90LjQstC10YDRgdCw0LvRjNC90YvQuSDRgdC/0YDQsNCy0L7Rh9C90LjQunzQodC/0YDQsNCy0L7Rh9C90LjQuicpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnc2VsZWN0X2NlbGxfdmFsdWVfZm9yX2NhcmQnOgogICAgICAgIGN1cnJlbnRfa2V5ID0gaGFzaE1hcC5nZXQoImtleSIpCiAgICAgICAgaWYgY3VycmVudF9rZXk6CiAgICAgICAgICAgIHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KCdVcGRhdGUgUlNfYWRyX2RvY3NfdGFibGUgU0VUIGlkX2NlbGwgPSA/IFdoZXJlIGlkID0gPycsIChoYXNoTWFwLmdldCgnY3VycmVudF9pZCcpLCBjdXJyZW50X2tleSkpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdSZWZyZXNoU2NyZWVuJywnJykKCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fYWRkX3N0cmluZyc6CgogICAgICAgIGhhc2hNYXAucHV0KCJEb2NfZGF0YSIsCiAgICAgICAgICAgICAgICAgICAgaGFzaE1hcC5nZXQoJ2RvY190eXBlJykgKyAnIOKElicgKyBoYXNoTWFwLmdldCgnZG9jX24nKSArCiAgICAgICAgICAgICAgICAgICAgJyDQvtGCJyArIGhhc2hNYXAuZ2V0KCdkb2NfZGF0ZScpKQogICAgICAgIGhhc2hNYXAucHV0KCJHb29kIiwgJycpCiAgICAgICAgaGFzaE1hcC5wdXQoInByb3BlcnRpZXMiLCAnJykKICAgICAgICBoYXNoTWFwLnB1dCgicXR0eV9wbGFuIiwgJycpCgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCi0L7QstCw0YAiKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9yb3dzX2ZpbHRlcl9vbic6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3Jvd3NfZmlsdGVyJywgJzEnKQogICAgICAgIGhhc2hNYXAucHV0KCdSZWZyZXNoU2NyZWVuJywnJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9yb3dzX2ZpbHRlcl9vZmYnOgogICAgICAgIGhhc2hNYXAucmVtb3ZlKCdyb3dzX2ZpbHRlcicpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1JlZnJlc2hTY3JlZW4nLCcnKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGdldF9jdXJyZW50X2VsZW1fZG9jX2dvb2RzKGhhc2hNYXAsIGN1cnJlbnRfc3RyKToKCiAgICBpZiBoYXNoTWFwLmdldCgndmlldycpID09ICJjYXJkcyI6CiAgICAgICAgamxpc3QgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJkb2NfZ29vZHNfY2FyZHMiKSkKICAgICAgICBjdXJyZW50X2VsZW0gPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ11baW50KGN1cnJlbnRfc3RyKV0KCiAgICBlbHNlOgogICAgICAgIGpsaXN0ID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgiZG9jX2dvb2RzX3RhYmxlIikpCiAgICAgICAgY3VycmVudF9lbGVtID0gamxpc3RbJ2N1c3RvbXRhYmxlJ11bJ3RhYmxlZGF0YSddW2ludChjdXJyZW50X3N0cildCgogICAgcmV0dXJuIGN1cnJlbnRfZWxlbQoKZGVmIGRvY3Nfb25fc2VsZWN0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGxpc3RlbmVyID0gaGFzaE1hcC5nZXQoImxpc3RlbmVyIikKCiAgICBpZiBsaXN0ZW5lciA9PSAiQ2FyZHNDbGljayI6CiAgICAgICAgIyDQndCw0YXQvtC00LjQvCBJRCDQtNC+0LrRg9C80LXQvdGC0LAKICAgICAgICBjdXJyZW50X3N0ciA9IGhhc2hNYXAuZ2V0KCJzZWxlY3RlZF9jYXJkX3Bvc2l0aW9uIikKICAgICAgICBqbGlzdCA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoImRvY0NhcmRzIikpCiAgICAgICAgY3VycmVudF9kb2MgPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ11baW50KGN1cnJlbnRfc3RyKV0KCiAgICAgICAgIyBpZF9kb2MgPSBjdXJyZW50X2RvY1sna2V5J10KICAgICAgICBoYXNoTWFwLnB1dCgnaWRfZG9jJywgY3VycmVudF9kb2NbJ2tleSddKQogICAgICAgIGhhc2hNYXAucHV0KCdkb2NfdHlwZScsIGN1cnJlbnRfZG9jWyd0eXBlJ10pCiAgICAgICAgaGFzaE1hcC5wdXQoJ2RvY19uJywgY3VycmVudF9kb2NbJ251bWJlciddKQogICAgICAgIGhhc2hNYXAucHV0KCdkb2NfZGF0ZScsIGN1cnJlbnRfZG9jWydkYXRhJ10pCiAgICAgICAgaGFzaE1hcC5wdXQoJ3dhcmVob3VzZScsIGN1cnJlbnRfZG9jWyd3YXJlaG91c2UnXSkKICAgICAgICBoYXNoTWFwLnB1dCgnY291bnRyYWdlbnQnLCBjdXJyZW50X2RvY1snY291bnRyYWdlbnQnXSkKCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gImRvY190eXBlX2NsaWNrIjoKICAgICAgICBscyA9IHJlZmlsbF9kb2NzX2xpc3QoaGFzaE1hcC5nZXQoJ2RvY190eXBlX2NsaWNrJykpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2RvY0NhcmRzJywgbHMpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0JTQvtC60YPQvNC10L3RgtGLJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ0xheW91dEFjdGlvbic6CiAgICAgICAgbGF5b3V0X2xpc3RlbmVyID0gaGFzaE1hcC5nZXQoJ2xheW91dF9saXN0ZW5lcicpCiAgICAgICAgIyDQndCw0YXQvtC00LjQvCBJRCDQtNC+0LrRg9C80LXQvdGC0LAKICAgICAgICBjdXJyZW50X2RvYyA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoImNhcmRfZGF0YSIpKQogICAgICAgIGRvYyA9IHVpX2dsb2JhbC5Sc19kb2MKICAgICAgICBkb2MuaWRfZG9jID0gY3VycmVudF9kb2NbJ2tleSddCgogICAgICAgIGlmIGxheW91dF9saXN0ZW5lciA9PSAnQ2hlY2tCb3gxJzoKICAgICAgICAgICAgaWYgY3VycmVudF9kb2NbJ2NvbXBsZXRlZCddID09ICdmYWxzZSc6CiAgICAgICAgICAgICAgICBkb2MubWFya192ZXJpZmllZChkb2MsIDEpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBkb2MubWFya192ZXJpZmllZChkb2MsIDApCgogICAgICAgIGVsaWYgbGF5b3V0X2xpc3RlbmVyID09ICfQn9C+0LTRgtCy0LXRgNC00LjRgtGMJzoKICAgICAgICAgICAgZG9jLm1hcmtfdmVyaWZpZWQoZG9jLCAxKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQlNC+0LrRg9C80LXQvdGC0YsnKQogICAgICAgIGVsaWYgbGF5b3V0X2xpc3RlbmVyID09ICfQntGH0LjRgdGC0LjRgtGMINC00LDQvdC90YvQtSDQv9C10YDQtdGB0YfQtdGC0LAnOgogICAgICAgICAgICBkb2MuY2xlYXJfYmFyY29kZV9kYXRhKGRvYykKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0JywgJ9CU0LDQvdC90YvQtSDQv9C10YDQtdGB0YfQtdGC0LAg0Lgg0LzQsNGA0LrQuNGA0L7QstC60Lgg0L7Rh9C40YnQtdC90YsnKQogICAgICAgIGVsaWYgbGF5b3V0X2xpc3RlbmVyID09ICfQo9C00LDQu9C40YLRjCc6CiAgICAgICAgICAgIGRvYy5kZWxldGVfZG9jKGRvYykKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0JTQvtC60YPQvNC10L3RgtGLJykKICAgICAgICBlbGlmIGxheW91dF9saXN0ZW5lciA9PSAn0KHQutCw0L3QuNGA0L7QstCw0YLRjCDRiNGC0YDQuNGF0LrQvtC00Ysg0L/QvtGC0L7QutC+0LwnOgoKICAgICAgICAgICAgIyBpZF9kb2MgPSBjdXJyZW50X2RvY1sna2V5J10KICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2lkX2RvYycsIGN1cnJlbnRfZG9jWydrZXknXSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2RvY190eXBlJywgY3VycmVudF9kb2NbJ3R5cGUnXSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2RvY19uJywgY3VycmVudF9kb2NbJ251bWJlciddKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgnZG9jX2RhdGUnLCBjdXJyZW50X2RvY1snZGF0YSddKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgnd2FyZWhvdXNlJywgY3VycmVudF9kb2NbJ3dhcmVob3VzZSddKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgnY291bnRyYWdlbnQnLCBjdXJyZW50X2RvY1snY291bnRyYWdlbnQnXSkKCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywn0J/QvtGC0L7QutCo0YLRgNC40YXQutC+0LTQvtCy0JTQvtC60YPQvNC10L3RgtCwJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9hZGRfZG9jIjoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQndC+0LLRi9C5INC00L7QutGD0LzQtdC90YInKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ09OX0JBQ0tfUFJFU1NFRCc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0J/Qu9C40YLQutC4JykKICAgICAgICAjIGhhc2hNYXAucHV0KCdGaW5pc2hQcm9jZXNzJywgJycpCgogICAgICAgICMgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0J3QvtCy0YvQuSDQtNC+0LrRg9C80LXQvdGCJykKICAgIHJldHVybiBoYXNoTWFwCgoKQEhhc2hNYXAoKQpkZWYgZG9jc19vbl9zZWxlY3RfQ2FyZHNDbGljayhoYXNoX21hcCk6CiAgICBpZF9kb2MgPSBoYXNoX21hcFsnaWRfZG9jJ10KICAgIHNlcnZpY2UgPSBkYl9zZXJ2aWNlcy5Eb2NTZXJ2aWNlKGlkX2RvYykKCiAgICB0cnk6CiAgICAgICAgc2VydmljZS5zZXRfZG9jX3ZhbHVlKCd2ZXJpZmllZCcsICcxJykKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBoYXNoX21hcC5lcnJvcl9sb2coZS5hcmdzWzBdKQoKCmRlZiBkb2NfZGV0YWlsc19saXN0ZW5lcihoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICAjINCd0LDRhdC+0LTQuNC8IElEINC00L7QutGD0LzQtdC90YLQsAogICAgIyBjdXJyZW50X3N0ciA9IGhhc2hNYXAuZ2V0KCJzZWxlY3RlZF9jYXJkX3Bvc2l0aW9uIikKICAgICMgY3VycmVudF9jYXJkX2xpc3QgPSBoYXNoTWFwLmdldCgiZG9jX2dvb2RzIikKICAgICMgamwgPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10KICAgICMgaWYgbm90IGN1cnJlbnRfY2FyZF9saXN0ID09IE5vbmU6CiAgICAjICAgICBqbGlzdCA9IGpzb24ubG9hZHMoY3VycmVudF9jYXJkX2xpc3QpCiAgICAjICAgICBjdXJyZW50X2VsZW0gPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ11baW50KGN1cnJlbnRfc3RyKS0xXQogICAgIyBlbHNlOgogICAgIyAgICAgY3VycmVudF9lbGVtID0gTm9uZQogICAgbGlzdGVuZXIgPSBoYXNoTWFwLmdldCgnbGlzdGVuZXInKQoKICAgIGlmIGxpc3RlbmVyID09ICJDYXJkc0NsaWNrIjoKCiAgICAgICAgIyDQndCw0YXQvtC00LjQvCBJRCDQtNC+0LrRg9C80LXQvdGC0LAKICAgICAgICBjdXJyZW50X3N0ciA9IGhhc2hNYXAuZ2V0KCJzZWxlY3RlZF9jYXJkX3Bvc2l0aW9uIikKICAgICAgICBjdXJyZW50X2VsZW0gPSBnZXRfY3VycmVudF9lbGVtX2RvY19nb29kcyhoYXNoTWFwLCBjdXJyZW50X3N0cikKCiAgICAgICAgaWYgJ2dvb2RfbmFtZScgaW4gY3VycmVudF9lbGVtOiAgIyDQsiDRgtCw0LHQu9C40YbQtSDQv9C10YDQstCw0Y8g0LrQsNGA0YLQvtGH0LrQsCAtINC30LDQs9C+0LvQvtCy0L7QuiDRgtCw0LHQu9C40YbRiyDQsdC10Lcg0L/QvtC70LXQuQoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoIkRvY19kYXRhIiwKICAgICAgICAgICAgICAgICAgICAgICAgaGFzaE1hcC5nZXQoJ2RvY190eXBlJykgKyAnIOKElicgKyBoYXNoTWFwLmdldCgnZG9jX24nKSArCiAgICAgICAgICAgICAgICAgICAgICAgICcg0L7RgiAnICsgaGFzaE1hcC5nZXQoJ2RvY19kYXRlJykpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCJHb29kIiwgY3VycmVudF9lbGVtWydnb29kX25hbWUnXSkKICAgICAgICAgICAgZ29vZF9pbmZvID0gY3VycmVudF9lbGVtWydnb29kX2luZm8nXQoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoIkdvb2RfaW5mbyIsIGdvb2RfaW5mbykKICAgICAgICAgICAgaGFzaE1hcC5wdXQoInF0dHlfcGxhbiIsIHN0cihjdXJyZW50X2VsZW1bJ3F0dHlfcGxhbiddKSkKICAgICAgICAgICAgaWYgbm90IGN1cnJlbnRfZWxlbVsncXR0eSddOiAgIyBvciBmbG9hdChjdXJyZW50X2VsZW1bJ3F0dHknXSkgPT0gMDoKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCJxdHR5IiwgJycpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpZiBmbG9hdChjdXJyZW50X2VsZW1bJ3F0dHknXSkgPT0gMDoKICAgICAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgicXR0eSIsICcnKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgicXR0eSIsIHN0cihjdXJyZW50X2VsZW1bJ3F0dHknXSkpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdrZXknLCBjdXJyZW50X2VsZW1bJ2tleSddKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgncHJpY2UnLCBjdXJyZW50X2VsZW1bJ3ByaWNlJ10pCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdwcmljZV90eXBlJywgY3VycmVudF9lbGVtWydwcmljZV9uYW1lJ10pCiAgICAgICAgICAgICMg0KTQvtGA0LzQuNGA0YPQtdC8INGC0LDQsdC70LjRhtGDIFFSINC60L7QtNC+0LItLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAgICAgcXVlcnlfdGV4dCA9IHVpX2Zvcm1fZGF0YS5nZXRfZG9jX2JhcmNvZGVfcXVlcnkoKQogICAgICAgICAgICBhcmdzID0gZGljdChpZF9nb29kPWN1cnJlbnRfZWxlbVsnaWRfZ29vZCddLCBpZF9wcm9wZXJ0eT1jdXJyZW50X2VsZW1bJ2lkX3Byb3BlcnRpZXMnXSwKICAgICAgICAgICAgICAgICAgICAgICAgaWRfc2VyaWVzPWN1cnJlbnRfZWxlbVsnaWRfc2VyaWVzJ10sIGlkX3VuaXQ9Y3VycmVudF9lbGVtWydpZF91bml0J10sIGlkX2RvYz1oYXNoTWFwLmdldCgnaWRfZG9jJykpCgogICAgICAgICAgICBjYXJkcyA9IHVpX2Zvcm1fZGF0YS5nZXRfYmFyY29kZV9jYXJkKHJzX3NldHRpbmdzKQogICAgICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCBhcmdzLCBUcnVlKQogICAgICAgICAgICAjINCk0L7RgNC80LjRgNGD0LXQvCDRgdC/0LjRgdC+0Log0LrQsNGA0YLQvtGH0LXQuiDQsdCw0YDQutC+0LTQvtCyCiAgICAgICAgICAgIGNhcmRzWydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXSA9IFtdCiAgICAgICAgICAgIGZvciBlbCBpbiByZXM6CiAgICAgICAgICAgICAgICAjIGJhcmNvZGVfZGF0YSA9IHVpX2JhcmNvZGVzLmdldF9ndGluX3NlcmlhbF9mcm9tX2RhdGFtYXRyaXgoZWxbJ2JhcmNvZGUnXSkKICAgICAgICAgICAgICAgIGlmIGVsWydhcHByb3ZlZCddID09ICdUcnVlJyBvciBlbFsnYXBwcm92ZWQnXSA9PSAnMScgb3IgZWxbJ2FwcHJvdmVkJ10gPT0gJ3RydWUnOgogICAgICAgICAgICAgICAgICAgIHBpY3R1cmUgPSAnI2YwMGMnCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHBpY3R1cmUgPSAnJwogICAgICAgICAgICAgICAgcm93ID0gewogICAgICAgICAgICAgICAgICAgICdiYXJjb2RlJzogZWxbJ21hcmtfY29kZSddLAogICAgICAgICAgICAgICAgICAgICdwaWN0dXJlJzogcGljdHVyZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2FyZHNbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddLmFwcGVuZChyb3cpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCJiYXJjb2RlX2NhcmRzIiwganNvbi5kdW1wcyhjYXJkcykpCgogICAgICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQotC+0LLQsNGAINCy0YvQsdC+0YAiKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9hZGRfc3RyaW5nJzoKCiAgICAgICAgaGFzaE1hcC5wdXQoIkRvY19kYXRhIiwKICAgICAgICAgICAgICAgICAgICBoYXNoTWFwLmdldCgnZG9jX3R5cGUnKSArICcg4oSWJyArIGhhc2hNYXAuZ2V0KCdkb2NfbicpICsKICAgICAgICAgICAgICAgICAgICAnINC+0YIgJyArIGhhc2hNYXAuZ2V0KCdkb2NfZGF0ZScpKQogICAgICAgIGhhc2hNYXAucHV0KCJHb29kIiwgJycpCiAgICAgICAgaGFzaE1hcC5wdXQoInByb3BlcnRpZXMiLCAnJykKICAgICAgICBoYXNoTWFwLnB1dCgicXR0eV9wbGFuIiwgJycpCgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCi0L7QstCw0YAiKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gIkJBQ0tfQlVUVE9OIjoKCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgtGLIikKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9iYXJjb2RlcyI6CgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93RGlhbG9nIiwgItCS0LLQtdGB0YLQuNCo0YLRgNC40YXQutC+0LQiKQoKICAgICMgZWxpZiBoYXNoTWFwLmdldCgiZXZlbnQiKSA9PSAib25SZXN1bHRQb3NpdGl2ZSI6CgogICAgZWxpZiBsaXN0ZW5lciA9PSAnYmFyY29kZScgb3IgaGFzaE1hcC5nZXQoImV2ZW50IikgPT0gIm9uUmVzdWx0UG9zaXRpdmUiOgogICAgICAgIGRvYyA9IHVpX2dsb2JhbC5Sc19kb2MKICAgICAgICBkb2MuaWRfZG9jID0gaGFzaE1hcC5nZXQoJ2lkX2RvYycpCiAgICAgICAgaWYgaGFzaE1hcC5nZXQoImV2ZW50IikgPT0gIm9uUmVzdWx0UG9zaXRpdmUiOgogICAgICAgICAgICBiYXJjb2RlID0gaGFzaE1hcC5nZXQoJ2ZsZF9iYXJjb2RlJykKICAgICAgICBlbHNlOgogICAgICAgICAgICBiYXJjb2RlID0gaGFzaE1hcC5nZXQoJ2JhcmNvZGVfY2FtZXJhJykKCiAgICAgICAgaGF2ZV9xdHR5X3BsYW4gPSBoYXNoTWFwLmdldCgnaGF2ZV9xdHR5X3BsYW4nKQogICAgICAgIGhhdmVfemVyb19wbGFuID0gaGFzaE1hcC5nZXQoJ2hhdmVfemVyb19wbGFuJykKICAgICAgICBoYXZlX21hcmtfcGxhbiA9IGhhc2hNYXAuZ2V0KCdoYXZlX21hcmtfcGxhbicpCiAgICAgICAgY29udHJvbCA9IGhhc2hNYXAuZ2V0KCdjb250cm9sJykKICAgICAgICByZXMgPSBkb2MucHJvY2Vzc190aGVfYmFyY29kZShkb2MsIGJhcmNvZGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGV2YWwoaGF2ZV9xdHR5X3BsYW4pLCBldmFsKGhhdmVfemVyb19wbGFuKSwgZXZhbChjb250cm9sKSwgZXZhbChoYXZlX21hcmtfcGxhbikpCiAgICAgICAgaWYgcmVzID09IE5vbmU6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdzY2FubmVkX2JhcmNvZGUnLCBiYXJjb2RlKQogICAgICAgICAgICAjIHN1Q2xhc3MudXJvdm9fc2V0X2xvY2tfdHJpZ2dlcihUcnVlKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQntGI0LjQsdC60LAg0YHQutCw0L3QtdGA0LAnKQogICAgICAgICAgICAjIGhhc2hNYXAucHV0KCd0b2FzdCcsCiAgICAgICAgICAgICMgICAgICAgICAgICAgJ9Co0YLRgNC40YUg0LrQvtC0INC90LUg0LfQsNGA0LXQs9C40YHRgtGA0LjRgNC+0LLQsNC9INCyINCx0LDQt9C1INC00LDQvdC90YvRhS4g0J/RgNC+0LLQtdGA0YzRgtC1INGC0L7QstCw0YAg0LjQu9C4INCy0YvQv9C+0LvQvdC40YLQtSDQvtCx0LzQtdC9INC00LDQvdC90YvQvNC4JykKICAgICAgICBlbGlmIHJlc1snRXJyb3InXToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2JlZXBfZHVyYXRpb24gJywgcnNfc2V0dGluZ3MuZ2V0KCdiZWVwX2R1cmF0aW9uJykpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCJiZWVwIiwgcnNfc2V0dGluZ3MuZ2V0KCdzaWduYWxfbnVtJykpCiAgICAgICAgICAgIGlmIHJlc1snRXJyb3InXSA9PSAnQWxyZWFkeVNjYW5uZWQnOgoKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCdiYXJjb2RlJywganNvbi5kdW1wcyh7J2JhcmNvZGUnOiByZXNbJ0JhcmNvZGUnXSwgJ2RvY19pbmZvJzogcmVzWydkb2NfaW5mbyddfSkpCiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQo9C00LDQu9C10L3QuNC1INGI0YLRgNC40YXQutC+0LTQsCcpCiAgICAgICAgICAgIGVsaWYgcmVzWydFcnJvciddID09ICdRdWFudGl0eVBsYW5SZWFjaGVkJzoKCiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCByZXNbJ0Rlc2NyJ10pCiAgICAgICAgICAgIGVsaWYgcmVzWydFcnJvciddID09ICdaZXJvX3BsYW5fZXJyb3InOgoKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsIHJlc1snRGVzY3InXSkKICAgICAgICAgICAgZWxzZToKCiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCByZXNbJ0Rlc2NyJ10gKSAgIysgJyAnKyByZXNbJ0JhcmNvZGUnXQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGhpZ2hsaWdodF9hZGRlZF9nb29kKGhhc2hNYXAsIGJhcmNvZGUpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQotC+0LLQsNGAINC00L7QsdCw0LLQu9C10L0g0LIg0LTQvtC60YPQvNC10L3RgicpCgoKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9kb2NfbWFya192ZXJpZmllZCc6CiAgICAgICAgZG9jID0gdWlfZ2xvYmFsLlJzX2RvYwogICAgICAgIGRvYy5pZF9kb2MgPSBoYXNoTWFwLmdldCgnaWRfZG9jJykKICAgICAgICBkb2MubWFya192ZXJpZmllZChkb2MsIDEpCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgtGLIikKCiAgICBlbGlmIGxpc3RlbmVyID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YLRiyIpCiAgICBlbGlmIGxpc3RlbmVyID09ICdMYXlvdXRBY3Rpb24nOgogICAgICAgIGxheW91dF9saXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCdsYXlvdXRfbGlzdGVuZXInKQogICAgICAgIGlmIGxheW91dF9saXN0ZW5lciA9PSAn0KPQtNCw0LvQuNGC0Ywg0YHRgtGA0L7QutGDJzoKICAgICAgICAgICAgY3VycmVudF9lbGVtID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgiY2FyZF9kYXRhIikpCiAgICAgICAgICAgIGlkX3N0ciA9IGN1cnJlbnRfZWxlbVsna2V5J10KICAgICAgICAgICAgcXRleHQgPSAnREVMRVRFIEZST00gUlNfZG9jc190YWJsZSBXSEVSRSBpZD0/JwogICAgICAgICAgICB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgKGlkX3N0ciwpKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9yb3dzX2ZpbHRlcl9vbic6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3Jvd3NfZmlsdGVyJywgJzEnKQogICAgICAgIGhhc2hNYXAucHV0KCdSZWZyZXNoU2NyZWVuJywnJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9yb3dzX2ZpbHRlcl9vZmYnOgogICAgICAgIGhhc2hNYXAucmVtb3ZlKCdyb3dzX2ZpbHRlcicpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1JlZnJlc2hTY3JlZW4nLCcnKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnY2FyZF92aWV3JzoKICAgICAgICBoYXNoTWFwLnB1dCgndmlldycsICdjYXJkcycpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2RvY19nb29kc190YWJsZScsICcnKQogICAgICAgIGhhc2hNYXAucHV0KCJTaG93X2NhcmRfdmlldyIsICItMSIpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1JlZnJlc2hTY3JlZW4nLCAnJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ3RhYmxlX3ZpZXcnOgogICAgICAgIGhhc2hNYXAucHV0KCd2aWV3JywgJ3RhYmxlJykKICAgICAgICBoYXNoTWFwLnB1dCgnZG9jX2dvb2RzX2NhcmRzJywgJycpCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dfdGFibGVfdmlldyIsICItMSIpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1JlZnJlc2hTY3JlZW4nLCAnJykKCiAgICByZXR1cm4gaGFzaE1hcAoKCkBIYXNoTWFwKGRlYnVnPVRydWUpCmRlZiBkb2NfZGV0YWlsc19saXN0ZW5lcl9uZXcoaGFzaF9tYXApOgogICAgbGlzdGVuZXIgPSBoYXNoX21hcFsnbGlzdGVuZXInXQoKICAgIGlmIGxpc3RlbmVyID09ICJDYXJkc0NsaWNrIjoKICAgICAgICBwYXNzCiAgICBlbGlmIGxpc3RlbmVyID09ICJidG5fYmFyY29kZXMiOgogICAgICAgIGhhc2hfbWFwLnB1dCgiU2hvd0RpYWxvZyIsICLQktCy0LXRgdGC0LjQqNGC0YDQuNGF0LrQvtC0IikKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2JhcmNvZGUnIG9yIGhhc2hfbWFwLmdldCgiZXZlbnQiKSA9PSAib25SZXN1bHRQb3NpdGl2ZSI6CiAgICAgICAgZG9jID0gdWlfZ2xvYmFsLlJzX2RvYwogICAgICAgIGRvYy5pZF9kb2MgPSBoYXNoX21hcC5nZXQoJ2lkX2RvYycpCgogICAgICAgIGlmIGhhc2hfbWFwLmdldCgiZXZlbnQiKSA9PSAib25SZXN1bHRQb3NpdGl2ZSI6CiAgICAgICAgICAgIGJhcmNvZGUgPSBoYXNoX21hcC5nZXQoJ2ZsZF9iYXJjb2RlJykKICAgICAgICBlbHNlOgogICAgICAgICAgICBiYXJjb2RlID0gaGFzaF9tYXAuZ2V0KCdiYXJjb2RlX2NhbWVyYScpCgogICAgICAgIGhhdmVfcXR0eV9wbGFuID0gaGFzaF9tYXAuZ2V0KCdoYXZlX3F0dHlfcGxhbicpCiAgICAgICAgaGF2ZV96ZXJvX3BsYW4gPSBoYXNoX21hcC5nZXQoJ2hhdmVfemVyb19wbGFuJykKICAgICAgICBoYXZlX21hcmtfcGxhbiA9IGhhc2hfbWFwLmdldCgnaGF2ZV9tYXJrX3BsYW4nKQogICAgICAgIGNvbnRyb2wgPSBoYXNoX21hcC5nZXQoJ2NvbnRyb2wnKQogICAgICAgIHJlcyA9IGRvYy5wcm9jZXNzX3RoZV9iYXJjb2RlKGRvYywgYmFyY29kZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgZXZhbChoYXZlX3F0dHlfcGxhbiksIGV2YWwoaGF2ZV96ZXJvX3BsYW4pLCBldmFsKGNvbnRyb2wpLCBldmFsKGhhdmVfbWFya19wbGFuKSkKICAgICAgICBpZiByZXMgaXMgTm9uZToKICAgICAgICAgICAgaGFzaF9tYXAucHV0KCdzY2FubmVkX2JhcmNvZGUnLCBiYXJjb2RlKQogICAgICAgICAgICBoYXNoX21hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0J7RiNC40LHQutCwINGB0LrQsNC90LXRgNCwJykKICAgICAgICBlbGlmIHJlc1snRXJyb3InXToKICAgICAgICAgICAgaWYgcmVzWydFcnJvciddID09ICdBbHJlYWR5U2Nhbm5lZCc6CiAgICAgICAgICAgICAgICBoYXNoX21hcC5wdXQoJ2JhcmNvZGUnLCBqc29uLmR1bXBzKHsnYmFyY29kZSc6IHJlc1snQmFyY29kZSddLCAnZG9jX2luZm8nOiByZXNbJ2RvY19pbmZvJ119KSkKICAgICAgICAgICAgICAgIGhhc2hfbWFwLnB1dCgnU2hvd1NjcmVlbicsICfQo9C00LDQu9C10L3QuNC1INGI0YLRgNC40YXQutC+0LTQsCcpCiAgICAgICAgICAgIGVsaWYgcmVzWydFcnJvciddID09ICdRdWFudGl0eVBsYW5SZWFjaGVkJzoKICAgICAgICAgICAgICAgIGhhc2hfbWFwLnB1dCgndG9hc3QnLCByZXNbJ0Rlc2NyJ10pCiAgICAgICAgICAgIGVsaWYgcmVzWydFcnJvciddID09ICdaZXJvX3BsYW5fZXJyb3InOgogICAgICAgICAgICAgICAgaGFzaF9tYXAucHV0KCd0b2FzdCcsIHJlc1snRGVzY3InXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGhhc2hfbWFwLnB1dCgndG9hc3QnLCByZXNbJ0Rlc2NyJ10pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaGlnaGxpZ2h0X2FkZGVkX2dvb2QoaGFzaF9tYXAsIGJhcmNvZGUpCiAgICAgICAgICAgIGhhc2hfbWFwLnB1dCgndG9hc3QnLCAn0KLQvtCy0LDRgCDQtNC+0LHQsNCy0LvQtdC9INCyINC00L7QutGD0LzQtdC90YInKQogICAgICAgICAgICBoYXNoX21hcC5wdXQoJ2JhcmNvZGVfc2Nhbm5lZCcsICd0cnVlJykKCiAgICBlbGlmIGxpc3RlbmVyIGluIFsnT05fQkFDS19QUkVTU0VEJywgJ0JBQ0tfQlVUVE9OJ106CiAgICAgICAgaGFzaF9tYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YLRiyIpCgoKZGVmIGRlbGV0ZV9iYXJjb2RlX3NjcmVlbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICAjINCd0LDRhdC+0LTQuNC8IElEINC00L7QutGD0LzQtdC90YLQsAogICAgYmFyY29kZV9kYXRhID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgnYmFyY29kZScpKVsnYmFyY29kZSddCiAgICAjINCd0LDQudC00LXQvCDQvdGD0LbQvdGL0LUg0L/QvtC70Y8g0LfQsNC/0YDQvtGB0L7QvCDQuiDQsdCw0LfQtQogICAgcXRleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X21hcmtjb2RlX3F1ZXJ5KCkKICAgIGFyZ3MgPSB7J2lkX2RvYyc6IGhhc2hNYXAuZ2V0KCdpZF9kb2MnKSwKICAgICAgICAgICAgJ0dUSU4nOiBiYXJjb2RlX2RhdGFbJ0dUSU4nXSwgJ1Nlcmllcyc6IGJhcmNvZGVfZGF0YVsnU0VSSUFMJ119CgogICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsIGFyZ3MsIFRydWUpCgogICAgaGFzaE1hcC5wdXQoJ2N1cnJlbnRTdHInLCBqc29uLmR1bXBzKHJlc1swXSkpCiAgICBoYXNoTWFwLnB1dCgiQ3VyU3RyIiwgc3RyKHJlc1swXVsnQ3VyU3RyJ10pKQogICAgaGFzaE1hcC5wdXQoImdvb2QiLCByZXNbMF1bJ2dvb2RfbmFtZSddKQogICAgaGFzaE1hcC5wdXQoIidjb2RlX2FydCciLCByZXNbMF1bJ2dvb2RfY29kZSddKQogICAgaGFzaE1hcC5wdXQoInVuaXRfbmFtZSIsIHN0cihyZXNbMF1bJ3VuaXQnXSkpCiAgICBoYXNoTWFwLnB1dCgnYmFyY29kZV92YWx1ZScsICcwMScgKyBiYXJjb2RlX2RhdGFbJ0dUSU4nXSArICcyMScgKyBiYXJjb2RlX2RhdGFbJ1NFUklBTCddKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGRlbGV0ZV9iYXJjb2RlX3NjcmVlbl9jbGljayhoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpCiAgICBpZiBsaXN0ZW5lciA9PSAiYnRuX2JhcmNvZGVfY2FuY2VsIjoKCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9iYXJjb2RlX2RlbGV0ZSI6CiAgICAgICAgZG9jID0gdWlfZ2xvYmFsLlJzX2RvYwogICAgICAgIGRvYy5pZF9kb2MgPSBoYXNoTWFwLmdldCgnaWRfZG9jJykKICAgICAgICBjdXJyZW50X2JhcmNvZGVfc3RyID0gaW50KGhhc2hNYXAuZ2V0KCJDdXJTdHIiKSkKICAgICAgICBlbCA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoJ2N1cnJlbnRTdHInKSkKCiAgICAgICAgIyBkb2MuaWRfc3RyID0gaW50KGN1cnJlbnRfZWxlbVsna2V5J10pCiAgICAgICAgIyBkb2MucXR0eSA9IGZsb2F0KGhhc2hNYXAuZ2V0KCdxdHR5JykpCiAgICAgICAgIyBkb2MudXBkYXRlX2RvY19zdHIoZG9jLCBoYXNoTWFwLmdldCgncHJpY2UnKSkKICAgICAgICBxdWVyeV90ZXh0ID0gJ1VwZGF0ZSAgUlNfZG9jc19iYXJjb2RlcyBTRVQgYXBwcm92ZWQ9PyBXaGVyZSBpZD0/JwogICAgICAgIHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsICgnMCcsIGN1cnJlbnRfYmFyY29kZV9zdHIpKQogICAgICAgIGRvYy51cGRhdGVfZG9jX3RhYmxlX2RhdGEoZG9jLCBlbCwgLTEpCgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKCiAgICBlbGlmIGxpc3RlbmVyID09ICJCQUNLX0JVVFRPTiI6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgYWRyX2VsZW1fb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaGFzaE1hcC5wdXQoJ21tX2xvY2FsJywgJycpCiAgICByZXR1cm4gaGFzaE1hcAoKZGVmIGVsZW1fb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaGFzaE1hcC5wdXQoJ21tX2xvY2FsJywgJycpCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBhZHJfZWxlbV9vbl9jbGljayhoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpCgoKICAgIGlmIGxpc3RlbmVyID09ICJidG5fb2siOgogICAgICAgICMgIyDQv9C+0LvRg9GH0LjQvCDRgtC10LrRg9GJ0YPRjiDRgdGC0YDQvtC60YMg0LTQvtC60YPQvNC10L3RgtCwCiAgICAgICAgIyBjdXJyZW50X3N0ciA9IGhhc2hNYXAuZ2V0KCJzZWxlY3RlZF9jYXJkX3Bvc2l0aW9uIikKICAgICAgICBkb2MgPSB1aV9nbG9iYWwuUnNfYWRyX2RvYwogICAgICAgIGRvYy5pZF9kb2MgPSBoYXNoTWFwLmdldCgnaWRfZG9jJykKICAgICAgICAjIGlmIG5vdCBjdXJyZW50X3N0ciA9PSAnMCc6CiAgICAgICAgIyAgICAgamxpc3QgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJkb2NfZ29vZHMiKSkKICAgICAgICAjICAgICBjdXJyZW50X2VsZW0gPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ11baW50KGN1cnJlbnRfc3RyKV0KICAgICAgICAjICAgICBrZXkgPSBpbnQoY3VycmVudF9lbGVtWydrZXknXSkKICAgICAgICAjICAgICBkb2MuaWRfc3RyID0gaW50KGN1cnJlbnRfZWxlbVsna2V5J10pCiAgICAgICAgIyAuLi4g0Lgg0LfQsNC/0LjRiNC10Lwg0LXQtSDQsiDQsdCw0LfRgwogICAgICAgIHF0dHkgPSBoYXNoTWFwLmdldCgncXR0eScpCiAgICAgICAgZG9jLnF0dHkgPSBmbG9hdChxdHR5KSBpZiBxdHR5IGVsc2UgMAogICAgICAgIGVsZW1fZm9yX2FkZCA9eydpZF9nb29kJzpoYXNoTWFwLmdldCgnR29vZF9pZCcpLCAnaWRfcHJvcGVydHknOmhhc2hNYXAuZ2V0KCdwcm9wZXJ0aWVzX2lkJyksICdpZF9zZXJpZXMnOmhhc2hNYXAuZ2V0KCdzZXJpZXNfaWQnKSwgJ2lkX3VuaXQnOiBoYXNoTWFwLmdldCgndW5pdF9pZCcpfQoKICAgICAgICBkb2MudXBkYXRlX2RvY190YWJsZV9kYXRhKGRvYywgZWxlbV9mb3JfYWRkLCBxdHR5LCBoYXNoTWFwLmdldCgnY3VycmVudF9jZWxsX25hbWUnKSxoYXNoTWFwLmdldCgndGFibGVfdHlwZV9maWx0ZXInKSkgIyhkb2MsICkKCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9jYW5jZWwiOgoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCiAgICBlbGlmIGxpc3RlbmVyID09ICJCQUNLX0JVVFRPTiI6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQogICAgZWxpZiBsaXN0ZW5lciA9PSAiIjoKICAgICAgICBoYXNoTWFwLnB1dCgicXR0eSIsIHN0cihmbG9hdChoYXNoTWFwLmdldCgncXR0eScpKSkpCiAgICBlbGlmIGxpc3RlbmVyID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKCiAgICBlbGlmIGxpc3RlbmVyID09ICJidG5fZ29vZF9zZWxlY3QiOgogICAgICAgIGhhc2hNYXAucmVtb3ZlKCdTZWFyY2hTdHJpbmcnKQogICAgICAgIGhhc2hNYXAucHV0KCd0YWJsZV9mb3Jfc2VsZWN0JywgJ1JTX2dvb2RzJykgICMg0KLQsNCx0LvQuNGG0LAg0LTQu9GPINCy0YvQsdC+0YDQsCDQt9C90LDRh9C10L3QuNGPCiAgICAgICAgaGFzaE1hcC5wdXQoJ1NldFJlc3VsdExpc3RlbmVyJywgJ3NlbGVjdF9nb29kc192YWx1ZScpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2ZpbHRlcl9maWVsZHMnLCAnbmFtZTthcnQnKQogICAgICAgIGhhc2hNYXAucHV0KCdTaG93UHJvY2Vzc1Jlc3VsdCcsICfQo9C90LjQstC10YDRgdCw0LvRjNC90YvQuSDRgdC/0YDQsNCy0L7Rh9C90LjQunzQodC/0YDQsNCy0L7Rh9C90LjQuicpCiAgICAjLS0KICAgIGVsaWYgbGlzdGVuZXIgPT0gInNlbGVjdF9nb29kc192YWx1ZSI6CiAgICAgICAgaGFzaE1hcC5wdXQoJ0dvb2QnLCBoYXNoTWFwLmdldCgnY3VycmVudF9uYW1lJykpCiAgICAgICAgaGFzaE1hcC5wdXQoJ0dvb2RfaWQnLCBoYXNoTWFwLmdldCgnY3VycmVudF9pZCcpKQogICAgICAgICMg0J/RgNC4INCy0YvQsdC+0YDQtSDRgtC+0LLQsNGA0LAg0LfQsNC/0L7Qu9C90LjQvCDQtdC00LjQvdC40YbRgyDQuNC30LzQtdGA0LXQvdC40Y8g0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4KICAgICAgICBxdGV4dCA9ICcnJ1NlbGVjdCBSU19nb29kcy51bml0IGFzIHVuaXRfaWQsIAogICAgICAgICAgICAgICAgICAgIFJTX3VuaXRzLm5hbWUgCiAgICAgICAgICAgICAgICAgICAgRnJvbSBSU19nb29kcwogICAgICAgICAgICAgICAgICAgICAgTGVmdCBKb2luIFJTX3VuaXRzIG9uIFJTX3VuaXRzLmlkX293bmVyID0gUlNfZ29vZHMuaWQgYW5kIFJTX3VuaXRzLmlkID0gUlNfZ29vZHMudW5pdCAKICAgICAgICAgICAgICAgICAgICBXSEVSRSBSU19nb29kcy5pZCA9ID8nJycKICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgKGhhc2hNYXAuZ2V0KCdjdXJyZW50X2lkJyksKSkKICAgICAgICBpZiByZXM6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd1bml0X2lkJywgcmVzWzBdWzBdKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgndW5pdCcsIHJlc1swXVsxXSkKCiAgICBlbGlmIGxpc3RlbmVyID09ICJidG5fcHJvcGVydGllcyI6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1NlYXJjaFN0cmluZycsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X2lkJykpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3RhYmxlX2Zvcl9zZWxlY3QnLCAnUlNfcHJvcGVydGllcycpICAjINCi0LDQsdC70LjRhtCwINC00LvRjyDQstGL0LHQvtGA0LAg0LfQvdCw0YfQtdC90LjRjwogICAgICAgIGhhc2hNYXAucHV0KCdTZXRSZXN1bHRMaXN0ZW5lcicsICdzZWxlY3RfcHJvcGVydGllc192YWx1ZScpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2ZpbHRlcl9maWVsZHMnLCAnbmFtZTtpZF9vd25lcicpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dQcm9jZXNzUmVzdWx0JywgJ9Cj0L3QuNCy0LXRgNGB0LDQu9GM0L3Ri9C5INGB0L/RgNCw0LLQvtGH0L3QuNC6fNCh0L/RgNCw0LLQvtGH0L3QuNC6JykKICAgICMgLS0KICAgIGVsaWYgbGlzdGVuZXIgPT0gJ3NlbGVjdF9wcm9wZXJ0aWVzX3ZhbHVlJzoKICAgICAgICBoYXNoTWFwLnB1dCgncHJvcGVydGllcycsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X25hbWUnKSkKICAgICAgICBoYXNoTWFwLnB1dCgncHJvcGVydGllc19pZCcsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X2lkJykpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAiYnRuX3NlcmllcyI6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3RhYmxlX2Zvcl9zZWxlY3QnLCAnUlNfc2VyaWVzJykgICMg0KLQsNCx0LvQuNGG0LAg0LTQu9GPINCy0YvQsdC+0YDQsCDQt9C90LDRh9C10L3QuNGPCiAgICAgICAgaGFzaE1hcC5wdXQoJ1NldFJlc3VsdExpc3RlbmVyJywgJ3NlbGVjdF9zZXJpZXNfdmFsdWUnKQogICAgICAgIGhhc2hNYXAucHV0KCdmaWx0ZXJfZmllbGRzJywgJ25hbWU7IGlkX293bmVyJykKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1Byb2Nlc3NSZXN1bHQnLCAn0KPQvdC40LLQtdGA0YHQsNC70YzQvdGL0Lkg0YHQv9GA0LDQstC+0YfQvdC40Lp80KHQv9GA0LDQstC+0YfQvdC40LonKQogICAgICAgICNfXwogICAgZWxpZiBsaXN0ZW5lciA9PSAnc2VsZWN0X3Nlcmllc192YWx1ZSc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3NlcmllcycsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X25hbWUnKSkKICAgICAgICBoYXNoTWFwLnB1dCgnc2VyaWVzX2lkJywgaGFzaE1hcC5nZXQoJ2N1cnJlbnRfaWQnKSkKCiAgICBlbGlmIGxpc3RlbmVyID09ICJidG5fdW5pdCI6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1NlYXJjaFN0cmluZycsIGhhc2hNYXAuZ2V0KCdHb29kX2lkJykpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3RhYmxlX2Zvcl9zZWxlY3QnLCAnUlNfdW5pdHMnKSAgIyDQotCw0LHQu9C40YbQsCDQtNC70Y8g0LLRi9Cx0L7RgNCwINC30L3QsNGH0LXQvdC40Y8KICAgICAgICBoYXNoTWFwLnB1dCgnU2V0UmVzdWx0TGlzdGVuZXInLCAnc2VsZWN0X3VuaXRfdmFsdWUnKQogICAgICAgIGhhc2hNYXAucHV0KCdmaWx0ZXJfZmllbGRzJywgJ25hbWU7aWRfb3duZXInKQogICAgICAgIGhhc2hNYXAucHV0KCdTaG93UHJvY2Vzc1Jlc3VsdCcsICfQo9C90LjQstC10YDRgdCw0LvRjNC90YvQuSDRgdC/0YDQsNCy0L7Rh9C90LjQunzQodC/0YDQsNCy0L7Rh9C90LjQuicpCiAgICAgICAgI19fCiAgICBlbGlmIGxpc3RlbmVyID09ICdzZWxlY3RfdW5pdF92YWx1ZSc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3VuaXQnLCBoYXNoTWFwLmdldCgnY3VycmVudF9uYW1lJykpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3VuaXRfaWQnLCBoYXNoTWFwLmdldCgnY3VycmVudF9pZCcpKQogICAgI2J0bl9zZWxlY3RfY2VsbAogICAgZWxpZiBsaXN0ZW5lciA9PSAiYnRuX3NlbGVjdF9jZWxsIjoKICAgICAgICBoYXNoTWFwLnB1dCgnU2VhcmNoU3RyaW5nJywgJycpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3RhYmxlX2Zvcl9zZWxlY3QnLCAnUlNfY2VsbHMnKSAgIyDQotCw0LHQu9C40YbQsCDQtNC70Y8g0LLRi9Cx0L7RgNCwINC30L3QsNGH0LXQvdC40Y8KICAgICAgICBoYXNoTWFwLnB1dCgnU2V0UmVzdWx0TGlzdGVuZXInLCAnc2VsZWN0X2NlbGxfdmFsdWUnKQogICAgICAgIGhhc2hNYXAucHV0KCdmaWx0ZXJfZmllbGRzJywgJ25hbWU7YmFyY29kZScpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dQcm9jZXNzUmVzdWx0JywgJ9Cj0L3QuNCy0LXRgNGB0LDQu9GM0L3Ri9C5INGB0L/RgNCw0LLQvtGH0L3QuNC6fNCh0L/RgNCw0LLQvtGH0L3QuNC6JykKICAgICAgICAjX18KICAgIGVsaWYgbGlzdGVuZXIgPT0gJ3NlbGVjdF9jZWxsX3ZhbHVlJzoKICAgICAgICBoYXNoTWFwLnB1dCgnY3VycmVudF9jZWxsX25hbWUnLCBoYXNoTWFwLmdldCgnY3VycmVudF9uYW1lJykpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2N1cnJlbnRfY2VsbF9pZCcsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X2lkJykpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAicGhvdG8iOgoKICAgICAgICAjINCc0L7QttC90L4g0LLQvtC+0LHRidC1INGN0YLQvtCz0L4g0L3QtSDQtNC10LvQsNGC0Ywt0L7RgdGC0LDQstC70Y/RgtGMINC60LDQuiDQtdGB0YLRjC4g0K3RgtC+INC00LvRjyDQv9GA0LjQvNC10YDQsC4KICAgICAgICBpbWFnZV9maWxlID0gc3RyKAogICAgICAgICAgICBoYXNoTWFwLmdldCgicGhvdG9fcGF0aCIpKSAgIyAi0L/QtdGA0LXQvNC10L3QvdCw0Y8iKyJfcGF0aCIgLSDRgdGO0LTQsCDQv9C+0LzQtdGJ0LDQtdGC0YHRjyDQv9GD0YLRjCDQuiDQv9C+0LvRg9GH0LXQvdC90L7QuSDRhNC+0YLQvtCz0YDQsNGE0LjQuAoKICAgICAgICBpbWFnZSA9IEltYWdlLm9wZW4oaW1hZ2VfZmlsZSkKCiAgICAgICAgIyDRgdGA0LDQt9GDINGB0LTQtdC70LDQtdC8INGE0L7RgtC60YMgLSDQutCy0LDQtNGA0LDRgtC90L7QuSAtINGN0YLQviDQv9GA0L7RgdGC0L7QuSDQstCw0YDQuNCw0L3Rgi4g0JzQvtC20L3QviDRgdC00LXQu9Cw0YLRjCDQvdCw0L/RgNC40LzQtdGAINC+0YLQtNC10LvRjNC+INC80LjQvdC40LDRgtGO0YDRiyDQtNC70Y8g0YHQv9C40YHQutCwLCDRjdGC0L4g0L3QtdC80L3QvtCz0L4g0YHQu9C+0LbQvdC10LUKICAgICAgICBpbSA9IGltYWdlLnJlc2l6ZSgoNTAwLCA1MDApKQogICAgICAgIGltLnNhdmUoaW1hZ2VfZmlsZSkKCiAgICAgICAganBob3RvYXJyID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgicGhvdG9HYWxsZXJ5IikpCiAgICAgICAgaGFzaE1hcC5wdXQoInBob3RvR2FsbGVyeSIsIGpzb24uZHVtcHMoanBob3RvYXJyKSkKICAgICAgICAjIGhhc2hNYXAucHV0KCJ0b2FzdCIsanNvbi5kdW1wcyhqcGhvdG9hcnIpKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gImdhbGxlcnlfY2hhbmdlIjogICMg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINC80L7QttC10YIg0YPQtNCw0LvQuNGC0Ywg0YTQvtGC0L4g0LjQtyDQs9Cw0LvQtdGA0LXQuC4g0J3QvtCy0YvQuSDQvNCw0YHRgdC40LIg0L3QsNC00L4g0L/QvtC80LXRgdGC0LjRgtGMINC6INC00L7QutGD0LzQtdC90YLRgwoKICAgICAgICBpZiBoYXNoTWFwLmNvbnRhaW5zS2V5KCJwaG90b0dhbGxlcnkiKTogICMg0Y3RgtC4IDIg0L7QsdGA0LDQsdC+0YLRh9C40LrQsCAtINCw0L3QsNC70L7Qs9C40YfQvdGL0LUsINC/0YDQvtGB0YLQviDQtNC70Y8g0YDQsNC30L3Ri9GFINGB0L7QsdGL0YLQuNC5CiAgICAgICAgICAgIGpwaG90b2FyciA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoInBob3RvR2FsbGVyeSIpKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgicGhvdG9HYWxsZXJ5IiwganNvbi5kdW1wcyhqcGhvdG9hcnIpKQogICAgICAgICAgICAjIGhhc2hNYXAucHV0KCJ0b2FzdCIsIiMyIitqc29uLmR1bXBzKGpwaG90b2FycikpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZWxlbV9vbl9jbGljayhoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpCgogICAgaWYgbGlzdGVuZXIgPT0gImJ0bl9vayI6CiAgICAgICAgIyDQv9C+0LvRg9GH0LjQvCDRgtC10LrRg9GJ0YPRjiDRgdGC0YDQvtC60YMg0LTQvtC60YPQvNC10L3RgtCwCiAgICAgICAgY3VycmVudF9zdHIgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9wb3NpdGlvbiIpCiAgICAgICAgI9CV0YHQu9C4INGB0YLRgNC+0LrQsCDQvdC1INGB0YPRidC10YHRgtCy0YPQtdGCLCDRgdC+0LfQtNCw0LTQuNC8INC10LUKICAgICAgICBkb2MgPSB1aV9nbG9iYWwuUnNfZG9jCiAgICAgICAgZG9jLmlkX2RvYyA9IGhhc2hNYXAuZ2V0KCdpZF9kb2MnKQogICAgICAgICMgaWYgY3VycmVudF9zdHIgPT0nMCc6CiAgICAgICAgIyAgICAgcGFzcwogICAgICAgICMgICAgICNqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10KICAgICAgICAjIGVsc2U6CiAgICAgICAgIyAgICAgamxpc3QgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJkb2NfZ29vZHMiKSkKICAgICAgICAjICAgICBjdXJyZW50X2VsZW0gPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ11baW50KGN1cnJlbnRfc3RyKV0KICAgICAgICAjICAgICBrZXkgPSBpbnQoY3VycmVudF9lbGVtWydrZXknXSkKICAgICAgICAjICAgICBkb2MuaWRfc3RyID0gaW50KGN1cnJlbnRfZWxlbVsna2V5J10pCiAgICAgICAgIyAuLi4g0Lgg0LfQsNC/0LjRiNC10Lwg0LXQtSDQsiDQsdCw0LfRgwoKICAgICAgICBxdHR5ID0gaGFzaE1hcC5nZXQoJ3F0dHknKQogICAgICAgIGRvYy5xdHR5ID0gZmxvYXQocXR0eSkgaWYgcXR0eSBlbHNlIDAKICAgICAgICBlbGVtX2Zvcl9hZGQgPSB7J2lkX2dvb2QnOiBoYXNoTWFwLmdldCgnR29vZF9pZCcpLCAnaWRfcHJvcGVydHknOiBoYXNoTWFwLmdldCgncHJvcGVydGllc19pZCcpLAogICAgICAgICAgICAgICAgICAgICAgICAnaWRfc2VyaWVzJzogaGFzaE1hcC5nZXQoJ3Nlcmllc19pZCcpLCdpZF91bml0JzogaGFzaE1hcC5nZXQoJ3VuaXRfaWQnKX0KICAgICAgICBkb2MudXBkYXRlX2RvY190YWJsZV9kYXRhKGRvYywgZWxlbV9mb3JfYWRkLCBxdHR5KSAgIyAoZG9jLCApCgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKCiAgICBlbGlmIGxpc3RlbmVyID09ICJidG5fY2FuY2VsIjoKCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQogICAgZWxpZiBsaXN0ZW5lciA9PSAiQkFDS19CVVRUT04iOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKICAgIGVsaWYgbGlzdGVuZXIgPT0gIiI6CiAgICAgICAgaGFzaE1hcC5wdXQoInF0dHkiLCBzdHIoZmxvYXQoaGFzaE1hcC5nZXQoJ3F0dHknKSkpKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAiYnRuX2dvb2Rfc2VsZWN0IjoKICAgICAgICBoYXNoTWFwLnJlbW92ZSgnU2VhcmNoU3RyaW5nJykKICAgICAgICBoYXNoTWFwLnB1dCgndGFibGVfZm9yX3NlbGVjdCcsICdSU19nb29kcycpICAjINCi0LDQsdC70LjRhtCwINC00LvRjyDQstGL0LHQvtGA0LAg0LfQvdCw0YfQtdC90LjRjwogICAgICAgIGhhc2hNYXAucHV0KCdTZXRSZXN1bHRMaXN0ZW5lcicsICdzZWxlY3RfZ29vZHNfdmFsdWUnKQogICAgICAgIGhhc2hNYXAucHV0KCdmaWx0ZXJfZmllbGRzJywgJ25hbWUnKQogICAgICAgIGhhc2hNYXAucHV0KCdTaG93UHJvY2Vzc1Jlc3VsdCcsICfQo9C90LjQstC10YDRgdCw0LvRjNC90YvQuSDRgdC/0YDQsNCy0L7Rh9C90LjQunzQodC/0YDQsNCy0L7Rh9C90LjQuicpCiAgICAjLS0KICAgIGVsaWYgbGlzdGVuZXIgPT0gInNlbGVjdF9nb29kc192YWx1ZSI6CiAgICAgICAgaGFzaE1hcC5wdXQoJ0dvb2QnLCBoYXNoTWFwLmdldCgnY3VycmVudF9uYW1lJykpCiAgICAgICAgaGFzaE1hcC5wdXQoJ0dvb2RfaWQnLCBoYXNoTWFwLmdldCgnY3VycmVudF9pZCcpKQogICAgICAgICPQn9GA0Lgg0LLRi9Cx0L7RgNC1INGC0L7QstCw0YDQsCDQt9Cw0L/QvtC70L3QuNC8INC10LTQuNC90LjRhtGDINC40LfQvNC10YDQtdC90LjRjyDQv9C+INGD0LzQvtC70YfQsNC90LjRjgogICAgICAgIHF0ZXh0ID0gJycnU2VsZWN0IFJTX2dvb2RzLnVuaXQgYXMgdW5pdF9pZCwgCiAgICAgICAgICAgICAgICAgICAgUlNfdW5pdHMubmFtZSAKICAgICAgICAgICAgICAgICAgICBGcm9tIFJTX2dvb2RzCiAgICAgICAgICAgICAgICAgICAgICBMZWZ0IEpvaW4gUlNfdW5pdHMgb24gUlNfdW5pdHMuaWRfb3duZXIgPSBSU19nb29kcy5pZCBhbmQgUlNfdW5pdHMuaWQgPSBSU19nb29kcy51bml0IAogICAgICAgICAgICAgICAgICAgIFdIRVJFIFJTX2dvb2RzLmlkID0gPycnJwogICAgICAgIHJlcyA9ICB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgKGhhc2hNYXAuZ2V0KCdjdXJyZW50X2lkJyksKSkKICAgICAgICBpZiByZXM6CgogICAgICAgICAgICBoYXNoTWFwLnB1dCgndW5pdF9pZCcsIHJlc1swXVswXSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3VuaXQnLCByZXNbMF1bMV0pCgogICAgZWxpZiBsaXN0ZW5lciA9PSAiYnRuX3Byb3BlcnRpZXMiOgoKICAgICAgICBoYXNoTWFwLnB1dCgnU2VhcmNoU3RyaW5nJywgaGFzaE1hcC5nZXQoJ0dvb2RfaWQnKSkKICAgICAgICBoYXNoTWFwLnB1dCgndGFibGVfZm9yX3NlbGVjdCcsICdSU19wcm9wZXJ0aWVzJykgICMg0KLQsNCx0LvQuNGG0LAg0LTQu9GPINCy0YvQsdC+0YDQsCDQt9C90LDRh9C10L3QuNGPCiAgICAgICAgaGFzaE1hcC5wdXQoJ1NldFJlc3VsdExpc3RlbmVyJywgJ3NlbGVjdF9wcm9wZXJ0aWVzX3ZhbHVlJykKICAgICAgICBoYXNoTWFwLnB1dCgnZmlsdGVyX2ZpZWxkcycsICduYW1lO2lkX293bmVyJykKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1Byb2Nlc3NSZXN1bHQnLCAn0KPQvdC40LLQtdGA0YHQsNC70YzQvdGL0Lkg0YHQv9GA0LDQstC+0YfQvdC40Lp80KHQv9GA0LDQstC+0YfQvdC40LonKQogICAgIyAtLQogICAgZWxpZiBsaXN0ZW5lciA9PSAnc2VsZWN0X3Byb3BlcnRpZXNfdmFsdWUnOgogICAgICAgIGhhc2hNYXAucHV0KCdwcm9wZXJ0aWVzJywgaGFzaE1hcC5nZXQoJ2N1cnJlbnRfbmFtZScpKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9zZXJpZXMiOgogICAgICAgIGhhc2hNYXAucHV0KCd0YWJsZV9mb3Jfc2VsZWN0JywgJ1JTX3NlcmllcycpICAjINCi0LDQsdC70LjRhtCwINC00LvRjyDQstGL0LHQvtGA0LAg0LfQvdCw0YfQtdC90LjRjwogICAgICAgIGhhc2hNYXAucHV0KCdTZXRSZXN1bHRMaXN0ZW5lcicsICdzZWxlY3Rfc2VyaWVzX3ZhbHVlJykKICAgICAgICBoYXNoTWFwLnB1dCgnZmlsdGVyX2ZpZWxkcycsICduYW1lJykKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1Byb2Nlc3NSZXN1bHQnLCAn0KPQvdC40LLQtdGA0YHQsNC70YzQvdGL0Lkg0YHQv9GA0LDQstC+0YfQvdC40Lp80KHQv9GA0LDQstC+0YfQvdC40LonKQogICAgICAgICNfXwogICAgZWxpZiBsaXN0ZW5lciA9PSAnc2VsZWN0X3Nlcmllc192YWx1ZSc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3NlcmllcycsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X25hbWUnKSkKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl91bml0IjoKICAgICAgICBoYXNoTWFwLnB1dCgndGFibGVfZm9yX3NlbGVjdCcsICdSU191bml0cycpICAjINCi0LDQsdC70LjRhtCwINC00LvRjyDQstGL0LHQvtGA0LAg0LfQvdCw0YfQtdC90LjRjwogICAgICAgIGhhc2hNYXAucHV0KCdTZXRSZXN1bHRMaXN0ZW5lcicsICdzZWxlY3RfdW5pdF92YWx1ZScpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2ZpbHRlcl9maWVsZHMnLCAnbmFtZTtpZF9vd25lcicpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dQcm9jZXNzUmVzdWx0JywgJ9Cj0L3QuNCy0LXRgNGB0LDQu9GM0L3Ri9C5INGB0L/RgNCw0LLQvtGH0L3QuNC6fNCh0L/RgNCw0LLQvtGH0L3QuNC6JykKICAgICAgICAjX18KICAgIGVsaWYgbGlzdGVuZXIgPT0gJ3NlbGVjdF91bml0X3ZhbHVlJzoKICAgICAgICBoYXNoTWFwLnB1dCgndW5pdCcsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X25hbWUnKSkKICAgICAgICBoYXNoTWFwLnB1dCgndW5pdF9pZCcsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X2lkJykpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAicGhvdG8iOgoKICAgICAgICAjINCc0L7QttC90L4g0LLQvtC+0LHRidC1INGN0YLQvtCz0L4g0L3QtSDQtNC10LvQsNGC0Ywt0L7RgdGC0LDQstC70Y/RgtGMINC60LDQuiDQtdGB0YLRjC4g0K3RgtC+INC00LvRjyDQv9GA0LjQvNC10YDQsC4KICAgICAgICBpbWFnZV9maWxlID0gc3RyKAogICAgICAgICAgICBoYXNoTWFwLmdldCgicGhvdG9fcGF0aCIpKSAgIyAi0L/QtdGA0LXQvNC10L3QvdCw0Y8iKyJfcGF0aCIgLSDRgdGO0LTQsCDQv9C+0LzQtdGJ0LDQtdGC0YHRjyDQv9GD0YLRjCDQuiDQv9C+0LvRg9GH0LXQvdC90L7QuSDRhNC+0YLQvtCz0YDQsNGE0LjQuAoKICAgICAgICBpbWFnZSA9IEltYWdlLm9wZW4oaW1hZ2VfZmlsZSkKCiAgICAgICAgIyDRgdGA0LDQt9GDINGB0LTQtdC70LDQtdC8INGE0L7RgtC60YMgLSDQutCy0LDQtNGA0LDRgtC90L7QuSAtINGN0YLQviDQv9GA0L7RgdGC0L7QuSDQstCw0YDQuNCw0L3Rgi4g0JzQvtC20L3QviDRgdC00LXQu9Cw0YLRjCDQvdCw0L/RgNC40LzQtdGAINC+0YLQtNC10LvRjNC+INC80LjQvdC40LDRgtGO0YDRiyDQtNC70Y8g0YHQv9C40YHQutCwLCDRjdGC0L4g0L3QtdC80L3QvtCz0L4g0YHQu9C+0LbQvdC10LUKICAgICAgICBpbSA9IGltYWdlLnJlc2l6ZSgoNTAwLCA1MDApKQogICAgICAgIGltLnNhdmUoaW1hZ2VfZmlsZSkKCiAgICAgICAganBob3RvYXJyID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgicGhvdG9HYWxsZXJ5IikpCiAgICAgICAgaGFzaE1hcC5wdXQoInBob3RvR2FsbGVyeSIsIGpzb24uZHVtcHMoanBob3RvYXJyKSkKICAgICAgICAjIGhhc2hNYXAucHV0KCJ0b2FzdCIsanNvbi5kdW1wcyhqcGhvdG9hcnIpKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gImdhbGxlcnlfY2hhbmdlIjogICMg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINC80L7QttC10YIg0YPQtNCw0LvQuNGC0Ywg0YTQvtGC0L4g0LjQtyDQs9Cw0LvQtdGA0LXQuC4g0J3QvtCy0YvQuSDQvNCw0YHRgdC40LIg0L3QsNC00L4g0L/QvtC80LXRgdGC0LjRgtGMINC6INC00L7QutGD0LzQtdC90YLRgwoKICAgICAgICBpZiBoYXNoTWFwLmNvbnRhaW5zS2V5KCJwaG90b0dhbGxlcnkiKTogICMg0Y3RgtC4IDIg0L7QsdGA0LDQsdC+0YLRh9C40LrQsCAtINCw0L3QsNC70L7Qs9C40YfQvdGL0LUsINC/0YDQvtGB0YLQviDQtNC70Y8g0YDQsNC30L3Ri9GFINGB0L7QsdGL0YLQuNC5CiAgICAgICAgICAgIGpwaG90b2FyciA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoInBob3RvR2FsbGVyeSIpKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgicGhvdG9HYWxsZXJ5IiwganNvbi5kdW1wcyhqcGhvdG9hcnIpKQogICAgICAgICAgICAjIGhhc2hNYXAucHV0KCJ0b2FzdCIsIiMyIitqc29uLmR1bXBzKGpwaG90b2FycikpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgYWRyX2VsZW1fdmlldl9vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBoYXNoTWFwLnB1dCgnbW1fbG9jYWwnLCAnJykKICAgIHJldHVybiBoYXNoTWFwCgpkZWYgZWxlbV92aWV2X29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGhhc2hNYXAucHV0KCdtbV9sb2NhbCcsICcnKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgYWRyX2VsZW1fdmlldl9vbl9jbGljayhoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpCgogICAgaWYgbGlzdGVuZXIgPT0gImJ0bl9vayI6CiAgICAgICAgIyDQv9C+0LvRg9GH0LjQvCDRgtC10LrRg9GJ0YPRjiDRgdGC0YDQvtC60YMg0LTQvtC60YPQvNC10L3RgtCwCiAgICAgICAgY3VycmVudF9zdHIgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9wb3NpdGlvbiIpCiAgICAgICAgZG9jID0gdWlfZ2xvYmFsLlJzX2Fkcl9kb2MKICAgICAgICBpZiBub3QgY3VycmVudF9zdHIgPT0gJzAnOgogICAgICAgICAgICBjdXJyZW50X2VsZW0gPSBnZXRfY3VycmVudF9lbGVtX2RvY19nb29kcyhoYXNoTWFwLCBjdXJyZW50X3N0cikKICAgICAgICAgICAga2V5ID0gaW50KGN1cnJlbnRfZWxlbVsna2V5J10pCiAgICAgICAgICAgIGRvYy5pZF9zdHIgPSBpbnQoY3VycmVudF9lbGVtWydrZXknXSkKICAgICAgICAjIC4uLiDQuCDQt9Cw0L/QuNGI0LXQvCDQtdC1INCyINCx0LDQt9GDCiAgICAgICAgcXR0eSA9IGhhc2hNYXAuZ2V0KCdxdHR5JykKICAgICAgICBkb2MucXR0eSA9IGZsb2F0KHF0dHkpIGlmIHF0dHkgZWxzZSAwCgogICAgICAgIGRvYy51cGRhdGVfZG9jX3N0cihkb2MpICMoZG9jLCApCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9jYW5jZWwiOgoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCiAgICBlbGlmIGxpc3RlbmVyID09ICJCQUNLX0JVVFRPTiI6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQogICAgZWxpZiBsaXN0ZW5lciA9PSAiIjoKICAgICAgICBoYXNoTWFwLnB1dCgicXR0eSIsIHN0cihmbG9hdChoYXNoTWFwLmdldCgncXR0eScpKSkpCiAgICBlbGlmIGxpc3RlbmVyID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKCiAgICBlbGlmIGxpc3RlbmVyID09ICJwaG90byI6CgogICAgICAgICMg0JzQvtC20L3QviDQstC+0L7QsdGJ0LUg0Y3RgtC+0LPQviDQvdC1INC00LXQu9Cw0YLRjC3QvtGB0YLQsNCy0LvRj9GC0Ywg0LrQsNC6INC10YHRgtGMLiDQrdGC0L4g0LTQu9GPINC/0YDQuNC80LXRgNCwLgogICAgICAgIGltYWdlX2ZpbGUgPSBzdHIoCiAgICAgICAgICAgIGhhc2hNYXAuZ2V0KCJwaG90b19wYXRoIikpICAjICLQv9C10YDQtdC80LXQvdC90LDRjyIrIl9wYXRoIiAtINGB0Y7QtNCwINC/0L7QvNC10YnQsNC10YLRgdGPINC/0YPRgtGMINC6INC/0L7Qu9GD0YfQtdC90L3QvtC5INGE0L7RgtC+0LPRgNCw0YTQuNC4CgogICAgICAgIGltYWdlID0gSW1hZ2Uub3BlbihpbWFnZV9maWxlKQoKICAgICAgICAjINGB0YDQsNC30YMg0YHQtNC10LvQsNC10Lwg0YTQvtGC0LrRgyAtINC60LLQsNC00YDQsNGC0L3QvtC5IC0g0Y3RgtC+INC/0YDQvtGB0YLQvtC5INCy0LDRgNC40LDQvdGCLiDQnNC+0LbQvdC+INGB0LTQtdC70LDRgtGMINC90LDQv9GA0LjQvNC10YAg0L7RgtC00LXQu9GM0L4g0LzQuNC90LjQsNGC0Y7RgNGLINC00LvRjyDRgdC/0LjRgdC60LAsINGN0YLQviDQvdC10LzQvdC+0LPQviDRgdC70L7QttC90LXQtQogICAgICAgIGltID0gaW1hZ2UucmVzaXplKCg1MDAsIDUwMCkpCiAgICAgICAgaW0uc2F2ZShpbWFnZV9maWxlKQoKICAgICAgICBqcGhvdG9hcnIgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJwaG90b0dhbGxlcnkiKSkKICAgICAgICBoYXNoTWFwLnB1dCgicGhvdG9HYWxsZXJ5IiwganNvbi5kdW1wcyhqcGhvdG9hcnIpKQogICAgICAgICMgaGFzaE1hcC5wdXQoInRvYXN0Iixqc29uLmR1bXBzKGpwaG90b2FycikpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAiZ2FsbGVyeV9jaGFuZ2UiOiAgIyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0LzQvtC20LXRgiDRg9C00LDQu9C40YLRjCDRhNC+0YLQviDQuNC3INCz0LDQu9C10YDQtdC4LiDQndC+0LLRi9C5INC80LDRgdGB0LjQsiDQvdCw0LTQviDQv9C+0LzQtdGB0YLQuNGC0Ywg0Log0LTQvtC60YPQvNC10L3RgtGDCgogICAgICAgIGlmIGhhc2hNYXAuY29udGFpbnNLZXkoInBob3RvR2FsbGVyeSIpOiAgIyDRjdGC0LggMiDQvtCx0YDQsNCx0L7RgtGH0LjQutCwIC0g0LDQvdCw0LvQvtCz0LjRh9C90YvQtSwg0L/RgNC+0YHRgtC+INC00LvRjyDRgNCw0LfQvdGL0YUg0YHQvtCx0YvRgtC40LkKICAgICAgICAgICAganBob3RvYXJyID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgicGhvdG9HYWxsZXJ5IikpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCJwaG90b0dhbGxlcnkiLCBqc29uLmR1bXBzKGpwaG90b2FycikpCiAgICAgICAgICAgICMgaGFzaE1hcC5wdXQoInRvYXN0IiwiIzIiK2pzb24uZHVtcHMoanBob3RvYXJyKSkKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBlbGVtX3ZpZXZfb25fY2xpY2soaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgbGlzdGVuZXIgPSBoYXNoTWFwLmdldCgibGlzdGVuZXIiKQoKICAgIGlmIGxpc3RlbmVyID09ICJidG5fb2siOgogICAgICAgICMg0L/QvtC70YPRh9C40Lwg0YLQtdC60YPRidGD0Y4g0YHRgtGA0L7QutGDINC00L7QutGD0LzQtdC90YLQsAogICAgICAgIGN1cnJlbnRfc3RyID0gaGFzaE1hcC5nZXQoInNlbGVjdGVkX2NhcmRfcG9zaXRpb24iKQogICAgICAgICPQldGB0LvQuCDRgdGC0YDQvtC60LAg0L3QtSDRgdGD0YnQtdGB0YLQstGD0LXRgiwg0YHQvtC30LTQsNC00LjQvCDQtdC1CiAgICAgICAgZG9jID0gdWlfZ2xvYmFsLlJzX2RvYwogICAgICAgIGRvYy5pZF9kb2MgPSBoYXNoTWFwLmdldCgnaWRfZG9jJykKICAgICAgICAjIGlmIGN1cnJlbnRfc3RyID09JzAnOgogICAgICAgICMgICAgIHBhc3MKICAgICAgICAgICAgI2psaXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXQogICAgICAgICNlbHNlOgogICAgICAgIGN1cnJlbnRfZWxlbSA9IGdldF9jdXJyZW50X2VsZW1fZG9jX2dvb2RzKGhhc2hNYXAsIGN1cnJlbnRfc3RyKQogICAgICAgIGRvYy5pZF9zdHIgPSBpbnQoY3VycmVudF9lbGVtWydrZXknXSkKICAgICAgICAjIC4uLiDQuCDQt9Cw0L/QuNGI0LXQvCDQtdC1INCyINCx0LDQt9GDCgogICAgICAgIHF0dHkgPSBoYXNoTWFwLmdldCgncXR0eScpCiAgICAgICAgZG9jLnF0dHkgPSBmbG9hdChxdHR5KSBpZiBxdHR5IGVsc2UgMAoKICAgICAgICBkb2MudXBkYXRlX2RvY19zdHIoZG9jLCBoYXNoTWFwLmdldCgncHJpY2UnKSkgICMgKGRvYywgKQoKICAgICAgICByZW1vdmVfYWRkZWRfZ29vZF9oaWdobGlnaHQoaGFzaE1hcCwgc3RyKGN1cnJlbnRfZWxlbVsnaWRfZ29vZCddKSwgc3RyKGN1cnJlbnRfZWxlbVsnaWRfcHJvcGVydGllcyddKSkKCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9jYW5jZWwiOgoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCiAgICBlbGlmIGxpc3RlbmVyID09ICJCQUNLX0JVVFRPTiI6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQogICAgZWxpZiBsaXN0ZW5lciA9PSAiIjoKICAgICAgICBoYXNoTWFwLnB1dCgicXR0eSIsIHN0cihmbG9hdChoYXNoTWFwLmdldCgncXR0eScpKSkpCiAgICBlbGlmIGxpc3RlbmVyID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKCiAgICBlbGlmIGxpc3RlbmVyID09ICJwaG90byI6CgogICAgICAgICMg0JzQvtC20L3QviDQstC+0L7QsdGJ0LUg0Y3RgtC+0LPQviDQvdC1INC00LXQu9Cw0YLRjC3QvtGB0YLQsNCy0LvRj9GC0Ywg0LrQsNC6INC10YHRgtGMLiDQrdGC0L4g0LTQu9GPINC/0YDQuNC80LXRgNCwLgogICAgICAgIGltYWdlX2ZpbGUgPSBzdHIoCiAgICAgICAgICAgIGhhc2hNYXAuZ2V0KCJwaG90b19wYXRoIikpICAjICLQv9C10YDQtdC80LXQvdC90LDRjyIrIl9wYXRoIiAtINGB0Y7QtNCwINC/0L7QvNC10YnQsNC10YLRgdGPINC/0YPRgtGMINC6INC/0L7Qu9GD0YfQtdC90L3QvtC5INGE0L7RgtC+0LPRgNCw0YTQuNC4CgogICAgICAgIGltYWdlID0gSW1hZ2Uub3BlbihpbWFnZV9maWxlKQoKICAgICAgICAjINGB0YDQsNC30YMg0YHQtNC10LvQsNC10Lwg0YTQvtGC0LrRgyAtINC60LLQsNC00YDQsNGC0L3QvtC5IC0g0Y3RgtC+INC/0YDQvtGB0YLQvtC5INCy0LDRgNC40LDQvdGCLiDQnNC+0LbQvdC+INGB0LTQtdC70LDRgtGMINC90LDQv9GA0LjQvNC10YAg0L7RgtC00LXQu9GM0L4g0LzQuNC90LjQsNGC0Y7RgNGLINC00LvRjyDRgdC/0LjRgdC60LAsINGN0YLQviDQvdC10LzQvdC+0LPQviDRgdC70L7QttC90LXQtQogICAgICAgIGltID0gaW1hZ2UucmVzaXplKCg1MDAsIDUwMCkpCiAgICAgICAgaW0uc2F2ZShpbWFnZV9maWxlKQoKICAgICAgICBqcGhvdG9hcnIgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJwaG90b0dhbGxlcnkiKSkKICAgICAgICBoYXNoTWFwLnB1dCgicGhvdG9HYWxsZXJ5IiwganNvbi5kdW1wcyhqcGhvdG9hcnIpKQogICAgICAgICMgaGFzaE1hcC5wdXQoInRvYXN0Iixqc29uLmR1bXBzKGpwaG90b2FycikpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAiZ2FsbGVyeV9jaGFuZ2UiOiAgIyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0LzQvtC20LXRgiDRg9C00LDQu9C40YLRjCDRhNC+0YLQviDQuNC3INCz0LDQu9C10YDQtdC4LiDQndC+0LLRi9C5INC80LDRgdGB0LjQsiDQvdCw0LTQviDQv9C+0LzQtdGB0YLQuNGC0Ywg0Log0LTQvtC60YPQvNC10L3RgtGDCgogICAgICAgIGlmIGhhc2hNYXAuY29udGFpbnNLZXkoInBob3RvR2FsbGVyeSIpOiAgIyDRjdGC0LggMiDQvtCx0YDQsNCx0L7RgtGH0LjQutCwIC0g0LDQvdCw0LvQvtCz0LjRh9C90YvQtSwg0L/RgNC+0YHRgtC+INC00LvRjyDRgNCw0LfQvdGL0YUg0YHQvtCx0YvRgtC40LkKICAgICAgICAgICAganBob3RvYXJyID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgicGhvdG9HYWxsZXJ5IikpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCJwaG90b0dhbGxlcnkiLCBqc29uLmR1bXBzKGpwaG90b2FycikpCiAgICAgICAgICAgICMgaGFzaE1hcC5wdXQoInRvYXN0IiwiIzIiK2pzb24uZHVtcHMoanBob3RvYXJyKSkKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBwcmljZXNfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWRfZ29vZCA9IGhhc2hNYXAuZ2V0KCdpZF9nb29kJykKICAgICMg0KTQvtGA0LzQuNGA0YPQtdC8INGC0LDQsdC70LjRhtGDINC60LDRgNGC0L7Rh9C10Log0Lgg0LfQsNC/0YDQvtGBINC6INCx0LDQt9C1CiAgICBnb29kc19wcmljZV9saXN0ID0gdWlfZm9ybV9kYXRhLmdldF9wcmljZV9jYXJkKHJzX3NldHRpbmdzKQogICAgZ29vZHNfcHJpY2VfbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10gPSBbXQoKICAgIHF1ZXJ5X3RleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X3ByaWNlX3F1ZXJ5KCkKCiAgICByZXN1bHRzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCwgKGlkX2dvb2QsKSkKICAgIGZvciByZWNvcmQgaW4gcmVzdWx0czoKICAgICAgICBwcm9kdWN0X3JvdyA9IHsKICAgICAgICAgICAgJ2tleSc6IHN0cihyZWNvcmRbMF0pLAogICAgICAgICAgICAnZ29vZF9uYW1lJzogc3RyKHJlY29yZFszXSksCiAgICAgICAgICAgICMgJ2lkX3Byb3BlcnRpZXMnOiBzdHIocmVjb3JkWzNdKSwKICAgICAgICAgICAgJ3Byb3BlcnRpZXNfbmFtZSc6IHN0cihyZWNvcmRbNV0pLAogICAgICAgICAgICAjICdpZF9zZXJpZXMnOiBzdHIocmVjb3JkWzVdKSwKICAgICAgICAgICAgJ3Nlcmllc19uYW1lJzogc3RyKHJlY29yZFs3XSl9CiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBwcmljZXNfb25faW5wdXQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gImdldF9wcmljZXNfYnRuIjoKICAgICAgICBnZXRfcHJpY2VzKGhhc2hNYXApCiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAicHJpY2VfdHlwZV9zZWxlY3QiOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgJ9CS0YvQsdC+0YAg0YLQuNC/0LAg0YbQtdC90YsnKQogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gInByb3BlcnR5X3NlbGVjdCI6CiAgICAgICAgZ2V0X2dvb2RfYnlfYXJ0KGhhc2hNYXApCiAgICAgICAgaWYgaGFzaE1hcC5nZXQoJ2lucHV0X2dvb2RfaWQnKToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAn0JLRi9Cx0L7RgCDRhdCw0YDQsNC60YLQtdGA0LjRgdGC0LjQuicpCiAgICAgICAgICAgICMgcmV0dXJuIGhhc2hNYXAKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICJ1bml0X3NlbGVjdCI6CiAgICAgICAgZ2V0X2dvb2RfYnlfYXJ0KGhhc2hNYXApCiAgICAgICAgaWYgaGFzaE1hcC5nZXQoJ2lucHV0X2dvb2RfaWQnKToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAn0JLRi9Cx0L7RgCDRg9C/0LDQutC+0LLQutC4JykKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICJiYXJjb2RlIjoKICAgICAgICBpZGVudGlmeV9iYXJjb2RlX3ByaWNlcyhoYXNoTWFwKQogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gIk9OX0JBQ0tfUFJFU1NFRCI6CiAgICAgICAga2lsbF9wcmljZV90YWJsZXMoaGFzaE1hcCkKICAgICAgICBpZiBoYXNoTWFwLmdldCgncmV0dXJuX3RvX2dvb2RfY2FyZCcpOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgiRmluaXNoUHJvY2Vzc1Jlc3VsdCIsICIiKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCJGaW5pc2hQcm9jZXNzIiwgIiIpCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBwcmljZV90eXBlc19vbl9pbnB1dChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ0NhcmRzQ2xpY2snOgogICAgICAgIHNlbGVjdGVkX3ByaWNlX3R5cGVfaWQgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9rZXkiKQogICAgICAgIHNlbGVjdGVkX3ByaWNlX3R5cGVfbmFtZSA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KCJTRUxFQ1QgbmFtZSBGUk9NIFJTX3ByaWNlX3R5cGVzIHdoZXJlIGlkID0gJyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3ByaWNlX3R5cGVfaWQgKyAiJyIpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX3ByaWNlX3R5cGVfaWQnLCBzdHIoc2VsZWN0ZWRfcHJpY2VfdHlwZV9pZCkpCiAgICAgICAgaGFzaE1hcC5wdXQoInByaWNlX3R5cGVfc2VsZWN0Iiwgc3RyKHNlbGVjdGVkX3ByaWNlX3R5cGVfbmFtZVswXSkuc3BsaXQoIiciKVsxXSkKICAgICAgICBoYXNoTWFwLnB1dCgiQmFja1NjcmVlbiIsICIiKQogICAgICAgIHJldHVybiBoYXNoTWFwCgogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ2JhY2tfdG9fcHJpY2VzJyBvciAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBiYWNrX3RvX3ByaWNlcyhoYXNoTWFwKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgcHJvcGVydGllc19vbl9pbnB1dChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnQ2FyZHNDbGljayc6CiAgICAgICAgc2VsZWN0ZWRfcHJvcGVydHlfaWQgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9rZXkiKQogICAgICAgIHNlbGVjdGVkX3Byb3BlcnR5X25hbWUgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgiU0VMRUNUIG5hbWUgRlJPTSBSU19wcm9wZXJ0aWVzIHdoZXJlIGlkID0gJyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF9wcm9wZXJ0eV9pZCArICInIikKCiAgICAgICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX3Byb3BlcnR5X2lkJywgc3RyKHNlbGVjdGVkX3Byb3BlcnR5X2lkKSkKICAgICAgICBoYXNoTWFwLnB1dCgicHJvcGVydHlfc2VsZWN0Iiwgc3RyKHNlbGVjdGVkX3Byb3BlcnR5X25hbWVbMF0pLnNwbGl0KCInIilbMV0pCiAgICAgICAgaGFzaE1hcC5wdXQoIkJhY2tTY3JlZW4iLCAiIikKICAgICAgICByZXR1cm4gaGFzaE1hcAogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ2JhY2tfdG9fcHJpY2VzJyBvciAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBiYWNrX3RvX3ByaWNlcyhoYXNoTWFwKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIHVuaXRzX29uX2lucHV0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICdDYXJkc0NsaWNrJzoKICAgICAgICBzZWxlY3RlZF91bml0X2lkID0gaGFzaE1hcC5nZXQoInNlbGVjdGVkX2NhcmRfa2V5IikKICAgICAgICBzZWxlY3RlZF91bml0X25hbWUgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgiU0VMRUNUIG5hbWUgRlJPTSBSU191bml0cyB3aGVyZSBpZCA9ICciICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF91bml0X2lkICsgIiciKQogICAgICAgIGhhc2hNYXAucHV0KCdzZWxlY3RlZF91bml0X2lkJywgc3RyKHNlbGVjdGVkX3VuaXRfaWQpKQogICAgICAgIGhhc2hNYXAucHV0KCJ1bml0X3NlbGVjdCIsIHN0cihzZWxlY3RlZF91bml0X25hbWVbMF0pLnNwbGl0KCInIilbMV0pCiAgICAgICAgaGFzaE1hcC5wdXQoIkJhY2tTY3JlZW4iLCAiIikKICAgICAgICByZXR1cm4gaGFzaE1hcAogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ2JhY2tfdG9fcHJpY2VzJyBvciAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBiYWNrX3RvX3ByaWNlcyhoYXNoTWFwKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgcHJpY2VzX3RhYmxlc19vbl9pbnB1dChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnc2hvd19maWx0ZXJzJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQn9GA0L7QstC10YDQutCwINGG0LXQvSIpCgogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ09OX0JBQ0tfUFJFU1NFRCc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ2JhcmNvZGUnLCAnJykKICAgICAgICBoYXNoTWFwLnB1dCgncHJvcGVydHlfaWQnLCAnJykKCiAgICAgICAgaWYgaGFzaE1hcC5nZXQoInJldHVybl90b19nb29kX2NhcmQiKToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoIkJhY2tTY3JlZW4iLCAnJykKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfZ29vZF9pZCcsICcnKQoKICAgICAgICAgICAgaWYgaGFzaE1hcC5nZXQoImN1cnJlbnRfc2NyZWVuX25hbWUiKSA9PSAi0KLQsNCx0LvQuNGG0LAg0L7RgdGC0LDRgtC60L7QsiI6CiAgICAgICAgICAgICAgICBraWxsX3JlbWFpbnNfdGFibGVzKGhhc2hNYXApCiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQn9GA0L7QstC10YDQuNGC0Ywg0L7RgdGC0LDRgtC60LgnKQogICAgICAgICAgICBlbGlmIGhhc2hNYXAuZ2V0KCJjdXJyZW50X3NjcmVlbl9uYW1lIikgPT0gItCi0LDQsdC70LjRhtCwINGG0LXQvSI6CiAgICAgICAgICAgICAgICBraWxsX3ByaWNlX3RhYmxlcyhoYXNoTWFwKQogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0J/RgNC+0LLQtdGA0LrQsCDRhtC10L0nKQogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ2JhcmNvZGUnOgogICAgICAgIGlkZW50aWZ5X2JhcmNvZGVfcHJpY2VzKGhhc2hNYXApCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgaWRlbnRpZnlfYmFyY29kZV9wcmljZXMoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgaGFzaE1hcC5nZXQoJ2JhcmNvZGUnKToKICAgICAgICBoYXNoTWFwLnB1dCgnYmFyY29kZV9pbmZvJywgc3RyKGhhc2hNYXAuZ2V0KCdiYXJjb2RlJykpKQoKICAgICAgICBiYXJjb2RlID0gaGFzaE1hcC5nZXQoJ2JhcmNvZGUnKQogICAgICAgIGJhcmNvZGVfZ29vZF9xdWVyeSA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KAogICAgICAgICAgICAiU0VMRUNUIGlkX2dvb2QsaWRfcHJvcGVydHkgRlJPTSBSU19iYXJjb2RlcyB3aGVyZSBiYXJjb2RlID0gJyIgKyBiYXJjb2RlICsgIiciKQoKICAgICAgICBpZiBiYXJjb2RlX2dvb2RfcXVlcnlbMF1bMF06CiAgICAgICAgICAgIGdvb2RfaWQgPSBiYXJjb2RlX2dvb2RfcXVlcnlbMF1bMF0KICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2lucHV0X2dvb2RfaWQnLCBiYXJjb2RlX2dvb2RfcXVlcnlbMF1bMF0pCgogICAgICAgICAgICBpZiBsZW4oZ29vZF9pZCkgPiAwOgogICAgICAgICAgICAgICAgZ29vZF9xdWVyeSA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KAogICAgICAgICAgICAgICAgICAgICJTRUxFQ1QgbmFtZSxhcnQsdHlwZV9nb29kIEZST00gUlNfZ29vZHMgd2hlcmUgaWQgPSAnIiArIGdvb2RfaWQgKyAiJyIpCgogICAgICAgICAgICAgICAgaWYgZ29vZF9xdWVyeVswXVswXToKICAgICAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgncHJpY2VzX29iamVjdF9uYW1lJywgZ29vZF9xdWVyeVswXVswXSkKICAgICAgICAgICAgICAgIGlmIGdvb2RfcXVlcnlbMF1bMV06CiAgICAgICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2lucHV0X2dvb2RfYXJ0JywgZ29vZF9xdWVyeVswXVsxXSkKICAgICAgICAgICAgICAgIGlmIGdvb2RfcXVlcnlbMF1bMl06CiAgICAgICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2dvb2RfdHlwZV9pZCcsIGdvb2RfcXVlcnlbMF1bMl0pCiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgncHJpY2VzX2Vycm9yX21zZycsICIiKQoKICAgICAgICBpZiBiYXJjb2RlX2dvb2RfcXVlcnlbMF1bMV06CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdwcm9wZXJ0eV9pZCcsIGJhcmNvZGVfZ29vZF9xdWVyeVswXVsxXSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgncHJpY2VzX2Vycm9yX21zZycsICLQqNGC0YDQuNGF0LrQvtC0INC90LUg0YDQsNGB0L/QvtC30L3QsNC9IikKICAgIGdldF9wcmljZXMoaGFzaE1hcCkKCgpkZWYgYmFja190b19wcmljZXMoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgaGFzaE1hcC5nZXQoJ2N1cnJlbnRfc2NyZWVuX25hbWUnKSA9PSAi0JLRi9Cx0L7RgCDRgtC40L/QsCDRhtC10L3RiyI6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX3ByaWNlX3R5cGVfaWQnLCAnJykKICAgICAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfcHJpY2VfdHlwZV9uYW1lJywgJycpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3ByaWNlX3R5cGVfc2VsZWN0JywgJycpCgogICAgaWYgaGFzaE1hcC5nZXQoJ2N1cnJlbnRfc2NyZWVuX25hbWUnKSA9PSAi0JLRi9Cx0L7RgCDRhdCw0YDQsNC60YLQtdGA0LjRgdGC0LjQuiI6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX3Byb3BlcnR5X2lkJywgJycpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX3Byb3BlcnR5X25hbWUnLCAnJykKICAgICAgICBoYXNoTWFwLnB1dCgicHJvcGVydHlfc2VsZWN0IiwgJycpCgogICAgaWYgaGFzaE1hcC5nZXQoJ2N1cnJlbnRfc2NyZWVuX25hbWUnKSA9PSAi0JLRi9Cx0L7RgCDRg9C/0LDQutC+0LLQutC4IjoKICAgICAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfdW5pdF9pZCcsICIiKQogICAgICAgIGhhc2hNYXAucHV0KCdzZWxlY3RlZF91bml0X25hbWUnLCAnJykKICAgICAgICBoYXNoTWFwLnB1dCgidW5pdF9zZWxlY3QiLCAiIikKICAgIGhhc2hNYXAucHV0KCJCYWNrU2NyZWVuIiwgIiIpCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBuZXdfZG9jX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGlmIGhhc2hNYXAuZ2V0KCdkb2NfdHlwZV9zZWxlY3QnKSA9PSBOb25lOgogICAgICAgICMg0JfQsNC/0L7Qu9C90LjQvCDQv9C+0LvQtSDRhNC40LvRjNGC0YDQsCDQv9C+INCy0LjQtNGDINC00L7QutGD0LzQtdC90YLQvtCyCiAgICAgICAgcmVzdWx0ID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQodWlfZm9ybV9kYXRhLmdldF9kb2NfdHlwZV9xdWVyeSgpKQogICAgICAgIGRvY190eXBlX2xpc3QgPSBbJ9CS0YHQtSddCiAgICAgICAgZm9yIHJlY29yZCBpbiByZXN1bHQ6CiAgICAgICAgICAgIGRvY190eXBlX2xpc3QuYXBwZW5kKHJlY29yZFswXSkKICAgICAgICBoYXNoTWFwLnB1dCgnZG9jX3R5cGVfc2VsZWN0JywgJzsnLmpvaW4oZG9jX3R5cGVfbGlzdCkpCgogICAgaWYgaGFzaE1hcC5nZXQoJ2NvdW50cmFnZW50JykgPT0gTm9uZToKICAgICAgICAjZmxkX2NvdW50cmFnZW50ID0gdWlfZ2xvYmFsLmdldF9uYW1lX2xpc3QoJ1JTX2NvdW50cmFnZW50cycpCgogICAgICAgIGhhc2hNYXAucHV0KCdjb3VudHJhZ2VudCcsICfQmtC+0L3RgtGA0LDQs9C10L3RgicpICAjZmxkX2NvdW50cmFnZW50CgogICAgaWYgaGFzaE1hcC5nZXQoJ3dhcmVob3VzZScpID09IE5vbmU6CiAgICAgICAgI2ZsZF9jb3VudHJhZ2VudCA9IHVpX2dsb2JhbC5nZXRfbmFtZV9saXN0KCdSU193YXJlaG91c2VzJykKICAgICAgICBoYXNoTWFwLnB1dCgnd2FyZWhvdXNlJywgJ9Ch0LrQu9Cw0LQnKSAjZG9jX3dhcmVob3VzZQoKICAgIGlmIG5vdCBoYXNoTWFwLmNvbnRhaW5zS2V5KCdkb2NfZGF0ZScpOgogICAgICAgIGhhc2hNYXAucHV0KCdkb2NfZGF0ZScsICcwMS4wMS4yMDIyJykKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBuZXdfZG9jX29uX3NlbGVjdChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpCiAgICB0eXBlID0gaGFzaE1hcC5nZXQoJ2RvY190eXBlX2NsaWNrJykKICAgIGlmIG5vdCB0eXBlOgogICAgICAgIHR5cGUgPSAn0J/RgNC40YXQvtC0JwogICAgZmxkX251bWJlciA9IGhhc2hNYXAuZ2V0KCdmbGRfbnVtYmVyJykKCiAgICBpZiBsaXN0ZW5lciA9PSAiYnRuX29rIjoKICAgICAgICBpZiBub3QgdHlwZSBvciB0eXBlPT0n0JLRgdC1JzoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0Jywn0KPQutCw0LbQuNGC0LUg0YLQuNC/INC00L7QutGD0LzQtdC90YLQsCcpCiAgICAgICAgICAgIHJldHVybiBoYXNoTWFwCgogICAgICAgIGlmIG5vdCBmbGRfbnVtYmVyOgoKICAgICAgICAgICAgaWQgPSB1aV9nbG9iYWwuUnNfZG9jLmdldF9uZXdfaWQoMSkKICAgICAgICAgICAgIyBpZCA9IChmJ3tpZDowNH0nKQogICAgICAgICAgICAjIGlkID0gInswOjA+NH0iLmZvcm1hdChpZCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZCA9IGZsZF9udW1iZXIKCiAgICAgICAgdHJ5OgogICAgICAgICAgICB1aV9nbG9iYWwuUnNfZG9jLmFkZCgnMDEnLCAoaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQsICAjIGhhc2hNYXAuZ2V0KCdmbGRfbnVtYmVyJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2hNYXAuZ2V0KCdmbGRfZGF0YScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlfZ2xvYmFsLmdldF9ieV9uYW1lKGhhc2hNYXAuZ2V0KCdjb3VudHJhZ2VudCcpLCAnUlNfY291bnRyYWdlbnRzJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aV9nbG9iYWwuZ2V0X2J5X25hbWUoaGFzaE1hcC5nZXQoJ3dhcmVob3VzZScpLCAnUlNfd2FyZWhvdXNlcycpKSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0JTQvtC60YPQvNC10L3RgtGLJykKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQndC+0LzQtdGAINC00L7QutGD0LzQtdC90YLQsCDQvdC10YPQvdC40LrQsNC70LXQvSEnKQoKCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fY2FuY2VsJzoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQlNC+0LrRg9C80LXQvdGC0YsnKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnZmxkX2RhdGEnOgogICAgICAgIGhhc2hNYXAucHV0KCdkb2NfZGF0ZScsIGhhc2hNYXAuZ2V0KCdmbGRfZGF0YScpKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGC0YsiKQogICAgZWxpZiBsaXN0ZW5lciA9PSdidG5fc2VsZWN0X3dhcmVob3VzZSc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3RhYmxlX2Zvcl9zZWxlY3QnLCAnUlNfd2FyZWhvdXNlcycpICAjINCi0LDQsdC70LjRhtCwINC00LvRjyDQstGL0LHQvtGA0LAg0LfQvdCw0YfQtdC90LjRjwogICAgICAgIGhhc2hNYXAucHV0KCdTZXRSZXN1bHRMaXN0ZW5lcicsICdzZWxlY3RfY2VsbF92YWx1ZScpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2ZpbHRlcl9maWVsZHMnLCAnbmFtZScpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dQcm9jZXNzUmVzdWx0JywgJ9Cj0L3QuNCy0LXRgNGB0LDQu9GM0L3Ri9C5INGB0L/RgNCw0LLQvtGH0L3QuNC6fNCh0L/RgNCw0LLQvtGH0L3QuNC6JykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9zZWxlY3RfY291bnRyYWdlbnQnOgogICAgICAgIGhhc2hNYXAucHV0KCd0YWJsZV9mb3Jfc2VsZWN0JywgJ1JTX2NvdW50cmFnZW50cycpICAjINCi0LDQsdC70LjRhtCwINC00LvRjyDQstGL0LHQvtGA0LAg0LfQvdCw0YfQtdC90LjRjwogICAgICAgIGhhc2hNYXAucHV0KCdTZXRSZXN1bHRMaXN0ZW5lcicsICdzZWxlY3RfY2VsbF92YWx1ZScpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2ZpbHRlcl9maWVsZHMnLCAnbmFtZTtmdWxsX25hbWU7aW5uO2twcCcpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dQcm9jZXNzUmVzdWx0JywgJ9Cj0L3QuNCy0LXRgNGB0LDQu9GM0L3Ri9C5INGB0L/RgNCw0LLQvtGH0L3QuNC6fNCh0L/RgNCw0LLQvtGH0L3QuNC6JykKCiAgICBlbGlmIGxpc3RlbmVyID09ICdzZWxlY3RfY2VsbF92YWx1ZSc6CiAgICAgICAgaWYgaGFzaE1hcC5nZXQoJ3RhYmxlX2Zvcl9zZWxlY3QnKSA9PSAnUlNfY291bnRyYWdlbnRzJzoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2NvdW50cmFnZW50JywgaGFzaE1hcC5nZXQoJ2N1cnJlbnRfbmFtZScpKSAjZmxkX2NvdW50cmFnZW50CiAgICAgICAgZWxpZiBoYXNoTWFwLmdldCgndGFibGVfZm9yX3NlbGVjdCcpID09ICdSU193YXJlaG91c2VzJzoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3dhcmVob3VzZScsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X25hbWUnKSkgICMgZmxkX2NvdW50cmFnZW50CiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBkb2NfYmFyY29kZXNfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgZG9jX2RldGFpbF9saXN0ID0gdWlfZm9ybV9kYXRhLmdldF9iYXJjb2RlX2NhcmQocnNfc2V0dGluZ3MpCiAgICBxdWVyeV90ZXh0ID0gdWlfZm9ybV9kYXRhLmdldF9iYXJjb2RlX3F1ZXJ5KCkKICAgIGlkX2RvYyA9IGhhc2hNYXAuZ2V0KCdpZF9kb2MnKQogICAgcmVzdWx0cyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsIChpZF9kb2MsKSkKCiAgICBmb3IgcmVjb3JkIGluIHJlc3VsdHM6CiAgICAgICAgcHJvZHVjdF9yb3cgPSB7CiAgICAgICAgICAgICdrZXknOiBzdHIocmVjb3JkWzBdKSwKICAgICAgICAgICAgJ2JhcmNvZGVfdmFsdWUnOiBzdHIocmVjb3JkWzNdKSwKICAgICAgICAgICAgJ2FwcHJvdmVkJzogc3RyKHJlY29yZFs0XSkKCiAgICAgICAgfQoKICAgICAgICBkb2NfZGV0YWlsX2xpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddLmFwcGVuZChwcm9kdWN0X3JvdykKCiAgICBoYXNoTWFwLnB1dCgiYmFyY19jYXJkcyIsIGpzb24uZHVtcHMoZG9jX2RldGFpbF9saXN0KSkKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBkb2NfYmFyY29kZXNfbGlzdGVuZXIoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ09OX0JBQ0tfUFJFU1NFRCc6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgYmFyY29kZV9lcnJvcl9zY3JlZW5fbGlzdGVuZXIoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ09OX0JBQ0tfUFJFU1NFRCc6CiAgICAgICAgIyBzdUNsYXNzLnVyb3ZvX3NldF9sb2NrX3RyaWdnZXIoRmFsc2UpCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQogICAgZWxpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnYnRuX2NvbnRpbnVlX3NjYW4nOgogICAgICAgICMgc3VDbGFzcy51cm92b19zZXRfbG9ja190cmlnZ2VyKEZhbHNlKQogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIHRpbGVzX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIHNtYWxsX3RpbGUgPSB1aV9mb3JtX2RhdGEuZ2V0X2RvY190aWxlcyhyc19zZXR0aW5ncykKICAgIHF0ZXh0ID0gdWlfZm9ybV9kYXRhLmdldF9kb2NzX3N0YXRfcXVlcnkoKQogICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsIE5vbmUsIFRydWUpCgogICAgeCA9IHsndGlsZXMnOiBbW11dLCAiYmFja2dyb3VuZF9jb2xvciI6ICIjZjVmNWY1In0KCiAgICAjIHhbJ3RpbGVzJzpbMF1bMF1dPTEKICAgIHJvd3MgPSAxCiAgICBjb2x1bW5zID0gMQogICAgZm9yIGVsIGluIHJlczoKICAgICAgICBpZiBlbFsnZG9jVHlwZSddPT1Ob25lOgogICAgICAgICAgICBjb250aW51ZQogICAgICAgIGlmIGNvbHVtbnMgJSAzID09IDA6CiAgICAgICAgICAgIHJvd3MgKz0gMQogICAgICAgICAgICBjb2x1bW5zID0gMAogICAgICAgICAgICB4Wyd0aWxlcyddLmFwcGVuZChbXSkKICAgICAgICBjb2x1bW5zICs9IDEKCiAgICAgICAgdGlsZSA9IHsKCiAgICAgICAgICAgICJsYXlvdXQiOiBzbWFsbF90aWxlLAogICAgICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgICAgICJkb2NOYW1lIjogZWxbJ2RvY1R5cGUnXSwKICAgICAgICAgICAgICAgICdRdHR5T2ZEb2NzJzogc3RyKGVsWydjb3VudCddKSArICcvJyArIHN0cihlbFsndmVyaWZpZWQnXSksCiAgICAgICAgICAgICAgICAjICdRdHR5T2ZEb2NzSW5jb21wbGV0ZWQnOmVsWydjb3VudCddIC0gZWxbJ3ZlcmlmaWVkJ10KICAgICAgICAgICAgICAgICdjb3VudF92ZXJpZmllZCc6IHN0cihlbFsnY291bnRfdmVyaWZpZWQnXStlbFsnY291bnRfdW52ZXJpZmllZCddKSArICcvJyArIHN0cihlbFsnY291bnRfdW52ZXJpZmllZCddKSwKICAgICAgICAgICAgICAgICdxdHR5X3BsYW5fdmVyaWZpZWQnOiBzdHIoZWxbJ3F0dHlfcGxhbl92ZXJpZmllZCddK2VsWydxdHR5X3BsYW5fdW52ZXJpZmllZCddKSArICcvJyArIHN0cihlbFsncXR0eV9wbGFuX3VudmVyaWZpZWQnXSksCgogICAgICAgICAgICB9LAogICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICJjb2xvciI6ICcjRkZGRkZGJywgICMgIiNGRkNDOTkiLAogICAgICAgICAgICAic3RhcnRfc2NyZWVuIjogItCU0L7QutGD0LzQtdC90YLRiyIsCgogICAgICAgICAgICAic3RhcnRfcHJvY2VzcyI6ICIiLAogICAgICAgICAgICAna2V5JzogZWxbJ2RvY1R5cGUnXQogICAgICAgIH0KCiAgICAgICAgeFsndGlsZXMnXVtyb3dzIC0gMV0uYXBwZW5kKHRpbGUpCgogICAgaGFzaE1hcC5wdXQoInRpbGVzIiwganNvbi5kdW1wcyh4LCBlbnN1cmVfYXNjaWk9RmFsc2UpLmVuY29kZSgndXRmOCcpLmRlY29kZSgpKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgdGlsZXNfb25fc2VsZWN0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGxpc3RlbmVyID0gaGFzaE1hcC5nZXQoImxpc3RlbmVyIikKCiAgICBpZiBsaXN0ZW5lciA9PSAiQ2FyZHNDbGljayI6CiAgICAgICAgcGFzcwogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKCiAgICAgICAgaGFzaE1hcC5wdXQoJ0ZpbmlzaFByb2Nlc3MnLCAnJykKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGFwcF9vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICAjIGhhc2hNYXAucHV0KCdJbnN0YWxsQ29uZmlndXJhdGlvbicsICcnKQogICAgIyBoYXNoTWFwLnB1dCgnVXBkYXRlTWVudScsICcnKQogICAgIyBoYXNoTWFwLnB1dCgndG9hc3QnLCAn0JrQvtC90YTQsCDRg9GB0YLQsNC90L7QstC70LXQvdCwISEhJykKICAgIHNoZW1hID0gZGF0YWJhc2VfaW5pdF9xdWVyeWVzLmRhdGFiYXNlX3NoZW1hKCkKICAgIGZvciBlbCBpbiBzaGVtYToKICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChlbCkKCgogICAgICAgICMgZm9yIHBhcmFtZXRlcl9uYW1lLCB2YWx1ZSBpbiBwYXJhbWV0ZXJzLml0ZW1zKCk6CiAgICAgICAgIyAgICAgc2V0X3BhcmFtcy5wdXQocGFyYW1ldGVyX25hbWUsdmFsdWUpCiAgICBpZiByc19zZXR0aW5ncy5nZXQoJ1RpdGxlVGV4dFNpemUnKSA9PSBOb25lOgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgiVGl0bGVUZXh0U2l6ZSIsICIxOCIsIFRydWUpCiAgICBpZiByc19zZXR0aW5ncy5nZXQoJ3RpdGxlRG9jVHlwZUNhcmRUZXh0U2l6ZScpID09IE5vbmU6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCJ0aXRsZURvY1R5cGVDYXJkVGV4dFNpemUiLCAiMTgiLCBUcnVlKQogICAgaWYgcnNfc2V0dGluZ3MuZ2V0KCdDYXJkVGl0bGVUZXh0U2l6ZScpID09IE5vbmU6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCJDYXJkVGl0bGVUZXh0U2l6ZSIsICIyMCIsIFRydWUpCiAgICBpZiByc19zZXR0aW5ncy5nZXQoJ0NhcmREYXRlVGV4dFNpemUnKSA9PSBOb25lOgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgiQ2FyZERhdGVUZXh0U2l6ZSIsICIxMCIsIFRydWUpCiAgICBpZiByc19zZXR0aW5ncy5nZXQoJ0NhcmRUZXh0U2l6ZScpID09IE5vbmU6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCJDYXJkVGV4dFNpemUiLCAiMTUiLCBUcnVlKQogICAgaWYgcnNfc2V0dGluZ3MuZ2V0KCdHb29kc0NhcmRUaXRsZVRleHRTaXplJykgPT0gTm9uZToKICAgICAgICByc19zZXR0aW5ncy5wdXQoIkdvb2RzQ2FyZFRpdGxlVGV4dFNpemUiLCAiMTgiLCBUcnVlKQogICAgaWYgcnNfc2V0dGluZ3MuZ2V0KCdnb29kc1RleHRTaXplJykgPT0gTm9uZToKICAgICAgICByc19zZXR0aW5ncy5wdXQoImdvb2RzVGV4dFNpemUiLCAiMTgiLCBUcnVlKQogICAgaWYgcnNfc2V0dGluZ3MuZ2V0KCdTZXJpZXNQcm9wZXJ0aWVzVGV4dFNpemUnKSA9PSBOb25lOgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgiU2VyaWVzUHJvcGVydGllc1RleHRTaXplIiwgIjE2IiwgVHJ1ZSkKICAgIGlmIHJzX3NldHRpbmdzLmdldCgnRG9jVHlwZUNhcmRUZXh0U2l6ZScpID09IE5vbmU6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCJEb2NUeXBlQ2FyZFRleHRTaXplIiwgIjE1IiwgVHJ1ZSkKICAgIGlmIHJzX3NldHRpbmdzLmdldCgnc2lnbmFsX251bScpID09IE5vbmU6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdzaWduYWxfbnVtJywgJzgzJywgVHJ1ZSkKICAgIGlmIHJzX3NldHRpbmdzLmdldCgnYmVlcF9kdXJhdGlvbicpID09IE5vbmU6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdiZWVwX2R1cmF0aW9uJywgJzEwMDAnLCBUcnVlKQoKICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQk9C+0YLQvtCyINC6INGA0LDQsdC+0YLQtScpCgogICAgIyDQn9GA0L7QstC10YDQuNC8LCDRgdCy0L7Qv9Cw0LTQsNGO0YIg0LvQuCDRgtC10LrRg9GJ0LjQuSDRgNC10LvQuNC3INC60L7QvdGE0Ysg0Lgg0LfQsNC/0LjRgdGMINC+INC90LXQvCDQsiDQkdCULCDQtdGB0LvQuCDQvdC10YIgLSDRgtC+INC90LDQtNC+INCy0YvQv9C+0LvQvdC40YLRjCDQv9GA0L7RhtC10LTRg9GA0YMg0L7QsdC90L7QstC70LXQvdC40Y8KICAgICMgaWYgbm90IHVpX2dsb2JhbC5nZXRfY29uc3RhbnRzKCdyZWxlYXNlJykgPT0gaGFzaE1hcC5nZXQoJ3JlbGVhc2UnKToKICAgICMgdXBkYXRlX3Byb2MudXBkYXRlX29uX3JlbGVhc2UoY3VycmVudF9yZWxlYXNlKQogICAgIyB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgnVXBkYXRlIFJTX2NvbnN0YW50cyBzZXQgcmVsZWFzZSA9ID8nLChoYXNoTWFwLmdldCgncmVsZWFzZScpLCkpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZmlsZV9saXN0X29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIHR4ID0gJycKCiAgICAjIHRyYXZlcnNlIHJvb3QgZGlyZWN0b3J5LCBhbmQgbGlzdCBkaXJlY3RvcmllcyBhcyBkaXJzIGFuZCBmaWxlcyBhcyBmaWxlcwogICAgZm9yIHJvb3QsIGRpcnMsIGZpbGVzIGluIG9zLndhbGsoIi4iKToKICAgICAgICBwYXRoID0gcm9vdC5zcGxpdChvcy5zZXApCiAgICAgICAgcHJpbnQoKGxlbihwYXRoKSAtIDEpICogJy0tLScsIG9zLnBhdGguYmFzZW5hbWUocm9vdCkpCiAgICAgICAgZm9yIGZpbGUgaW4gZmlsZXM6CiAgICAgICAgICAgIHByaW50KGxlbihwYXRoKSAqICctLS0nLCBmaWxlKQoKICAgIGhhc2hNYXAucHV0KCdmaWxlc19saXN0JywgdHgpCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBldmVudF9zZXJ2aWNlKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgICMgaGFzaE1hcC5wdXQoJ19jb25maWd1cmF0aW9uJywnJykKICAgIGhhc2hNYXAucHV0KCd3c19ib2R5JywgaGFzaE1hcC5nZXQoJ0FORFJPSURfSUQnKSkKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBwdXRfbm90aWZpY2F0aW9uKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGhhc2hNYXAucHV0KCdfY29uZmlndXJhdGlvbicsJycpCiAgICBxdGV4dCA9ICdTRUxFQ1QgZG9jX3R5cGUsIGNvdW50KGlkX2RvYykgYXMgY291bnQsIG1heChjcmVhdGVkX2F0KSBhcyBkdCBGUk9NIFJTX2RvY3MgV0hFUkUgY3JlYXRlZF9hdD4/IEdST1VQIEJZIGRvY190eXBlJwogICAgbGFzdERhdGUgPSByc19zZXR0aW5ncy5nZXQoJ2xhc3REYXRlJykKICAgIGlmIG5vdCBsYXN0RGF0ZToKICAgICAgICBsYXN0RGF0ZSA9ICcyMDIwLTAxLTAxIDAwOjAwOjAwJyAgIyBvbmVfbW9udGhfYWdvLnN0cmZ0aW1lKCclWS0lbS0lZC0lSC0lTS0lUycpCiAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwobGFzdERhdGUsKSxUcnVlKQogICAgRG9jTGlzdCA9ICcnCiAgICBpZiByZXM6CiAgICAgICAgZm9yIGVsIGluIHJlczoKICAgICAgICAgICAgRG9jTGlzdCA9IERvY0xpc3QgKyAoJyAnICsgZWxbJ2RvY190eXBlJ10gKyAnOiAnICsgc3RyKGVsWydjb3VudCddKSkKCiAgICAgICAgaGFzaE1hcC5wdXQoJ2Jhc2ljX25vdGlmaWNhdGlvbicsIGpzb24uZHVtcHMoW3snbnVtYmVyJzoxLCAndGl0bGUnOifQndC+0LLRi9C1INC00L7QutGD0LzQtdC90YLRiycsICdtZXNzYWdlJzogRG9jTGlzdCB9XSkpCiAgICAgICAgcXRleHQgPSAnU0VMRUNUIG1heChjcmVhdGVkX2F0KSBhcyBkdCBGUk9NIFJTX2RvY3MnCiAgICAgICAgcmVzMiA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0KQoKICAgICAgICByc19zZXR0aW5ncy5wdXQoJ2xhc3REYXRlJyxyZXMyWzBdWzBdLFRydWUpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0JyxsYXN0RGF0ZSkKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBmb250X3NpemVfc2V0dGluZ3NfbGlzdGVuZXIoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgbGlzdGVuZXIgPSBoYXNoTWFwLmdldCgnbGlzdGVuZXInKQogICAgaWYgbGlzdGVuZXIgPT0gJ2J0bl9vbl9zYXZlJyBvciBoYXNoTWFwLmdldCgnZXZlbnQnKT09J0lucHV0JzoKCiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCJUaXRsZVRleHRTaXplIiwgaGFzaE1hcC5nZXQoIlRpdGxlVGV4dFNpemUiKSwgVHJ1ZSkKICAgICAgICByc19zZXR0aW5ncy5wdXQoIkNhcmRUaXRsZVRleHRTaXplIiwgaGFzaE1hcC5nZXQoIkNhcmRUaXRsZVRleHRTaXplIiksIFRydWUpCiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCJDYXJkVGV4dFNpemUiLCBoYXNoTWFwLmdldCgiQ2FyZFRleHRTaXplIiksIFRydWUpCiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCJDYXJkRGF0ZVRleHRTaXplIiwgaGFzaE1hcC5nZXQoIkNhcmREYXRlVGV4dFNpemUiKSwgVHJ1ZSkKICAgICAgICByc19zZXR0aW5ncy5wdXQoIkdvb2RzQ2FyZFRpdGxlVGV4dFNpemUiLCBoYXNoTWFwLmdldCgiR29vZHNDYXJkVGl0bGVUZXh0U2l6ZSIpLCBUcnVlKQogICAgICAgIHJzX3NldHRpbmdzLnB1dCgiZ29vZHNUZXh0U2l6ZSIsIGhhc2hNYXAuZ2V0KCJnb29kc1RleHRTaXplIiksIFRydWUpCiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCJTZXJpZXNQcm9wZXJ0aWVzVGV4dFNpemUiLCBoYXNoTWFwLmdldCgiU2VyaWVzUHJvcGVydGllc1RleHRTaXplIiksIFRydWUpCiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCJEb2NUeXBlQ2FyZFRleHRTaXplIiwgaGFzaE1hcC5nZXQoIkRvY1R5cGVDYXJkVGV4dFNpemUiKSwgVHJ1ZSkKICAgICAgICByc19zZXR0aW5ncy5wdXQoInRpdGxlRG9jVHlwZUNhcmRUZXh0U2l6ZSIsIGhhc2hNYXAuZ2V0KCJ0aXRsZURvY1R5cGVDYXJkVGV4dFNpemUiKSwgVHJ1ZSkKICAgICAgICAjcGFyYW1zLnB1dCgic2lnbmFsX251bSIsIGhhc2hNYXAuZ2V0KCJzaWduYWxfbnVtIiksIFRydWUpCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fb25fY2FuY2VsJyBvciBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQndCw0YHRgtGA0L7QudC60Lgg0Lgg0L7QsdC80LXQvScpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZm9udF9zaXplc19vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgIyDQodC70L7QstCw0YDQuNC6INC90LDQt9Cy0LDQvdC40Lkg0Lgg0LjQvNC10L0g0YDQsNC30LzQtdGA0L7QsiDRiNGA0LjRhNGC0L7QsgogICAgc3MgPSB7CiAgICAgICAgJ1RpdGxlVGV4dFNpemUnOiAn0KDQsNC30LzQtdGAINC30LDQs9C+0LvQvtCy0LrQsCcsCiAgICAgICAgJ0NhcmRUaXRsZVRleHRTaXplJzogJ9Cg0LDQt9C80LXRgCDQt9Cw0LPQvtC70L7QstC60LAg0LrQsNGA0YLQvtGH0LrQuCcsCiAgICAgICAgIkNhcmREYXRlVGV4dFNpemUiOiAn0JTQsNC90L3Ri9C1INC60LDRgNGC0L7Rh9C60LgnLAogICAgICAgICdDYXJkVGV4dFNpemUnOifQoNCw0LfQvNC10YAg0YLQtdC60YHRgtCwINGN0LvQtdC80LXQvdGC0L7QsicsCiAgICAgICAgJ0dvb2RzQ2FyZFRpdGxlVGV4dFNpemUnOiAn0JfQsNCz0L7Qu9C+0LLQvtC6INGC0L7QstCw0YDQsCcsCiAgICAgICAgJ2dvb2RzVGV4dFNpemUnOiAn0KLQvtCy0LDRgCcsCiAgICAgICAgJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZSc6ICfQodC10YDQuNC4INGB0LLQvtC50YHRgtCy0LAnLAogICAgICAgICdEb2NUeXBlQ2FyZFRleHRTaXplJzogJ9Ci0LjQvyDQtNC+0LrRg9C80LXQvdGC0LAnLAogICAgICAgICd0aXRsZURvY1R5cGVDYXJkVGV4dFNpemUnOifQndCw0LfQstCw0L3QuNC1INC00L7QutGD0LzQtdC90YLQsCDQsiDQutCw0YDRgtC+0YfQutC1J30gICMsICAgICAgICdzaWduYWxfbnVtJzogItCd0L7QvNC10YAg0YHQuNCz0L3QsNC70LAiCgogICAgaGFzaE1hcC5wdXQoJ1RpdGxlVGV4dFNpemUnLCAgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J9Cg0LDQt9C80LXRgCDQt9Cw0LPQvtC70L7QstC60LAnLCBkZWZhdWx0X3RleHQ9cnNfc2V0dGluZ3MuZ2V0KCdUaXRsZVRleHRTaXplJyksIHBhc3N3b3JkPUZhbHNlKS50b19qc29uKCkpICMgICkKICAgIGhhc2hNYXAucHV0KCdDYXJkVGl0bGVUZXh0U2l6ZScsCiAgICAgICAgICAgICAgICB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0n0KDQsNC30LzQtdGAINC30LDQs9C+0LvQvtCy0LrQsCDQutCw0YDRgtC+0YfQutC4JywgZGVmYXVsdF90ZXh0PXJzX3NldHRpbmdzLmdldCgnQ2FyZFRpdGxlVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1GYWxzZSkudG9fanNvbigpKSAgIyApCiAgICAjIkNhcmREYXRlVGV4dFNpemUiOiAn0JTQsNC90L3Ri9C1INC60LDRgNGC0L7Rh9C60LgnLAogICAgaGFzaE1hcC5wdXQoJ0NhcmREYXRlVGV4dFNpemUnLAogICAgICAgICAgICAgICAgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J9CU0LDQvdC90YvQtSDQutCw0YDRgtC+0YfQutC4JywgZGVmYXVsdF90ZXh0PXJzX3NldHRpbmdzLmdldCgnQ2FyZERhdGVUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPUZhbHNlKS50b19qc29uKCkpICAjICkKICAgICMnQ2FyZFRleHRTaXplJzon0KDQsNC30LzQtdGAINGC0LXQutGB0YLQsCDRjdC70LXQvNC10L3RgtC+0LInLAogICAgaGFzaE1hcC5wdXQoJ0NhcmRUZXh0U2l6ZScsCiAgICAgICAgICAgICAgICB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0n0KDQsNC30LzQtdGAINGC0LXQutGB0YLQsCDRjdC70LXQvNC10L3RgtC+0LInLCBkZWZhdWx0X3RleHQ9cnNfc2V0dGluZ3MuZ2V0KCdDYXJkVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1GYWxzZSkudG9fanNvbigpKSAgIyApCiAgICAjJ0dvb2RzQ2FyZFRpdGxlVGV4dFNpemUnOiAn0JfQsNCz0L7Qu9C+0LLQvtC6INGC0L7QstCw0YDQsCcsCiAgICBoYXNoTWFwLnB1dCgnR29vZHNDYXJkVGl0bGVUZXh0U2l6ZScsCiAgICAgICAgICAgICAgICB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0n0JfQsNCz0L7Qu9C+0LLQvtC6INGC0L7QstCw0YDQsCcsIGRlZmF1bHRfdGV4dD1yc19zZXR0aW5ncy5nZXQoJ0dvb2RzQ2FyZFRpdGxlVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1GYWxzZSkudG9fanNvbigpKSAgIyApCiAgICAjJ2dvb2RzVGV4dFNpemUnOiAn0KLQvtCy0LDRgCcsCiAgICBoYXNoTWFwLnB1dCgnZ29vZHNUZXh0U2l6ZScsCiAgICAgICAgICAgICAgICB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0n0KLQvtCy0LDRgCcsIGRlZmF1bHRfdGV4dD1yc19zZXR0aW5ncy5nZXQoJ2dvb2RzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1GYWxzZSkudG9fanNvbigpKSAgIyApCiAgICAjJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZSc6ICfQodC10YDQuNC4INGB0LLQvtC50YHRgtCy0LAnLAogICAgaGFzaE1hcC5wdXQoJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZScsCiAgICAgICAgICAgICAgICB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0n0KHQtdGA0LjQuCDRgdCy0L7QudGB0YLQstCwJywgZGVmYXVsdF90ZXh0PXJzX3NldHRpbmdzLmdldCgnU2VyaWVzUHJvcGVydGllc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9RmFsc2UpLnRvX2pzb24oKSkgICMgKQogICAgIydEb2NUeXBlQ2FyZFRleHRTaXplJzogJ9Ci0LjQvyDQtNC+0LrRg9C80LXQvdGC0LAnLAogICAgaGFzaE1hcC5wdXQoJ0RvY1R5cGVDYXJkVGV4dFNpemUnLAogICAgICAgICAgICAgICAgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J9Ci0LjQvyDQtNC+0LrRg9C80LXQvdGC0LAnLCBkZWZhdWx0X3RleHQ9cnNfc2V0dGluZ3MuZ2V0KCdEb2NUeXBlQ2FyZFRleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9RmFsc2UpLnRvX2pzb24oKSkgICMgKQogICAgIyd0aXRsZURvY1R5cGVDYXJkVGV4dFNpemUnOifQndCw0LfQstCw0L3QuNC1INC00L7QutGD0LzQtdC90YLQsCDQsiDQutCw0YDRgtC+0YfQutC1JwogICAgaGFzaE1hcC5wdXQoJ3RpdGxlRG9jVHlwZUNhcmRUZXh0U2l6ZScsCiAgICAgICAgICAgICAgICB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0n0J3QsNC30LLQsNC90LjQtSDQtNC+0LrRg9C80LXQvdGC0LAg0LIg0LrQsNGA0YLQvtGH0LrQtScsIGRlZmF1bHRfdGV4dD1yc19zZXR0aW5ncy5nZXQoJ3RpdGxlRG9jVHlwZUNhcmRUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPUZhbHNlKS50b19qc29uKCkpICAjICkKCiAgICByZXR1cm4gaGFzaE1hcAoKZGVmIHNvdW5kX3NldHRpbmdzX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgICMgc3MgPSB7J3NpZ25hbF9udW0nOiAi0J3QvtC80LXRgCDRgdC40LPQvdCw0LvQsCIsCiAgICAjICAgICAgICdiZWVwX2R1cmF0aW9uJzon0JTQu9C40YLQtdC70YzQvdC+0YHRgtGMKNC80YEpJ30gICMgLAoKICAgIGhhc2hNYXAucHV0KCdzaWduYWxfbnVtX2NhcmQnLAogICAgICAgICAgICAgICAgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J9Cd0L7QvNC10YAg0YHQuNCz0L3QsNC70LAnLCBkZWZhdWx0X3RleHQ9cnNfc2V0dGluZ3MuZ2V0KCdzaWduYWxfbnVtJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9RmFsc2UpLnRvX2pzb24oKSkgICMgKQogICAgaGFzaE1hcC5wdXQoJ2JlZXBfZHVyYXRpb25fY2FyZCcsCiAgICAgICAgICAgICAgICB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0n0JTQu9C40YLQtdC70YzQvdC+0YHRgtGMKNC80YEpJywgZGVmYXVsdF90ZXh0PXJzX3NldHRpbmdzLmdldCgnYmVlcF9kdXJhdGlvbicpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPUZhbHNlKS50b19qc29uKCkpICAjICkKICAgICNmaWVsZHNfZnJvbV9zZXR0aW5ncyhoYXNoTWFwLCBzcykKCiAgICByZXR1cm4gaGFzaE1hcAoKZGVmIHNvdW5kX3NldHRpbmdzX2xpc3RlbmVyKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGxpc3RlbmVyID0gaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykKICAgIGlmIGxpc3RlbmVyID09ICdidG5fb25fc2F2ZScgb3IgaGFzaE1hcC5nZXQoJ2V2ZW50JykgPT0gJ0lucHV0JzoKCiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdzaWduYWxfbnVtJywgaGFzaE1hcC5nZXQoInNpZ25hbF9udW1fdmFsdWUiKSwgVHJ1ZSkKICAgICAgICByc19zZXR0aW5ncy5wdXQoJ2JlZXBfZHVyYXRpb24nLCBoYXNoTWFwLmdldCgnYmVlcF9kdXJhdGlvbl92YWx1ZScpLCBUcnVlKQogICAgICAgIGlmIGxpc3RlbmVyID09ICdidG5fb25fc2F2ZSc6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9Cd0LDRgdGC0YDQvtC50LrQuCDQuCDQvtCx0LzQtdC9JykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9vbl9jYW5jZWwnIG9yIGxpc3RlbmVyID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9Cd0LDRgdGC0YDQvtC50LrQuCDQuCDQvtCx0LzQtdC9JykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl90ZXN0X3NvdW5kJzoKICAgICAgICAjIGhhc2hNYXAucHV0KCdiZWVwX2R1cmF0aW9uJywgaGFzaE1hcC5nZXQoImJlZXBfZHVyYXRpb25fdmFsdWUiKSkKICAgICAgICAjIGhhc2hNYXAucHV0KCdiZWVwJywgaGFzaE1hcC5nZXQoJ3NpZ25hbF9udW1fdmFsdWUnKSkKCiAgICAgICAgIyBoYXNoTWFwLnB1dCgnYmVlcF9kdXJhdGlvbicsIHN0cihyc19zZXR0aW5ncy5nZXQoJ2JlZXBfZHVyYXRpb24nKSkpCiAgICAgICAgIyBoYXNoTWFwLnB1dCgiYmVlcCIsIHN0cihyc19zZXR0aW5ncy5nZXQoJ3NpZ25hbF9udW0nKSkpCgogICAgICAgIGhhc2hNYXAucHV0KCdiZWVwX2R1cmF0aW9uJywgJzgzJykKICAgICAgICBoYXNoTWFwLnB1dCgiYmVlcCIsICcxMDAwJykKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiB0ZXN0X2JhcmNvZGVfbGlzdGVuZXIoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJyk9PSdiYXJjb2RlJyBvciBoYXNoTWFwLmdldCgiZXZlbnQiKSA9PSAib25SZXN1bHRQb3NpdGl2ZSI6CiAgICAgICAgaWYgaGFzaE1hcC5nZXQoImV2ZW50IikgPT0gIm9uUmVzdWx0UG9zaXRpdmUiOgogICAgICAgICAgICBiYXJjb2RlID0gaGFzaE1hcC5nZXQoJ2ZsZF9iYXJjb2RlJykKICAgICAgICBlbHNlOgogICAgICAgICAgICBiYXJjb2RlID0gaGFzaE1hcC5nZXQoJ2JhcmNvZGVfY2FtZXJhJykKICAgICAgICBiYXJjID0gdWlfYmFyY29kZXMucGFyc2VfYmFyY29kZShiYXJjb2RlKQogICAgICAgIGtleXNfbGlzdCA9IFsnRVJST1InLCdHVElOJywnU0VSSUFMJywnRnVsbENvZGUnLCAnQkFSQ09ERScsICdTQ0hFTUUnLCAnRVhQSVJZJywgJ0JBVENIJywgJ05IUk4nLCAnQ0hFQ0snLCAnV0VJR0hUJywgJ1BQTiddCiAgICAgICAgeD0xCiAgICAgICAgZm9yIGkgaW4ga2V5c19saXN0OgogICAgICAgICAgICByZXNfdmFsdWUgPSAgYmFyYy5nZXQoaSxOb25lKQogICAgICAgICAgICBpZiByZXNfdmFsdWU6CiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgnZmxkXycrc3RyKHgpLHN0cihpKSsnOiAnKyByZXNfdmFsdWUpCiAgICAgICAgICAgICAgICB4Kz0xCiAgICAgICAgI9CV0YHQu9C4INC30LDQv9C+0LvQvdC10L3QviDQvNC10L3QtdC1IDUg0L/QvtC70LXQuSwg0YHQvtGC0YDQtdC8INC+0YHRgtCw0LvRjNC90YvQtSDQv9GA0L7RiNC70YvQtSDQt9C90LDRh9C10L3QuNGPCiAgICAgICAgd2hpbGUgeDw9NzoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2ZsZF8nICsgc3RyKHgpLCAnJykKICAgICAgICAgICAgeCs9MQoKICAgIGVsaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gIkJBQ0tfQlVUVE9OIiBvciAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQndCw0YHRgtGA0L7QudC60Lgg0Lgg0L7QsdC80LXQvSIpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgYmFyY29kZV9mbG93X29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGlkX2RvYyA9IGhhc2hNYXAuZ2V0KCdpZF9kb2MnKQogICAgZmFsc2VWYWx1ZUxpc3QgPSAoMCwgJzAnLCAnZmFsc2UnLCAnRmFsc2UnLCBOb25lKQogICAgIyDQpNC+0YDQvNC40YDRg9C10Lwg0YLQsNCx0LvQuNGG0YMg0LrQsNGA0YLQvtGH0LXQuiDQuCDQt9Cw0L/RgNC+0YEg0Log0LHQsNC30LUKCiAgICBkb2NfZGV0YWlsX2xpc3QgPSB1aV9mb3JtX2RhdGEuZG9jX2JhcmNfZmxvd19jYXJkKHJzX3NldHRpbmdzKQogICAgZG9jX2RldGFpbF9saXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXSA9IFtdCgoKICAgIHF1ZXJ5X3RleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X2RvY19iYXJjX2Zsb3dfcXVlcnkoKQoKICAgIHJlc3VsdHMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCAoaWRfZG9jLCksIFRydWUpCgogICAgaWYgcmVzdWx0czoKICAgICAgICAjIGhhc2hNYXAucHV0KCdpZF9kb2MnLCBzdHIocmVzdWx0c1swXVsnaWRfZG9jJ10pKQogICAgICAgIGZvciByZWNvcmQgaW4gcmVzdWx0czoKICAgICAgICAgICAgcGljID0gJyNmMDBjJwoKICAgICAgICAgICAgcHJvZHVjdF9yb3cgPSB7CiAgICAgICAgICAgICAgICAna2V5Jzogc3RyKHJlY29yZFsnYmFyY29kZSddKSwKICAgICAgICAgICAgICAgICdiYXJjb2RlJzogc3RyKHJlY29yZFsnYmFyY29kZSddKSwKCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGRvY19kZXRhaWxfbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10uYXBwZW5kKHByb2R1Y3Rfcm93KQoKICAgICAgICAjINCf0YDQuNC30L3QsNC6LCBoYXZlX3F0dHlfcGxhbiDQldGB0YLRjNCf0LvQsNC90J/QntCa0J7Qu9C40YfQtdGB0YLQstGDICAtICDQmNGB0YLQuNC90LAg0LrQvtCz0LTQsCDRgdGD0LzQvNCwINC60L7Qu9C+0L3QutC4IFF0dHlfcGxhbiA+IDAKICAgICAgICAjINCf0YDQuNC30L3QsNC6ICBoYXZlX21hcmtfcGxhbiAi0JXRgdGC0YzQn9C70LDQvdCa0J7QtNC+0LLQnNCw0YDQutC40YDQvtCy0LrQuCDigJMg0JjRgdGC0LjQvdCwLCDQutC+0LPQtNCwINC60L7Qu9C40YfQtdGB0YLQstC+INGB0YLRgNC+0Log0YLQsNCx0LsuIFJTX2RvY3NfYmFyY29kZXMg0YEg0LfQsNC00LDQvdC90YvQvCBpZF9kb2Mg0LggaXNfcGxhbiAg0LHQvtC70YzRiNC1INC90YPQu9GPLgogICAgICAgICMg0J/RgNC40LfQvdCw0LogaGF2ZV96ZXJvX3BsYW4gItCV0YHRgtGMINGB0YLRgNC+0LrQuCDRgtC+0LLQsNGA0LAg0LIg0LTQvtC60YPQvNC10L3RgtC1IiDQmNGB0YLQuNC90LAsINC60L7Qs9C00LAg0LXRgdGC0Ywg0LfQsNC/0L7Qu9C90LXQvdC90YvQtSDRgdGC0YDQvtC60Lgg0YLQvtCy0LDRgNC+0LIg0LIg0LTQvtC60YPQvNC10L3RgtC1CiAgICAgICAgIyDQn9GA0LjQt9C90LDQuiAi0JrQvtC90YLRgNC+0LvQuNGA0L7QstCw0YLRjCIgIC0g0L/RgNC40LfQvdCw0Log0LTQu9GPINC00L7QutGD0LzQtdC90YLQsCwg0L3QsNC00L4g0LvQuCDQutC+0L3RgtGA0L7Qu9C40YDQvtCy0LDRgtGMCgogICAgICAgIHF0ZXh0ID0gdWlfZm9ybV9kYXRhLmdldF9xdHR5X3N0cmluZ19jb3VudF9xdWVyeSgpCiAgICAgICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsIHsnaWRfZG9jJzogaWRfZG9jfSkKICAgICAgICBpZiBub3QgcmVzOgogICAgICAgICAgICBoYXZlX3F0dHlfcGxhbiA9IEZhbHNlCiAgICAgICAgICAgIGhhdmVfemVyb19wbGFuID0gRmFsc2UKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXZlX3plcm9fcGxhbiA9IHJlc1swXVswXSA+IDAgICMg0JIg0LTQvtC60YPQvNC10L3RgtC1INC10YHRgtGMINGB0YLRgNC+0LrQuAogICAgICAgICAgICBpZiBoYXZlX3plcm9fcGxhbjoKICAgICAgICAgICAgICAgIGhhdmVfcXR0eV9wbGFuID0gcmVzWzBdWzFdID4gMCAgIyDQkiDQtNC+0LrRg9C80LXQvdGC0LUg0LXRgdGC0Ywg0LrQvtC70LLQviDQv9C70LDQvQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaGF2ZV9xdHR5X3BsYW4gPSBGYWxzZQogICAgICAgICMg0JXRgdGC0Ywg0LvQuCDQsiDQtNC+0LrRg9C80LXQvdGC0LUg0L/Qu9Cw0L0g0L/QviDQutC+0LTQsNC8INC80LDRgNC60LjRgNC+0LLQutC4CiAgICAgICAgcXRleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X2hhdmVfbWFya19jb2Rlc19xdWVyeSgpCiAgICAgICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsIHsnaWRfZG9jJzogaWRfZG9jLCAnaXNfcGxhbic6ICcxJ30pCiAgICAgICAgaWYgbm90IHJlczoKICAgICAgICAgICAgaGF2ZV9tYXJrX3BsYW4gPSBGYWxzZQoKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXZlX21hcmtfcGxhbiA9IHJlc1swXVswXSA+IDAKICAgIGVsc2U6CiAgICAgICAgaGF2ZV9xdHR5X3BsYW4gPSBGYWxzZQogICAgICAgIGhhdmVfemVyb19wbGFuID0gRmFsc2UKICAgICAgICBoYXZlX21hcmtfcGxhbiA9IEZhbHNlCgogICAgaGFzaE1hcC5wdXQoJ2hhdmVfcXR0eV9wbGFuJywgc3RyKGhhdmVfcXR0eV9wbGFuKSkKICAgIGhhc2hNYXAucHV0KCdoYXZlX3plcm9fcGxhbicsIHN0cihoYXZlX3plcm9fcGxhbikpCiAgICBoYXNoTWFwLnB1dCgnaGF2ZV9tYXJrX3BsYW4nLCBzdHIoaGF2ZV9tYXJrX3BsYW4pKQogICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoJ1NFTEVDVCBjb250cm9sIGZyb20gUlNfZG9jcyAgV0hFUkUgaWRfZG9jID0gPycsIChpZF9kb2MsKSkKICAgICMg0JXRgdGC0Ywg0LvQuCDQutC+0L3RgtGA0L7Qu9GMINC/0LvQsNC90LAg0LIg0LTQvtC60YPQvNC10L3RgtC1CiAgICBpZiByZXM6CiAgICAgICAgaWYgcmVzWzBdWzBdOgogICAgICAgICAgICBpZiByZXNbMF1bMF0gaW4gZmFsc2VWYWx1ZUxpc3Q6CiAgICAgICAgICAgICAgICBjb250cm9sID0gJ0ZhbHNlJwogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY29udHJvbCA9ICdUcnVlJwoKICAgICAgICAgICAgIyBjb250cm9sID0gcmVzWzBdWzBdICMnVHJ1ZScKICAgICAgICBlbHNlOgogICAgICAgICAgICBjb250cm9sID0gJ0ZhbHNlJwogICAgZWxzZToKICAgICAgICBjb250cm9sID0gJ0ZhbHNlJwoKICAgIGhhc2hNYXAucHV0KCdjb250cm9sJywgY29udHJvbCkKICAgIGhhc2hNYXAucHV0KCJkb2NfYmFyY19mbG93IiwganNvbi5kdW1wcyhkb2NfZGV0YWlsX2xpc3QpKQoKICAgIGlmIFRydWUgaW4gKGhhdmVfcXR0eV9wbGFuLCBoYXZlX3plcm9fcGxhbiwgaGF2ZV9tYXJrX3BsYW4sIGNvbnRyb2wpOgogICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQlNCw0L3QvdGL0Lkg0LTQvtC60YPQvNC10L3RgiDRgdC+0LTQtdGA0LbQuNGCINC/0LvQsNC90L7QstGL0LUg0YHRgtGA0L7QutC4LiDQodC/0LjRgdC+0Log0YjRgtGA0LjRhdC60L7QtNC+0LIg0LIg0L3QtdCz0L4g0L/QvtC80LXRgdGC0LjRgtGMINC90LXQu9GM0LfRjycpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCfQlNC+0LrRg9C80LXQvdGC0YsnKQoKICAgIHJldHVybiBoYXNoTWFwCgpkZWYgYmFyY29kZV9mbG93X2xpc3RlbmVyKGhhc2hNYXAsICBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpCiAgICBpZiBsaXN0ZW5lciA9PSAiQ2FyZHNDbGljayI6CgogICAgICAgIHBhc3MKCiAgICBlbGlmIGxpc3RlbmVyID09ICJCQUNLX0JVVFRPTiI6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgtGLIikKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9iYXJjb2RlcyI6CiAgICAgICAgcGFzcwogICAgICAgICNoYXNoTWFwLnB1dCgiU2hvd0RpYWxvZyIsICLQktCy0LXRgdGC0LjQqNGC0YDQuNGF0LrQvtC0IikKCiAgICAjIGVsaWYgaGFzaE1hcC5nZXQoImV2ZW50IikgPT0gIm9uUmVzdWx0UG9zaXRpdmUiOgoKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2JhcmNvZGUnIG9yIGhhc2hNYXAuZ2V0KCJldmVudCIpID09ICJvblJlc3VsdFBvc2l0aXZlIjoKICAgICAgICBkb2MgPSB1aV9nbG9iYWwuUnNfZG9jCiAgICAgICAgZG9jLmlkX2RvYyA9IGhhc2hNYXAuZ2V0KCdpZF9kb2MnKQogICAgICAgIGlmIGhhc2hNYXAuZ2V0KCJldmVudCIpID09ICJvblJlc3VsdFBvc2l0aXZlIjoKICAgICAgICAgICAgYmFyY29kZSA9IGhhc2hNYXAuZ2V0KCdmbGRfYmFyY29kZScpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYmFyY29kZSA9IGhhc2hNYXAuZ2V0KCdiYXJjb2RlX2NhbWVyYScpCgogICAgICAgIGhhdmVfcXR0eV9wbGFuID0gaGFzaE1hcC5nZXQoJ2hhdmVfcXR0eV9wbGFuJykKICAgICAgICBoYXZlX3plcm9fcGxhbiA9IGhhc2hNYXAuZ2V0KCdoYXZlX3plcm9fcGxhbicpCiAgICAgICAgaGF2ZV9tYXJrX3BsYW4gPSBoYXNoTWFwLmdldCgnaGF2ZV9tYXJrX3BsYW4nKQogICAgICAgIGNvbnRyb2wgPSBoYXNoTWFwLmdldCgnY29udHJvbCcpCgogICAgICAgIGlmIGJhcmNvZGU6CiAgICAgICAgICAgIHF0ZXh0ID0gJycnCiAgICAgICAgICAgIElOU0VSVCBJTlRPIFJTX2JhcmNfZmxvdyAoaWRfZG9jLCBiYXJjb2RlKSBWQUxVRVMgKD8sPykKICAgICAgICAgICAgJycnCiAgICAgICAgICAgIHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LChkb2MuaWRfZG9jLCBiYXJjb2RlKSkKCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fZG9jX21hcmtfdmVyaWZpZWQnOgogICAgICAgIGRvYyA9IHVpX2dsb2JhbC5Sc19kb2MKICAgICAgICBkb2MuaWRfZG9jID0gaGFzaE1hcC5nZXQoJ2lkX2RvYycpCiAgICAgICAgZG9jLm1hcmtfdmVyaWZpZWQoZG9jLCAxKQogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YLRiyIpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGC0YsiKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIHRpbWVyX3VwZGF0ZShoYXNoTWFwLCAgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgdXJsID0gZ2V0X2h0dHBfc2V0dGluZ3MoaGFzaE1hcCkKICAgICN1cmwgPSAnaHR0cDovLzE5Mi4xNjguMS43Ny9OU0kvaHMvc2ltcGxlX2FjY291bnRpbmcvZGF0YScKCiAgICAjIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQntCx0LzQtdC9JykgI3VybCkKICAgIHJlc3VsdCA9IGh0dHBfZXhjaGFuZ2UudGltZXJfc2VydmVyX2xvYWRfZGF0YSh1cmwpCiAgICAjIGlmIHJlc3VsdC5nZXQoJ0Vycm9yJyk6CiAgICAjICAgICBoYXNoTWFwLnB1dCgnZXJyb3JfbG9nJywgKQoKCiAgICAjIHRyeToKICAgICMgICAgIHJlc3VsdCA9IGh0dHBfZXhjaGFuZ2Uuc2VydmVyX2xvYWRfZGF0YSh1cmwpCiAgICAjIGV4Y2VwdDoKICAgICMgICAgIHJhaXNlICfQntGI0LjQsdC60LAg0LfQsNC/0YDQvtGB0LAg0LogSFRUUCcKICAgICMgaWYgcmVzdWx0WydzdGF0dXNfY29kZSddID09MjAwOgogICAgIyAgICAgaWYgcmVzdWx0LmdldCgnYmF0Y2gnKSBpcyBub3QgTm9uZToKICAgICMgICAgICAgICByc19zZXR0aW5ncy5wdXQoJ2JhdGNoJywgcmVzdWx0LmdldCgnYmF0Y2gnKSxUcnVlKQogICAgIyAgICAgICAgIHJzX3NldHRpbmdzLnB1dCgnbnVtYmVyX29mX3JlY2VpdmVkJywnMCcsIFRydWUpCiAgICAjCiAgICAjICAgICBpZiByZXN1bHQuZ2V0KCdyZXNfZm9yX3NxbCcpIGlzIG5vdCBOb25lOgogICAgIwogICAgIyAgICAgICAgIGlmIHJzX3NldHRpbmdzLmdldCgnYmF0Y2gnKSBpcyBub3QgTm9uZTogICPQnNGLINCy0YvQv9C+0LvQvdGP0LXQvCDQv9Cw0LrQtdGCINC30LDQs9GA0YPQt9C60LgsINC00LDQvdC90YvQtSDRgNCw0LfQsdC40YLRiyDQvdCwINC90LXRgdC60L7Qu9GM0LrQviDRhNCw0LnQu9C+0LIsINC40YUg0LrQvtC70LjRh9C10YHRgtCy0L4g0LIgYmF0Y2gKICAgICMgICAgICAgICAgICAgbnVtYmVyX29mX3JlY2VpdmVkID0gMCBpZiByc19zZXR0aW5ncy5nZXQoJ251bWJlcl9vZl9yZWNlaXZlZCcpPT0gJ25vdCBmb3VuZCcgZWxzZSBpbnQocnNfc2V0dGluZ3MuZ2V0KCdudW1iZXJfb2ZfcmVjZWl2ZWQnKSkKICAgICMgICAgICAgICAgICAgdG90YWxfcmVjZWl2ZWQgPSBpbnQocnNfc2V0dGluZ3MuZ2V0KCdiYXRjaCcpKQogICAgIyAgICAgICAgICAgICBudW1iZXJfb2ZfcmVjZWl2ZWQgPSsxCiAgICAjICAgICAgICAgZWxzZToKICAgICMgICAgICAgICAgICAgdG90YWxfcmVjZWl2ZWQgPSBOb25lCiAgICAjCiAgICAjICAgICAgICAgc3FsX2Vycm9yID0gRmFsc2UKICAgICMgICAgICAgICBlcnJvcl9wb29sID0gW10KICAgICMgICAgICAgICBmb3Iga2V5IGluIHJlc3VsdFsncmVzX2Zvcl9zcWwnXToKICAgICMgICAgICAgICAgICAgdHJ5OgogICAgIyAgICAgICAgICAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoa2V5KQogICAgIyAgICAgICAgICAgICAgICAgIyByZXR1cm4gJ29rJwogICAgIyAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAjICAgICAgICAgICAgICAgICBzcWxfZXJyb3IgPSBUcnVlCiAgICAjICAgICAgICAgICAgICAgICBlcnJvcl9wb29sLmFwcGVuZChlLmFyZ3NbMF0pCiAgICAjCiAgICAjCiAgICAjICAgICAgICAgaWYgdG90YWxfcmVjZWl2ZWQ6CiAgICAjICAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQmNC00LXRgiDQt9Cw0LPRgNGD0LfQutCwINCx0L7Qu9GM0YjQvtCz0L4g0L7QsdGK0LXQvNCwINC00LDQvdC90YvRhS4g0J/QvtC70YPRh9C10L3QviAnKyBzdHIobnVtYmVyX29mX3JlY2VpdmVkKjUwMDAwKSArICfQuNC3LCDQv9GA0LjQvNC10YDQvdC+ICcrIHN0cih0b3RhbF9yZWNlaXZlZCo1MDAwMCkpCiAgICAjICAgICAgICAgICAgIHJzX3NldHRpbmdzLnB1dCgnbnVtYmVyX29mX3JlY2VpdmVkJyxzdHIobnVtYmVyX29mX3JlY2VpdmVkKSwgVHJ1ZSkKICAgICMKICAgICMgICAgICAgICBpZiBzcWxfZXJyb3I6CiAgICAjICAgICAgICAgICAgIHJzX3NldHRpbmdzLnB1dCgnZXJyb3JfbG9nJywgc3RyKGVycm9yX3Bvb2wpLCBUcnVlKQogICAgIyAgICAgICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCAn0J/RgNC4INC30LDQs9GA0YPQt9C60LUg0LHRi9C70Lgg0L7RiNC40LHQutC4LiDQn9GA0L7QstC10YDRjNGC0LUg0LjRhSDQsiDQvdCw0YHRgtGA0L7QudC60LDRhSAo0LrQvdC+0L/QutCwINC/0L7RgdC80L7RgtGA0LXRgtGMINC+0YjQuNCx0LrQuCknKQogICAgIyAgICAgaWYgaGFzaE1hcC5nZXQoJ2N1cnJlbnRfc2NyZWVuX25hbWUnKSA9PSAn0JTQvtC60YPQvNC10L3RgtGLJzoKICAgICMgICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCAn0JTQvtC60YPQvNC10L3RgtGLJykKICAgICMgICAgICAgICAjZG9jc19vbl9zdGFydChoYXNoTWFwKQogICAgIyAgICAgI3RpbGVzX29uX3N0YXJ0KGhhc2hNYXApCiAgICAjICAgICAgICAgZG9jc19hZHJfb25fc3RhcnQoaGFzaE1hcCkKICAgICMgICAgICAgICBoYXNoTWFwLnB1dCgnUmVmcmVzaFNjcmVlbicsJycpCiAgICAjCiAgICAjIGVsc2U6CiAgICAjCiAgICAjICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCBzdHIocmVzdWx0WydlcnJvcl9wb29sJ10pKQoKICAgIHF0ZXh0ID0gJycnU0VMRUNUIGlkX2RvYyBGUk9NIFJTX2RvY3MgV0hFUkUgdmVyaWZpZWQgPSAxICBhbmQgKHNlbnQgPD4gMSBvciBzZW50IGlzIG51bGwpCiAgICAgICAgICAgICAgICBVTklPTgogICAgICAgICAgICAgICAgU0VMRUNUIGlkX2RvYyBGUk9NIFJTX2Fkcl9kb2NzIFdIRVJFIHZlcmlmaWVkID0gMSAgYW5kIChzZW50IDw+IDEgb3Igc2VudCBpcyBudWxsKScnJwogICAgcmVzICA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LE5vbmUsVHJ1ZSkKCiAgICBpZiByZXM6CiAgICAgICAgZG9jX2xpc3QgPSBbXQogICAgICAgIGZvciBlbCBpbiByZXM6CiAgICAgICAgICAgIGRvY19saXN0LmFwcGVuZCgnIicrIGVsWydpZF9kb2MnXSsnIicpCiAgICAgICAgZG9jX2luX3N0ciA9ICcsJy5qb2luKGRvY19saXN0KQogICAgICAgICNodHBwYXJhbXMgPSB7J3VzZXJuYW1lJzpoYXNoTWFwLmdldCgnb25saW5lVXNlcicpLCAncGFzc3dvcmQnOmhhc2hNYXAuZ2V0KCdvbmxpbmVQYXNzJyksICd1cmwnOnVybH0KICAgICAgICBhbnN3ZXIgPSBodHRwX2V4Y2hhbmdlLnBvc3RfY2hhbmdlc190b19zZXJ2ZXIoZG9jX2luX3N0ciAsIHVybCkKICAgICAgICBpZiBhbnN3ZXIuZ2V0KCdFcnJvcicpIGlzIG5vdCBOb25lOgogICAgICAgICAgICB1aV9nbG9iYWwud3JpdGVfZXJyb3Jfb25fbG9nKHN0cihhbnN3ZXIuZ2V0KCdFcnJvcicpKSkKICAgICAgICBlbHNlOgoKICAgICAgICAgICAgcXRleHQgPSBmJ1VQREFURSBSU19kb2NzIFNFVCBzZW50ID0gMSAgV0hFUkUgaWRfZG9jIGluICh7ZG9jX2luX3N0cn0pICcKICAgICAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQpCgogICAgICAgICAgICBxdGV4dCA9IGYnVVBEQVRFIFJTX2Fkcl9kb2NzIFNFVCBzZW50ID0gMSAgV0hFUkUgaWRfZG9jIGluICh7ZG9jX2luX3N0cn0pICcKICAgICAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgc2V0dGluZ3NfZXJyb3JzX29uX3N0YXJ0KGhhc2hNYXAsICBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgZmlsdGVyX3ZhbHVlID0gJycKICAgIGZpbHRlcl9maWVsZHMgPSAoJ2xvZycsKQogICAgaGFzaE1hcC5wdXQoJ2NhcmRzJywgZ2V0X3RhYmxlX2NhcmRzKCdFcnJvcl9sb2cnLCBmaWx0ZXJfZmllbGRzLCBmaWx0ZXJfdmFsdWUpKQoKICAgIHJldHVybiBoYXNoTWFwCgpkZWYgc2V0dGluZ3NfZXJyb3JzX29uX2NsaWNrKGhhc2hNYXAsICBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpCiAgICBpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQndCw0YHRgtGA0L7QudC60Lgg0Lgg0L7QsdC80LXQvScpCiAgICAgICAgI2hhc2hNYXAucHV0KCdGaW5pc2hQcm9jZXNzJywgJycpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX2NsZWFyX2Vycic6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdlcnJvcl9sb2cnLCcnKQogICAgICAgIGhhc2hNYXAucHV0KCdlcnJvcl9sb2cnLCcnKQogICAgICAgIGhhc2hNYXAucHV0KCdSZWZyZXNoU2NyZWVuJywnJykKCgogICAgZWxpZiBsaXN0ZW5lciA9PSAiQ2FyZHNDbGljayI6CiAgICAgICAgcGFzcwoKCiAgICBlbGlmIGxpc3RlbmVyID09ICdMYXlvdXRBY3Rpb24nOgogICAgICAgIGxheW91dF9saXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCdsYXlvdXRfbGlzdGVuZXInKQogICAgICAgICMg0J3QsNGF0L7QtNC40LwgSUQg0LTQvtC60YPQvNC10L3RgtCwCiAgICAgICAgY3VycmVudF9jYXJkID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgiY3VycmVudF9jYXJkIikpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnU2VhcmNoJzoKICAgICAgICBmaWx0ZXJfdmFsdWUgPSBoYXNoTWFwLmdldCgnU2VhcmNoU3RyaW5nJykKICAgICAgICBpZiBsZW4oZmlsdGVyX3ZhbHVlKSA+IDI6CiAgICAgICAgICAgIGZpbHRlcl9maWVsZHMgPSBoYXNoTWFwLmdldCgnZmlsdGVyX2ZpZWxkcycpLnNwbGl0KCc7JykKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2NhcmRzJywgZ2V0X3RhYmxlX2NhcmRzKGhhc2hNYXAuZ2V0KCd0YWJsZV9mb3Jfc2VsZWN0JyksIGZpbHRlcl9maWVsZHMsIGZpbHRlcl92YWx1ZSkpCgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnUmVmcmVzaFNjcmVlbicsICcnKQogICAgICAgICMgdW5pdmVyc2FsX2NhcmRzX29uX3N0YXJ0KGhhc2hNYXApCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZ2V0X2h0dHBfc2V0dGluZ3MoaGFzaE1hcCk6CiAgICBodHRwX3NldHRpbmdzID0gewogICAgJ3VybCcgOiByc19zZXR0aW5ncy5nZXQoIlVSTCIpLAogICAgJ3VzZXInIDogcnNfc2V0dGluZ3MuZ2V0KCdVU0VSJyksCiAgICAncGFzcycgOiByc19zZXR0aW5ncy5nZXQoJ1BBU1MnKSwKICAgICdkZXZpY2VfbW9kZWwnIDogaGFzaE1hcC5nZXQoJ0RFVklDRV9NT0RFTCcpLAogICAgJ2FuZHJvaWRfaWQnOmhhc2hNYXAuZ2V0KCdBTkRST0lEX0lEJyksCiAgICAndXNlcl9uYW1lJzogcnNfc2V0dGluZ3MuZ2V0KCd1c2VyX25hbWUnKX0KICAgIHJldHVybiBodHRwX3NldHRpbmdzCgpkZWYgaHR0cF9zZXR0aW5nc19vbl9zdGFydChoYXNoTWFwLCAgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgdXJsID0gaGFzaE1hcC5nZXQoJ3VybCcpCiAgICBoYXNoTWFwLnB1dCgnYnRuX3Rlc3RfY29ubmVjdGlvbicsICfQotC10YHRgiDRgdC+0LXQtNC40L3QtdC90LjRjycpCiAgICBpZiB1cmwgPT0gJycgb3IgJ25vdCBmb3VuZCc6ICAj0J7QsdC90L7QstC70Y/QtdC8INGC0L7Qu9GM0LrQviDQtdGB0LvQuCDRgNCw0L3QtdC1INC90LUg0YPRgdGC0LDQvdC+0LLQu9C10L3RiwogICAgICAgIGh0dHBfc2V0dGluZ3MgPSBnZXRfaHR0cF9zZXR0aW5ncyhoYXNoTWFwKQogICAgICAgIGhhc2hNYXAucHV0KCd1cmwnLCAgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3VybCcsIGRlZmF1bHRfdGV4dD1odHRwX3NldHRpbmdzWyd1cmwnXSwgcGFzc3dvcmQ9RmFsc2UpLnRvX2pzb24oKSkgIyAgKQogICAgICAgIGhhc2hNYXAucHV0KCd1c2VyJywgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3VzZXInLCBkZWZhdWx0X3RleHQ9aHR0cF9zZXR0aW5nc1sndXNlciddLCBwYXNzd29yZD1GYWxzZSkudG9fanNvbigpKQogICAgICAgIGhhc2hNYXAucHV0KCdwYXNzJywgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3Bhc3MnLCBkZWZhdWx0X3RleHQ9aHR0cF9zZXR0aW5nc1sncGFzcyddLCBwYXNzd29yZD1UcnVlKS50b19qc29uKCkpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3VzZXJfbmFtZScsdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3VzZXJfbmFtZScsIGRlZmF1bHRfdGV4dD1odHRwX3NldHRpbmdzWyd1c2VyX25hbWUnXSwgcGFzc3dvcmQ9RmFsc2UpLnRvX2pzb24oKSkKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGh0dHBfc2V0dGluZ3Nfb25fY2xpY2soaGFzaE1hcCwgIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGxpc3RlbmVyID0gaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykKICAgIGlmIGxpc3RlbmVyID09ICdidG5fc2F2ZSc6CiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdVUkwnLCBoYXNoTWFwLmdldCgndXJsJyksVHJ1ZSkKICAgICAgICByc19zZXR0aW5ncy5wdXQoJ1VTRVInLCBoYXNoTWFwLmdldCgndXNlcicpLCBUcnVlKQogICAgICAgIHJzX3NldHRpbmdzLnB1dCgnUEFTUycsIGhhc2hNYXAuZ2V0KCdwYXNzJyksIFRydWUpCiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCd1c2VyX25hbWUnLCBoYXNoTWFwLmdldCgndXNlcl9uYW1lJyksIFRydWUpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0J3QsNGB0YLRgNC+0LnQutC4INC4INC+0LHQvNC10L0nKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX2NhbmNlbCc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0J3QsNGB0YLRgNC+0LnQutC4INC4INC+0LHQvNC10L0nKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQndCw0YHRgtGA0L7QudC60Lgg0Lgg0L7QsdC80LXQvScpCiAgICBlbGlmIGxpc3RlbmVyID09ICdiYXJjb2RlJzoKICAgICAgICBiYXJjb2RlID0gaGFzaE1hcC5nZXQoJ2JhcmNvZGVfY2FtZXJhMicpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBiYXJjX3N0cnVjdCA9IGpzb24ubG9hZHMoYmFyY29kZSkKCiAgICAgICAgICAgIHJzX3NldHRpbmdzLnB1dCgnVVJMJywgYmFyY19zdHJ1Y3QuZ2V0KCd1cmwnKSwgVHJ1ZSkKICAgICAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdVU0VSJywgYmFyY19zdHJ1Y3QuZ2V0KCd1c2VyJyksIFRydWUpCiAgICAgICAgICAgIHJzX3NldHRpbmdzLnB1dCgnUEFTUycsIGJhcmNfc3RydWN0LmdldCgncGFzcycpLCBUcnVlKQogICAgICAgICAgICByc19zZXR0aW5ncy5wdXQoJ3VzZXJfbmFtZScsIGJhcmNfc3RydWN0LmdldCgndXNlcl9uYW1lJyksIFRydWUpCgogICAgICAgICAgICBoYXNoTWFwLnB1dCgndXJsJywgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3VybCcsIGRlZmF1bHRfdGV4dD1iYXJjX3N0cnVjdC5nZXQoJ3VybCcpKS50b19qc29uKCkpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd1c2VyJywgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3VzZXInLCBkZWZhdWx0X3RleHQ9YmFyY19zdHJ1Y3QuZ2V0KCd1c2VyJykpLnRvX2pzb24oKSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3Bhc3MnLCB1aV9mb3JtX2RhdGEuTW9kZXJuRmllbGQoaGludD0ncGFzcycsIGRlZmF1bHRfdGV4dD1iYXJjX3N0cnVjdC5nZXQoJ3Bhc3MnKSkudG9fanNvbigpKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgndXNlcl9uYW1lJywgdWlfZm9ybV9kYXRhLk1vZGVybkZpZWxkKGhpbnQ9J3VzZXJfbmFtZScsIGRlZmF1bHRfdGV4dD1iYXJjX3N0cnVjdC5nZXQoJ3VzZXJfbmFtZScpKS50b19qc29uKCkpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCAn0L3QtdCy0LXRgNC90YvQuSDRhNC+0YDQvNCw0YIgUVIt0LrQvtC00LAnKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX3Rlc3RfY29ubmVjdGlvbic6CiAgICAgICAgIy9jb21tdW5pY2F0aW9uX3Rlc3QKICAgICAgICBodHRwID0gZ2V0X2h0dHBfc2V0dGluZ3MoaGFzaE1hcCkKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KGh0dHBbJ3VybCddICsgJy9zaW1wbGVfYWNjb3VudGluZy9jb21tdW5pY2F0aW9uX3Rlc3Q/YW5kcm9pZF9pZD0nICsgaHR0cFsnYW5kcm9pZF9pZCddLCBhdXRoPUhUVFBCYXNpY0F1dGgoaHR0cFsndXNlciddLCBodHRwWydwYXNzJ10pLAogICAgICAgICAgICAgaGVhZGVycz17J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgnfSwKICAgICAgICAgICAgIHBhcmFtcz17J3VzZXJfbmFtZSc6IGh0dHBbJ3VzZXJfbmFtZSddLCAnZGV2aWNlX21vZGVsJzogaHR0cFsnZGV2aWNlX21vZGVsJ119KQogICAgICAgIGlmIHIuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnYnRuX3Rlc3RfY29ubmVjdGlvbicsICfQodC+0LXQtNC40L3QtdC90LjQtSDRg9GB0YLQsNC90L7QstC70LXQvdC+JykKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0JywgJ9Ch0L7QtdC00LjQvdC10L3QuNC1INGD0YHRgtCw0L3QvtCy0LvQtdC90L4nKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdidG5fdGVzdF9jb25uZWN0aW9uJywgJ9Ci0LXRgdGCINGB0L7QtdC00LjQvdC10L3QuNGPJykKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0JywgJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0YHQvtC10LTQuNC90LXQvdC40LUnKQoKICAgIHJldHVybiBoYXNoTWFwCgojINCX0LDQv9C+0LvQvdC10L3QuNC1INGB0L/QuNGB0LrQsCDQtNC+0LrRg9C80LXQvdGC0L7QsgpkZWYgcmVmaWxsX2Fkcl9kb2NzX2xpc3QoZmlsdGVyPScnKToKICAgIGRvY19saXN0ID0gdWlfZm9ybV9kYXRhLmdldF9kb2NfY2FyZChyc19zZXR0aW5ncywgJzvQntGC0LrRgNGL0YLRjCDQvtGC0LHQvtGAO9Ce0YLQutGA0YvRgtGMINGA0LDQt9C80LXRidC10L3QuNC1JykKICAgIGRvY19saXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXSA9IFtdCgogICAgcXVlcnlfdGV4dCA9IHVpX2Zvcm1fZGF0YS5nZXRfYWRyX2RvY19xdWVyeShmaWx0ZXIpCgogICAgaWYgZmlsdGVyID09IE5vbmUgb3IgZmlsdGVyID09ICcnIG9yIGZpbHRlciA9PSAn0JLRgdC1JzoKICAgICAgICByZXN1bHRzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCkKICAgIGVsc2U6CiAgICAgICAgcmVzdWx0cyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsIChmaWx0ZXIsKSkKCiAgICBmb3IgcmVjb3JkIGluIHJlc3VsdHM6CiAgICAgICAgY29tcGxldGVkID0gJ3RydWUnIGlmIHJlY29yZFs2XSA9PSAxIGVsc2UgJ2ZhbHNlJwogICAgICAgIGFkZF9tYXJrX3NlbGVjdGlvbiA9ICd0cnVlJyBpZiByZWNvcmRbOF0gPT0gMSBlbHNlICdmYWxzZScKCiAgICAgICAgcHJvZHVjdF9yb3cgPSB7CiAgICAgICAgICAgICdjb21wbGV0ZWQnOiBjb21wbGV0ZWQsCiAgICAgICAgICAgICd0eXBlJzogc3RyKHJlY29yZFsxXSksCiAgICAgICAgICAgICdudW1iZXInOiBzdHIocmVjb3JkWzJdKSwKICAgICAgICAgICAgJ2RhdGEnOiBzdHIocmVjb3JkWzNdKSwKICAgICAgICAgICAgJ2tleSc6IHJlY29yZFswXSwKICAgICAgICAgICAgJ3dhcmVob3VzZSc6IHJlY29yZFs1XSwKICAgICAgICAgICAgJ2FkZF9tYXJrX3NlbGVjdGlvbic6IGFkZF9tYXJrX3NlbGVjdGlvbgogICAgICAgIH0KICAgICAgICBkb2NfbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10uYXBwZW5kKHByb2R1Y3Rfcm93KQoKICAgIHJldHVybiBqc29uLmR1bXBzKGRvY19saXN0KQoKCmRlZiBkb2NzX2Fkcl9vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICAjINCX0LDQv9C+0LvQvdC40Lwg0L/QvtC70LUg0YTQuNC70YzRgtGA0LAg0L/QviDQstC40LTRgyDQtNC+0LrRg9C80LXQvdGC0L7QsgogICAgZG9jX3R5cGVfbGlzdCA9IFsn0JLRgdC1Jywn0J7RgtCx0L7RgCcsJ9Cg0LDQt9C80LXRidC10L3QuNC1Jywn0J/QtdGA0LXQvNC10YnQtdC90LjQtSddCiAgICBoYXNoTWFwLnB1dCgnZG9jX2Fkcl90eXBlX3NlbGVjdCcsICc7Jy5qb2luKGRvY190eXBlX2xpc3QpKQoKICAgICNoYXNoTWFwLnB1dCgnZmxkX251bWJlcicsJzEnKQoKICAgICMgaGFzaE1hcC5wdXQoJ2RvY190eXBlX2NsaWNrJywgJ9CS0YHQtScpCiAgICAjINCV0YHQu9C4INCS0YvQt9C+0LIg0Y3QutGA0LDQvdCwINC40Lcg0LzQtdC90Y4g0L/Qu9C40YLQvtC6IC0g0L7QsdGA0LDQsdC+0YLQsNC10LwKCiAgICAjINCf0LXRgNC10LfQsNC/0L7Qu9C90LjQvCDRgdC/0LjRgdC+0Log0LTQvtC60YPQvNC10L3RgtC+0LIKICAgIGlmIGhhc2hNYXAuZ2V0KCdkb2NfYWRyX3R5cGVfY2xpY2snKSA9PSBOb25lOgogICAgICAgIGxzID0gcmVmaWxsX2Fkcl9kb2NzX2xpc3QoKQogICAgZWxzZToKICAgICAgICBscyA9IHJlZmlsbF9hZHJfZG9jc19saXN0KGhhc2hNYXAuZ2V0KCdkb2NfYWRyX3R5cGVfY2xpY2snKSkKICAgIGhhc2hNYXAucHV0KCJkb2NBZHJDYXJkcyIsIGxzKQoKICAgIHJldHVybiBoYXNoTWFwCgpkZWYgb3Blbl9hZHJfZG9jX3RhYmxlKGhhc2hNYXAsIGZpbHRlciA9ICcnKToKICAgICMg0J3QsNGF0L7QtNC40LwgSUQg0LTQvtC60YPQvNC10L3RgtCwCiAgICBjdXJyZW50X3N0ciA9IGhhc2hNYXAuZ2V0KCJzZWxlY3RlZF9jYXJkX3Bvc2l0aW9uIikKICAgIGpsaXN0ID0ganNvbi5sb2FkcyhoYXNoTWFwLmdldCgiZG9jQWRyQ2FyZHMiKSkKICAgIGN1cnJlbnRfZG9jID0gamxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddW2ludChjdXJyZW50X3N0cildCgogICAgIyBpZF9kb2MgPSBjdXJyZW50X2RvY1sna2V5J10KICAgIGhhc2hNYXAucHV0KCdpZF9kb2MnLCBjdXJyZW50X2RvY1sna2V5J10pCiAgICBoYXNoTWFwLnB1dCgnZG9jX3R5cGUnLCBjdXJyZW50X2RvY1sndHlwZSddKQogICAgaGFzaE1hcC5wdXQoJ2RvY19uJywgY3VycmVudF9kb2NbJ251bWJlciddKQogICAgaGFzaE1hcC5wdXQoJ2RvY19kYXRlJywgY3VycmVudF9kb2NbJ2RhdGEnXSkKICAgIGhhc2hNYXAucHV0KCd3YXJlaG91c2UnLCBjdXJyZW50X2RvY1snd2FyZWhvdXNlJ10pCiAgICBmaWx0ZXIgPSAnaW4nICBpZiBjdXJyZW50X2RvY1sndHlwZSddID09ICfQoNCw0LfQvNC10YnQtdC90LjQtScgZWxzZSAnb3V0JwogICAgaWYgZmlsdGVyOgogICAgICAgIGhhc2hNYXAucHV0KCd0YWJsZV90eXBlX2ZpbHRlcicsIGZpbHRlcikKCgoKZGVmIGRvY3NfYWRyX29uX3NlbGVjdChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICAgICAgbGlzdGVuZXIgPSBoYXNoTWFwLmdldCgibGlzdGVuZXIiKQoKICAgICAgICBpZiBsaXN0ZW5lciA9PSAiQ2FyZHNDbGljayI6CiAgICAgICAgICAgb3Blbl9hZHJfZG9jX3RhYmxlKGhhc2hNYXApCiAgICAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQoKICAgICAgICBlbGlmIGxpc3RlbmVyID09ICJkb2NfYWRyX3R5cGVfY2xpY2siOgoKICAgICAgICAgICAgbHMgPSByZWZpbGxfYWRyX2RvY3NfbGlzdChoYXNoTWFwLmdldCgnZG9jX2Fkcl90eXBlX2NsaWNrJykpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdkb2NDYXJkcycsIGxzKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQlNC+0LrRg9C80LXQvdGC0YsnKQogICAgICAgIGVsaWYgbGlzdGVuZXIgPT0gJ0xheW91dEFjdGlvbic6CiAgICAgICAgICAgIGxheW91dF9saXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCdsYXlvdXRfbGlzdGVuZXInKQogICAgICAgICAgICAjINCd0LDRhdC+0LTQuNC8IElEINC00L7QutGD0LzQtdC90YLQsAogICAgICAgICAgICBjdXJyZW50X2RvYyA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoImNhcmRfZGF0YSIpKQogICAgICAgICAgICBkb2MgPSB1aV9nbG9iYWwuUnNfYWRyX2RvYwogICAgICAgICAgICBkb2MuaWRfZG9jID0gY3VycmVudF9kb2NbJ2tleSddCgogICAgICAgICAgICBpZiBsYXlvdXRfbGlzdGVuZXIgPT0gJ0NoZWNrQm94MSc6CiAgICAgICAgICAgICAgICBpZiBjdXJyZW50X2RvY1snY29tcGxldGVkJ10gPT0gJ2ZhbHNlJzoKICAgICAgICAgICAgICAgICAgICBkb2MubWFya192ZXJpZmllZChkb2MsIDEpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGRvYy5tYXJrX3ZlcmlmaWVkKGRvYywgMCkKCiAgICAgICAgICAgIGVsaWYgbGF5b3V0X2xpc3RlbmVyID09ICfQn9C+0LTRgtCy0LXRgNC00LjRgtGMJzoKICAgICAgICAgICAgICAgIGRvYy5tYXJrX3ZlcmlmaWVkKGRvYywgMSkKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9CU0L7QutGD0LzQtdC90YLRiycpCiAgICAgICAgICAgIGVsaWYgbGF5b3V0X2xpc3RlbmVyID09ICfQntGH0LjRgdGC0LjRgtGMINC00LDQvdC90YvQtSDQv9C10YDQtdGB0YfQtdGC0LAnOgogICAgICAgICAgICAgICAgZG9jLmNsZWFyX2JhcmNvZGVfZGF0YShkb2MpCiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCAn0JTQsNC90L3Ri9C1INC/0LXRgNC10YHRh9C10YLQsCDQuCDQvNCw0YDQutC40YDQvtCy0LrQuCDQvtGH0LjRidC10L3RiycpCiAgICAgICAgICAgIGVsaWYgbGF5b3V0X2xpc3RlbmVyID09ICfQo9C00LDQu9C40YLRjCc6CiAgICAgICAgICAgICAgICBkb2MuZGVsZXRlX2RvYyhkb2MpCiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQlNC+0LrRg9C80LXQvdGC0YsnKQogICAgICAgICAgICBlbGlmIGxheW91dF9saXN0ZW5lciA9PSAn0KPQtNCw0LvQuNGC0YwnOgogICAgICAgICAgICAgICAgZG9jLmRlbGV0ZV9kb2MoZG9jKQogICAgICAgICAgICBlbGlmIGxheW91dF9saXN0ZW5lciA9PSAn0J7RgtC60YDRi9GC0Ywg0L7RgtCx0L7RgCc6CgogICAgICAgICAgICAgICAgb3Blbl9hZHJfZG9jX3RhYmxlKGhhc2hNYXAsICdvdXQnKQogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQogICAgICAgICAgICBlbGlmIGxheW91dF9saXN0ZW5lciA9PSAn0J7RgtC60YDRi9GC0Ywg0YDQsNC30LzQtdGJ0LXQvdC40LUnOgogICAgICAgICAgICAgICAgb3Blbl9hZHJfZG9jX3RhYmxlKGhhc2hNYXAsICdpbicpCiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCgogICAgICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9hZGRfZG9jIjoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0J3QvtCy0YvQuSDQtNC+0LrRg9C80LXQvdGCJykKCiAgICAgICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdGaW5pc2hQcm9jZXNzJywgJycpCgogICAgICAgICAgICAjIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9Cd0L7QstGL0Lkg0LTQvtC60YPQvNC10L3RgicpCiAgICAgICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgbmV3X2Fkcl9kb2Nfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgaGFzaE1hcC5nZXQoJ2RvY19hZHJfdHlwZV9zZWxlY3QnKSA9PSBOb25lOgogICAgICAgICMg0JfQsNC/0L7Qu9C90LjQvCDQv9C+0LvQtSDRhNC40LvRjNGC0YDQsCDQv9C+INCy0LjQtNGDINC00L7QutGD0LzQtdC90YLQvtCyCiAgICAgICAgZG9jX3R5cGVfbGlzdCA9IFsn0J7RgtCx0L7RgCcsICfQoNCw0LfQvNC10YnQtdC90LjQtScsICfQn9C10YDQtdC80LXRidC10L3QuNC1J10KICAgICAgICBoYXNoTWFwLnB1dCgnZG9jX2Fkcl90eXBlX3NlbGVjdCcsICc7Jy5qb2luKGRvY190eXBlX2xpc3QpKQoKCiAgICBpZiBoYXNoTWFwLmdldCgnd2FyZWhvdXNlJykgPT0gTm9uZToKICAgICAgICAjZmxkX2NvdW50cmFnZW50ID0gdWlfZ2xvYmFsLmdldF9uYW1lX2xpc3QoJ1JTX3dhcmVob3VzZXMnKQogICAgICAgIGhhc2hNYXAucHV0KCd3YXJlaG91c2UnLCAn0KHQutC70LDQtCcpICNkb2Nfd2FyZWhvdXNlCgogICAgaWYgbm90IGhhc2hNYXAuY29udGFpbnNLZXkoJ2RvY19kYXRlJyk6CiAgICAgICAgaGFzaE1hcC5wdXQoJ2RvY19kYXRlJywgJzAxLjAxLjIwMjInKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIG5ld19hZHJfZG9jX29uX3NlbGVjdChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpCiAgICB0eXBlID0gaGFzaE1hcC5nZXQoJ2RvY190eXBlX2NsaWNrJykKICAgIGlmIG5vdCB0eXBlIG9yIHR5cGU9PSfQktGB0LUnOgogICAgICAgIHR5cGUgPSAn0J7RgtCx0L7RgCcKICAgIGZsZF9udW1iZXIgPSBoYXNoTWFwLmdldCgnZmxkX251bWJlcicpCgogICAgaWYgbGlzdGVuZXIgPT0gImJ0bl9vayI6CiAgICAgICAgaWYgbm90IGZsZF9udW1iZXI6CgogICAgICAgICAgICBpZCA9IHVpX2dsb2JhbC5Sc19hZHJfZG9jLmdldF9uZXdfaWQoMSkKICAgICAgICAgICAgIyBpZCA9IChmJ3tpZDowNH0nKQogICAgICAgICAgICAjIGlkID0gInswOjA+NH0iLmZvcm1hdChpZCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZCA9IGZsZF9udW1iZXIKCiAgICAgICAgdHJ5OgogICAgICAgICAgICB1aV9nbG9iYWwuUnNfYWRyX2RvYy5hZGQoJzAxJywgKGlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLCAgIyBoYXNoTWFwLmdldCgnZmxkX251bWJlcicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoTWFwLmdldCgnZmxkX2RhdGEnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpX2dsb2JhbC5nZXRfYnlfbmFtZShoYXNoTWFwLmdldCgnZG9jX3dhcmVob3VzZScpLCAnUlNfd2FyZWhvdXNlcycpKSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0JTQvtC60YPQvNC10L3RgtGLJykKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQndC+0LzQtdGAINC00L7QutGD0LzQtdC90YLQsCDQvdC10YPQvdC40LrQsNC70LXQvSEnKQoKCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fY2FuY2VsJzoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQlNC+0LrRg9C80LXQvdGC0YsnKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnZmxkX2RhdGEnOgogICAgICAgIGhhc2hNYXAucHV0KCdkb2NfZGF0ZScsIGhhc2hNYXAuZ2V0KCdmbGRfZGF0YScpKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGC0YsiKQogICAgZWxpZiBsaXN0ZW5lciA9PSdidG5fc2VsZWN0X3dhcmVob3VzZSc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3RhYmxlX2Zvcl9zZWxlY3QnLCAnUlNfd2FyZWhvdXNlcycpICAjINCi0LDQsdC70LjRhtCwINC00LvRjyDQstGL0LHQvtGA0LAg0LfQvdCw0YfQtdC90LjRjwogICAgICAgIGhhc2hNYXAucHV0KCdTZXRSZXN1bHRMaXN0ZW5lcicsICdzZWxlY3RfY2VsbF92YWx1ZScpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2ZpbHRlcl9maWVsZHMnLCAnbmFtZScpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dQcm9jZXNzUmVzdWx0JywgJ9Cj0L3QuNCy0LXRgNGB0LDQu9GM0L3Ri9C5INGB0L/RgNCw0LLQvtGH0L3QuNC6fNCh0L/RgNCw0LLQvtGH0L3QuNC6JykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ3NlbGVjdF9jZWxsX3ZhbHVlJzoKICAgICAgICBpZiBoYXNoTWFwLmdldCgndGFibGVfZm9yX3NlbGVjdCcpID09ICdSU193YXJlaG91c2VzJzoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3dhcmVob3VzZScsIGhhc2hNYXAuZ2V0KCdjdXJyZW50X25hbWUnKSkgICMgZmxkX2NvdW50cmFnZW50CgogICAgcmV0dXJuIGhhc2hNYXAKCmRlZiB1bml2ZXJzYWxfY2FyZHNfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgZmlsdGVyX3ZhbHVlID1oYXNoTWFwLmdldCgnU2VhcmNoU3RyaW5nJykKICAgIGlmIGZpbHRlcl92YWx1ZToKICAgICAgIGZpbHRlcl9maWVsZHMgPSBoYXNoTWFwLmdldCgnZmlsdGVyX2ZpZWxkcycpLnNwbGl0KCc7JykKICAgIGVsc2U6CiAgICAgICAgZmlsdGVyX2ZpZWxkcyA9IGxpc3QoKQogICAgaGFzaE1hcC5wdXQoJ2NhcmRzJywgZ2V0X3RhYmxlX2NhcmRzKGhhc2hNYXAuZ2V0KCd0YWJsZV9mb3Jfc2VsZWN0JyksZmlsdGVyX2ZpZWxkcyxmaWx0ZXJfdmFsdWUpKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIHVuaXZlcnNhbF9jYXJkc19saXN0ZW5lcihoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgbGlzdGVuZXIgPSBoYXNoTWFwLmdldCgibGlzdGVuZXIiKQoKICAgIGlmIGxpc3RlbmVyID09ICJDYXJkc0NsaWNrIjoKICAgICAgICBjdXJyZW50X3N0ciA9IGhhc2hNYXAuZ2V0KCJzZWxlY3RlZF9jYXJkX3Bvc2l0aW9uIikKICAgICAgICBqbGlzdCA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoImNhcmRzIikpCiAgICAgICAgY3VycmVudF9lbGVtID0gamxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddW2ludChjdXJyZW50X3N0cildCiAgICAgICAgaGFzaE1hcC5yZW1vdmUoJ1NlYXJjaFN0cmluZycpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2N1cnJlbnRfaWQnLGN1cnJlbnRfZWxlbVsna2V5J10pCiAgICAgICAgaGFzaE1hcC5wdXQoJ2N1cnJlbnRfbmFtZScsIGN1cnJlbnRfZWxlbVsnbmFtZSddKQogICAgICAgIGhhc2hNYXAucHV0KCdGaW5pc2hQcm9jZXNzUmVzdWx0JywgJycpCgoKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ0xheW91dEFjdGlvbic6CiAgICAgICAgbGF5b3V0X2xpc3RlbmVyID0gaGFzaE1hcC5nZXQoJ2xheW91dF9saXN0ZW5lcicpCiAgICAgICAgIyDQndCw0YXQvtC00LjQvCBJRCDQtNC+0LrRg9C80LXQvdGC0LAKICAgICAgICBjdXJyZW50X2NhcmQgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJjdXJyZW50X2NhcmQiKSkKCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnJlbW92ZSgnU2VhcmNoU3RyaW5nJykKICAgICAgICBoYXNoTWFwLnB1dCgnY3VycmVudF9pZCcsICcnKQogICAgICAgIGhhc2hNYXAucHV0KCdGaW5pc2hQcm9jZXNzUmVzdWx0JywgJycpCiAgICBlbGlmIGxpc3RlbmVyID09ICdTZWFyY2gnOgogICAgICAgIGZpbHRlcl92YWx1ZSA9IGhhc2hNYXAuZ2V0KCdTZWFyY2hTdHJpbmcnKQogICAgICAgIGlmIGxlbihmaWx0ZXJfdmFsdWUpID4gMjoKICAgICAgICAgICAgZmlsdGVyX2ZpZWxkcyA9IGhhc2hNYXAuZ2V0KCdmaWx0ZXJfZmllbGRzJykuc3BsaXQoJzsnKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgnY2FyZHMnLCBnZXRfdGFibGVfY2FyZHMoaGFzaE1hcC5nZXQoJ3RhYmxlX2Zvcl9zZWxlY3QnKSwgZmlsdGVyX2ZpZWxkcywgZmlsdGVyX3ZhbHVlKSkKCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdSZWZyZXNoU2NyZWVuJywnJykKICAgICAgICAjdW5pdmVyc2FsX2NhcmRzX29uX3N0YXJ0KGhhc2hNYXApCgogICAgcmV0dXJuIGhhc2hNYXAKCgojINCU0L7QsdCw0LLQu9C10L0g0L/QsNGA0LDQvNC10YLRgCAibm9fbGFiZWwiCmRlZiBnZXRfdGFibGVfY2FyZHModGFibGVfbmFtZTogc3RyLCBmaWx0ZXJfZmllbGRzPWxpc3QoKSwgZmlsdGVyX3ZhbHVlPScnLCBleGNsdWRlX2xpc3Q9bGlzdCgpLCBub19sYWJlbD1GYWxzZSwgc3RydWN0X3ZpZXc6bGlzdCA9IGxpc3QoKSk6CiAgICAjINCf0L7Qu9GD0YfQuNC8INGB0L/QuNGB0L7QuiDQv9C+0LvQtdC5INGC0LDQsdC70LjRhtGLCiAgICAjIHRhYmxlX25hbWUgPSAnUlNfZ29vZHMnCiAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChmIlBSQUdNQSB0YWJsZV9pbmZvKHt0YWJsZV9uYW1lfSkiKQogICAgZmllbGRzID0gW2ZbMV0gZm9yIGYgaW4gcmVzXQogICAgIyDQodC70L7QstCw0YDRjCDRgNGD0YHRgdC60LjRhSDQuNC80LXQvSDQv9C+0LvQtdC5CiAgICBhbGlhc2VzID0gdWlfZm9ybV9kYXRhLmZpZWxkc19hbGlhc19kaWN0KCkKICAgICMg0KHQu9C+0LLQsNGA0Ywg0L/QvtC70LXQuS3RgdGB0YvQu9C+0Log0L3QsCDRgtCw0LHQu9C40YbRiwogICAgdGFibGVzX2RpY3QgPSB1aV9mb3JtX2RhdGEudGFibGVfbmFtZXNfZGljdCgpCgogICAgIyDQodC+0LfQtNCw0LTQuNC8INC30LDQv9GA0L7RgSDQuiDRgtCw0LHQu9C40YbQtS4g0KHRgdGL0LvQvtGH0L3Ri9C1INC/0L7Qu9GPINC30LDQvNC10L3QuNC8INC90LAg0L3QsNC40LzQtdC90L7QstCw0L3QuNC1INC40Lcg0YHQstGP0LfQsNC90L3Ri9GFINGC0LDQsdC70LjRhgogICAgY2FyZF9lbGVtID0gdWlfZm9ybV9kYXRhLmdldF9lbGVtX2RpY3QoMjQpCiAgICBjYXJkcyA9IHVpX2Zvcm1fZGF0YS5nZXRfdW5pdmVyc2FsX2NhcmQoKQoKICAgIHFmaWVsZF90ZXh0ID0gW10KICAgIGxlZnRfam9pbnNfbGlzdCA9IFtdCiAgICBmb3IgZWwgaW4gZmllbGRzOgogICAgICAgIGlmIGVsIG5vdCBpbiBleGNsdWRlX2xpc3Q6CiAgICAgICAgICAgIGxpbmtfdGFibGVfbmFtZSA9IHRhYmxlc19kaWN0LmdldChlbCkKICAgICAgICAgICAgcWZpZWxkX3RleHQuYXBwZW5kKHRhYmxlX25hbWUgKyAnLicgKyBlbCkKCiAgICAgICAgICAgICMg0JTQvtC/0L7Qu9C90LjQvCDQstGL0YXQvtC00L3Rg9GOINGB0YLRgNGD0LrRgtGD0YDRgyDQv9C+0LvRj9C80Lgg0YLQsNCx0LvQuNGG0Ys6CiAgICAgICAgICAgIGFsaWFzZXNfZWxlbSA9IGFsaWFzZXMuZ2V0KGVsKQogICAgICAgICAgICBpZiBhbGlhc2VzX2VsZW06ICAjINCU0LvRjyDRjdGC0L7Qs9C+INC/0L7Qu9GPINC/0YDQtdC00YPRgdC80L7RgtGA0LXQvdCwINC90LDRgdGC0YDQvtC50LrQsAogICAgICAgICAgICAgICAgaWYgbm90IGFsaWFzZXNfZWxlbVsnbmFtZSddID09ICdrZXknOiAgIyDQlNC70Y8g0LrQu9GO0YfQsCDQvdCw0YHRgtGA0L7QudC60Lgg0L3QtSDQvdGD0LbQvdGLCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IG5vX2xhYmVsOgogICAgICAgICAgICAgICAgICAgICAgICAjINC00L7QsdCw0LLQuNC8INC+0L/QuNGB0LDQvdC40LUg0L/QvtC70Y86Li4uCiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRfZWxlbVsnVmFsdWUnXSA9IGFsaWFzZXNfZWxlbVsnbmFtZSddCiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRfZWxlbVsnVGV4dFNpemUnXSA9IHJzX3NldHRpbmdzLmdldCgnQ2FyZERhdGVUZXh0U2l6ZScpICAjIGFsaWFzZXNfZWxlbVsndGV4dF9zaXplJ10KICAgICAgICAgICAgICAgICAgICAgICAgY2FyZF9lbGVtWydUZXh0Qm9sZCddID0gRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgY2FyZHNbJ2N1c3RvbWNhcmRzJ11bJ2xheW91dCddWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddLmFwcGVuZChjYXJkX2VsZW0uY29weSgpKQoKICAgICAgICAgICAgICAgICAgICAjINCi0LXQv9C10YDRjCDRgdCw0LzQviDQv9C+0LvQtToKICAgICAgICAgICAgICAgICAgICBjYXJkX2VsZW1bJ1ZhbHVlJ10gPSAnQCcgKyBlbAogICAgICAgICAgICAgICAgICAgIGNhcmRfZWxlbVsnVGV4dFNpemUnXSA9IHJzX3NldHRpbmdzLmdldChhbGlhc2VzX2VsZW1bJ3RleHRfc2l6ZSddKQogICAgICAgICAgICAgICAgICAgIGNhcmRfZWxlbVsnVGV4dEJvbGQnXSA9IGFsaWFzZXNfZWxlbVsnVGV4dEJvbGQnXQogICAgICAgICAgICBlbHNlOiAgIyDQmNC90LDRh9C1INC/0YDQvtGB0YLQviDQtNC+0LHQsNCy0LjQvCDQtdCz0L4g0YHQviDRgdGC0LDQvdC00LDRgNGC0L3Ri9C80Lgg0L3QsNGB0YLRgNC+0LnQutCw0LzQuAogICAgICAgICAgICAgICAgY2FyZF9lbGVtWydWYWx1ZSddID0gJ0AnICsgZWwKCiAgICAgICAgICAgIGlmIGxpbmtfdGFibGVfbmFtZToKICAgICAgICAgICAgICAgICMg0K3RgtC+INGB0YHRi9C70LrQsCDQvdCwINGC0LDQsdC70LjRhtGDCiAgICAgICAgICAgICAgICBxZmllbGRfdGV4dC5hcHBlbmQobGlua190YWJsZV9uYW1lICsgZicubmFtZSBhcyB7bGlua190YWJsZV9uYW1lfV9uYW1lJykKICAgICAgICAgICAgICAgIGxlZnRfam9pbnNfbGlzdC5hcHBlbmQoZicnJwogICAgICAgICAgICAgICAgICAgIExFRlQgSk9JTiB7bGlua190YWJsZV9uYW1lfQogICAgICAgICAgICAgICAgICAgIE9OIHtsaW5rX3RhYmxlX25hbWV9LmlkID0ge3RhYmxlX25hbWV9LntlbH0KICAgICAgICAgICAgICAgICAgICAnJycpCiAgICAgICAgICAgICAgICBjYXJkX2VsZW1bCiAgICAgICAgICAgICAgICAgICAgJ1ZhbHVlJ10gPSBmJ0B7bGlua190YWJsZV9uYW1lfV9uYW1lJyAgIyDQotCw0Log0LrQsNC6INC/0L7Qu9C1INGB0YHRi9C70L7Rh9C90L7QtSAtINC/0LXRgNC10LjQvNC10L3Rg9C10Lwg0LXQs9C+INC60LDQuiDQsiDQt9Cw0L/RgNC+0YHQtQoKICAgICAgICAgICAgIyDQlNC+0LHQsNCy0LjQvCDQv9C+0LvQtSDQsiDQutCw0YDRgtC+0YfQutC4CiAgICAgICAgICAgIGNhcmRzWydjdXN0b21jYXJkcyddWydsYXlvdXQnXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXS5hcHBlbmQoY2FyZF9lbGVtLmNvcHkoKSkKCiAgICBxdGV4dCA9ICdTZWxlY3QgJyArICcsJy5qb2luKHFmaWVsZF90ZXh0KSArIGYnIEZST00ge3RhYmxlX25hbWV9ICcgKyAnICcuam9pbihsZWZ0X2pvaW5zX2xpc3QpCiAgICAjINCV0YHQu9C4INC10YHRgtGMINGE0LjQu9GM0YLRgNGLL9C+0YLQsdC+0YDRiyAtINC00L7QsdCw0LLQuNC8INC40YUg0LIg0LfQsNC/0YDQvtGBCiAgICBpZiBmaWx0ZXJfdmFsdWU6CiAgICAgICAgIyBjb25kaXRpb25zID0gW2Yie2ZpZWxkfSBMSUtFICcle2ZpbHRlcl92YWx1ZX0lJyIgZm9yIGZpZWxkIGluIGZpbHRlcl9maWVsZHNdCiAgICAgICAgY29uZGl0aW9ucyA9IFtmInt0YWJsZV9uYW1lfS57ZmllbGR9IExJS0UgJyV7ZmlsdGVyX3ZhbHVlfSUnIiBmb3IgZmllbGQgaW4gZmlsdGVyX2ZpZWxkc10KICAgICAgICBxdGV4dCA9IHF0ZXh0ICsgZiIgV0hFUkUgeycgT1IgJy5qb2luKGNvbmRpdGlvbnMpfSIKICAgIHJlc19xdWVyeSA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCBOb25lLCBUcnVlKQogICAgIyBzZXR0aW5nc19nbG9iYWwuZ2V0CgogICAgY2FyZHNbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddID0gW10KCiAgICBmb3IgaSBpbiByZXNfcXVlcnk6CiAgICAgICAgcHJvZHVjdF9yb3cgPSB7fQogICAgICAgIGZvciB4IGluIGk6CiAgICAgICAgICAgIGlmIHggPT0gJ2lkJzoKICAgICAgICAgICAgICAgIHByb2R1Y3Rfcm93WydrZXknXSA9IHN0cihpW3hdKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJvZHVjdF9yb3dbeF0gPSBzdHIoaVt4XSkKCiAgICAgICAgY2FyZHNbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddLmFwcGVuZChwcm9kdWN0X3JvdykKCiAgICByZXR1cm4ganNvbi5kdW1wcyhjYXJkcykKCmNsYXNzIFVuaXZlcnNhbENhcmQ6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdGFibGVfbmFtZTogc3RyLCBmaWx0ZXJfZmllbGRzPWxpc3QoKSwgZmlsdGVyX3ZhbHVlPScnLCBleGNsdWRlX2xpc3Q9bGlzdCgpLG5vX2xhYmVsPUZhbHNlLCBzdHJ1Y3RfdmlldzpsaXN0ID0gbGlzdCgpKToKICAgICAgICBzZWxmLnRhYmxlX25hbWUgPSB0YWJsZV9uYW1lCiAgICAgICAgc2VsZi5maWx0ZXJfZmllbGRzID0gZmlsdGVyX2ZpZWxkcwogICAgICAgIHNlbGYuZmlsdGVyX3ZhbHVlID0gZmlsdGVyX3ZhbHVlCiAgICAgICAgc2VsZi5leGNsdWRlX2xpc3QgPSBleGNsdWRlX2xpc3QKICAgICAgICBzZWxmLm5vX2xhYmVsID0gbm9fbGFiZWwKICAgICAgICBzZWxmLnN0cnVjdF92aWV3ID0gc3RydWN0X3ZpZXcKCiAgICAgICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoZiJQUkFHTUEgdGFibGVfaW5mbyh7dGFibGVfbmFtZX0pIikKICAgICAgICBzZWxmLmZpZWxkcyA9IFtmWzFdIGZvciBmIGluIHJlc10KICAgICAgICAjINCh0LvQvtCy0LDRgNGMINGA0YPRgdGB0LrQuNGFINC40LzQtdC9INC/0L7Qu9C10LkKICAgICAgICBzZWxmLmFsaWFzZXMgPSB1aV9mb3JtX2RhdGEuZmllbGRzX2FsaWFzX2RpY3QoKQogICAgICAgICMg0KHQu9C+0LLQsNGA0Ywg0L/QvtC70LXQuS3RgdGB0YvQu9C+0Log0L3QsCDRgtCw0LHQu9C40YbRiwogICAgICAgIHNlbGYudGFibGVzX2RpY3QgPSB1aV9mb3JtX2RhdGEudGFibGVfbmFtZXNfZGljdCgpCiAgICAgICAgc2VsZi5jYXJkX2VsZW0gPSB1aV9mb3JtX2RhdGEuZ2V0X2VsZW1fZGljdCgyNCkKICAgICAgICBzZWxmLmNhcmRzID0gdWlfZm9ybV9kYXRhLmdldF91bml2ZXJzYWxfY2FyZCgpCiAgICAgICAgc2VsZi5nb3Jpem9udGFsX2xheW91dCA9IHsibGF5b3V0IjogewogICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAib3JpZW50YXRpb24iOiAiZ29yaXpvbnRhbCIsCiAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCgogICAgICAgICAgICAiRWxlbWVudHMiOiBbXX19CgogICAgZGVmIGdldF9xdWVyeV9ieV90YWJsZV9uYW1lKHNlbGYpOgogICAgICAgIHFmaWVsZF90ZXh0ID0gW10KICAgICAgICBsZWZ0X2pvaW5zX2xpc3QgPSBbXQogICAgICAgIGZvciBlbCBpbiBzZWxmLmZpZWxkczoKICAgICAgICAgICAgbGlua190YWJsZV9uYW1lID0gc2VsZi50YWJsZXNfZGljdC5nZXQoZWwpCiAgICAgICAgICAgIHFmaWVsZF90ZXh0LmFwcGVuZChzZWxmLnRhYmxlX25hbWUgKyAnLicgKyBlbCkKICAgICAgICAgICAgI3F0ZXh0ID0gJ1NlbGVjdCAnICsgJywnLmpvaW4ocWZpZWxkX3RleHQpICsgZicgRlJPTSB7c2VsZi50YWJsZV9uYW1lfSAnICsgJyAnLmpvaW4obGVmdF9qb2luc19saXN0KQogICAgICAgICAgICAjINCV0YHQu9C4INC10YHRgtGMINGE0LjQu9GM0YLRgNGLL9C+0YLQsdC+0YDRiyAtINC00L7QsdCw0LLQuNC8INC40YUg0LIg0LfQsNC/0YDQvtGBCiAgICAgICAgICAgIGlmIGxpbmtfdGFibGVfbmFtZToKICAgICAgICAgICAgICAgICMg0K3RgtC+INGB0YHRi9C70LrQsCDQvdCwINGC0LDQsdC70LjRhtGDCiAgICAgICAgICAgICAgICBxZmllbGRfdGV4dC5hcHBlbmQobGlua190YWJsZV9uYW1lICsgZicubmFtZSBhcyB7bGlua190YWJsZV9uYW1lfV9uYW1lJykKICAgICAgICAgICAgICAgIGxlZnRfam9pbnNfbGlzdC5hcHBlbmQoZicnJwogICAgICAgICAgICAgICAgICAgIExFRlQgSk9JTiB7bGlua190YWJsZV9uYW1lfQogICAgICAgICAgICAgICAgICAgIE9OIHtsaW5rX3RhYmxlX25hbWV9LmlkID0ge3NlbGYudGFibGVfbmFtZX0ue2VsfQogICAgICAgICAgICAgICAgICAgICcnJykKICAgICAgICBxdGV4dCA9ICdTZWxlY3QgJyArICcsJy5qb2luKHFmaWVsZF90ZXh0KSArIGYnIEZST00ge3NlbGYudGFibGVfbmFtZX0gJyArICcgJy5qb2luKGxlZnRfam9pbnNfbGlzdCkKICAgICAgICAjINCV0YHQu9C4INC10YHRgtGMINGE0LjQu9GM0YLRgNGLL9C+0YLQsdC+0YDRiyAtINC00L7QsdCw0LLQuNC8INC40YUg0LIg0LfQsNC/0YDQvtGBCiAgICAgICAgaWYgc2VsZi5maWx0ZXJfdmFsdWU6CiAgICAgICAgICAgICMgY29uZGl0aW9ucyA9IFtmIntmaWVsZH0gTElLRSAnJXtmaWx0ZXJfdmFsdWV9JSciIGZvciBmaWVsZCBpbiBmaWx0ZXJfZmllbGRzXQogICAgICAgICAgICBjb25kaXRpb25zID0gW2Yie3NlbGYudGFibGVfbmFtZX0ue2ZpZWxkfSBMSUtFICcle3NlbGYuZmlsdGVyX3ZhbHVlfSUnIiBmb3IgZmllbGQgaW4gc2VsZi5maWx0ZXJfZmllbGRzXQogICAgICAgICAgICBxdGV4dCA9IHF0ZXh0ICsgZiIgV0hFUkUgeycgT1IgJy5qb2luKGNvbmRpdGlvbnMpfSIKICAgICAgICByZXR1cm4gcXRleHQKCiAgICBkZWYgZm9ybV9jYXJkX3N0cnVjdChzZWxmKToKICAgICAgICAjcWZpZWxkX3RleHQgPSBbXQogICAgICAgIGNhcmRfZWxlbSA9IHNlbGYuY2FyZF9lbGVtCiAgICAgICAgY2FyZHMgPSBzZWxmLmNhcmRzCiAgICAgICAgZm9yIGVsIGluIHNlbGYuZmllbGRzOgogICAgICAgICAgICBpZiBlbCBub3QgaW4gc2VsZi5leGNsdWRlX2xpc3Q6CiAgICAgICAgICAgICAgICBsaW5rX3RhYmxlX25hbWUgPSBzZWxmLnRhYmxlc19kaWN0LmdldChlbCkKICAgICAgICAgICAgICAgICNxZmllbGRfdGV4dC5hcHBlbmQoc2VsZi50YWJsZV9uYW1lICsgJy4nICsgZWwpCgogICAgICAgICAgICAgICAgIyDQlNC+0L/QvtC70L3QuNC8INCy0YvRhdC+0LTQvdGD0Y4g0YHRgtGA0YPQutGC0YPRgNGDINC/0L7Qu9GP0LzQuCDRgtCw0LHQu9C40YbRizoKICAgICAgICAgICAgICAgIGFsaWFzZXNfZWxlbSA9IHNlbGYuYWxpYXNlcy5nZXQoZWwpCiAgICAgICAgICAgICAgICBpZiBhbGlhc2VzX2VsZW06ICAjINCU0LvRjyDRjdGC0L7Qs9C+INC/0L7Qu9GPINC/0YDQtdC00YPRgdC80L7RgtGA0LXQvdCwINC90LDRgdGC0YDQvtC50LrQsAogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBhbGlhc2VzX2VsZW1bJ25hbWUnXSA9PSAna2V5JzogICMg0JTQu9GPINC60LvRjtGH0LAg0L3QsNGB0YLRgNC+0LnQutC4INC90LUg0L3Rg9C20L3RiwogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZi5ub19sYWJlbDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMg0LTQvtCx0LDQstC40Lwg0L7Qv9C40YHQsNC90LjQtSDQv9C+0LvRjzouLi4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRfZWxlbVsnVmFsdWUnXSA9IGFsaWFzZXNfZWxlbVsnbmFtZSddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkX2VsZW1bJ1RleHRTaXplJ10gPSByc19zZXR0aW5ncy5nZXQoJ0NhcmREYXRlVGV4dFNpemUnKSAgIyBhbGlhc2VzX2VsZW1bJ3RleHRfc2l6ZSddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkX2VsZW1bJ1RleHRCb2xkJ10gPSBGYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZHNbJ2N1c3RvbWNhcmRzJ11bJ2xheW91dCddWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkX2VsZW0uY29weSgpKQoKICAgICAgICAgICAgICAgICAgICAgICAgIyDQotC10L/QtdGA0Ywg0YHQsNC80L4g0L/QvtC70LU6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRfZWxlbVsnVmFsdWUnXSA9ICdAJyArIGVsCiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRfZWxlbVsnVGV4dFNpemUnXSA9IHJzX3NldHRpbmdzLmdldChhbGlhc2VzX2VsZW1bJ3RleHRfc2l6ZSddKQogICAgICAgICAgICAgICAgICAgICAgICBjYXJkX2VsZW1bJ1RleHRCb2xkJ10gPSBhbGlhc2VzX2VsZW1bJ1RleHRCb2xkJ10KICAgICAgICAgICAgICAgIGVsc2U6ICAjINCY0L3QsNGH0LUg0L/RgNC+0YHRgtC+INC00L7QsdCw0LLQuNC8INC10LPQviDRgdC+INGB0YLQsNC90LTQsNGA0YLQvdGL0LzQuCDQvdCw0YHRgtGA0L7QudC60LDQvNC4CiAgICAgICAgICAgICAgICAgICAgY2FyZF9lbGVtWydWYWx1ZSddID0gJ0AnICsgZWwKICAgICAgICAgICAgICAgICAgICAjINCU0L7QsdCw0LLQuNC8INC/0L7Qu9C1INCyINC60LDRgNGC0L7Rh9C60LgKICAgICAgICAgICAgY2FyZHNbJ2N1c3RvbWNhcmRzJ11bJ2xheW91dCddWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddLmFwcGVuZChjYXJkX2VsZW0uY29weSgpKQogICAgZGVmIGZvcm1fY2FyZF9zdHJ1Y3RfZnJvbV9yZWFkeV9zcnVjdChzZWxmKToKICAgICAgICB0ZW1wX3N0cnVjdCA9ICgnY29kZScsJ25hbWUnLCgnYXJ0JywndGltZXN0YW1wJyksJ2Z1bGxfbmFtZScpCiAgICAgICAganNvbl9zdHJ1Y3R1cmUgPSBbXQoKICAgICAgICBmb3IgaXRlbSBpbiB0ZW1wX3N0cnVjdDoKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShpdGVtLCBsaXN0KToKICAgICAgICAgICAgICAgIG5lc3RlZF9zdHJ1Y3R1cmUgPSBbXQogICAgICAgICAgICAgICAgZm9yIG5lc3RlZF9pdGVtIGluIGl0ZW06CiAgICAgICAgICAgICAgICAgICAgbmVzdGVkX3N0cnVjdHVyZS5hcHBlbmQobmVzdGVkX2l0ZW0pCiAgICAgICAgICAgICAgICBqc29uX3N0cnVjdHVyZS5hcHBlbmQobmVzdGVkX3N0cnVjdHVyZSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGpzb25fc3RydWN0dXJlLmFwcGVuZChpdGVtKQoKICAgICAgICByZXR1cm4ganNvbi5kdW1wcyhqc29uX3N0cnVjdHVyZSwgaW5kZW50PTQpCgoKIyDQm9C40YLQstC40L3QtdC90LrQviDQntC70LXQsy4g0KHQvtC30LTQsNC90LjQtSDRgtCw0LHQu9C40YYg0L/QviDQt9Cw0L/RgNC+0YHRgyDQvtGB0YLQsNGC0LrQvtCyINC4INGG0LXQvS4gMTYuMDUuMjAyMwoKZGVmIG9wZW5fd2hfbGlzdF9vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgaiA9IHVpX2Zvcm1fZGF0YTIud2hfbGlzdF9jYXJkcwoKICAgIGpbImN1c3RvbWNhcmRzIl1bImNhcmRzZGF0YSJdID0gW10KCiAgICBxdWVyeV90ZXh0ID0gIlNFTEVDVCAqIEZST00gUlNfd2FyZWhvdXNlcyIKICAgIHJlc3VsdHMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0KQoKICAgIGZvciByZWNvcmQgaW4gcmVzdWx0czoKICAgICAgICBjID0geyJrZXkiOiBzdHIocmVjb3JkWzBdKSwgIm5hbWUiOiBzdHIocmVjb3JkWzFdKX0KICAgICAgICBqWyJjdXN0b21jYXJkcyJdWyJjYXJkc2RhdGEiXS5hcHBlbmQoYykKCiAgICBpZiBub3QgaGFzaE1hcC5jb250YWluc0tleSgid2hfY2FyZHMiKToKICAgICAgICBoYXNoTWFwLnB1dCgid2hfY2FyZHMiLCBqc29uLmR1bXBzKGosIGVuc3VyZV9hc2NpaT1GYWxzZSkuZW5jb2RlKCd1dGY4JykuZGVjb2RlKCkpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgb3Blbl9jZWxsX2xpc3Rfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgoKICAgIGlkZW50aWZ5X2lucHV0X3RleHQoaGFzaE1hcCkKCiAgICBnb29kX2lkID0gaGFzaE1hcC5nZXQoInNlbGVjdGVkX2dvb2RfaWQiKQoKICAgIGlmIG5vdCBnb29kX2lkOgogICAgICAgIGhhc2hNYXAucHV0KCJ0b2FzdCIsICLQndC1INCy0YvQsdGA0LDQvSDRgtC+0LLQsNGAIikKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQn9GA0L7QstC10YDQuNGC0Ywg0L7RgdGC0LDRgtC60LgiKQoKICAgIGVsc2U6CgogICAgICAgIGhhc2hNYXAucHV0KCJjYXJkc19sb2FkaW5nIiwgItCX0LDQs9GA0YPQttCw0LXRgtGB0Y8g0YHQv9C40YHQvtC6INGP0YfQtdC10LouLi4iKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGdldF9nb29kX2NlbGxzKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGdvb2RfaWQgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfZ29vZF9pZCIpCgogICAgaHR0cCA9IGdldF9odHRwX3NldHRpbmdzKGhhc2hNYXApCiAgICBnZXRfcmVtYWluc191cmwgPSBodHRwWyd1cmwnXSArICcvc2ltcGxlX2FjY291bnRpbmcvZ29vZF9iYWxhbmNlcy9jZWxscz8nCiAgICBwYXJhbXMgPSB7J2FuZHJvaWRfaWQnOiBodHRwWydhbmRyb2lkX2lkJ10sICJpZF9nb29kIjogZ29vZF9pZH0KICAgIHIgPSByZXF1ZXN0cy5nZXQoZ2V0X3JlbWFpbnNfdXJsLAogICAgICAgICAgICAgICAgICAgICBhdXRoPUhUVFBCYXNpY0F1dGgoaHR0cFsndXNlciddLCBodHRwWydwYXNzJ10pLAogICAgICAgICAgICAgICAgICAgICBoZWFkZXJzPXsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCd9LAogICAgICAgICAgICAgICAgICAgICBwYXJhbXM9cGFyYW1zKQoKICAgIGpzb25fcmVzcG9uc2UgPSBqc29uLmxvYWRzKHIudGV4dC5lbmNvZGUoInV0Zi04IikpCgogICAgaiA9IHVpX3RhYmxlc19zdHJ1Y3R1cmUuY2VsbF9saXN0X2NhcmRzCiAgICBqWyJjdXN0b21jYXJkcyJdWyJjYXJkc2RhdGEiXSA9IFtdCiAgICBpZiBsZW4oanNvbl9yZXNwb25zZSkgPiAwOgoKICAgICAgICBhcHBlbmRlZF9jZWxsX2lkX2xpc3QgPSBbXQogICAgICAgIGZvciByZWNvcmQgaW4ganNvbl9yZXNwb25zZToKICAgICAgICAgICAgaWYgcmVjb3JkWyJpZF9jZWxsIl0gbm90IGluIGFwcGVuZGVkX2NlbGxfaWRfbGlzdDoKICAgICAgICAgICAgICAgIGMgPSB7ImtleSI6IHJlY29yZFsiaWRfY2VsbCJdLCAibmFtZSI6IGdldF9uYW1lX2J5X2ZpZWxkKCJSU19jZWxscyIsICdpZCcsIHJlY29yZFsiaWRfY2VsbCJdKX0KICAgICAgICAgICAgICAgIGpbImN1c3RvbWNhcmRzIl1bImNhcmRzZGF0YSJdLmFwcGVuZChjKQogICAgICAgICAgICAgICAgYXBwZW5kZWRfY2VsbF9pZF9saXN0LmFwcGVuZChyZWNvcmRbImlkX2NlbGwiXSkKICAgICAgICBhcHBlbmRlZF9jZWxsX2lkX2xpc3QuY2xlYXIoKQoKICAgICAgICBpZiBub3QgaGFzaE1hcC5jb250YWluc0tleSgiY2VsbF9jYXJkcyIpOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgiY2VsbF9jYXJkcyIsIGpzb24uZHVtcHMoaiwgZW5zdXJlX2FzY2lpPUZhbHNlKS5lbmNvZGUoJ3V0ZjgnKS5kZWNvZGUoKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBub3QgaGFzaE1hcC5nZXQoImNlbGxfY2FyZHMiKToKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCJjZWxsX2NhcmRzIiwganNvbi5kdW1wcyhqLCBlbnN1cmVfYXNjaWk9RmFsc2UpLmVuY29kZSgndXRmOCcpLmRlY29kZSgpKQogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoImNhcmRzX2xvYWRpbmciLCAiIikKICAgIGVsc2U6CiAgICAgICAgaGFzaE1hcC5wdXQoImNlbGxfc2VsZWN0IiwgItCd0LUg0YDQsNC30LzQtdGJ0LXQvSDQsiDRj9GH0LXQudC60LDRhSIpCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0J/RgNC+0LLQtdGA0LjRgtGMINC+0YHRgtCw0YLQutC4IikKCiAgICBoYXNoTWFwLnB1dCgiUmVmcmVzaFNjcmVlbiIsICIiKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGNlbGxfbGlzdF9vbl9pbnB1dChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnQ2FyZHNDbGljayc6CiAgICAgICAgc2VsZWN0ZWRfY2VsbF9pZCA9IGhhc2hNYXAuZ2V0KCJzZWxlY3RlZF9jYXJkX2tleSIpCiAgICAgICAgY3VycmVudF9zdHIgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9wb3NpdGlvbiIpCiAgICAgICAgamxpc3QgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJjZWxsX2NhcmRzIikpCiAgICAgICAgY3VycmVudF9lbGVtID0gamxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddW2ludChjdXJyZW50X3N0cildCiAgICAgICAgc2VsZWN0ZWRfY2VsbF9uYW1lID0gY3VycmVudF9lbGVtWyJuYW1lIl0KCiAgICAgICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX2NlbGxfaWQnLCBzZWxlY3RlZF9jZWxsX2lkKQogICAgICAgIGhhc2hNYXAucHV0KCJjZWxsX3NlbGVjdCIsIHNlbGVjdGVkX2NlbGxfbmFtZSkKICAgICAgICBoYXNoTWFwLnB1dCgic2VsZWN0ZWRfY2VsbF9uYW1lIiwgc2VsZWN0ZWRfY2VsbF9uYW1lKQogICAgICAgIGhhc2hNYXAucHV0KCJjZWxsX2NhcmRzIiwgIiIpCiAgICAgICAgaGFzaE1hcC5wdXQoIkJhY2tTY3JlZW4iLCAiIikKICAgICAgICByZXR1cm4gaGFzaE1hcAogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ2JhY2tfdG9fcmVtYWlucycgb3IgJ09OX0JBQ0tfUFJFU1NFRCc6CiAgICAgICAgYmFja190b19yZW1haW5zKGhhc2hNYXApCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZ2V0X3JlbWFpbnMoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgoKICAgIGh0dHAgPSBnZXRfaHR0cF9zZXR0aW5ncyhoYXNoTWFwKQoKICAgIGlmIGhhc2hNYXAuZ2V0KCdnb29kX2FydF9pbnB1dCcpIG9yIGhhc2hNYXAuZ2V0KCdjZWxsX2lucHV0Jyk6CiAgICAgICAgaWRlbnRpZnlfaW5wdXRfdGV4dChoYXNoTWFwKQoKICAgIGlmIG5vdCAoaGFzaE1hcC5nZXQoJ2dvb2RfYXJ0X2lucHV0Jykgb3IgaGFzaE1hcC5nZXQoJ3doX3NlbGVjdCcpIG9yIGhhc2hNYXAuZ2V0KCdjZWxsX2lucHV0Jykgb3IgaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX2NlbGxfaWQnKSk6CiAgICAgICAgaGFzaE1hcC5wdXQoJ2dvb2RzX2N1c3RvbV90YWJsZScsICcnKQogICAgICAgIGhhc2hNYXAucHV0KCdvYmplY3RfbmFtZScsICcnKQogICAgICAgIGhhc2hNYXAucHV0KCdjZWxsX25hbWUnLCAnJykKICAgICAgICBoYXNoTWFwLnB1dCgnZXJyb3JfbXNnJywgItCU0L7Qu9C20LXQvSDQsdGL0YLRjCDQstGL0LHRgNCw0L0g0YHQutC70LDQtCwg0YLQvtCy0LDRgCDQuNC70Lgg0Y/Rh9C10LnQutCwIikKCiAgICBpZiBoYXNoTWFwLmdldCgiZXJyb3JfbXNnIik6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dfZXJyb3JfbXNnIiwgIjEiKQogICAgZWxzZToKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd19lcnJvcl9tc2ciLCAiLTEiKQoKICAgIGlmIGhhc2hNYXAuZ2V0KCdzZWxlY3RlZF9jZWxsX2lkJyk6CgogICAgICAgIGdldF9yZW1haW5zX3VybCA9IGh0dHBbJ3VybCddICsgJy9zaW1wbGVfYWNjb3VudGluZy9nb29kX2JhbGFuY2VzL2NlbGxzPycKCiAgICAgICAgcGFyYW1zID0geydhbmRyb2lkX2lkJzogaHR0cFsnYW5kcm9pZF9pZCddLCAnaWRfY2VsbCc6IGhhc2hNYXAuZ2V0KCdzZWxlY3RlZF9jZWxsX2lkJyl9CgogICAgICAgIGdvb2RzX2N1c3RvbV90YWJsZSA9IHVpX3RhYmxlc19zdHJ1Y3R1cmUuZ29vZHNfY3VzdG9tX3RhYmxlX2NlbGwKCiAgICAgICAgdGJvZHlfbGF5b3V0ID0gdWlfdGFibGVzX3N0cnVjdHVyZS50Ym9keV9yZW1haW5zX2xheW91dF9jZWxsCgogICAgICAgIGlmIG5vdCBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2VsbF9uYW1lIik6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdzZWxlY3RlZF9jZWxsX25hbWUnLCBoYXNoTWFwLmdldCgnY2VsbF9pbnB1dCcpKQogICAgICAgIGhhc2hNYXAucHV0KCdTaG93X3NlbGVjdGVkX2NlbGxfbmFtZScsICcxJykKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd19zZWxlY3RlZF93aF9uYW1lJywgJy0xJykKCiAgICAgICAgaWYgaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX2dvb2RfaWQnKToKICAgICAgICAgICAgcGFyYW1zWydpZF9nb29kJ10gPSBoYXNoTWFwLmdldCgnc2VsZWN0ZWRfZ29vZF9pZCcpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdzZWxlY3RlZF9vYmplY3RfbmFtZScsIGhhc2hNYXAuZ2V0KCdvYmplY3RfbmFtZScpICsgIiwgIiArIGhhc2hNYXAuZ2V0KCdnb29kX2NvZGUnKSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dfc2VsZWN0ZWRfb2JqZWN0X25hbWUnLCAnMScpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dfc2VsZWN0ZWRfb2JqZWN0X25hbWUnLCAnLTEnKQoKICAgICAgICBpZiBoYXNoTWFwLmdldCgnYmFyY29kZV9pbmZvJykgYW5kIGhhc2hNYXAuZ2V0KCJiYXJjb2RlX2luZm8iKSAhPSBoYXNoTWFwLmdldCgnc2VsZWN0ZWRfY2VsbF9uYW1lJyk6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93X2JhcmNvZGVfaW5mbycsICcxJykKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd19iYXJjb2RlX2luZm8nLCAnLTEnKQoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd19zZWxlY3RlZF9jZWxsX25hbWUnLCAnMScpCgogICAgICAgIGhhc2hNYXAucHV0KCJ0b2FzdCIsIHN0cihwYXJhbXMpKQoKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KGdldF9yZW1haW5zX3VybCwKICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGg9SFRUUEJhc2ljQXV0aChodHRwWyd1c2VyJ10sIGh0dHBbJ3Bhc3MnXSksCiAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzPXsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCd9LAogICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zPXBhcmFtcykKCiAgICAgICAganNvbl9yZXNwb25zZSA9IGpzb24ubG9hZHMoci50ZXh0LmVuY29kZSgidXRmLTgiKSkKCiAgICAgICAgdmFsdWVzID0gMAogICAgICAgIGZvciBlbGVtZW50IGluIGpzb25fcmVzcG9uc2U6CiAgICAgICAgICAgIGlmIGVsZW1lbnRbImlkX3Byb3BlcnR5Il06CiAgICAgICAgICAgICAgICB2YWx1ZXMgKz0gMQoKICAgICAgICBpZiB2YWx1ZXMgPT0gMDoKICAgICAgICAgICAgZ29vZHNfY3VzdG9tX3RhYmxlWydjdXN0b210YWJsZSddWydsYXlvdXQnXVsnRWxlbWVudHMnXS5wb3AoMykKICAgICAgICAgICAgdGJvZHlfbGF5b3V0WydFbGVtZW50cyddLnBvcCgzKQoKICAgICAgICBpZiBoYXNoTWFwLmdldCgnc2VsZWN0ZWRfZ29vZF9pZCcpOgogICAgICAgICAgICBnb29kc19jdXN0b21fdGFibGVbJ2N1c3RvbXRhYmxlJ11bJ2xheW91dCddWydFbGVtZW50cyddLnBvcCgxKQogICAgICAgICAgICB0Ym9keV9sYXlvdXRbJ0VsZW1lbnRzJ10ucG9wKDEpCgogICAgICAgIGdvb2RzX2N1c3RvbV90YWJsZVsnY3VzdG9tdGFibGUnXVsnbGF5b3V0J11bJ0VsZW1lbnRzJ10ucG9wKDApCiAgICAgICAgdGJvZHlfbGF5b3V0WydFbGVtZW50cyddLnBvcCgwKQoKICAgICAgICBnb29kc19jdXN0b21fdGFibGVbImN1c3RvbXRhYmxlIl1bInRhYmxlZGF0YSJdID0gW3t9XQoKICAgICAgICBpID0gMAogICAgICAgIGZvciBlbGVtZW50IGluIGpzb25fcmVzcG9uc2U6CgogICAgICAgICAgICBjID0geyJrZXkiOiBzdHIoaSksICJpdGVtIjogZ2V0X25hbWVfYnlfaWQoIlJTX2dvb2RzIiwgZWxlbWVudFsiaWRfZ29vZCJdKSwKICAgICAgICAgICAgICAgICAicXVhbnRpdHkiOiBlbGVtZW50WydxdHR5J10sICdfbGF5b3V0JzogdGJvZHlfbGF5b3V0LAogICAgICAgICAgICAgICAgICdjZWxsJzogZ2V0X25hbWVfYnlfaWQoIlJTX2NlbGxzIiwgZWxlbWVudFsiaWRfY2VsbCJdKX0KCiAgICAgICAgICAgIGlmIGVsZW1lbnRbImlkX3Byb3BlcnR5Il0gaXMgTm9uZToKICAgICAgICAgICAgICAgIGNbJ3Byb3BlcnRpZXMnXSA9ICcnCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBjWydwcm9wZXJ0aWVzJ10gPSBnZXRfbmFtZV9ieV9maWVsZCgiUlNfcHJvcGVydGllcyIsICdpZCcsIGVsZW1lbnRbImlkX3Byb3BlcnR5Il0pCiAgICAgICAgICAgIGlmIGhhc2hNYXAuZ2V0KCdwcm9wZXJ0eV9pZCcpOgogICAgICAgICAgICAgICAgaWYgZWxlbWVudFsiaWRfcHJvcGVydHkiXSA9PSBoYXNoTWFwLmdldCgncHJvcGVydHlfaWQnKToKICAgICAgICAgICAgICAgICAgICBnb29kc19jdXN0b21fdGFibGVbImN1c3RvbXRhYmxlIl1bInRhYmxlZGF0YSJdLmFwcGVuZChjKQogICAgICAgICAgICAgICAgICAgIGkgKz0gMQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZ29vZHNfY3VzdG9tX3RhYmxlWyJjdXN0b210YWJsZSJdWyJ0YWJsZWRhdGEiXS5hcHBlbmQoYykKICAgICAgICAgICAgICAgIGkgKz0gMQoKICAgIGVsc2U6CgogICAgICAgIGlmIGhhc2hNYXAuZ2V0KCdzZWxlY3RlZF9nb29kX2lkJykgb3IgaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX3dhcmVob3VzZV9pZCcpOgoKICAgICAgICAgICAgZ2V0X3JlbWFpbnNfdXJsID0gaHR0cFsndXJsJ10gKyAnL3NpbXBsZV9hY2NvdW50aW5nL2dvb2RfYmFsYW5jZXMvd2FyZWhvdXNlcz8nCgogICAgICAgICAgICBwYXJhbXMgPSB7J2FuZHJvaWRfaWQnOiBodHRwWydhbmRyb2lkX2lkJ119CgogICAgICAgICAgICBnb29kc19jdXN0b21fdGFibGUgPSB1aV90YWJsZXNfc3RydWN0dXJlLmdvb2RzX2N1c3RvbV90YWJsZV93aAoKICAgICAgICAgICAgdGJvZHlfbGF5b3V0ID0gdWlfdGFibGVzX3N0cnVjdHVyZS50Ym9keV9yZW1haW5zX2xheW91dF93aAoKICAgICAgICAgICAgaWYgaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX2dvb2RfaWQnKToKICAgICAgICAgICAgICAgIHBhcmFtc1snaWRfZ29vZCddID0gaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX2dvb2RfaWQnKQogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX29iamVjdF9uYW1lJywgaGFzaE1hcC5nZXQoJ29iamVjdF9uYW1lJykgKyAiLCAiICsgaGFzaE1hcC5nZXQoJ2dvb2RfY29kZScpKQogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dfc2VsZWN0ZWRfb2JqZWN0X25hbWUnLCAnMScpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd19zZWxlY3RlZF9vYmplY3RfbmFtZScsICctMScpCgogICAgICAgICAgICBpZiBoYXNoTWFwLmdldCgnc2VsZWN0ZWRfd2FyZWhvdXNlX2lkJyk6CiAgICAgICAgICAgICAgICBwYXJhbXNbJ2lkX3dhcmVob3VzZSddID0gaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX3dhcmVob3VzZV9pZCcpCiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfd2hfbmFtZScsIGhhc2hNYXAuZ2V0KCd3aF9zZWxlY3QnKSkKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93X3NlbGVjdGVkX3doX25hbWUnLCAnMScpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd19zZWxlY3RlZF93aF9uYW1lJywgJy0xJykKCiAgICAgICAgICAgIGlmIGhhc2hNYXAuZ2V0KCdiYXJjb2RlX2luZm8nKToKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93X2JhcmNvZGVfaW5mbycsICcxJykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93X2JhcmNvZGVfaW5mbycsICctMScpCgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd19zZWxlY3RlZF9jZWxsX25hbWUnLCAnLTEnKQoKICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldChnZXRfcmVtYWluc191cmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aD1IVFRQQmFzaWNBdXRoKGh0dHBbJ3VzZXInXSwgaHR0cFsncGFzcyddKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzPXsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCd9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcz1wYXJhbXMpCgogICAgICAgICAgICBqc29uX3Jlc3BvbnNlID0ganNvbi5sb2FkcyhyLnRleHQuZW5jb2RlKCJ1dGYtOCIpKQoKICAgICAgICAgICAgdmFsdWVzID0gMAogICAgICAgICAgICBmb3IgZWxlbWVudCBpbiBqc29uX3Jlc3BvbnNlOgogICAgICAgICAgICAgICAgaWYgZWxlbWVudFsiaWRfcHJvcGVydHkiXToKICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgKz0gMQoKICAgICAgICAgICAgaWYgdmFsdWVzID09IDA6CiAgICAgICAgICAgICAgICBnb29kc19jdXN0b21fdGFibGVbJ2N1c3RvbXRhYmxlJ11bJ2xheW91dCddWydFbGVtZW50cyddLnBvcCgzKQogICAgICAgICAgICAgICAgdGJvZHlfbGF5b3V0WydFbGVtZW50cyddLnBvcCgzKQoKICAgICAgICAgICAgaWYgaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX2dvb2RfaWQnKToKICAgICAgICAgICAgICAgIGdvb2RzX2N1c3RvbV90YWJsZVsnY3VzdG9tdGFibGUnXVsnbGF5b3V0J11bJ0VsZW1lbnRzJ10ucG9wKDEpCiAgICAgICAgICAgICAgICB0Ym9keV9sYXlvdXRbJ0VsZW1lbnRzJ10ucG9wKDEpCgogICAgICAgICAgICBpZiBoYXNoTWFwLmdldCgnc2VsZWN0ZWRfd2FyZWhvdXNlX2lkJyk6CiAgICAgICAgICAgICAgICBnb29kc19jdXN0b21fdGFibGVbJ2N1c3RvbXRhYmxlJ11bJ2xheW91dCddWydFbGVtZW50cyddLnBvcCgwKQogICAgICAgICAgICAgICAgdGJvZHlfbGF5b3V0WydFbGVtZW50cyddLnBvcCgwKQoKICAgICAgICAgICAgZ29vZHNfY3VzdG9tX3RhYmxlWyJjdXN0b210YWJsZSJdWyJ0YWJsZWRhdGEiXSA9IFt7fV0KCiAgICAgICAgICAgIGkgPSAwCgogICAgICAgICAgICBmb3IgZWxlbWVudCBpbiBqc29uX3Jlc3BvbnNlOgoKICAgICAgICAgICAgICAgIGMgPSB7ImtleSI6IHN0cihpKSwgIml0ZW0iOiBnZXRfbmFtZV9ieV9pZCgiUlNfZ29vZHMiLCBlbGVtZW50WyJpZF9nb29kIl0pLAogICAgICAgICAgICAgICAgICAgICAicXVhbnRpdHkiOiBlbGVtZW50WydxdHR5J10sICdfbGF5b3V0JzogdGJvZHlfbGF5b3V0LAogICAgICAgICAgICAgICAgICAgICAnd2FyZWhvdXNlJzogZ2V0X25hbWVfYnlfaWQoIlJTX3dhcmVob3VzZXMiLCBlbGVtZW50WyJpZF93YXJlaG91c2UiXSl9CgogICAgICAgICAgICAgICAgaWYgZWxlbWVudFsiaWRfcHJvcGVydHkiXSBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgIGNbJ3Byb3BlcnRpZXMnXSA9ICcnCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGNbJ3Byb3BlcnRpZXMnXSA9IGdldF9uYW1lX2J5X2ZpZWxkKCJSU19wcm9wZXJ0aWVzIiwgJ2lkJywgZWxlbWVudFsiaWRfcHJvcGVydHkiXSkKICAgICAgICAgICAgICAgIGlmIGhhc2hNYXAuZ2V0KCdwcm9wZXJ0eV9pZCcpOgogICAgICAgICAgICAgICAgICAgIGlmIGVsZW1lbnRbImlkX3Byb3BlcnR5Il0gPT0gaGFzaE1hcC5nZXQoJ3Byb3BlcnR5X2lkJyk6CiAgICAgICAgICAgICAgICAgICAgICAgIGdvb2RzX2N1c3RvbV90YWJsZVsiY3VzdG9tdGFibGUiXVsidGFibGVkYXRhIl0uYXBwZW5kKGMpCiAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gMQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBnb29kc19jdXN0b21fdGFibGVbImN1c3RvbXRhYmxlIl1bInRhYmxlZGF0YSJdLmFwcGVuZChjKQogICAgICAgICAgICAgICAgICAgIGkgKz0gMQoKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gaGFzaE1hcAoKICAgIGhhc2hNYXAucHV0KCdiYXJjb2RlJywgJycpCgogICAgaWYgbGVuKGdvb2RzX2N1c3RvbV90YWJsZVsiY3VzdG9tdGFibGUiXVsidGFibGVkYXRhIl0pIDwgMToKICAgICAgICBoYXNoTWFwLnB1dCgnZXJyb3JfbXNnJywgItCi0L7QstCw0YAg0L3QtSDQvdCw0LnQtNC10L0iKQogICAgICAgIGhhc2hNYXAucHV0KCdTaG93X2Vycm9yX21zZycsICcxJykKCiAgICBoYXNoTWFwLnB1dCgiZ29vZHNfY3VzdG9tX3RhYmxlIiwganNvbi5kdW1wcyhnb29kc19jdXN0b21fdGFibGUpKQoKICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCi0LDQsdC70LjRhtCwINC+0YHRgtCw0YLQutC+0LIiKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGlkZW50aWZ5X2lucHV0X3RleHQoaGFzaE1hcCk6CgogICAgZ29vZF9hcnRfaW5wdXQgPSBoYXNoTWFwLmdldCgnZ29vZF9hcnRfaW5wdXQnKQogICAgY2VsbF9pbnB1dCA9IGhhc2hNYXAuZ2V0KCdjZWxsX2lucHV0JykKCiAgICBpZiBnb29kX2FydF9pbnB1dCBhbmQgbm90IGhhc2hNYXAuZ2V0KCdyZXR1cm5fdG9fZ29vZF9jYXJkJyk6CgogICAgICAgIGdvb2RfbmFtZSA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KCJTRUxFQ1QgbmFtZSBGUk9NIFJTX2dvb2RzIHdoZXJlIGFydCA9ICciICsgZ29vZF9hcnRfaW5wdXQgKyAiJyIpCgogICAgICAgIGlmIGxlbihnb29kX25hbWUpID4gMDoKCiAgICAgICAgICAgIGdvb2RfcXVlcnkgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgiU0VMRUNUIGlkLGNvZGUgRlJPTSBSU19nb29kcyB3aGVyZSBhcnQgPSAnIiArIGdvb2RfYXJ0X2lucHV0ICsgIiciKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfZ29vZF9pZCcsIGdvb2RfcXVlcnlbMF1bMF0pCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdnb29kX2NvZGUnLCBnb29kX3F1ZXJ5WzBdWzFdKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgnb2JqZWN0X25hbWUnLCBzdHIoZ29vZF9uYW1lKS5zcGxpdCgiJyIpWzFdKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgnZXJyb3JfbXNnJywgIiIpCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdnb29kX2FydF9pbnB1dCcsIGhhc2hNYXAuZ2V0KCdnb29kX2FydF9pbnB1dCcpKQoKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnZXJyb3JfbXNnJywgIiDQotC+0LLQsNGAINGBINCw0YDRgtC40LrRg9C70L7QvCAiICsgIiciICsgZ29vZF9hcnRfaW5wdXQgKyAiJyIgKyAiINC90LUg0L3QsNC50LTQtdC9IikKICAgICAgICAgICAgIyBoYXNoTWFwLnB1dCgnb2JqZWN0X25hbWUnLCAiIikKCiAgICBpZiBjZWxsX2lucHV0OgoKICAgICAgICBjZWxsX2lkID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoIlNFTEVDVCBpZCBGUk9NIFJTX2NlbGxzIHdoZXJlIG5hbWUgPSAnIiArIGNlbGxfaW5wdXQgKyAiJyIpCgogICAgICAgIGlmIGxlbihjZWxsX2lkKSA+IDA6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdzZWxlY3RlZF9jZWxsX2lkJywgc3RyKGNlbGxfaWQpLnNwbGl0KCInIilbMV0pCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdjZWxsX25hbWUnLCBjZWxsX2lucHV0KQogICAgICAgICAgICAjIGhhc2hNYXAucHV0KCdlcnJvcl9tc2cnLCAiIikKCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgaGFzaE1hcC5nZXQoJ2Vycm9yX21zZycpOgogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2Vycm9yX21zZycsIGhhc2hNYXAuZ2V0KCdlcnJvcl9tc2cnKSArICJcbiIgKyAiINCv0YfQtdC50LrQsCBjINC40LzQtdC90LXQvCAiICsgIiciICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxfaW5wdXQgKyAiJyIgKyAiINC90LUg0L3QsNC50LTQtdC90LAiKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2Vycm9yX21zZycsICIg0K/Rh9C10LnQutCwIGMg0LjQvNC10L3QtdC8ICIgKyAiJyIgKyBjZWxsX2lucHV0ICsgIiciICsgIiDQvdC1INC90LDQudC00LXQvdCwIikKICAgICAgICAgICAgIyBoYXNoTWFwLnB1dCgnY2VsbF9uYW1lJywgIiIpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgaWRlbnRpZnlfYmFyY29kZV9yZW1haW5zKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKCiAgICBoYXNoTWFwLnB1dCgnYmFyY29kZV9pbmZvJywgc3RyKGhhc2hNYXAuZ2V0KCdiYXJjb2RlJykpKQogICAgaGFzaE1hcC5wdXQoImNlbGxfY2FyZHMiLCAiIikKICAgIGhhc2hNYXAucHV0KCJzZWxlY3RlZF9jZWxsX2lkIiwgIiIpCiAgICBoYXNoTWFwLnB1dCgiY2VsbF9zZWxlY3QiLCAiIikKCiAgICBpZiBoYXNoTWFwLmdldCgnYmFyY29kZScpOgogICAgICAgIGJhcmNvZGUgPSBoYXNoTWFwLmdldCgnYmFyY29kZScpCgogICAgICAgIGdvb2RfaWQgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgiU0VMRUNUIGlkX2dvb2QgRlJPTSBSU19iYXJjb2RlcyB3aGVyZSBiYXJjb2RlID0gJyIgKyBiYXJjb2RlICsgIiciKQoKICAgICAgICBwcm9wZXJ0aWVzX3F1ZXJ5ID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoCiAgICAgICAgICAgICJTRUxFQ1QgaWRfcHJvcGVydHkgRlJPTSBSU19iYXJjb2RlcyB3aGVyZSBiYXJjb2RlID0gJyIgKyBiYXJjb2RlICsgIiciKQoKICAgICAgICBpZiBwcm9wZXJ0aWVzX3F1ZXJ5OgogICAgICAgICAgICBwcm9wZXJ0eV9pZCA9IHN0cihwcm9wZXJ0aWVzX3F1ZXJ5KS5zcGxpdCgiJyIpWzFdCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdwcm9wZXJ0eV9pZCcsIHByb3BlcnR5X2lkKQoKICAgICAgICBpZiBsZW4oZ29vZF9pZCkgPiAwOgoKICAgICAgICAgICAgZ29vZF9uYW1lID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoIlNFTEVDVCBuYW1lIEZST00gUlNfZ29vZHMgd2hlcmUgaWQgPSAnIiArIHN0cihnb29kX2lkKS5zcGxpdCgiJyIpWzFdICsgIiciKQoKICAgICAgICAgICAgZ29vZF9hcnQgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgiU0VMRUNUIGFydCBGUk9NIFJTX2dvb2RzIHdoZXJlIGlkID0gJyIgKyBzdHIoZ29vZF9pZCkuc3BsaXQoIiciKVsxXSArICInIikKCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdzZWxlY3RlZF9nb29kX2lkJywgc3RyKGdvb2RfaWQpLnNwbGl0KCInIilbMV0pCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdnb29kX2FydF9pbnB1dCcsIHN0cihnb29kX2FydCkuc3BsaXQoIiciKVsxXSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ29iamVjdF9uYW1lJywgc3RyKGdvb2RfbmFtZSkuc3BsaXQoIiciKVsxXSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2Vycm9yX21zZycsICIiKQoKICAgICAgICBlbHNlOgoKICAgICAgICAgICAgY2VsbF9pZCA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KCJTRUxFQ1QgaWQgRlJPTSBSU19jZWxscyB3aGVyZSBiYXJjb2RlID0gJyIgKyBiYXJjb2RlICsgIiciKQoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2Vycm9yX21zZycsIGJhcmNvZGUpCgogICAgICAgICAgICBpZiBsZW4oY2VsbF9pZCkgPiAwOgoKICAgICAgICAgICAgICAgIGNlbGxfbmFtZSA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KCJTRUxFQ1QgbmFtZSBGUk9NIFJTX2NlbGxzIHdoZXJlIGlkID0gJyIgKyBzdHIoY2VsbF9pZCkuc3BsaXQoIiciKVsxXSArICInIikKCiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfY2VsbF9pZCcsIHN0cihjZWxsX2lkKS5zcGxpdCgiJyIpWzFdKQogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX2NlbGxfbmFtZScsIHN0cihjZWxsX25hbWUpLnNwbGl0KCInIilbMV0pCiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgnZXJyb3JfbXNnJywgIiIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgnb2JqZWN0X25hbWUnLCAiIikKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCdlcnJvcl9tc2cnLCAi0KjRgtGA0LjRhdC60L7QtCDQvdC1INGA0LDRgdC/0L7Qt9C90LDQvSIpCgogICAgZ2V0X3JlbWFpbnMoaGFzaE1hcCkKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBiYWNrX3RvX3JlbWFpbnMoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaGFzaE1hcC5wdXQoJ3doX3NlbGVjdCcsICcnKQogICAgaGFzaE1hcC5wdXQoJ2NlbGxfc2VsZWN0JywgJycpCiAgICBoYXNoTWFwLnB1dCgnY2VsbF9jYXJkcycsICcnKQogICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX2NlbGxfbmFtZScsICcnKQogICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX2NlbGxfaWQnLCAnJykKICAgIGhhc2hNYXAucHV0KCdzZWxlY3RlZF93YXJlaG91c2VfaWQnLCAnJykKICAgIGhhc2hNYXAucHV0KCJCYWNrU2NyZWVuIiwgIiIpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgcHJpY2VfdHlwZXNfbGlzdF9vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgaiA9IHVpX3RhYmxlc19zdHJ1Y3R1cmUucHJpY2VfdHlwZXNfbGlzdF9jYXJkcwoKICAgIGpbImN1c3RvbWNhcmRzIl1bImNhcmRzZGF0YSJdID0gW10KCiAgICBxdWVyeV90ZXh0ID0gIlNFTEVDVCAqIEZST00gUlNfcHJpY2VfdHlwZXMiCiAgICByZXN1bHRzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCkKCiAgICBmb3IgcmVjb3JkIGluIHJlc3VsdHM6CiAgICAgICAgYyA9IHsia2V5Ijogc3RyKHJlY29yZFswXSksICJuYW1lIjogc3RyKHJlY29yZFsxXSl9CiAgICAgICAgalsiY3VzdG9tY2FyZHMiXVsiY2FyZHNkYXRhIl0uYXBwZW5kKGMpCgogICAgaWYgbm90IGhhc2hNYXAuY29udGFpbnNLZXkoInByaWNlX3R5cGVfY2FyZHMiKToKICAgICAgICBoYXNoTWFwLnB1dCgicHJpY2VfdHlwZV9jYXJkcyIsIGpzb24uZHVtcHMoaiwgZW5zdXJlX2FzY2lpPUZhbHNlKS5lbmNvZGUoJ3V0ZjgnKS5kZWNvZGUoKSkKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBwcm9wZXJ0eV9saXN0X29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKCiAgICBqID0gdWlfdGFibGVzX3N0cnVjdHVyZS5wcm9wZXJ0eV9saXN0X2NhcmRzCgogICAgalsiY3VzdG9tY2FyZHMiXVsiY2FyZHNkYXRhIl0gPSBbXQoKICAgIGlmIGhhc2hNYXAuZ2V0KCJnb29kX3R5cGVfaWQiKToKICAgICAgICBnb29kX3R5cGUgPSBoYXNoTWFwLmdldCgnZ29vZF90eXBlX2lkJykKICAgIGVsc2U6CiAgICAgICAgZ29vZF90eXBlX3F1ZXJ5X3RleHQgPSAiU0VMRUNUIHR5cGVfZ29vZCBGUk9NIFJTX2dvb2RzIFdIRVJFIGlkID0gJyIgKyBoYXNoTWFwLmdldCgnaW5wdXRfZ29vZF9pZCcpICsgIiciCiAgICAgICAgZ29vZF90eXBlX3F1ZXJ5ID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoZ29vZF90eXBlX3F1ZXJ5X3RleHQpCiAgICAgICAgaWYgbGVuKGdvb2RfdHlwZV9xdWVyeSkgPiAwOgogICAgICAgICAgICBnb29kX3R5cGUgPSBnb29kX3R5cGVfcXVlcnlbMF1bMF0KCiAgICBwZXJzb25hbF9wcm9wZXJ0aWVzX3F1ZXJ5X3RleHQgPSAiU0VMRUNUICogRlJPTSBSU19wcm9wZXJ0aWVzIFdIRVJFIGlkX293bmVyID0gJyIgKyBnb29kX3R5cGUgKyAiJyIKICAgIHJlc3VsdHMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChwZXJzb25hbF9wcm9wZXJ0aWVzX3F1ZXJ5X3RleHQpCgogICAgaWYgbm90IGxlbihyZXN1bHRzKSA+IDA6CiAgICAgICAgdHlwZV9wcm9wZXJ0aWVzX3F1ZXJ5X3RleHQgPSAiU0VMRUNUICogRlJPTSBSU19wcm9wZXJ0aWVzIFdIRVJFIGlkX293bmVyID0gJyIgKyBoYXNoTWFwLmdldCgKICAgICAgICAgICAgJ2lucHV0X2dvb2RfaWQnKSArICInIgogICAgICAgIHJlc3VsdHMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCh0eXBlX3Byb3BlcnRpZXNfcXVlcnlfdGV4dCkKCiAgICBpZiBsZW4ocmVzdWx0cykgPiAwOgogICAgICAgIGZvciByZWNvcmQgaW4gcmVzdWx0czoKICAgICAgICAgICAgaWYgcmVjb3JkWzBdIGFuZCByZWNvcmRbMl06CiAgICAgICAgICAgICAgICBjID0geyJrZXkiOiBzdHIocmVjb3JkWzBdKSwgIm5hbWUiOiBzdHIocmVjb3JkWzJdKX0KICAgICAgICAgICAgICAgIGpbImN1c3RvbWNhcmRzIl1bImNhcmRzZGF0YSJdLmFwcGVuZChjKQoKICAgICAgICAjIGlmIG5vdCBoYXNoTWFwLmNvbnRhaW5zS2V5KCJwcm9wZXJ0eV9jYXJkcyIpOgogICAgICAgIGhhc2hNYXAucHV0KCJwcm9wZXJ0eV9jYXJkcyIsIGpzb24uZHVtcHMoaiwgZW5zdXJlX2FzY2lpPUZhbHNlKS5lbmNvZGUoJ3V0ZjgnKS5kZWNvZGUoKSkKICAgIGVsc2U6CiAgICAgICAgaGFzaE1hcC5wdXQoInRvYXN0IiwgItCU0LvRjyDQtNCw0L3QvdC+0LPQviDRgtC+0LLQsNGA0LAg0L3QtdGCINGF0LDRgNCw0LrRgtC10YDQuNGB0YLQuNC6IikKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQn9GA0L7QstC10YDQutCwINGG0LXQvSIpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgdW5pdF9saXN0X29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKCiAgICBqID0gdWlfdGFibGVzX3N0cnVjdHVyZS51bml0X2xpc3RfY2FyZHMKCiAgICBqWyJjdXN0b21jYXJkcyJdWyJjYXJkc2RhdGEiXSA9IFtdCgogICAgcXVlcnlfdGV4dCA9ICJTRUxFQ1QgKiBGUk9NIFJTX3VuaXRzIFdIRVJFIGlkX293bmVyID0gJyIgKyBoYXNoTWFwLmdldCgnaW5wdXRfZ29vZF9pZCcpICsgIiciCiAgICByZXN1bHRzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCkKCiAgICBpZiBsZW4ocmVzdWx0cykgPiAwOgogICAgICAgIGZvciByZWNvcmQgaW4gcmVzdWx0czoKICAgICAgICAgICAgYyA9IHsia2V5Ijogc3RyKHJlY29yZFswXSksICJuYW1lIjogc3RyKHJlY29yZFszXSl9CiAgICAgICAgICAgIGpbImN1c3RvbWNhcmRzIl1bImNhcmRzZGF0YSJdLmFwcGVuZChjKQoKICAgICAgICBpZiBub3QgaGFzaE1hcC5jb250YWluc0tleSgidW5pdF9jYXJkcyIpOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgidW5pdF9jYXJkcyIsIGpzb24uZHVtcHMoaiwgZW5zdXJlX2FzY2lpPUZhbHNlKS5lbmNvZGUoJ3V0ZjgnKS5kZWNvZGUoKSkKCiAgICBlbHNlOgogICAgICAgIGhhc2hNYXAucHV0KCJ0b2FzdCIsICLQlNC70Y8g0LTQsNC90L3QvtCz0L4g0YLQvtCy0LDRgNCwINC90LXRgiDQstGL0LHQvtGA0LAg0YPQv9Cw0LrQvtCy0LrQuCIpCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0J/RgNC+0LLQtdGA0LrQsCDRhtC10L0iKQoKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBnZXRfcHJpY2VzKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKCiAgICBodHRwID0gZ2V0X2h0dHBfc2V0dGluZ3MoaGFzaE1hcCkKCiAgICBwcmljZXNfY3VzdG9tX3RhYmxlID0gdWlfdGFibGVzX3N0cnVjdHVyZS5wcmljZXNfY3VzdG9tX3RhYmxlCgogICAgdGJvZHlfbGF5b3V0ID0gdWlfdGFibGVzX3N0cnVjdHVyZS50Ym9keV9wcmljZXNfbGF5b3V0CgogICAgZ2V0X2dvb2RfYnlfYXJ0KGhhc2hNYXApCgogICAgaWYgaGFzaE1hcC5nZXQoJ2JhcmNvZGVfaW5mbycpOgogICAgICAgIGhhc2hNYXAucHV0KCdTaG93X2JhcmNvZGVfaW5mbycsICcxJykKICAgIGVsc2U6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dfYmFyY29kZV9pbmZvJywgJy0xJykKCiAgICBoYXNoTWFwLnB1dCgibm9fZGF0YSIsICIiKQoKICAgIGlmIGhhc2hNYXAuZ2V0KCdpbnB1dF9nb29kX2lkJyk6ICAjINCV0YHQu9C4INC90LDQudC00LXQvSDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC40Lkg0YLQvtCy0LDRgAoKICAgICAgICBnZXRfcHJpY2VzX3VybCA9IGh0dHBbJ3VybCddICsgJy9zaW1wbGVfYWNjb3VudGluZy9nb29kX3ByaWNlcz8nCgogICAgICAgIHBhcmFtcyA9IHsnYW5kcm9pZF9pZCc6IGh0dHBbJ2FuZHJvaWRfaWQnXSwgJ2lkX2dvb2QnOiBoYXNoTWFwLmdldCgnaW5wdXRfZ29vZF9pZCcpfQoKICAgICAgICBpZiBoYXNoTWFwLmdldCgnc2VsZWN0ZWRfcHJvcGVydHlfaWQnKToKICAgICAgICAgICAgcGFyYW1zWydpZF9wcm9wZXJ0eSddID0gaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX3Byb3BlcnR5X2lkJykKCiAgICAgICAgaWYgaGFzaE1hcC5nZXQoJ3Byb3BlcnR5X2lkJyk6ICAjINCe0YIg0KjRgtGA0LjRhS3QutC+0LTQsAogICAgICAgICAgICBwYXJhbXNbJ2lkX3Byb3BlcnR5J10gPSBoYXNoTWFwLmdldCgncHJvcGVydHlfaWQnKQoKICAgICAgICBpZiBoYXNoTWFwLmdldCgnc2VsZWN0ZWRfdW5pdF9pZCcpOgogICAgICAgICAgICBwYXJhbXNbJ2lkX3VuaXQnXSA9IGhhc2hNYXAuZ2V0KCdzZWxlY3RlZF91bml0X2lkJykKCiAgICAgICAgaWYgaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX3ByaWNlX3R5cGVfaWQnKToKICAgICAgICAgICAgcGFyYW1zWydpZF9wcmljZV90eXBlJ10gPSBoYXNoTWFwLmdldCgnc2VsZWN0ZWRfcHJpY2VfdHlwZV9pZCcgKyAiXG4iICsgaGFzaE1hcC5nZXQoJ3Byb3BlcnR5X2lkJykpCgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoZ2V0X3ByaWNlc191cmwsCiAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoPUhUVFBCYXNpY0F1dGgoaHR0cFsndXNlciddLCBodHRwWydwYXNzJ10pLAogICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycz17J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgnfSwKICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcz1wYXJhbXMpCgogICAgICAgIGpzb25fcHJpY2VzID0ganNvbi5sb2FkcyhyLnRleHQuZW5jb2RlKCJ1dGYtOCIpKQoKICAgICAgICBpZiBsZW4oanNvbl9wcmljZXMpID09IDA6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCJub19kYXRhIiwgItCd0LXRgiDQtNCw0L3QvdGL0YUiKQoKICAgICAgICB1bml0X3ZhbHVlcyA9IDAKICAgICAgICBwcm9wZXJ0eV92YWx1ZXMgPSAwCiAgICAgICAgZm9yIGVsZW1lbnQgaW4ganNvbl9wcmljZXM6CiAgICAgICAgICAgIGlmIGVsZW1lbnRbImlkX3VuaXQiXToKICAgICAgICAgICAgICAgIHVuaXRfdmFsdWVzICs9IDEKICAgICAgICAgICAgaWYgZWxlbWVudFsnaWRfcHJvcGVydHknXToKICAgICAgICAgICAgICAgIHByb3BlcnR5X3ZhbHVlcyArPSAxCgogICAgICAgIGlmIHVuaXRfdmFsdWVzID09IDA6CiAgICAgICAgICAgIHByaWNlc19jdXN0b21fdGFibGVbJ2N1c3RvbXRhYmxlJ11bJ2xheW91dCddWydFbGVtZW50cyddLnBvcCg0KQogICAgICAgICAgICB0Ym9keV9sYXlvdXRbJ0VsZW1lbnRzJ10ucG9wKDQpCgogICAgICAgIGlmIHByb3BlcnR5X3ZhbHVlcyA9PSAwOgogICAgICAgICAgICBwcmljZXNfY3VzdG9tX3RhYmxlWydjdXN0b210YWJsZSddWydsYXlvdXQnXVsnRWxlbWVudHMnXS5wb3AoMSkKICAgICAgICAgICAgdGJvZHlfbGF5b3V0WydFbGVtZW50cyddLnBvcCgxKQoKICAgICAgICBwcmljZXNfY3VzdG9tX3RhYmxlWydjdXN0b210YWJsZSddWydsYXlvdXQnXVsnRWxlbWVudHMnXS5wb3AoMCkKICAgICAgICB0Ym9keV9sYXlvdXRbJ0VsZW1lbnRzJ10ucG9wKDApCgogICAgICAgIHByaWNlc19jdXN0b21fdGFibGVbImN1c3RvbXRhYmxlIl1bInRhYmxlZGF0YSJdID0gW3t9XQoKICAgICAgICBpID0gMAoKICAgICAgICBmb3IgZWxlbWVudCBpbiBqc29uX3ByaWNlczoKCiAgICAgICAgICAgIGMgPSB7ImtleSI6IHN0cihpKSwgImdvb2QiOiBlbGVtZW50WyJpZF9nb29kIl0sICJwcm9wZXJ0eSI6IGVsZW1lbnRbImlkX3Byb3BlcnR5Il0sCiAgICAgICAgICAgICAgICAgInByaWNlIjogZWxlbWVudFsncHJpY2UnXSwgInByaWNlX3R5cGUiOiBlbGVtZW50WydpZF9wcmljZV90eXBlJ10sICJ1bml0IjogZWxlbWVudFsiaWRfdW5pdCJdLAogICAgICAgICAgICAgICAgICdfbGF5b3V0JzogdGJvZHlfbGF5b3V0fQoKICAgICAgICAgICAgaWYgZWxlbWVudFsnaWRfZ29vZCddOgogICAgICAgICAgICAgICAgY1snZ29vZCddID0gZ2V0X25hbWVfYnlfaWQoIlJTX2dvb2RzIiwgZWxlbWVudFsiaWRfZ29vZCJdKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY1snZ29vZCddID0gIiIKCiAgICAgICAgICAgIGlmIGVsZW1lbnRbJ2lkX3VuaXQnXToKICAgICAgICAgICAgICAgIGNbJ3VuaXQnXSA9IGdldF9uYW1lX2J5X2lkKCJSU191bml0cyIsIGVsZW1lbnRbImlkX3VuaXQiXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGNbJ3VuaXQnXSA9ICIiCgogICAgICAgICAgICBpZiBlbGVtZW50WydpZF9wcmljZV90eXBlJ106CiAgICAgICAgICAgICAgICBjWydwcmljZV90eXBlJ10gPSBnZXRfbmFtZV9ieV9pZCgiUlNfcHJpY2VfdHlwZXMiLCBlbGVtZW50WyJpZF9wcmljZV90eXBlIl0pCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBjWydwcmljZV90eXBlJ10gPSAiIgoKICAgICAgICAgICAgaWYgZWxlbWVudFsiaWRfcHJvcGVydHkiXTogICMg0J/QvtGF0L7QttC1INC+0LHRgNCw0YnQtdC90LjQtSDQvdC1INC6INGC0L7QuSDRgtCw0LHQu9C40YbQtQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGNbJ3Byb3BlcnR5J10gPSBnZXRfbmFtZV9ieV9pZCgiUlNfcHJvcGVydGllcyIsIGVsZW1lbnRbImlkX3Byb3BlcnR5Il0pCiAgICAgICAgICAgICAgICBleGNlcHQgSW5kZXhFcnJvcjoKICAgICAgICAgICAgICAgICAgICBjWydwcm9wZXJ0eSddID0gZWxlbWVudFsiaWRfcHJvcGVydHkiXQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY1sncHJvcGVydHknXSA9ICIiCgogICAgICAgICAgICBwcmljZXNfY3VzdG9tX3RhYmxlWyJjdXN0b210YWJsZSJdWyJ0YWJsZWRhdGEiXS5hcHBlbmQoYykKCiAgICAgICAgICAgIGkgKz0gMQoKICAgICAgICBoYXNoTWFwLnB1dCgncHJpY2VzX2N1c3RvbV90YWJsZScsIGpzb24uZHVtcHMocHJpY2VzX2N1c3RvbV90YWJsZSkpCgogICAgICAgIGhhc2hNYXAucHV0KCdwcmljZXNfZXJyb3JfbXNnJywgIiIpCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0KLQsNCx0LvQuNGG0LAg0YbQtdC9IikKCiAgICBlbHNlOgogICAgICAgIGlmIGhhc2hNYXAuZ2V0KCdpbnB1dF9nb29kX2FydCcpOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgncHJpY2VzX2Vycm9yX21zZycsICLQndC1INC90LDQudC00LXQvSDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC40Lkg0YLQvtCy0LDRgCIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3ByaWNlc19lcnJvcl9tc2cnLCAi0J3QtSDRg9C60LDQt9Cw0L0g0YLQvtCy0LDRgCIpCgogICAgaGFzaE1hcC5wdXQoJ3Byb3BlcnR5X2lkJywgIiIpCiAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfcHJvcGVydHlfaWQnLCAiIikKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBnZXRfZ29vZF9ieV9hcnQoaGFzaE1hcCk6CgogICAgIyBoYXNoTWFwLnB1dCgnaW5wdXRfdmFsdWUnLCBoYXNoTWFwLmdldCgnaW5wdXRfZ29vZF9pZCcpKQoKICAgIGlmIG5vdCBoYXNoTWFwLmdldCgnaW5wdXRfZ29vZF9pZCcpOgoKICAgICAgICBpZiBsZW4oaGFzaE1hcC5nZXQoJ2lucHV0X2dvb2RfYXJ0JykpID4gMDoKCiAgICAgICAgICAgIGdvb2RfaWRfcXVlcnkgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgiU0VMRUNUIGlkIEZST00gUlNfZ29vZHMgd2hlcmUgYXJ0ID0gJyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzaE1hcC5nZXQoJ2lucHV0X2dvb2RfYXJ0JykgKyAiJyIpCgogICAgICAgICAgICBnb29kX25hbWVfcXVlcnkgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgiU0VMRUNUIG5hbWUsY29kZSx0eXBlX2dvb2QgRlJPTSBSU19nb29kcyB3aGVyZSBhcnQgPSAnIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2hNYXAuZ2V0KCdpbnB1dF9nb29kX2FydCcpICsgIiciKQoKICAgICAgICAgICAgaWYgbGVuKGdvb2RfaWRfcXVlcnkpID4gMDoKICAgICAgICAgICAgICAgIGdvb2RfaWQgPSBzdHIoZ29vZF9pZF9xdWVyeSkuc3BsaXQoIiciKVsxXQogICAgICAgICAgICAgICAgZ29vZF9uYW1lID0gZ29vZF9uYW1lX3F1ZXJ5WzBdWzBdCiAgICAgICAgICAgICAgICBnb29kX2NvZGUgPSBnb29kX25hbWVfcXVlcnlbMF1bMV0KICAgICAgICAgICAgICAgIGdvb2RfdHlwZV9pZCA9IGdvb2RfbmFtZV9xdWVyeVswXVsyXQogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoImlucHV0X2dvb2RfaWQiLCBnb29kX2lkKQogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoInByaWNlc19vYmplY3RfbmFtZSIsIGdvb2RfbmFtZSArICIsICIgKyBnb29kX2NvZGUpCiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgnZ29vZF9jb2RlJywgZ29vZF9jb2RlKQogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2dvb2RfdHlwZV9pZCcsIGdvb2RfdHlwZV9pZCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgncHJpY2VzX2Vycm9yX21zZycsICLQotC+0LLQsNGAINC90LUg0LLRi9Cx0YDQsNC9IikKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGdldF9uYW1lX2J5X2lkKHRhYmxlX25hbWUsIHJlY29yZF9pZCk6CgogICAgcXVlcnkgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgKICAgICAgICAiU0VMRUNUIG5hbWUgRlJPTSAiICsgdGFibGVfbmFtZS5zdHJpcCgnIlwnJykgKyAiIHdoZXJlIGlkID0gJyIgKyByZWNvcmRfaWQgKyAiJyIpCiAgICBpZiB0eXBlKHF1ZXJ5KSA9PSAic3RyIjoKICAgICAgICByZXR1cm4gc3RyKHF1ZXJ5KS5zcGxpdCgiJyIpWzFdCiAgICBlbHNlOgogICAgICAgIHJldHVybiBzdHIocXVlcnlbMF0pLnNwbGl0KCInIilbMV0KCgpkZWYga2lsbF9yZW1haW5zX3RhYmxlcyhoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBoYXNoTWFwLnB1dCgnd2hfc2VsZWN0JywgJycpCiAgICBoYXNoTWFwLnB1dCgnZ29vZF9hcnRfaW5wdXQnLCAnJykKICAgIGhhc2hNYXAucHV0KCdjZWxsX2lucHV0JywgJycpCiAgICBoYXNoTWFwLnB1dCgnY2VsbF9uYW1lJywgJycpCiAgICBoYXNoTWFwLnB1dCgnb2JqZWN0X25hbWUnLCAnJykKICAgIGhhc2hNYXAucHV0KCdlcnJvcl9tc2cnLCAnJykKICAgIGhhc2hNYXAucHV0KCdnb29kc19jdXN0b21fdGFibGUnLCAnJykKICAgIGhhc2hNYXAucHV0KCdiYXJjb2RlJywgJycpCiAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfY2VsbF9pZCcsICcnKQogICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX2NlbGxfbmFtZScsICcnKQogICAgaGFzaE1hcC5wdXQoJ2dvb2RfY29kZScsICcnKQogICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX29iamVjdF9uYW1lJywgJycpCiAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfd2hfbmFtZScsICcnKQogICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX3dhcmVob3VzZV9pZCcsICcnKQogICAgaGFzaE1hcC5wdXQoJ2JhcmNvZGVfaW5mbycsICcnKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYga2lsbF9wcmljZV90YWJsZXMoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaGFzaE1hcC5wdXQoJ2lucHV0X2dvb2RfYXJ0JywgJycpCiAgICBoYXNoTWFwLnB1dCgncHJpY2VzX29iamVjdF9uYW1lJywgJycpCiAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfcHJpY2VfdHlwZV9pZCcsICcnKQogICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX3ByaWNlX3R5cGVfbmFtZScsICcnKQogICAgaGFzaE1hcC5wdXQoJ3ByaWNlX3R5cGVfc2VsZWN0JywgJycpCiAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfcHJvcGVydHlfaWQnLCAnJykKICAgIGhhc2hNYXAucHV0KCdzZWxlY3RlZF9wcm9wZXJ0eV9uYW1lJywgJycpCiAgICBoYXNoTWFwLnB1dCgicHJvcGVydHlfc2VsZWN0IiwgJycpCiAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfdW5pdF9pZCcsICIiKQogICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX3VuaXRfbmFtZScsICcnKQogICAgaGFzaE1hcC5wdXQoInVuaXRfc2VsZWN0IiwgIiIpCiAgICBoYXNoTWFwLnB1dCgncHJpY2VzX2N1c3RvbV90YWJsZScsICcnKQogICAgaGFzaE1hcC5wdXQoJ2lucHV0X2dvb2RfaWQnLCAnJykKICAgIGhhc2hNYXAucHV0KCdiYXJjb2RlJywgJycpCiAgICBoYXNoTWFwLnB1dCgnZ29vZF9jb2RlJywgJycpCiAgICBoYXNoTWFwLnB1dCgnYmFyY29kZV9pbmZvJywgJycpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZ29vZHNfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgoKICAgIGZpbHRlcl9maWVsZHMgPSBbXQogICAgZmlsdGVyX3ZhbHVlID0gJycKCiAgICBpZiBoYXNoTWFwLmdldCgndHlwZV9pZCcpOgogICAgICAgIGZpbHRlcl9maWVsZHMuYXBwZW5kKCd0eXBlX2dvb2QnKQogICAgICAgIGZpbHRlcl92YWx1ZSA9IGhhc2hNYXAuZ2V0KCd0eXBlX2lkJykKCiAgICBnb29kc19jYXJkc19qc29uID0gZ2V0X3RhYmxlX2NhcmRzKCdSU19nb29kcycsIGZpbHRlcl9maWVsZHMsIGZpbHRlcl92YWx1ZSwgZXhjbHVkZV9saXN0PVsnZGVzY3JpcHRpb24nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9fbGFiZWw9VHJ1ZSkKICAgIGdvb2RzX2NhcmRzID0gbW9kaWZ5X2NhcmRzKGpzb24ubG9hZHMoZ29vZHNfY2FyZHNfanNvbiksIGhpZGVfbmFtZT1UcnVlLCB0aXRsZV9jb2xvcj0iIzdBMDA1QyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlX2JsYW5rPVRydWUsIGRpc2FibGVfb3ZlcnJpZGVfc2VhcmNoPVRydWUpCiAgICBoYXNoTWFwLnB1dCgnZ29vZHNfY2FyZHMnLCBqc29uLmR1bXBzKGdvb2RzX2NhcmRzKSkKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBnb29kc19vbl9pbnB1dChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBpZiBoYXNoTWFwLmdldCgibGlzdGVuZXIiKSA9PSAiQ2FyZHNDbGljayI6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX2dvb2RfaWQnLCBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9rZXkiKSkKICAgICAgICBoYXNoTWFwLnB1dCgnYmFyY29kZScsICcnKQogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCa0LDRgNGC0L7Rh9C60LAg0YLQvtCy0LDRgNCwIikKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICdzZWxlY3RfZ29vZHNfdHlwZSc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAi0JLRi9Cx0L7RgCIpCiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnYmFyY29kZSc6CiAgICAgICAgaWRlbnRpZnlfYmFyY29kZV9nb29kcyhoYXNoTWFwKQogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ09OX0JBQ0tfUFJFU1NFRCc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ0ZpbmlzaFByb2Nlc3MnLCAnJykKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGlkZW50aWZ5X2JhcmNvZGVfZ29vZHMoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgaGFzaE1hcC5nZXQoJ2JhcmNvZGUnKToKICAgICAgICBiYXJjb2RlID0gaGFzaE1hcC5nZXQoJ2JhcmNvZGUnKQoKICAgICAgICBnb29kX2lkID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoIlNFTEVDVCBpZF9nb29kIEZST00gUlNfYmFyY29kZXMgd2hlcmUgYmFyY29kZSA9ICciICsgYmFyY29kZSArICInIikKCiAgICAgICAgcHJvcGVydGllc19xdWVyeSA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KAogICAgICAgICAgICAiU0VMRUNUIGlkX3Byb3BlcnR5IEZST00gUlNfYmFyY29kZXMgd2hlcmUgYmFyY29kZSA9ICciICsgYmFyY29kZSArICInIikKCiAgICAgICAgaWYgcHJvcGVydGllc19xdWVyeToKICAgICAgICAgICAgcHJvcGVydHlfaWQgPSBzdHIocHJvcGVydGllc19xdWVyeSkuc3BsaXQoIiciKVsxXQogICAgICAgICAgICBoYXNoTWFwLnB1dCgncHJvcGVydHlfaWQnLCBwcm9wZXJ0eV9pZCkKCiAgICAgICAgaWYgbGVuKGdvb2RfaWQpID4gMDoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX2dvb2RfaWQnLCBzdHIoZ29vZF9pZCkuc3BsaXQoIiciKVsxXSkKCiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9Ca0LDRgNGC0L7Rh9C60LAg0YLQvtCy0LDRgNCwJykKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnZXJyb3JfdHh0JywgJ9Ci0L7QstCw0YAg0L3QtSDRgNCw0YHQv9C+0LfQvdCw0L0g0L/QviDRiNGC0YDQuNGF0LrQvtC00YMnKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGdvb2RfY2FyZF9vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgaWYgaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX2dvb2RfaWQnKToKICAgICAgICBzZWxlY3RlZF9nb29kX2lkID0gaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX2dvb2RfaWQnKQoKICAgICAgICByZXN1bHRfcnNfZ29vZHMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgiU0VMRUNUIG5hbWUsYXJ0LGNvZGUsdHlwZV9nb29kLGRlc2NyaXB0aW9uIEZST00gUlNfZ29vZHMgd2hlcmUgaWQgPSAnIiArIHNlbGVjdGVkX2dvb2RfaWQgKyAiJyIpCgogICAgICAgIGdvb2RfbmFtZSA9IHJlc3VsdF9yc19nb29kc1swXVswXQogICAgICAgIGdvb2RfYXJ0ID0gcmVzdWx0X3JzX2dvb2RzWzBdWzFdCiAgICAgICAgZ29vZF9jb2RlID0gcmVzdWx0X3JzX2dvb2RzWzBdWzJdCiAgICAgICAgZ29vZF90eXBlX2lkID0gcmVzdWx0X3JzX2dvb2RzWzBdWzNdCiAgICAgICAgZ29vZF9kZXNjciA9IHJlc3VsdF9yc19nb29kc1swXVs0XQoKICAgICAgICBnb29kX3R5cGUgPSBnZXRfbmFtZV9ieV9pZCgnUlNfdHlwZXNfZ29vZHMnLCBnb29kX3R5cGVfaWQpCgogICAgICAgIGZpbGxfZW1wdHlfdmFsdWVzKGhhc2hNYXAsIHsiZ29vZF9uYW1lIjogZ29vZF9uYW1lLCAiZ29vZF9hcnQiOiBnb29kX2FydCwgImdvb2RfY29kZSI6IGdvb2RfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImdvb2RfZGVzY3IiOiBnb29kX2Rlc2NyLCAiZ29vZF90eXBlIjogZ29vZF90eXBlfSwgdmFsdWU9ItC+0YLRgdGD0YLRgdGC0LLRg9C10YIiKQoKICAgICAgICBoYXNoTWFwLnB1dCgibG9hZF9pbmZvIiwgItCU0LDQvdC90YvQtSDQt9Cw0LPRgNGD0LbQsNGO0YLRgdGPLi4uIikKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBnb29kX2NhcmRfb25faW5wdXQoaGFzaE1hcCwgIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKCiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBpZiBoYXNoTWFwLmdldCgnYmFyY29kZScpOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnYmFyY29kZScsICcnKQogICAgICAgIGlmIGhhc2hNYXAuZ2V0KCdiYXJjb2RlX2NhcmRzJyk6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdiYXJjb2RlX2NhcmRzJywgJycpCiAgICAgICAgaWYgaGFzaE1hcC5nZXQoJ3JldHVybl90b19nb29kX2NhcmQnKToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3JldHVybl90b19nb29kX2NhcmQnLCAnJykKICAgICAgICBpZiBoYXNoTWFwLmdldCgnc2VsZWN0ZWRfZ29vZF9pZCcpOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgnc2VsZWN0ZWRfZ29vZF9pZCcsICcnKQogICAgICAgIGlmIGhhc2hNYXAuZ2V0KCdwcm9wZXJ0eV9pZCcpOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgncHJvcGVydHlfaWQnLCAnJykKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQotC+0LLQsNGA0Ysg0YHQv9C40YHQvtC6IikKICAgIGlmIGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpID09ICJUaWxlc0NsaWNrIjoKICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCBzdHIoaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX3RpbGVfa2V5JykpKQogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ3RvX3ByaWNlcyc6CiAgICAgICAgaGFzaE1hcC5wdXQoJ2lucHV0X2dvb2RfaWQnLCBoYXNoTWFwLmdldCgnc2VsZWN0ZWRfZ29vZF9pZCcpKSAgIyBzZWxlY3RlZF9nb29kX2lkIGlucHV0X2dvb2RfaWQKICAgICAgICBoYXNoTWFwLnB1dCgnaW5wdXRfZ29vZF9hcnQnLCBoYXNoTWFwLmdldCgnZ29vZF9hcnQnKSkKICAgICAgICBoYXNoTWFwLnB1dCgncHJpY2VzX29iamVjdF9uYW1lJywgaGFzaE1hcC5nZXQoJ2dvb2RfbmFtZScpICsgIiwgIiArIGhhc2hNYXAuZ2V0KCdnb29kX2NvZGUnKSkKICAgICAgICBoYXNoTWFwLnB1dCgicmV0dXJuX3RvX2dvb2RfY2FyZCIsICJ0cnVlIikKICAgICAgICBoYXNoTWFwLnB1dCgncHJvcGVydHlfaWQnLCBoYXNoTWFwLmdldCgncHJvcGVydHlfaWQnKSkKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1Byb2Nlc3NSZXN1bHQnLCAn0KbQtdC90Yt80J/RgNC+0LLQtdGA0LrQsCDRhtC10L0nKQogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ3RvX3JlbWFpbnMnOgogICAgICAgIGhhc2hNYXAucHV0KCdnb29kX2FydF9pbnB1dCcsIGhhc2hNYXAuZ2V0KCdnb29kX2FydCcpKQogICAgICAgIGhhc2hNYXAucHV0KCJyZXR1cm5fdG9fZ29vZF9jYXJkIiwgInRydWUiKQogICAgICAgIGhhc2hNYXAucHV0KCdzZWxlY3RlZF9vYmplY3RfbmFtZScsIGhhc2hNYXAuZ2V0KCdnb29kX25hbWUnKSArICIsICIgKyBoYXNoTWFwLmdldCgnZ29vZF9jb2RlJykpCiAgICAgICAgaGFzaE1hcC5wdXQoJ29iamVjdF9uYW1lJywgaGFzaE1hcC5nZXQoJ2dvb2RfbmFtZScpKQogICAgICAgIGhhc2hNYXAucHV0KCdwcm9wZXJ0eV9pZCcsIGhhc2hNYXAuZ2V0KCdwcm9wZXJ0eV9pZCcpKQogICAgICAgIGhhc2hNYXAucHV0KCdTZXRSZXN1bHRMaXN0ZW5lcicsICdvblN0YXJ0JykKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1Byb2Nlc3NSZXN1bHQnLCAn0J7RgdGC0LDRgtC60Lh80J/RgNC+0LLQtdGA0LjRgtGMINC+0YHRgtCw0YLQutC4JykKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIHByaWNlX3RhYmxlc19vbl9zdGFydChoYXNoTWFwLCAgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgaGFzaE1hcC5nZXQoJ3BhcmVudF9zY3JlZW4nKSA9PSAi0KLQvtCy0LDRgNGLINGB0L/QuNGB0L7QuiI6CiAgICAgICAgaGFzaE1hcC5wdXQoJ2N1cnJlbnRfc2NyZWVuX25hbWUnLCAi0KLQvtCy0LDRgNGLINGB0L/QuNGB0L7QuiIpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZ2V0X2dvb2RfdmFyaWFudHMoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgc2VsZWN0ZWRfZ29vZF9pZCA9IGhhc2hNYXAuZ2V0KCJzZWxlY3RlZF9nb29kX2lkIikKICAgIGJhcmNvZGUgPSBoYXNoTWFwLmdldCgnYmFyY29kZScpCgogICAgaWYgYmFyY29kZToKICAgICAgICBnb29kc19iYXJjb2RlID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoCiAgICAgICAgICAgICJTRUxFQ1QgYmFyY29kZSxpZF9wcm9wZXJ0eSxpZF9zZXJpZXMsaWRfdW5pdCBGUk9NIFJTX2JhcmNvZGVzIFdIRVJFIGJhcmNvZGUgPSAnIiArIGJhcmNvZGUgKwogICAgICAgICAgICAiJyIpCgogICAgZWxpZiBzZWxlY3RlZF9nb29kX2lkOgogICAgICAgIGdvb2RzX2JhcmNvZGUgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgKICAgICAgICAgICAgIlNFTEVDVCBiYXJjb2RlLGlkX3Byb3BlcnR5LGlkX3NlcmllcyxpZF91bml0IEZST00gUlNfYmFyY29kZXMgV0hFUkUgaWRfZ29vZCA9ICciICsgc2VsZWN0ZWRfZ29vZF9pZCArCiAgICAgICAgICAgICInIikKCiAgICBpZiBsZW4oZ29vZHNfYmFyY29kZSkgPiAwOgogICAgICAgIGJhcmNvZGVfY2FyZHMgPSB1aV90YWJsZXNfc3RydWN0dXJlLmJhcmNvZGVfY2FyZHMKICAgICAgICBiYXJjb2RlX2NhcmRzWyJjdXN0b21jYXJkcyJdWyJjYXJkc2RhdGEiXSA9IFtdCiAgICAgICAgaSA9IDAKICAgICAgICBmb3IgZWxlbWVudCBpbiBnb29kc19iYXJjb2RlOgogICAgICAgICAgICBjID0geyJrZXkiOiBzdHIoaSksICJiYXJjb2RlIjogZWxlbWVudFswXSwgInByb3BlcnRpZXMiOiBlbGVtZW50WzFdLCAidW5pdCI6IGVsZW1lbnRbM10sICJzZXJpZXMiOiBlbGVtZW50WzJdfQoKICAgICAgICAgICAgaWYgZWxlbWVudFsxXToKICAgICAgICAgICAgICAgIGNbJ3Byb3BlcnRpZXMnXSA9IGdldF9uYW1lX2J5X2ZpZWxkKCJSU19wcm9wZXJ0aWVzIiwgImlkIiwgZWxlbWVudFsxXSkKICAgICAgICAgICAgaWYgZWxlbWVudFszXToKICAgICAgICAgICAgICAgIGNbJ3VuaXQnXSA9IGdldF9uYW1lX2J5X2ZpZWxkKCJSU191bml0cyIsICJpZCIsIGVsZW1lbnRbM10pCgogICAgICAgICAgICBiYXJjb2RlX2NhcmRzWyJjdXN0b21jYXJkcyJdWyJjYXJkc2RhdGEiXS5hcHBlbmQoYykKICAgICAgICAgICAgaSArPSAxCiAgICAgICAgaGFzaE1hcC5wdXQoImJhcmNvZGVfY2FyZHMiLCBqc29uLmR1bXBzKGJhcmNvZGVfY2FyZHMpKQogICAgICAgIGhhc2hNYXAucHV0KCJsb2FkX2luZm8iLCAiIikKICAgIGVsc2U6CiAgICAgICAgaGFzaE1hcC5wdXQoImxvYWRfaW5mbyIsICLQlNCw0L3QvdGL0LUg0L4g0YXQsNGA0LDQutGC0LXRgNC40YHRgtC40LrQsNGFINC+0YLRgdGD0YLRgdGC0LLRg9GO0YIiKQoKICAgIGhhc2hNYXAucHV0KCJSZWZyZXNoU2NyZWVuIiwgIiIpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZmlsbF9lbXB0eV92YWx1ZXMoaGFzaE1hcCwgbmFtZXNfbGlzdD1kaWN0KCksIHZhbHVlPSIiKToKCiAgICBmb3IgaywgdiBpbiBuYW1lc19saXN0Lml0ZW1zKCk6CgogICAgICAgIGlmIHYgaXMgTm9uZToKICAgICAgICAgICAgdiA9ICcnCiAgICAgICAgaWYgbGVuKHYpID09IDA6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KGssIHZhbHVlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KGssIHYpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgcmVtYWluc19vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgbW9kaWZ5X2NhcmRzKGosIGhpZGVfbmFtZT1GYWxzZSwgdGl0bGVfY29sb3I9JycsIHJlcGxhY2VfYmxhbms9RmFsc2UsIGRpc2FibGVfb3ZlcnJpZGVfc2VhcmNoPUZhbHNlKToKICAgIGNhcmRzX2xheW91dF9lbGVtZW50cyA9IGpbJ2N1c3RvbWNhcmRzJ11bJ2xheW91dCddWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddCgogICAgaWYgZGlzYWJsZV9vdmVycmlkZV9zZWFyY2g6CiAgICAgICAgalsnY3VzdG9tY2FyZHMnXVsnb3B0aW9ucyddWydvdmVycmlkZV9zZWFyY2gnXSA9IEZhbHNlCgogICAgZm9yIGVsZW1lbnQgaW4gY2FyZHNfbGF5b3V0X2VsZW1lbnRzOgogICAgICAgIGlmIGVsZW1lbnRbJ1ZhbHVlJ10gPT0gJ0BuYW1lJzoKICAgICAgICAgICAgaWYgY2FyZHNfbGF5b3V0X2VsZW1lbnRzLmluZGV4KGVsZW1lbnQpID09IDA6CiAgICAgICAgICAgICAgICBlbGVtZW50WydncmF2aXR5X2hvcml6b250YWwnXSA9ICJsZWZ0IgogICAgICAgICAgICAgICAgaWYgdGl0bGVfY29sb3I6CiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFsiVGV4dENvbG9yIl0gPSB0aXRsZV9jb2xvcgogICAgICAgICAgICAgICAgIyBlbGVtZW50WydWYWx1ZSddID0gc3RyKDApCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpZiBoaWRlX25hbWU6CgogICAgICAgICAgICAgICAgICAgICMgZWxlbWVudFsic2hvd19ieV9jb25kaXRpb24iXSA9ICJUcnVlIgogICAgICAgICAgICAgICAgICAgIGRlbCBjYXJkc19sYXlvdXRfZWxlbWVudHNbY2FyZHNfbGF5b3V0X2VsZW1lbnRzLmluZGV4KGVsZW1lbnQpXQoKICAgIGlmIHJlcGxhY2VfYmxhbms6CiAgICAgICAgY2FyZHNfZGF0YSA9IGpbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddCgogICAgICAgIGZvciBlbGVtZW50IGluIGNhcmRzX2RhdGE6CiAgICAgICAgICAgIGZvciBrZXksIHZhbCBpbiBlbGVtZW50Lml0ZW1zKCk6CiAgICAgICAgICAgICAgICBpZiB2YWwgPT0gJ05vbmUnIG9yIHZhbCA9PSAiIjoKICAgICAgICAgICAgICAgICAgICBlbGVtZW50W2tleV0gPSAi4oCUIgoKICAgIHJldHVybiBqCgoKZGVmIGdldF9uYW1lX2J5X2ZpZWxkKHRhYmxlX25hbWUsIGZpZWxkLCBmaWVsZF92YWx1ZSk6CgogICAgcXVlcnkgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgKICAgICAgICAiU0VMRUNUIG5hbWUgRlJPTSAiICsgdGFibGVfbmFtZS5zdHJpcCgnIlwnJykgKyAiIFdIRVJFICIgKyBmaWVsZCArICc9JyArICInIiArIGZpZWxkX3ZhbHVlICsgIiciKQogICAgdHJ5OgogICAgICAgIGlmIHR5cGUocXVlcnkpID09ICJzdHIiOgogICAgICAgICAgICByZXR1cm4gc3RyKHF1ZXJ5KS5zcGxpdCgiJyIpWzFdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIHN0cihxdWVyeVswXSkuc3BsaXQoIiciKVsxXQogICAgZXhjZXB0IEluZGV4RXJyb3I6CiAgICAgICAgcmV0dXJuIGZpZWxkX3ZhbHVlCgoKZGVmIGdvb2RfdHlwZXNfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgoKICAgIGNhcmRzX2pzb24gPSBnZXRfdGFibGVfY2FyZHMoJ1JTX3R5cGVzX2dvb2RzJywgZXhjbHVkZV9saXN0PVsndXNlX21hcmsnXSwgbm9fbGFiZWw9VHJ1ZSkKCiAgICBjYXJkcyA9IG1vZGlmeV9jYXJkcyhqc29uLmxvYWRzKGNhcmRzX2pzb24pLCBoaWRlX25hbWU9VHJ1ZSwgZGlzYWJsZV9vdmVycmlkZV9zZWFyY2g9VHJ1ZSkKCiAgICBoYXNoTWFwLnB1dCgnY2FyZHMnLCBqc29uLmR1bXBzKGNhcmRzKSkKCiAgICAjIGhhc2hNYXAucHV0KCdjYXJkcycsIGNhcmRzX2pzb24pCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZ29vZF90eXBlc19vbl9jbGljayhoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpCgogICAgaWYgbGlzdGVuZXIgPT0gIkNhcmRzQ2xpY2siOgoKICAgICAgICBzZWxlY3RlZF90eXBlX2lkID0gaGFzaE1hcC5nZXQoJ3NlbGVjdGVkX2NhcmRfa2V5JykKCiAgICAgICAgaGFzaE1hcC5wdXQoJ3R5cGVfaWQnLCBzdHIoc2VsZWN0ZWRfdHlwZV9pZCkpCgogICAgICAgIHNlbGVjdGVkX3R5cGVfbmFtZSA9IGdldF9uYW1lX2J5X2ZpZWxkKCJSU190eXBlc19nb29kcyIsICJpZCIsIHNlbGVjdGVkX3R5cGVfaWQpCgogICAgICAgIGhhc2hNYXAucHV0KCdzZWxlY3RfZ29vZHNfdHlwZScsIHNlbGVjdGVkX3R5cGVfbmFtZSkKCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0KLQvtCy0LDRgNGLINGB0L/QuNGB0L7QuiIpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgndHlwZV9pZCcsICcnKQogICAgICAgIGhhc2hNYXAucHV0KCd0eXBlX25hbWUnLCAnJykKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQotC+0LLQsNGA0Ysg0YHQv9C40YHQvtC6IikKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiByZW1haW5zX29uX2lucHV0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICd3aF9zZWxlY3QnOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCS0YvQsdC+0YAg0YHQutC70LDQtNCwIikKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICdjZWxsX3NlbGVjdCc6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JLRi9Cx0L7RgCDRj9GH0LXQudC60LgiKQogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ2dldF9yZW1haW5zX2J0bic6CiAgICAgICAgZ2V0X3JlbWFpbnMoaGFzaE1hcCkKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICdiYXJjb2RlJzoKICAgICAgICBpZGVudGlmeV9iYXJjb2RlX3JlbWFpbnMoaGFzaE1hcCkKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgIGtpbGxfcmVtYWluc190YWJsZXMoaGFzaE1hcCkKICAgICAgICBpZiBoYXNoTWFwLmdldCgncmV0dXJuX3RvX2dvb2RfY2FyZCcpOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgiRmluaXNoUHJvY2Vzc1Jlc3VsdCIsICIiKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQmtCw0YDRgtC+0YfQutCwINGC0L7QstCw0YDQsCIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaGFzaE1hcC5wdXQoIkZpbmlzaFByb2Nlc3MiLCAiIikKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIHdhcmVob3VzZV9vbl9pbnB1dChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnQ2FyZHNDbGljayc6CiAgICAgICAgc2VsZWN0ZWRfd2hfaWQgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9rZXkiKQogICAgICAgIHNlbGVjdGVkX3doX25hbWUgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgKICAgICAgICAgICAgIlNFTEVDVCBuYW1lIEZST00gUlNfd2FyZWhvdXNlcyB3aGVyZSBpZCA9ICciICsgc2VsZWN0ZWRfd2hfaWQgKyAiJyIpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3NlbGVjdGVkX3dhcmVob3VzZV9pZCcsIHN0cihzZWxlY3RlZF93aF9pZCkpCiAgICAgICAgaGFzaE1hcC5wdXQoIndoX3NlbGVjdCIsIHN0cihzZWxlY3RlZF93aF9uYW1lWzBdKS5zcGxpdCgiJyIpWzFdKQogICAgICAgIGhhc2hNYXAucHV0KCdlcnJvcl9tc2cnLCAnJykKICAgICAgICBoYXNoTWFwLnB1dCgiQmFja1NjcmVlbiIsICIiKQogICAgICAgIHJldHVybiBoYXNoTWFwCiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnYmFja190b19yZW1haW5zJyBvciAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBiYWNrX3RvX3JlbWFpbnMoaGFzaE1hcCkKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIHJlbWFpbnNfdGFibGVzX29uX2lucHV0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICdzaG93X2ZpbHRlcnMnOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCf0YDQvtCy0LXRgNC40YLRjCDQvtGB0YLQsNGC0LrQuCIpCiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgnYmFyY29kZScsICcnKQogICAgICAgIGhhc2hNYXAucHV0KCdwcm9wZXJ0eV9pZCcsICcnKQoKICAgICAgICBpZiBoYXNoTWFwLmdldCgicmV0dXJuX3RvX2dvb2RfY2FyZCIpOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgiQmFja1NjcmVlbiIsICcnKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdzZWxlY3RlZF9nb29kX2lkJywgJycpCgogICAgICAgICAgICBpZiBoYXNoTWFwLmdldCgiY3VycmVudF9zY3JlZW5fbmFtZSIpID09ICLQotCw0LHQu9C40YbQsCDQvtGB0YLQsNGC0LrQvtCyIjoKICAgICAgICAgICAgICAgIGtpbGxfcmVtYWluc190YWJsZXMoaGFzaE1hcCkKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9Cf0YDQvtCy0LXRgNC40YLRjCDQvtGB0YLQsNGC0LrQuCcpCiAgICAgICAgICAgIGVsaWYgaGFzaE1hcC5nZXQoImN1cnJlbnRfc2NyZWVuX25hbWUiKSA9PSAi0KLQsNCx0LvQuNGG0LAg0YbQtdC9IjoKICAgICAgICAgICAgICAgIGtpbGxfcHJpY2VfdGFibGVzKGhhc2hNYXApCiAgICAgICAgICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQn9GA0L7QstC10YDQutCwINGG0LXQvScpCiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnYmFyY29kZSc6CiAgICAgICAgaWRlbnRpZnlfYmFyY29kZV9yZW1haW5zKGhhc2hNYXApCiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAiQ2FyZHNDbGljayI6CiAgICAgICAgaGFzaE1hcC5wdXQoInRvYXN0Iiwgc3RyKGhhc2hNYXAuZ2V0KCJzZWxlY3RlZF9jYXJkX3Bvc2l0aW9uIikpKQogICAgcmV0dXJuIGhhc2hNYXAKCgpASGFzaE1hcCgpCmRlZiBkb2NfZGV0YWlsc19iYXJjb2RlX3NjYW5uZWQoaGFzaF9tYXA6IEhhc2hNYXApOgogICAgaWYgaGFzaF9tYXBbJ2JhcmNvZGVfc2Nhbm5lZCddID09ICd0cnVlJzoKICAgICAgICBkb2MgPSB1aV9nbG9iYWwuUnNfZG9jCiAgICAgICAgZG9jLmlkX2RvYyA9IGhhc2hfbWFwLmdldCgnaWRfZG9jJykKCiAgICAgICAgYW5zd2VyID0gaHR0cF9leGNoYW5nZS5wb3N0X2dvb2RzX3RvX3NlcnZlcihkb2MuaWRfZG9jLCBnZXRfaHR0cF9zZXR0aW5ncyhoYXNoX21hcCkpCgogICAgICAgIGlmIGFuc3dlciBhbmQgYW5zd2VyLmdldCgnRXJyb3InKSBpcyBub3QgTm9uZToKICAgICAgICAgICAgaGFzaF9tYXAuZGVidWcoYW5zd2VyLmdldCgnRXJyb3InKSkKCiAgICAgICAgZG9jX2RldGFpbHNfb25fc3RhcnQoaGFzaF9tYXApCiAgICAgICAgaGFzaF9tYXAucmVmcmVzaF9zY3JlZW4oKQoK",
        "pyHandlersPath": "",
        "PyTimerTask": [
            {
                "PyTimerTaskKey": "timer_update",
                "PyTimerTaskDef": "timer_update",
                "PyTimerTaskPeriod": "15000",
                "PyTimerTaskBuilIn": false
            }
        ],
        "PyFiles": [
            {
                "file_path": "D:\\projects\\simple UI\\sui_keep_0_1_0_8_1\\http_exchange.py",
                "PyFileKey": "http_exchange",
                "PyFileData": "aW1wb3J0IGlwYWRkcmVzcwppbXBvcnQganNvbgppbXBvcnQgcmVxdWVzdHMKZnJvbSByZXF1ZXN0cy5hdXRoIGltcG9ydCBIVFRQQmFzaWNBdXRoCiNpbXBvcnQgdGltZQppbXBvcnQgdWlfYmFyY29kZXMKCmltcG9ydCB1aV9nbG9iYWwKZnJvbSBoc19zZXJ2aWNlcyBpbXBvcnQgSHNTZXJ2aWNlCmZyb20gZGJfc2VydmljZXMgaW1wb3J0IERvY1NlcnZpY2UKZnJvbSB1aV9nbG9iYWwgaW1wb3J0IGdldF9xdWVyeV9yZXN1bHQKCmRlZiByZXBsYXNlX2dzX2luX3JlcyhzdHJ1Y3QpOgogICAgcmV0dXJuIFt7azogdi5yZXBsYWNlKGNocigyOSksICcnKS5yZXBsYWNlKGNocigyMzIpLCAnJykucmVwbGFjZShjaHIoMzIpLCcnKSBpZiBpc2luc3RhbmNlKHYsIHN0cikgZWxzZSB2IGZvciBrLCB2IGluIGQuaXRlbXMoKX0gZm9yIGQgaW4gc3RydWN0XQogICAgIyBmb3IgZWwgaW4gc3RydWN0OgogICAgIyAgICAgaWYgZWwuZ2V0KCdiYXJjb2RlX2Zyb21fc2Nhbm5lcicpOgogICAgIyAgICAgICAgIGVsWydiYXJjb2RlX2Zyb21fc2Nhbm5lciddID0gZWxbJ2JhcmNvZGVfZnJvbV9zY2FubmVyJ10ucmVwbGFjZShjaHIoMjkpLCcnKQogICAgIyAgICAgICAgIGVsWydiYXJjb2RlX2Zyb21fc2Nhbm5lciddID0gZWxbJ2JhcmNvZGVfZnJvbV9zY2FubmVyJ10ucmVwbGFjZShjaHIoMjMyKSwgJycpCgoKZGVmIHBhcnNlX2JhcmNvZGUodmFsKToKICAgIGlmIGxlbih2YWwpIDwgMjE6CiAgICAgICAgcmV0dXJuIHsnR1RJTic6ICcnLCAnU2VyaWVzJzogJyd9CgogICAgdmFsLnJlcGxhY2UoJygwMSknLCcwMScpCiAgICB2YWwucmVwbGFjZSgnKDIxKScsICcyMScpCiAgICBpZiB2YWxbOjJdPT0nMDEnOgogICAgICAgIEdUSU4gPSB2YWxbMjoxNl0KICAgICAgICBTZXJpZXMgPSB2YWxbMTg6XQoKICAgIGVsc2U6CiAgICAgICAgR1RJTiA9IHZhbFs6MTRdCiAgICAgICAgU2VyaWVzID0gdmFsWzE0Ol0KCiAgICByZXR1cm4geydHVElOJzpHVElOLCAnU2VyaWVzJzpTZXJpZXN9CgoKZGVmIHNlcnZlcl9sb2FkX2RhdGEoaHR0cCk6CiAgICB1c2VybmFtZSA9IGh0dHBbJ3VzZXInXQogICAgcGFzc3dvcmQgPWh0dHBbJ3Bhc3MnXQogICAgdXJsID0gaHR0cFsndXJsJ10KICAgIGFuZHJvaWRfaWQgPSBodHRwWydhbmRyb2lkX2lkJ10KCgogICAgI2FuZHJvaWRfaWQgPSc3YjFiYzkxMzM1OGI3MDQ5JwogICAgIyByID0gcmVxdWVzdHMuZ2V0KHVybCArICcvZ2V0X2RhdGE/YW5kcm9pZF9pZD0nICsgYW5kcm9pZF9pZCwgYXV0aD1IVFRQQmFzaWNBdXRoKHVzZXJuYW1lLCBwYXNzd29yZCwgKSwKICAgICMgICAgICAgICAgICAgICAgICBoZWFkZXJzPXsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCd9LAogICAgIyAgICAgICAgICAgICAgICAgIHBhcmFtcz17J2NvZGUnOiBhbmRyb2lkX2lkLCAnZnVsbF9sb2FkJzogZnVsbF9sb2FkfSkKICAgIHIgPSByZXF1ZXN0cy5nZXQodXJsICsgJy9zaW1wbGVfYWNjb3VudGluZy9kYXRhP2FuZHJvaWRfaWQ9JyArIGFuZHJvaWRfaWQsIGF1dGg9SFRUUEJhc2ljQXV0aCh1c2VybmFtZSwgcGFzc3dvcmQsICksCiAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM9eydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PXV0Zi04J30sCiAgICAgICAgICAgICAgICAgICAgIHBhcmFtcz17J3VzZXJfbmFtZSc6IGh0dHBbJ3VzZXJfbmFtZSddLCAnZGV2aWNlX21vZGVsJzogaHR0cFsnZGV2aWNlX21vZGVsJ119KQogICAgIyBwcmludChyLnN0YXR1c19jb2RlKQogICAgIyBwcmludChyLnRleHQpCiAgICBhbnN3ZXIgPSB7J3N0YXR1c19jb2RlJzogci5zdGF0dXNfY29kZX0KICAgIGlmIHIuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgIHIuZW5jb2RpbmcgPSAndXRmLTgnCiAgICAgICAgamRhdGEgPSBqc29uLmxvYWRzKHIudGV4dC5lbmNvZGUoInV0Zi04IikpCgogICAgICAgIGlmICdmb3JtYXQnIGluIGpkYXRhLmtleXMoKToKICAgICAgICAgICAgYW5zd2VyWydmb3JtYXQnXSA9IGpkYXRhWydmb3JtYXQnXQogICAgICAgICAgICBpZiBqZGF0YVsnZm9ybWF0J10gPT0gJ2lzX2RhdGEnOgogICAgICAgICAgICAgICAgI9Cf0LDRgNGB0LjQvCwg0L/QsNGA0LDQvNC10YLRgCBkYXRhINGB0L7QtNC10YDQttC40YIg0YHQv9C40YHQvtC6INGB0LvQvtCy0LDRgNC10Lkg0YEg0LTQsNC90L3Ri9C80Lgg0LfQsNC/0YDQvtGB0LAKICAgICAgICAgICAgICAgIHJlc19mb3Jfc3FsID0ganNvbl90b19zcWxpdGVfcXVlcnkoamRhdGFbJ2RhdGEnXSkKICAgICAgICAgICAgICAgIGlmIHJlc19mb3Jfc3FsOgogICAgICAgICAgICAgICAgICAgIGFuc3dlclsncmVzX2Zvcl9zcWwnXSA9IHJlc19mb3Jfc3FsCgogICAgICAgICAgICBlbGlmIGpkYXRhWydmb3JtYXQnXSA9PSAnaXNfb2snOiAj0J3QsNGIINC30LDQv9GA0L7RgSDQv9GA0LjQvdGP0YIsINC90L4g0LLQtdGA0L3Rg9GC0Ywg0L/QvtC60LAg0L3QtdGH0LXQs9C+LiDQlNCw0L3QvdGL0LUg0LjQu9C4INCz0L7RgtC+0LLRj9GC0YHRjyDQuNC70Lgg0LjRhSDQvdC10YIKICAgICAgICAgICAgICAgIGlmIGpkYXRhLmdldCgnYmF0Y2gnKSBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICBhbnN3ZXJbJ2JhdGNoJ10gPSBqZGF0YS5nZXQoJ2JhdGNoJykKCiAgICAgICAgICAgIGVsaWYgamRhdGFbJ2Zvcm1hdCddID09ICdmaWxlX2xpc3QnOgogICAgICAgICAgICAgICAgY29sdW1uX25hbWVzID0gW10KICAgICAgICAgICAgICAgIGZvciBmaWxlcyBpbiBqZGF0YVsnZGF0YSddOgogICAgICAgICAgICAgICAgICAgIGNvbHVtbl9uYW1lcy5hcHBlbmQoZmlsZXMpCgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFuc3dlclsnZm9ybWF0J10gPSBOb25lCgoKICAgIGVsaWYgci5zdGF0dXNfY29kZSA9PSA0MDM6CgogICAgICAgIGFuc3dlclsnZXJyb3JfcG9vbCddID1bci50ZXh0XQogICAgZWxpZiByLnN0YXR1c19jb2RlID09IDQwMToKICAgICAgICBhbnN3ZXJbJ2Vycm9yX3Bvb2wnXT1bci5yZWFzb25dCiAgICBlbHNlOgogICAgICAgIGFuc3dlclsnZXJyb3JfcG9vbCddPVtyLnRleHRdCgogICAgcmV0dXJuIGFuc3dlcgoKCgogICAgIyDQv9C+0LTRgtCy0LXRgNC20LTQsNC10Lwg0L/RgNC40L3Rj9GC0LjQtSDQv9Cw0LrQtdGC0LAg0LTQsNC90L3Ri9GFINCyIDHQoQogICAgIyByID0gcmVxdWVzdHMuZ2V0KHVybCArICcvZ2V0X2V4Y2hhbmdlX2NvbmZpcm1hdGlvbj9hbmRyb2lkX2lkPScgKyBhbmRyb2lkX2lkLAogICAgIyAgICAgICAgICAgICAgICAgIGF1dGg9SFRUUEJhc2ljQXV0aCh1c2VybmFtZSwgcGFzc3dvcmQsICksCiAgICAjICAgICAgICAgICAgICAgICAgaGVhZGVycz17J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgnfSwKICAgICMgICAgICAgICAgICAgICAgICBwYXJhbXM9eydjb2RlJzogYW5kcm9pZF9pZCwgJ05ObWVzc2FnZSc6IE5ObWVzc2FnZX0pCgoKCmRlZiBqc29uX3RvX3NxbGl0ZV9xdWVyeShkYXRhKToKCiAgICBxbGlzdCA9IFtdCiAgICAj0KbQuNC60Lsg0L/QviDQuNC80LXQvdCw0Lwg0YLQsNCx0LvQuNGGCiAgICB0YWJsZV9saXN0ID0gKAogICAgJ1JTX2RvY190eXBlcycsICdSU19nb29kcycsICdSU19wcm9wZXJ0aWVzJywgJ1JTX3VuaXRzJywgJ1JTX3R5cGVzX2dvb2RzJywgJ1JTX3NlcmllcycsICdSU19jb3VudHJhZ2VudHMnLAogICAgJ1JTX3dhcmVob3VzZXMnLCAnUlNfcHJpY2VfdHlwZXMnLCAnUlNfY2VsbHMnLCAnUlNfYmFyY29kZXMnLCAnUlNfcHJpY2VzJywgJ1JTX2RvY190eXBlcycsICdSU19kb2NzJywKICAgICdSU19kb2NzX3RhYmxlJywgJ1JTX2RvY3NfYmFyY29kZXMnLCAnUlNfYWRyX2RvY3MnLCAnUlNfYWRyX2RvY3NfdGFibGUnKSAjLCwgJ1JTX2JhcmNfZmxvdycKICAgIHRhYmxlX2Zvcl9kZWxldGUgPSAoJ1JTX2RvY3NfdGFibGUnLCAnUlNfZG9jc19iYXJjb2RlcywgUlNfYWRyX2RvY3NfdGFibGUnKSAgIywgJ1JTX2JhcmNfZmxvdycKICAgIGRvY19pZF9saXN0ID0gW10KICAgIGZvciB0YWJsZV9uYW1lIGluIHRhYmxlX2xpc3Q6CiAgICAgICAgaWYgZGF0YS5nZXQodGFibGVfbmFtZSkgaXMgTm9uZToKICAgICAgICAgICAgY29udGludWUKCiAgICAjZm9yIHRhYmxlX25hbWUgaW4gZGF0YVsnZGF0YSddOgogICAgICAgIGlmIGRhdGFbdGFibGVfbmFtZV0gPT0gW106CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgI9CU0L7QsdCw0LLQuNC8INCyINC30LDQv9GA0L7RgdGLINGD0LTQsNC70LXQvdC40LUg0LjQtyDQsdCw0LfRiyDRgdGC0YDQvtC6INGC0LXRhSDQtNC+0LrRg9C80LXQvdGC0L7Qsiwg0YfRgtC+INC80Ysg0LfQsNCz0YDRg9C20LDQtdC8CiAgICAgICAgaWYgdGFibGVfbmFtZSBpbiB0YWJsZV9mb3JfZGVsZXRlOgogICAgICAgICAgICBxdWVyeSA9IGYiREVMRVRFIEZST00ge3RhYmxlX25hbWV9IFdIRVJFIGlkX2RvYyBpbiAoeycsICcuam9pbihkb2NfaWRfbGlzdCl9KSAiCiAgICAgICAgICAgIHFsaXN0LmFwcGVuZChxdWVyeSkKCiAgICAgICAgY29sdW1uX25hbWVzID0gZGF0YVt0YWJsZV9uYW1lXVswXS5rZXlzKCkKICAgICAgICBpZiAnbWFya19jb2RlJyBpbiBjb2x1bW5fbmFtZXM6CiAgICAgICAgICAgIHF1ZXJ5X2NvbF9uYW1lcyA9IGxpc3QoY29sdW1uX25hbWVzKQogICAgICAgICAgICBxdWVyeV9jb2xfbmFtZXMuYXBwZW5kKCdHVElOJykKICAgICAgICAgICAgcXVlcnlfY29sX25hbWVzLmFwcGVuZCgnU2VyaWVzJykKICAgICAgICAgICAgcXVlcnlfY29sX25hbWVzLnJlbW92ZSgnbWFya19jb2RlJykKICAgICAgICBlbHNlOgogICAgICAgICAgICBxdWVyeV9jb2xfbmFtZXMgPSBjb2x1bW5fbmFtZXMKCiAgICAgICAgcXVlcnkgPSBmIlJFUExBQ0UgSU5UTyB7dGFibGVfbmFtZX0gKHsnLCAnLmpvaW4ocXVlcnlfY29sX25hbWVzKX0pIFZBTFVFUyAiCiAgICAgICAgdmFsdWVzID0gW10KCiAgICAgICAgZm9yIHJvdyBpbiBkYXRhW3RhYmxlX25hbWVdOgoKICAgICAgICAgICAgcm93X3ZhbHVlcyA9IFtdCiAgICAgICAgICAgIGxpc3RfcXVvdGVkX2ZpZWxkcyA9ICgnbmFtZScsICdmdWxsX25hbWUnLCAibWFya19jb2RlIiwgImFydCIpCiAgICAgICAgICAgIGZvciBjb2wgaW4gY29sdW1uX25hbWVzOgogICAgICAgICAgICAgICAgaWYgY29sIGluIGxpc3RfcXVvdGVkX2ZpZWxkcyBhbmQgICJcIiIgaW4gcm93W2NvbF06CiAgICAgICAgICAgICAgICAgICAgcm93W2NvbF0gPSByb3dbY29sXS5yZXBsYWNlKCJcIiIsICJcIlwiIikKICAgICAgICAgICAgICAgIGlmIHJvd1tjb2xdIGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgcm93W2NvbF0gPSAnJwogICAgICAgICAgICAgICAgaWYgY29sID09ICdtYXJrX2NvZGUnOiAgICPQl9Cw0LzQtdC90Y/QtdC8INGN0YLQviDQv9C+0LvQtSDQvdCwINC/0L7Qu9GPIEdUSU4g0LggU2VyaWVzCiAgICAgICAgICAgICAgICAgICAgYmFyY19zdHJ1Y3QgPSBwYXJzZV9iYXJjb2RlKHJvd1tjb2xdKQogICAgICAgICAgICAgICAgICAgIHJvd192YWx1ZXMuYXBwZW5kKGJhcmNfc3RydWN0WydHVElOJ10pCiAgICAgICAgICAgICAgICAgICAgcm93X3ZhbHVlcy5hcHBlbmQoYmFyY19zdHJ1Y3RbJ1NlcmllcyddKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICByb3dfdmFsdWVzLmFwcGVuZChyb3dbY29sXSkgICMoZicie3Jvd1tjb2xdfSInKQogICAgICAgICAgICAgICAgaWYgY29sID09ICdpZF9kb2MnIGFuZCB0YWJsZV9uYW1lID09ICdSU19kb2NzJzoKICAgICAgICAgICAgICAgICAgICBkb2NfaWRfbGlzdC5hcHBlbmQoJyInK3Jvd1tjb2xdKyciJykKICAgICAgICAgICAgZm9ybWF0dGVkX3ZhbCAgPSBbZicie3h9IicgaWYgaXNpbnN0YW5jZSh4LCBzdHIpIGVsc2Ugc3RyKHgpIGZvciB4IGluIHJvd192YWx1ZXNdCiAgICAgICAgICAgIHZhbHVlcy5hcHBlbmQoZiIoeycsICcuam9pbihmb3JtYXR0ZWRfdmFsKX0pIikKICAgICAgICBxdWVyeSArPSAiLCAiLmpvaW4odmFsdWVzKQogICAgICAgIHFsaXN0LmFwcGVuZChxdWVyeSkKCgogICAgcmV0dXJuIHFsaXN0CgoKCmRlZiBnZXRfYWxsX2NoYW5nZXNfZnJvbV9kYXRhYmFzZShkb2NfbGlzdD0nJyk6CiAgICB0cnk6CiAgICAgICAgcXRleHQgPSBmJycnCiAgICAgICAgU0VMRUNUICogRlJPTSBSU19kb2NzIFdIRVJFIGlkX2RvYyBpbiAoe2RvY19saXN0fSknJycKICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCxOb25lLFRydWUpCiAgICAgICAgcXRleHQgPSBmJycnCiAgICAgICAgICAgIFNFTEVDVCAqIEZST00gUlNfZG9jc190YWJsZSBXSEVSRSBpZF9kb2MgaW4gKHtkb2NfbGlzdH0pJycnIyBpbiAoCiAgICAgICAgICAgICNTRUxFQ1QgaWRfZG9jIEZST00gUlNfZG9jcyBXSEVSRSB2ZXJpZmllZCBpcyBOdWxsKScnJwogICAgICAgIHJlc19kb2NzX3RhYmxlID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsTm9uZSxUcnVlKQogICAgICAgIHF0ZXh0ID0gZicnJwogICAgICAgICAgICBTRUxFQ1QgKiBGUk9NIFJTX2RvY3NfYmFyY29kZXMgV0hFUkUgaWRfZG9jIGluICh7ZG9jX2xpc3R9KSBhbmQgYmFyY29kZV9mcm9tX3NjYW5uZXIgaXMgbm90IE51bGwnJycjIGluICgKICAgICAgICAgICAgI1NFTEVDVCBpZF9kb2MgRlJPTSBSU19kb2NzIFdIRVJFIHZlcmlmaWVkIGlzIE51bGwpJycnCiAgICAgICAgcmVzX2RvY3NfYmFyY29kZSA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LE5vbmUsVHJ1ZSkKICAgICAgICByZXNfZG9jc19iYXJjb2RlID0gcmVwbGFzZV9nc19pbl9yZXMocmVzX2RvY3NfYmFyY29kZSkKICAgICAgICBxdGV4dCA9IGYnJycKICAgICAgICAgICAgU0VMRUNUICogRlJPTSBSU19iYXJjX2Zsb3cgV0hFUkUgaWRfZG9jIGluICh7ZG9jX2xpc3R9KScnJyMgaW4gKAogICAgICAgICAgICAjU0VMRUNUIGlkX2RvYyBGUk9NIFJTX2RvY3MgV0hFUkUgdmVyaWZpZWQgaXMgTnVsbCknJycKICAgICAgICByZXNfZmxvdyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LE5vbmUsVHJ1ZSkKICAgICAgICByZXNfZmxvdyA9IHJlcGxhc2VfZ3NfaW5fcmVzKHJlc19mbG93KQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBzcWxfZXJyb3IgPSBUcnVlCiAgICAgICAgICAgICNlcnJvcl9wb29sLmFwcGVuZChlLmFyZ3NbMF0pCiAgICAgICAgICAgIHJldHVybiB7J0Vycm9yJzplLmFyZ3NbMF19CiAgICAjIGlmIGxlbihyZXMpID09IDA6CiAgICAjICAgICByZXR1cm4gTm9uZQoKICAgIGZvciBpdGVtIGluIHJlczoKICAgICAgICBmaWx0ZXJlZF9saXN0ID0gW2QgZm9yIGQgaW4gcmVzX2RvY3NfdGFibGUgaWYgZFsnaWRfZG9jJ10gPT0gaXRlbVsnaWRfZG9jJ11dCiAgICAgICAgaXRlbVsnUlNfZG9jc190YWJsZSddID0gZmlsdGVyZWRfbGlzdAoKICAgICAgICBmaWx0ZXJlZF9saXN0ID0gW2QgZm9yIGQgaW4gcmVzX2RvY3NfYmFyY29kZSBpZiBkWydpZF9kb2MnXSA9PSBpdGVtWydpZF9kb2MnXV0KICAgICAgICBpdGVtWydSU19kb2NzX2JhcmNvZGVzJ10gPSBmaWx0ZXJlZF9saXN0CgogICAgICAgIGZpbHRlcmVkX2xpc3QgPSBbZCBmb3IgZCBpbiByZXNfZmxvdyBpZiBkWydpZF9kb2MnXSA9PSBpdGVtWydpZF9kb2MnXV0KICAgICAgICBpdGVtWydSU19iYXJjX2Zsb3cnXSA9IGZpbHRlcmVkX2xpc3QKICAgICPQkNC00YDQtdGB0L3QvtC1INGF0YDQsNC90LXQvdC40LUKICAgIHRyeToKICAgICAgICBxdGV4dCA9IGYnJycKICAgICAgICBTRUxFQ1QgKiBGUk9NIFJTX2Fkcl9kb2NzIFdIRVJFIGlkX2RvYyBpbiAoe2RvY19saXN0fSknJycKICAgICAgICByZXNfYWRyID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsTm9uZSxUcnVlKQogICAgICAgIHF0ZXh0ID0gZicnJwogICAgICAgICAgICBTRUxFQ1QgKiBGUk9NIFJTX2Fkcl9kb2NzX3RhYmxlIFdIRVJFIGlkX2RvYyBpbiAoe2RvY19saXN0fSknJycjIGluICgKICAgICAgICAgICAgI1NFTEVDVCBpZF9kb2MgRlJPTSBSU19kb2NzIFdIRVJFIHZlcmlmaWVkIGlzIE51bGwpJycnCiAgICAgICAgcmVzX2Fkcl9kb2NzX3RhYmxlID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsTm9uZSxUcnVlKQoKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgc3FsX2Vycm9yID0gVHJ1ZQogICAgICAgICAgICAjZXJyb3JfcG9vbC5hcHBlbmQoZS5hcmdzWzBdKQogICAgICAgICAgICByZXR1cm4geydFcnJvcic6ZS5hcmdzWzBdfQogICAgIyBpZiBsZW4ocmVzKSA9PSAwOgogICAgIyAgICAgcmV0dXJuIE5vbmUKCiAgICBmb3IgaXRlbSBpbiByZXNfYWRyOgogICAgICAgIGZpbHRlcmVkX2xpc3QgPSBbZCBmb3IgZCBpbiByZXNfYWRyX2RvY3NfdGFibGUgaWYgZFsnaWRfZG9jJ10gPT0gaXRlbVsnaWRfZG9jJ11dCiAgICAgICAgaXRlbVsnUlNfYWRyX2RvY3NfdGFibGUnXSA9IGZpbHRlcmVkX2xpc3QKCgoKICAgIGlmIGxlbihyZXMpICsgbGVuKHJlc19hZHIpID09IDA6CiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICByZXR1cm4ganNvbi5kdW1wcyhyZXMgKyByZXNfYWRyKQoKCmRlZiBwb3N0X2NoYW5nZXNfdG9fc2VydmVyKGRvY19saXN0LCBodHBwYXJhbXMpOgogICAgdXJsID0gaHRwcGFyYW1zWyd1cmwnXQogICAgdXNlcm5hbWUgPSBodHBwYXJhbXNbJ3VzZXInXQogICAgcGFzc3dvcmQgPSBodHBwYXJhbXNbJ3Bhc3MnXQogICAgYW5kcm9pZF9pZCA9IGh0cHBhcmFtc1snYW5kcm9pZF9pZCddCiAgICByZXMgPSBnZXRfYWxsX2NoYW5nZXNfZnJvbV9kYXRhYmFzZShkb2NfbGlzdCkKICAgIGlmIHR5cGUocmVzKSA9PSB0eXBlKGRpY3QpIGFuZCByZXMuZ2V0KCdFcnJvcicpOgogICAgICAgIGFuc3dlciA9IHsnZW1wdHknOiBUcnVlLCAnRXJyb3InOnJlcy5nZXQoJ0Vycm9yJyl9CgogICAgICAgIHJldHVybiBhbnN3ZXIKICAgIGFuc3dlciA9IHsnZW1wdHknOlRydWV9CiAgICBpZiByZXMgaXMgbm90IE5vbmU6CgogICAgICAgIHIgPSByZXF1ZXN0cy5wb3N0KHVybCArICcvc2ltcGxlX2FjY291bnRpbmcvZG9jdW1lbnRzP2FuZHJvaWRfaWQ9JyArIGFuZHJvaWRfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoPUhUVFBCYXNpY0F1dGgodXNlcm5hbWUsIHBhc3N3b3JkLCApLAogICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycz17J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgnfSwKICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcz17J3VzZXJfbmFtZSc6IGh0cHBhcmFtc1sndXNlcl9uYW1lJ10sICdkZXZpY2VfbW9kZWwnOiBodHBwYXJhbXNbJ2RldmljZV9tb2RlbCddfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhPXJlcyApCiAgICAgICAgYW5zd2VyWydzdGF0dXNfY29kZSddID1yLnN0YXR1c19jb2RlCiAgICAgICAgaWYgci5zdGF0dXNfY29kZSA9PSAyMDA6CiAgICAgICAgICAgIGFuc3dlclsnZW1wdHknXT1GYWxzZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFuc3dlclsnZW1wdHknXSA9IFRydWUKICAgICAgICAgICAgYW5zd2VyWydFcnJvciddID0gci50ZXh0CgogICAgcmV0dXJuIGFuc3dlcgoKCmRlZiBwb3N0X2dvb2RzX3RvX3NlcnZlcihkb2NfaWQsIGh0dHBfcGFyYW1zKToKICAgIGhzX3NlcnZpY2UgPSBIc1NlcnZpY2UoaHR0cF9wYXJhbXMpCiAgICBkb2Nfc2VydmljZSA9IERvY1NlcnZpY2UoZG9jX2lkKQoKICAgIHJlcyA9IGRvY19zZXJ2aWNlLmdldF9sYXN0X2VkaXRlZF9nb29kcyh0b19qc29uPUZhbHNlKQoKICAgIGlmIGlzaW5zdGFuY2UocmVzLCBkaWN0KSBhbmQgcmVzLmdldCgnRXJyb3InKToKICAgICAgICBhbnN3ZXIgPSB7J2VtcHR5JzogVHJ1ZSwgJ0Vycm9yJzogcmVzLmdldCgnRXJyb3InKX0KICAgICAgICByZXR1cm4gYW5zd2VyCiAgICBlbGlmIHJlczoKICAgICAgICBoc19zZXJ2aWNlLnNlbmRfZG9jdW1lbnRzKHJlcykKICAgICAgICBpZiBub3QgcmVzIG9yIChpc2luc3RhbmNlKHJlcywgZGljdCkgYW5kIHJlcy5nZXQoJ0Vycm9yJykpOgogICAgICAgICAgICBhbnN3ZXIgPSB7J2VtcHR5JzogVHJ1ZSwgJ0Vycm9yJzogcmVzLmdldCgnRXJyb3InKX0KICAgICAgICAgICAgcmV0dXJuIGFuc3dlcgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRvY19zZXJ2aWNlLnVwZGF0ZV9zZW50X2RhdGEocmVzKQoKICAgIHRpbWVyX3NlcnZlcl9sb2FkX2RhdGEoaHR0cF9wYXJhbXMpCgoKZGVmIHRpbWVyX3NlcnZlcl9sb2FkX2RhdGEoaHR0cF9wYXJhbXMpOgogICAgaHNfc2VydmljZSA9IEhzU2VydmljZShodHRwX3BhcmFtcykKICAgIGRvY19zZXJ2aWNlID0gRG9jU2VydmljZSgnJykKCiAgICBkb2NzX2RhdGEgPSBoc19zZXJ2aWNlLmdldF9kYXRhKCkKICAgIGlmIGRvY3NfZGF0YS5nZXQoJ2RhdGEnKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGRvY19zZXJ2aWNlLnVwZGF0ZV9kYXRhX2Zyb21fanNvbihkb2NzX2RhdGFbJ2RhdGEnXSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHJhaXNlIGUKICAgICAgICAgICAgIyByZXR1cm4geydlbXB0eSc6IFRydWUsICdFcnJvcic6IGUuYXJnc1swXX0KCgojCiMgYWRyX3N0cmluZz1pbnB1dCgn0JLQstC10LTQuNGC0LUg0LDQtNGA0LXRgTogJykKIyBhZHJfc3RyaW5nLnJlcGxhY2UoJ1xcJywnLycpCiMgYWRyX3N0cnVjdCA9IGFkcl9zdHJpbmcuc3BsaXQoc2VwPScvJykKIyBhZHJfZm9ybWF0ID17J3Byb3RvY29sJzooJ2h0dHA6LycsJ2h0dHBzOi8nKSwgJ0Jhc2VOYW1lJzonJywgJ2hzX3ByZWYnOidocyd9CiMgcGFzcwojICNpcGFkZHJlc3MuaXBfYWRkcmVzcygpCiMgaWYgYWRyX3N0cnVjdCBpbiBhZHJfZm9ybWF0Wydwcm90b2NvbCddOgojICAgICByZXNfYWRyID1bJ2h0dHA6LyddCiMKIwojIGVsc2U6CgoKIwojIHNlcnZlcl9sb2FkX2pzb24oKQojIHBvc3RfY2hhbmdlc190b19zZXJ2ZXIoTm9uZSkKCgojCiMgLS0tLS0tLS0tLS0tLS0tLS0tLSDQkdC70L7QuiDQt9Cw0LPRgNGD0LfQutC4INC00LDQvdC90YvRhSAtLS0tLS0tLS0tLS0tLS0tLS0tCiMgaHR0cF9zZXR0aW5ncyA9IHsKIyAndXJsJyA6ICdodHRwOi8vMTkyLjE2OC4xLjc3L01hcmsvaHMvJywKIyAndXNlcicgOiAnQURNJywKIyAncGFzcycgOiAnMScsCiMgJ2RldmljZV9tb2RlbCcgOiAnUHl0aG9uJywKIyAnYW5kcm9pZF9pZCc6J2YwNTU5NDc2YjhhMjY4NzcnLCAjJ2M1MTEzMzQ4ODU2OGM5MmInLAojICd1c2VyX25hbWUnOiAnR2VyYWxkJ30KIyB4PTAKIyB3aGlsZSB4IDwgMjoKIwojICAgICAjIHVybCA9CiMgICAgICMgYW5kcm9pZF9pZCA9ICdjNTExMzM0ODg1NjhjOTJiJyAjJzdiMWJjOTEzMzU4YjcwNDknCiMgICAgIHJlc3VsdCA9IHNlcnZlcl9sb2FkX2RhdGEoaHR0cF9zZXR0aW5ncykKIyAgICAgI2lmIG5vdCByZXN1bHQgPT0gJ29rJzoKIyAgICAgaWYgcmVzdWx0LmdldCgncmVzX2Zvcl9zcWwnKSBpcyBub3QgTm9uZToKIyAgICAgICAgIGVycm9yX3Bvb2wgPVtdCiMgICAgICAgICBmb3Iga2V5IGluIHJlc3VsdFsncmVzX2Zvcl9zcWwnXToKIyAgICAgICAgICAgICB0cnk6CiMgICAgICAgICAgICAgICAgIHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KGtleSkKIyAgICAgICAgICAgICAgICAgIyByZXR1cm4gJ29rJwojICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKIyAgICAgICAgICAgICAgICAgc3FsX2Vycm9yID0gVHJ1ZQojICAgICAgICAgICAgICAgICBlcnJvcl9wb29sLmFwcGVuZChlLmFyZ3NbMF0pCiMgICAgICAgICAgICAgICAgIHByaW50KGUuYXJnc1swXSkKIyAgICAgZWxzZToKIyAgICAgICAgIHByaW50KHJlc3VsdCkKIwojICAgICB4Kz0xCiMgICAgIHRpbWUuc2xlZXAoMTApCiMgICAgIHByaW50KCfQptC40LrQuzogJysgc3RyKHgpKQojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKCiMgLS0tLS0tLS0tINCj0LTQsNC70LXQvdC40LUg0LTQsNC90L3Ri9GFINC40Lcg0LLRgdC10YUg0YLQsNCx0LvQuNGGIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIHF0ZXh0ID0gJycnCiMgU0VMRUNUIG5hbWUgRlJPTSBzcWxpdGVfbWFzdGVyIFdIRVJFIHR5cGU9J3RhYmxlJwojICcnJwojIHJlcyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0KQojIGZvciBlbCBpbiByZXM6CiMgICAgIGRlbF90ZXh0ID0gJ0RFTEVURSBGUk9NICcgKyBlbFswXQojICAgICB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChkZWxfdGV4dCkK"
            },
            {
                "file_path": "D:\\projects\\simple UI\\sui_keep_0_1_0_8_1\\db_services.py",
                "PyFileKey": "db_services",
                "PyFileData": "aW1wb3J0IGpzb24KCmZyb20gdWlfdXRpbHMgaW1wb3J0IHBhcnNlX2JhcmNvZGUKZnJvbSB1aV9nbG9iYWwgaW1wb3J0IGdldF9xdWVyeV9yZXN1bHQKCgpjbGFzcyBEb2NTZXJ2aWNlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGRvY19pZCk6CiAgICAgICAgc2VsZi5kb2NfaWQgPSBkb2NfaWQKCiAgICBkZWYgZ2V0X2xhc3RfZWRpdGVkX2dvb2RzKHNlbGYsIHRvX2pzb249RmFsc2UpOgogICAgICAgIHF1ZXJ5X2RvY3MgPSBmJ1NFTEVDVCAqIEZST00gUlNfZG9jcyBXSEVSRSBpZF9kb2MgPSA/IGFuZCB2ZXJpZmllZCA9IDEnCgogICAgICAgIHF1ZXJ5X2dvb2RzID0gJycnCiAgICAgICAgU0VMRUNUICogRlJPTSBSU19kb2NzX3RhYmxlCiAgICAgICAgV0hFUkUgaWRfZG9jID0gPyBhbmQgc2VudCA9IDAKICAgICAgICAnJycKCiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXNfZG9jcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnlfZG9jcywgKHNlbGYuZG9jX2lkLCksIFRydWUpCiAgICAgICAgICAgIHJlc19nb29kcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnlfZ29vZHMsIChzZWxmLmRvY19pZCwpLCBUcnVlKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcmFpc2UgZQogICAgICAgICAgICAjIHJldHVybiB7J0Vycm9yJzogZS5hcmdzWzBdfQoKICAgICAgICBpZiBub3QgcmVzX2dvb2RzOgogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgICAgICBmb3IgaXRlbSBpbiByZXNfZG9jczoKICAgICAgICAgICAgZmlsdGVyZWRfbGlzdCA9IFtkIGZvciBkIGluIHJlc19nb29kcyBpZiBkWydpZF9kb2MnXSA9PSBpdGVtWydpZF9kb2MnXV0KICAgICAgICAgICAgaXRlbVsnUlNfZG9jc190YWJsZSddID0gZmlsdGVyZWRfbGlzdAogICAgICAgICAgICBpdGVtWydSU19kb2NzX2JhcmNvZGVzJ10gPSBbXQogICAgICAgICAgICBpdGVtWydSU19iYXJjX2Zsb3cnXSA9IFtdCgogICAgICAgIGlmIHRvX2pzb246CiAgICAgICAgICAgIHJldHVybiBqc29uLmR1bXBzKHJlc19kb2NzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiByZXNfZG9jcwoKICAgIGRlZiB1cGRhdGVfZGF0YV9mcm9tX2pzb24oc2VsZiwganNvbl9kYXRhKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGRhdGEgPSBqc29uLmxvYWRzKGpzb25fZGF0YSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGRhdGEgPSBqc29uX2RhdGEKCiAgICAgICAgaWYgZGF0YS5nZXQoJ1JTX2RvY3MnKToKICAgICAgICAgICAgc2VsZi51cGRhdGVfZG9jcyhkYXRhKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYudXBkYXRlX25zaShkYXRhKQoKICAgIGRlZiB1cGRhdGVfZG9jcyhzZWxmLCBkYXRhKToKICAgICAgICBkb2NfaWRzID0gJywnLmpvaW4oW2YnIntpdGVtLmdldCgiaWRfZG9jIil9IicgZm9yIGl0ZW0gaW4gZGF0YVsnUlNfZG9jcyddXSkKCiAgICAgICAgcXVlcnkgPSBmJycnCiAgICAgICAgICAgIFNFTEVDVCBpZF9kb2MsIHZlcmlmaWVkCiAgICAgICAgICAgIEZST00gUlNfZG9jcwogICAgICAgICAgICBXSEVSRSBpZF9kb2MgSU4gKHtkb2NfaWRzfSkKICAgICAgICAnJycKICAgICAgICBkb2NzID0ge2l0ZW1bJ2lkX2RvYyddOiBpdGVtWyd2ZXJpZmllZCddIGZvciBpdGVtIGluIHNlbGYuX2dldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dD1xdWVyeSwgcmV0dXJuX2RpY3Q9VHJ1ZSl9CgogICAgICAgIHF1ZXJpZXMgPSBzZWxmLmpzb25fdG9fc3FsaXRlX3F1ZXJ5KGRhdGEsIGRvY3MpCgogICAgICAgIGZvciBxdWVyeSBpbiBxdWVyaWVzOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzZWxmLl9nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5KQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICByYWlzZSBlCgogICAgICAgIHJldHVybiBkb2NzCgogICAgZGVmIHVwZGF0ZV9uc2koc2VsZiwgZGF0YSk6CiAgICAgICAgcXVlcmllcyA9IHNlbGYuanNvbl90b19zcWxpdGVfcXVlcnkoZGF0YSkKCiAgICAgICAgZm9yIHF1ZXJ5IGluIHF1ZXJpZXM6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHNlbGYuX2dldF9xdWVyeV9yZXN1bHQocXVlcnkpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIHJhaXNlIGUKCiAgICBkZWYgdXBkYXRlX3NlbnRfZGF0YShzZWxmLCBkYXRhKToKICAgICAgICBpZiBkYXRhOgogICAgICAgICAgICBmb3IgZG9jIGluIGRhdGE6CiAgICAgICAgICAgICAgICBpZF9kb2MgPSBkb2NbJ2lkX2RvYyddCiAgICAgICAgICAgICAgICBpZF9nb29kcyA9ICcsJy5qb2luKFtmJyJ7aXRlbS5nZXQoImlkX2dvb2QiKX0iJyBmb3IgaXRlbSBpbiBkb2MuZ2V0KCdSU19kb2NzX3RhYmxlJywgW10pXSkKCiAgICAgICAgICAgICAgICBxdWVyeSA9IGYnJycKICAgICAgICAgICAgICAgICAgICBVUERBVEUgUlNfZG9jc190YWJsZQogICAgICAgICAgICAgICAgICAgIFNFVCBzZW50ID0gMQogICAgICAgICAgICAgICAgICAgIFdIRVJFIGlkX2RvYyA9ICd7aWRfZG9jfScgQU5EIGlkX2dvb2QgSU4gKHtpZF9nb29kc30pCiAgICAgICAgICAgICAgICAgICAgJycnCgogICAgICAgICAgICAgICAgc2VsZi5fZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSkKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYganNvbl90b19zcWxpdGVfcXVlcnkoZGF0YSwgZG9jcz1Ob25lKToKICAgICAgICBxbGlzdCA9IFtdCiAgICAgICAgIyDQptC40LrQuyDQv9C+INC40LzQtdC90LDQvCDRgtCw0LHQu9C40YYKICAgICAgICB0YWJsZV9saXN0ID0gKAogICAgICAgICAgICAnUlNfZG9jX3R5cGVzJywgJ1JTX2dvb2RzJywgJ1JTX3Byb3BlcnRpZXMnLCAnUlNfdW5pdHMnLCAnUlNfdHlwZXNfZ29vZHMnLCAnUlNfc2VyaWVzJywgJ1JTX2NvdW50cmFnZW50cycsCiAgICAgICAgICAgICdSU193YXJlaG91c2VzJywgJ1JTX3ByaWNlX3R5cGVzJywgJ1JTX2NlbGxzJywgJ1JTX2JhcmNvZGVzJywgJ1JTX3ByaWNlcycsICdSU19kb2NfdHlwZXMnLCAnUlNfZG9jcycsCiAgICAgICAgICAgICdSU19kb2NzX3RhYmxlJywgJ1JTX2RvY3NfYmFyY29kZXMnLCAnUlNfYWRyX2RvY3MnLCAnUlNfYWRyX2RvY3NfdGFibGUnKSAgIyAsLCAnUlNfYmFyY19mbG93JwogICAgICAgIHRhYmxlX2Zvcl9kZWxldGUgPSAoJ1JTX2RvY3NfdGFibGUnLCAnUlNfZG9jc19iYXJjb2RlcywgUlNfYWRyX2RvY3NfdGFibGUnKSAgIyAsICdSU19iYXJjX2Zsb3cnCiAgICAgICAgZG9jX2lkX2xpc3QgPSBbXQogICAgICAgIGZvciB0YWJsZV9uYW1lIGluIHRhYmxlX2xpc3Q6CiAgICAgICAgICAgIGlmIG5vdCBkYXRhLmdldCh0YWJsZV9uYW1lKToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICAjINCU0L7QsdCw0LLQuNC8INCyINC30LDQv9GA0L7RgdGLINGD0LTQsNC70LXQvdC40LUg0LjQtyDQsdCw0LfRiyDRgdGC0YDQvtC6INGC0LXRhSDQtNC+0LrRg9C80LXQvdGC0L7Qsiwg0YfRgtC+INC80Ysg0LfQsNCz0YDRg9C20LDQtdC8CiAgICAgICAgICAgIGlmIHRhYmxlX25hbWUgaW4gdGFibGVfZm9yX2RlbGV0ZToKICAgICAgICAgICAgICAgIHF1ZXJ5ID0gZiJERUxFVEUgRlJPTSB7dGFibGVfbmFtZX0gV0hFUkUgaWRfZG9jIGluICh7JywgJy5qb2luKGRvY19pZF9saXN0KX0pICIKICAgICAgICAgICAgICAgIHFsaXN0LmFwcGVuZChxdWVyeSkKCiAgICAgICAgICAgIGNvbHVtbl9uYW1lcyA9IGRhdGFbdGFibGVfbmFtZV1bMF0ua2V5cygpCiAgICAgICAgICAgIGlmICdtYXJrX2NvZGUnIGluIGNvbHVtbl9uYW1lczoKICAgICAgICAgICAgICAgIHF1ZXJ5X2NvbF9uYW1lcyA9IGxpc3QoY29sdW1uX25hbWVzKQogICAgICAgICAgICAgICAgcXVlcnlfY29sX25hbWVzLmFwcGVuZCgnR1RJTicpCiAgICAgICAgICAgICAgICBxdWVyeV9jb2xfbmFtZXMuYXBwZW5kKCdTZXJpZXMnKQogICAgICAgICAgICAgICAgcXVlcnlfY29sX25hbWVzLnJlbW92ZSgnbWFya19jb2RlJykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHF1ZXJ5X2NvbF9uYW1lcyA9IGxpc3QoY29sdW1uX25hbWVzKQoKICAgICAgICAgICAgaWYgZG9jcyBhbmQgdGFibGVfbmFtZSA9PSAnUlNfZG9jcyc6CiAgICAgICAgICAgICAgICBxdWVyeV9jb2xfbmFtZXMuYXBwZW5kKCd2ZXJpZmllZCcpCgogICAgICAgICAgICBxdWVyeSA9IGYiUkVQTEFDRSBJTlRPIHt0YWJsZV9uYW1lfSAoeycsICcuam9pbihxdWVyeV9jb2xfbmFtZXMpfSkgVkFMVUVTICIKICAgICAgICAgICAgdmFsdWVzID0gW10KCiAgICAgICAgICAgIGZvciByb3cgaW4gZGF0YVt0YWJsZV9uYW1lXToKICAgICAgICAgICAgICAgIHJvd192YWx1ZXMgPSBbXQogICAgICAgICAgICAgICAgbGlzdF9xdW90ZWRfZmllbGRzID0gKCduYW1lJywgJ2Z1bGxfbmFtZScsICJtYXJrX2NvZGUiKQogICAgICAgICAgICAgICAgZm9yIGNvbCBpbiBjb2x1bW5fbmFtZXM6CiAgICAgICAgICAgICAgICAgICAgaWYgY29sIGluIGxpc3RfcXVvdGVkX2ZpZWxkcyBhbmQgIlwiIiBpbiByb3dbY29sXToKICAgICAgICAgICAgICAgICAgICAgICAgcm93W2NvbF0gPSByb3dbY29sXS5yZXBsYWNlKCJcIiIsICJcIlwiIikKICAgICAgICAgICAgICAgICAgICBpZiByb3dbY29sXSBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICByb3dbY29sXSA9ICcnCiAgICAgICAgICAgICAgICAgICAgaWYgY29sID09ICdtYXJrX2NvZGUnOiAgIyDQl9Cw0LzQtdC90Y/QtdC8INGN0YLQviDQv9C+0LvQtSDQvdCwINC/0L7Qu9GPIEdUSU4g0LggU2VyaWVzCiAgICAgICAgICAgICAgICAgICAgICAgIGJhcmNfc3RydWN0ID0gcGFyc2VfYmFyY29kZShyb3dbY29sXSkKICAgICAgICAgICAgICAgICAgICAgICAgcm93X3ZhbHVlcy5hcHBlbmQoYmFyY19zdHJ1Y3RbJ0dUSU4nXSkKICAgICAgICAgICAgICAgICAgICAgICAgcm93X3ZhbHVlcy5hcHBlbmQoYmFyY19zdHJ1Y3RbJ1NlcmllcyddKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHJvd192YWx1ZXMuYXBwZW5kKHJvd1tjb2xdKSAgIyAoZicie3Jvd1tjb2xdfSInKQogICAgICAgICAgICAgICAgICAgIGlmIGNvbCA9PSAnaWRfZG9jJyBhbmQgdGFibGVfbmFtZSA9PSAnUlNfZG9jcyc6CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY19pZF9saXN0LmFwcGVuZCgnIicgKyByb3dbY29sXSArICciJykKCiAgICAgICAgICAgICAgICBpZiBkb2NzIGFuZCB0YWJsZV9uYW1lID09ICdSU19kb2NzJzoKICAgICAgICAgICAgICAgICAgICByb3dfdmFsdWVzLmFwcGVuZChkb2NzW3Jvd1snaWRfZG9jJ11dKQoKICAgICAgICAgICAgICAgIGZvcm1hdHRlZF92YWwgPSBbZicie3h9IicgaWYgaXNpbnN0YW5jZSh4LCBzdHIpIGVsc2Ugc3RyKHgpIGZvciB4IGluIHJvd192YWx1ZXNdCiAgICAgICAgICAgICAgICB2YWx1ZXMuYXBwZW5kKGYiKHsnLCAnLmpvaW4oZm9ybWF0dGVkX3ZhbCl9KSIpCiAgICAgICAgICAgIHF1ZXJ5ICs9ICIsICIuam9pbih2YWx1ZXMpCiAgICAgICAgICAgIHFsaXN0LmFwcGVuZChxdWVyeSkKCiAgICAgICAgcmV0dXJuIHFsaXN0CgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIF9nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsIHJldHVybl9kaWN0PUZhbHNlKToKICAgICAgICByZXR1cm4gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCByZXR1cm5fZGljdD1yZXR1cm5fZGljdCkKCiAgICBkZWYgc2V0X2RvY192YWx1ZShzZWxmLCBrZXksIHZhbHVlKToKICAgICAgICBxdWVyeSA9IGYnJycKICAgICAgICAgICAgVVBEQVRFIFJTX2RvY3MKICAgICAgICAgICAgU0VUIHtrZXl9ID0ge3ZhbHVlfQogICAgICAgICAgICBXSEVSRSBpZF9kb2MgPSAie3NlbGYuZG9jX2lkfSIKICAgICAgICAgICAgJycnCgogICAgICAgIHNlbGYuX2dldF9xdWVyeV9yZXN1bHQocXVlcnkpCgoKY2xhc3MgR29vZHNTZXJ2aWNlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsICoqa3dhcmdzKToKICAgICAgICBzZWxmLl9fZGljdF9fID0ga3dhcmdzCgoKICAgIGRlZiBnZXRfaXRlbV9ieV9iYXJjb2RlKHNlbGYpOgogICAgICAgIGdvb2RfcXVlcnkgPSBnZXRfcXVlcnlfcmVzdWx0KAogICAgICAgICAgICAiU0VMRUNUICogRlJPTSBSU19iYXJjb2RlcyB3aGVyZSBiYXJjb2RlID0gJyIgKyBiYXJjb2RlICsgIiciKQoKICAgICAgICByZXR1cm4gZ29vZF9xdWVyeQo="
            },
            {
                "file_path": "D:\\projects\\simple UI\\sui_keep_0_1_0_8_1\\hs_services.py",
                "PyFileKey": "hs_services",
                "PyFileData": "aW1wb3J0IHJlcXVlc3RzCmltcG9ydCBqc29uCmZyb20gcmVxdWVzdHMuYXV0aCBpbXBvcnQgSFRUUEJhc2ljQXV0aAoKaW1wb3J0IHVpX3V0aWxzCgoKY2xhc3MgSHNTZXJ2aWNlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGh0dHBfcGFyYW1zKToKICAgICAgICBzZWxmLnVybCA9IGh0dHBfcGFyYW1zWyd1cmwnXQogICAgICAgIHNlbGYudXNlcm5hbWUgPSBodHRwX3BhcmFtc1sndXNlciddCiAgICAgICAgc2VsZi5wYXNzd29yZCA9IGh0dHBfcGFyYW1zWydwYXNzJ10KICAgICAgICBzZWxmLmFuZHJvaWRfaWQgPSBodHRwX3BhcmFtc1snYW5kcm9pZF9pZCddCiAgICAgICAgc2VsZi5kZXZpY2VfbW9kZWwgPSBodHRwX3BhcmFtc1snZGV2aWNlX21vZGVsJ10KICAgICAgICBzZWxmLnVzZXJfbmFtZSA9IGh0dHBfcGFyYW1zWyd1c2VyX25hbWUnXQogICAgICAgIHNlbGYucGFyYW1zID0geyd1c2VyX25hbWUnOiBzZWxmLnVzZXJfbmFtZSwgJ2RldmljZV9tb2RlbCc6IHNlbGYuZGV2aWNlX21vZGVsfQogICAgICAgIHNlbGYuX2hzID0gJycKICAgICAgICBzZWxmLl9tZXRob2QgPSByZXF1ZXN0cy5nZXQKCiAgICAgICAgc2VsZi5hdXRoID0gSFRUUEJhc2ljQXV0aChzZWxmLnVzZXJuYW1lLCBzZWxmLnBhc3N3b3JkKQogICAgICAgIHNlbGYuaGVhZGVycyA9IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCd9CgogICAgZGVmIGdldF9kYXRhKHNlbGYsICoqa3dhcmdzKSAtPiBkaWN0OgogICAgICAgIHNlbGYuX2hzID0gJ2RhdGEnCiAgICAgICAgc2VsZi5fbWV0aG9kID0gcmVxdWVzdHMuZ2V0CiAgICAgICAgYW5zd2VyID0gc2VsZi5fc2VuZF9yZXF1ZXN0KGt3YXJncykKCiAgICAgICAgaWYgYW5zd2VyWydzdGF0dXNfY29kZSddID09IDIwMDoKICAgICAgICAgICAganNvbl9kYXRhID0ganNvbi5sb2FkcyhhbnN3ZXJbJ3RleHQnXSkKICAgICAgICAgICAgZm9ybWF0X2RhdGEgPSBqc29uX2RhdGEuZ2V0KCdmb3JtYXQnKQoKICAgICAgICAgICAgaWYgZm9ybWF0X2RhdGE6CiAgICAgICAgICAgICAgICBhbnN3ZXJbJ2Zvcm1hdCddID0gZm9ybWF0X2RhdGEKICAgICAgICAgICAgICAgIGlmICdpc19vaycgPT0gZm9ybWF0X2RhdGEgYW5kIGpzb25fZGF0YS5nZXQoJ2JhdGNoJyk6CiAgICAgICAgICAgICAgICAgICAgIyDQndCw0Ygg0LfQsNC/0YDQvtGBINC/0YDQuNC90Y/Rgiwg0L3QviDQstC10YDQvdGD0YLRjCDQv9C+0LrQsCDQvdC10YfQtdCz0L4uINCU0LDQvdC90YvQtSDQuNC70Lgg0LPQvtGC0L7QstGP0YLRgdGPINC40LvQuCDQuNGFINC90LXRggogICAgICAgICAgICAgICAgICAgIGFuc3dlclsnYmF0Y2gnXSA9IGpzb25fZGF0YS5nZXQoJ2JhdGNoJykKCiAgICAgICAgICAgICAgICBlbGlmIGZvcm1hdF9kYXRhID09ICdpc19kYXRhJzoKICAgICAgICAgICAgICAgICAgICBhbnN3ZXJbJ2RhdGEnXSA9IGpzb25fZGF0YVsnZGF0YSddCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBhbnN3ZXJbJ2Zvcm1hdCddID0gTm9uZQogICAgICAgIGVsaWYgYW5zd2VyWydzdGF0dXNfY29kZSddID09IDQwMToKICAgICAgICAgICAgYW5zd2VyWydlcnJvcl9wb29sJ10gPSBhbnN3ZXJbJ3JlYXNvbiddCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYW5zd2VyWydlcnJvcl9wb29sJ10gPSBhbnN3ZXJbJ3RleHQnXQoKICAgICAgICByZXR1cm4gYW5zd2VyCgogICAgZGVmIHJlc2V0X2V4Y2hhbmdlKHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgY3JlYXRlX21lc3NhZ2VzKHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgY29tbXVuaWNhdGlvbl90ZXN0KHNlbGYsICoqa3dhcmdzKSAtPiBkaWN0OgogICAgICAgIHNlbGYuX2hzID0gJ2NvbW11bmljYXRpb25fdGVzdCcKICAgICAgICBzZWxmLl9tZXRob2QgPSByZXF1ZXN0cy5nZXQKICAgICAgICByZXR1cm4gc2VsZi5fc2VuZF9yZXF1ZXN0KGt3YXJncykKCiAgICBkZWYgZ2V0X2JhbGFuY2VzX2dvb2RzKHNlbGYsIHdhcmVob3VzZXM9RmFsc2UsIGNlbGxzPUZhbHNlKToKICAgICAgICBwYXNzCgogICAgZGVmIGdldF9wcmljZXNfZ29vZHMoc2VsZik6CiAgICAgICAgcGFzcwoKICAgIGRlZiBzZW5kX2RvY3VtZW50cyhzZWxmLCBkYXRhLCAqKmt3YXJncykgLT4gZGljdDoKICAgICAgICBpZiBub3QgZGF0YToKICAgICAgICAgICAgcmV0dXJuIHsnZW1wdHknOiBUcnVlfQoKICAgICAgICBrd2FyZ3NbJ2RhdGEnXSA9IGRhdGEgaWYgaXNpbnN0YW5jZShkYXRhLCBzdHIpIGVsc2UganNvbi5kdW1wcyhkYXRhKQogICAgICAgIHNlbGYuX2hzID0gJ2RvY3VtZW50cycKICAgICAgICBzZWxmLl9tZXRob2QgPSByZXF1ZXN0cy5wb3N0CgogICAgICAgIHJldHVybiBzZWxmLl9zZW5kX3JlcXVlc3Qoa3dhcmdzKQoKICAgIGRlZiBfc2VuZF9yZXF1ZXN0KHNlbGYsIGt3YXJncykgLT4gZGljdDoKICAgICAgICBhbnN3ZXIgPSB7J2VtcHR5JzogVHJ1ZX0KICAgICAgICB0cnk6CiAgICAgICAgICAgIHIgPSBzZWxmLl9tZXRob2QoZid7c2VsZi51cmx9L3NpbXBsZV9hY2NvdW50aW5nL3tzZWxmLl9oc30/YW5kcm9pZF9pZD17c2VsZi5hbmRyb2lkX2lkfScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aD1zZWxmLmF1dGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycz1zZWxmLmhlYWRlcnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zPXNlbGYucGFyYW1zLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICoqa3dhcmdzKQoKICAgICAgICAgICAgYW5zd2VyWydzdGF0dXNfY29kZSddID0gci5zdGF0dXNfY29kZQogICAgICAgICAgICBpZiByLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgICAgIGFuc3dlclsnZW1wdHknXSA9IEZhbHNlCiAgICAgICAgICAgICAgICBhbnN3ZXJbJ3RleHQnXSA9IHIudGV4dC5lbmNvZGUoInV0Zi04IikKICAgICAgICAgICAgICAgIGFuc3dlclsncmVhc29uJ10gPSAgci5yZWFzb24KICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGFuc3dlclsnRXJyb3InXSA9IHIudGV4dAogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcmFpc2UgZQogICAgICAgICAgICAjIGFuc3dlclsnRXJyb3InXSA9IGUuYXJnc1swXQoKICAgICAgICByZXR1cm4gYW5zd2VyCg=="
            },
            {
                "file_path": "D:\\projects\\simple UI\\sui_keep_0_1_0_8_1\\http_exchange.py",
                "PyFileKey": "http_exchange",
                "PyFileData": "aW1wb3J0IGlwYWRkcmVzcwppbXBvcnQganNvbgppbXBvcnQgcmVxdWVzdHMKZnJvbSByZXF1ZXN0cy5hdXRoIGltcG9ydCBIVFRQQmFzaWNBdXRoCiNpbXBvcnQgdGltZQppbXBvcnQgdWlfYmFyY29kZXMKCmltcG9ydCB1aV9nbG9iYWwKZnJvbSBoc19zZXJ2aWNlcyBpbXBvcnQgSHNTZXJ2aWNlCmZyb20gZGJfc2VydmljZXMgaW1wb3J0IERvY1NlcnZpY2UKZnJvbSB1aV9nbG9iYWwgaW1wb3J0IGdldF9xdWVyeV9yZXN1bHQKCmRlZiByZXBsYXNlX2dzX2luX3JlcyhzdHJ1Y3QpOgogICAgcmV0dXJuIFt7azogdi5yZXBsYWNlKGNocigyOSksICcnKS5yZXBsYWNlKGNocigyMzIpLCAnJykucmVwbGFjZShjaHIoMzIpLCcnKSBpZiBpc2luc3RhbmNlKHYsIHN0cikgZWxzZSB2IGZvciBrLCB2IGluIGQuaXRlbXMoKX0gZm9yIGQgaW4gc3RydWN0XQogICAgIyBmb3IgZWwgaW4gc3RydWN0OgogICAgIyAgICAgaWYgZWwuZ2V0KCdiYXJjb2RlX2Zyb21fc2Nhbm5lcicpOgogICAgIyAgICAgICAgIGVsWydiYXJjb2RlX2Zyb21fc2Nhbm5lciddID0gZWxbJ2JhcmNvZGVfZnJvbV9zY2FubmVyJ10ucmVwbGFjZShjaHIoMjkpLCcnKQogICAgIyAgICAgICAgIGVsWydiYXJjb2RlX2Zyb21fc2Nhbm5lciddID0gZWxbJ2JhcmNvZGVfZnJvbV9zY2FubmVyJ10ucmVwbGFjZShjaHIoMjMyKSwgJycpCgoKZGVmIHBhcnNlX2JhcmNvZGUodmFsKToKICAgIGlmIGxlbih2YWwpIDwgMjE6CiAgICAgICAgcmV0dXJuIHsnR1RJTic6ICcnLCAnU2VyaWVzJzogJyd9CgogICAgdmFsLnJlcGxhY2UoJygwMSknLCcwMScpCiAgICB2YWwucmVwbGFjZSgnKDIxKScsICcyMScpCiAgICBpZiB2YWxbOjJdPT0nMDEnOgogICAgICAgIEdUSU4gPSB2YWxbMjoxNl0KICAgICAgICBTZXJpZXMgPSB2YWxbMTg6XQoKICAgIGVsc2U6CiAgICAgICAgR1RJTiA9IHZhbFs6MTRdCiAgICAgICAgU2VyaWVzID0gdmFsWzE0Ol0KCiAgICByZXR1cm4geydHVElOJzpHVElOLCAnU2VyaWVzJzpTZXJpZXN9CgoKZGVmIHNlcnZlcl9sb2FkX2RhdGEoaHR0cCk6CiAgICB1c2VybmFtZSA9IGh0dHBbJ3VzZXInXQogICAgcGFzc3dvcmQgPWh0dHBbJ3Bhc3MnXQogICAgdXJsID0gaHR0cFsndXJsJ10KICAgIGFuZHJvaWRfaWQgPSBodHRwWydhbmRyb2lkX2lkJ10KCgogICAgI2FuZHJvaWRfaWQgPSc3YjFiYzkxMzM1OGI3MDQ5JwogICAgIyByID0gcmVxdWVzdHMuZ2V0KHVybCArICcvZ2V0X2RhdGE/YW5kcm9pZF9pZD0nICsgYW5kcm9pZF9pZCwgYXV0aD1IVFRQQmFzaWNBdXRoKHVzZXJuYW1lLCBwYXNzd29yZCwgKSwKICAgICMgICAgICAgICAgICAgICAgICBoZWFkZXJzPXsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCd9LAogICAgIyAgICAgICAgICAgICAgICAgIHBhcmFtcz17J2NvZGUnOiBhbmRyb2lkX2lkLCAnZnVsbF9sb2FkJzogZnVsbF9sb2FkfSkKICAgIHIgPSByZXF1ZXN0cy5nZXQodXJsICsgJy9zaW1wbGVfYWNjb3VudGluZy9kYXRhP2FuZHJvaWRfaWQ9JyArIGFuZHJvaWRfaWQsIGF1dGg9SFRUUEJhc2ljQXV0aCh1c2VybmFtZSwgcGFzc3dvcmQsICksCiAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM9eydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PXV0Zi04J30sCiAgICAgICAgICAgICAgICAgICAgIHBhcmFtcz17J3VzZXJfbmFtZSc6IGh0dHBbJ3VzZXJfbmFtZSddLCAnZGV2aWNlX21vZGVsJzogaHR0cFsnZGV2aWNlX21vZGVsJ119KQogICAgIyBwcmludChyLnN0YXR1c19jb2RlKQogICAgIyBwcmludChyLnRleHQpCiAgICBhbnN3ZXIgPSB7J3N0YXR1c19jb2RlJzogci5zdGF0dXNfY29kZX0KICAgIGlmIHIuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgIHIuZW5jb2RpbmcgPSAndXRmLTgnCiAgICAgICAgamRhdGEgPSBqc29uLmxvYWRzKHIudGV4dC5lbmNvZGUoInV0Zi04IikpCgogICAgICAgIGlmICdmb3JtYXQnIGluIGpkYXRhLmtleXMoKToKICAgICAgICAgICAgYW5zd2VyWydmb3JtYXQnXSA9IGpkYXRhWydmb3JtYXQnXQogICAgICAgICAgICBpZiBqZGF0YVsnZm9ybWF0J10gPT0gJ2lzX2RhdGEnOgogICAgICAgICAgICAgICAgI9Cf0LDRgNGB0LjQvCwg0L/QsNGA0LDQvNC10YLRgCBkYXRhINGB0L7QtNC10YDQttC40YIg0YHQv9C40YHQvtC6INGB0LvQvtCy0LDRgNC10Lkg0YEg0LTQsNC90L3Ri9C80Lgg0LfQsNC/0YDQvtGB0LAKICAgICAgICAgICAgICAgIHJlc19mb3Jfc3FsID0ganNvbl90b19zcWxpdGVfcXVlcnkoamRhdGFbJ2RhdGEnXSkKICAgICAgICAgICAgICAgIGlmIHJlc19mb3Jfc3FsOgogICAgICAgICAgICAgICAgICAgIGFuc3dlclsncmVzX2Zvcl9zcWwnXSA9IHJlc19mb3Jfc3FsCgogICAgICAgICAgICBlbGlmIGpkYXRhWydmb3JtYXQnXSA9PSAnaXNfb2snOiAj0J3QsNGIINC30LDQv9GA0L7RgSDQv9GA0LjQvdGP0YIsINC90L4g0LLQtdGA0L3Rg9GC0Ywg0L/QvtC60LAg0L3QtdGH0LXQs9C+LiDQlNCw0L3QvdGL0LUg0LjQu9C4INCz0L7RgtC+0LLRj9GC0YHRjyDQuNC70Lgg0LjRhSDQvdC10YIKICAgICAgICAgICAgICAgIGlmIGpkYXRhLmdldCgnYmF0Y2gnKSBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICBhbnN3ZXJbJ2JhdGNoJ10gPSBqZGF0YS5nZXQoJ2JhdGNoJykKCiAgICAgICAgICAgIGVsaWYgamRhdGFbJ2Zvcm1hdCddID09ICdmaWxlX2xpc3QnOgogICAgICAgICAgICAgICAgY29sdW1uX25hbWVzID0gW10KICAgICAgICAgICAgICAgIGZvciBmaWxlcyBpbiBqZGF0YVsnZGF0YSddOgogICAgICAgICAgICAgICAgICAgIGNvbHVtbl9uYW1lcy5hcHBlbmQoZmlsZXMpCgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFuc3dlclsnZm9ybWF0J10gPSBOb25lCgoKICAgIGVsaWYgci5zdGF0dXNfY29kZSA9PSA0MDM6CgogICAgICAgIGFuc3dlclsnZXJyb3JfcG9vbCddID1bci50ZXh0XQogICAgZWxpZiByLnN0YXR1c19jb2RlID09IDQwMToKICAgICAgICBhbnN3ZXJbJ2Vycm9yX3Bvb2wnXT1bci5yZWFzb25dCiAgICBlbHNlOgogICAgICAgIGFuc3dlclsnZXJyb3JfcG9vbCddPVtyLnRleHRdCgogICAgcmV0dXJuIGFuc3dlcgoKCgogICAgIyDQv9C+0LTRgtCy0LXRgNC20LTQsNC10Lwg0L/RgNC40L3Rj9GC0LjQtSDQv9Cw0LrQtdGC0LAg0LTQsNC90L3Ri9GFINCyIDHQoQogICAgIyByID0gcmVxdWVzdHMuZ2V0KHVybCArICcvZ2V0X2V4Y2hhbmdlX2NvbmZpcm1hdGlvbj9hbmRyb2lkX2lkPScgKyBhbmRyb2lkX2lkLAogICAgIyAgICAgICAgICAgICAgICAgIGF1dGg9SFRUUEJhc2ljQXV0aCh1c2VybmFtZSwgcGFzc3dvcmQsICksCiAgICAjICAgICAgICAgICAgICAgICAgaGVhZGVycz17J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgnfSwKICAgICMgICAgICAgICAgICAgICAgICBwYXJhbXM9eydjb2RlJzogYW5kcm9pZF9pZCwgJ05ObWVzc2FnZSc6IE5ObWVzc2FnZX0pCgoKCmRlZiBqc29uX3RvX3NxbGl0ZV9xdWVyeShkYXRhKToKCiAgICBxbGlzdCA9IFtdCiAgICAj0KbQuNC60Lsg0L/QviDQuNC80LXQvdCw0Lwg0YLQsNCx0LvQuNGGCiAgICB0YWJsZV9saXN0ID0gKAogICAgJ1JTX2RvY190eXBlcycsICdSU19nb29kcycsICdSU19wcm9wZXJ0aWVzJywgJ1JTX3VuaXRzJywgJ1JTX3R5cGVzX2dvb2RzJywgJ1JTX3NlcmllcycsICdSU19jb3VudHJhZ2VudHMnLAogICAgJ1JTX3dhcmVob3VzZXMnLCAnUlNfcHJpY2VfdHlwZXMnLCAnUlNfY2VsbHMnLCAnUlNfYmFyY29kZXMnLCAnUlNfcHJpY2VzJywgJ1JTX2RvY190eXBlcycsICdSU19kb2NzJywKICAgICdSU19kb2NzX3RhYmxlJywgJ1JTX2RvY3NfYmFyY29kZXMnLCAnUlNfYWRyX2RvY3MnLCAnUlNfYWRyX2RvY3NfdGFibGUnKSAjLCwgJ1JTX2JhcmNfZmxvdycKICAgIHRhYmxlX2Zvcl9kZWxldGUgPSAoJ1JTX2RvY3NfdGFibGUnLCAnUlNfZG9jc19iYXJjb2RlcywgUlNfYWRyX2RvY3NfdGFibGUnKSAgIywgJ1JTX2JhcmNfZmxvdycKICAgIGRvY19pZF9saXN0ID0gW10KICAgIGZvciB0YWJsZV9uYW1lIGluIHRhYmxlX2xpc3Q6CiAgICAgICAgaWYgZGF0YS5nZXQodGFibGVfbmFtZSkgaXMgTm9uZToKICAgICAgICAgICAgY29udGludWUKCiAgICAjZm9yIHRhYmxlX25hbWUgaW4gZGF0YVsnZGF0YSddOgogICAgICAgIGlmIGRhdGFbdGFibGVfbmFtZV0gPT0gW106CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgI9CU0L7QsdCw0LLQuNC8INCyINC30LDQv9GA0L7RgdGLINGD0LTQsNC70LXQvdC40LUg0LjQtyDQsdCw0LfRiyDRgdGC0YDQvtC6INGC0LXRhSDQtNC+0LrRg9C80LXQvdGC0L7Qsiwg0YfRgtC+INC80Ysg0LfQsNCz0YDRg9C20LDQtdC8CiAgICAgICAgaWYgdGFibGVfbmFtZSBpbiB0YWJsZV9mb3JfZGVsZXRlOgogICAgICAgICAgICBxdWVyeSA9IGYiREVMRVRFIEZST00ge3RhYmxlX25hbWV9IFdIRVJFIGlkX2RvYyBpbiAoeycsICcuam9pbihkb2NfaWRfbGlzdCl9KSAiCiAgICAgICAgICAgIHFsaXN0LmFwcGVuZChxdWVyeSkKCiAgICAgICAgY29sdW1uX25hbWVzID0gZGF0YVt0YWJsZV9uYW1lXVswXS5rZXlzKCkKICAgICAgICBpZiAnbWFya19jb2RlJyBpbiBjb2x1bW5fbmFtZXM6CiAgICAgICAgICAgIHF1ZXJ5X2NvbF9uYW1lcyA9IGxpc3QoY29sdW1uX25hbWVzKQogICAgICAgICAgICBxdWVyeV9jb2xfbmFtZXMuYXBwZW5kKCdHVElOJykKICAgICAgICAgICAgcXVlcnlfY29sX25hbWVzLmFwcGVuZCgnU2VyaWVzJykKICAgICAgICAgICAgcXVlcnlfY29sX25hbWVzLnJlbW92ZSgnbWFya19jb2RlJykKICAgICAgICBlbHNlOgogICAgICAgICAgICBxdWVyeV9jb2xfbmFtZXMgPSBjb2x1bW5fbmFtZXMKCiAgICAgICAgcXVlcnkgPSBmIlJFUExBQ0UgSU5UTyB7dGFibGVfbmFtZX0gKHsnLCAnLmpvaW4ocXVlcnlfY29sX25hbWVzKX0pIFZBTFVFUyAiCiAgICAgICAgdmFsdWVzID0gW10KCiAgICAgICAgZm9yIHJvdyBpbiBkYXRhW3RhYmxlX25hbWVdOgoKICAgICAgICAgICAgcm93X3ZhbHVlcyA9IFtdCiAgICAgICAgICAgIGxpc3RfcXVvdGVkX2ZpZWxkcyA9ICgnbmFtZScsICdmdWxsX25hbWUnLCAibWFya19jb2RlIiwgImFydCIpCiAgICAgICAgICAgIGZvciBjb2wgaW4gY29sdW1uX25hbWVzOgogICAgICAgICAgICAgICAgaWYgY29sIGluIGxpc3RfcXVvdGVkX2ZpZWxkcyBhbmQgICJcIiIgaW4gcm93W2NvbF06CiAgICAgICAgICAgICAgICAgICAgcm93W2NvbF0gPSByb3dbY29sXS5yZXBsYWNlKCJcIiIsICJcIlwiIikKICAgICAgICAgICAgICAgIGlmIHJvd1tjb2xdIGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgcm93W2NvbF0gPSAnJwogICAgICAgICAgICAgICAgaWYgY29sID09ICdtYXJrX2NvZGUnOiAgICPQl9Cw0LzQtdC90Y/QtdC8INGN0YLQviDQv9C+0LvQtSDQvdCwINC/0L7Qu9GPIEdUSU4g0LggU2VyaWVzCiAgICAgICAgICAgICAgICAgICAgYmFyY19zdHJ1Y3QgPSBwYXJzZV9iYXJjb2RlKHJvd1tjb2xdKQogICAgICAgICAgICAgICAgICAgIHJvd192YWx1ZXMuYXBwZW5kKGJhcmNfc3RydWN0WydHVElOJ10pCiAgICAgICAgICAgICAgICAgICAgcm93X3ZhbHVlcy5hcHBlbmQoYmFyY19zdHJ1Y3RbJ1NlcmllcyddKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICByb3dfdmFsdWVzLmFwcGVuZChyb3dbY29sXSkgICMoZicie3Jvd1tjb2xdfSInKQogICAgICAgICAgICAgICAgaWYgY29sID09ICdpZF9kb2MnIGFuZCB0YWJsZV9uYW1lID09ICdSU19kb2NzJzoKICAgICAgICAgICAgICAgICAgICBkb2NfaWRfbGlzdC5hcHBlbmQoJyInK3Jvd1tjb2xdKyciJykKICAgICAgICAgICAgZm9ybWF0dGVkX3ZhbCAgPSBbZicie3h9IicgaWYgaXNpbnN0YW5jZSh4LCBzdHIpIGVsc2Ugc3RyKHgpIGZvciB4IGluIHJvd192YWx1ZXNdCiAgICAgICAgICAgIHZhbHVlcy5hcHBlbmQoZiIoeycsICcuam9pbihmb3JtYXR0ZWRfdmFsKX0pIikKICAgICAgICBxdWVyeSArPSAiLCAiLmpvaW4odmFsdWVzKQogICAgICAgIHFsaXN0LmFwcGVuZChxdWVyeSkKCgogICAgcmV0dXJuIHFsaXN0CgoKCmRlZiBnZXRfYWxsX2NoYW5nZXNfZnJvbV9kYXRhYmFzZShkb2NfbGlzdD0nJyk6CiAgICB0cnk6CiAgICAgICAgcXRleHQgPSBmJycnCiAgICAgICAgU0VMRUNUICogRlJPTSBSU19kb2NzIFdIRVJFIGlkX2RvYyBpbiAoe2RvY19saXN0fSknJycKICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCxOb25lLFRydWUpCiAgICAgICAgcXRleHQgPSBmJycnCiAgICAgICAgICAgIFNFTEVDVCAqIEZST00gUlNfZG9jc190YWJsZSBXSEVSRSBpZF9kb2MgaW4gKHtkb2NfbGlzdH0pJycnIyBpbiAoCiAgICAgICAgICAgICNTRUxFQ1QgaWRfZG9jIEZST00gUlNfZG9jcyBXSEVSRSB2ZXJpZmllZCBpcyBOdWxsKScnJwogICAgICAgIHJlc19kb2NzX3RhYmxlID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsTm9uZSxUcnVlKQogICAgICAgIHF0ZXh0ID0gZicnJwogICAgICAgICAgICBTRUxFQ1QgKiBGUk9NIFJTX2RvY3NfYmFyY29kZXMgV0hFUkUgaWRfZG9jIGluICh7ZG9jX2xpc3R9KSBhbmQgYmFyY29kZV9mcm9tX3NjYW5uZXIgaXMgbm90IE51bGwnJycjIGluICgKICAgICAgICAgICAgI1NFTEVDVCBpZF9kb2MgRlJPTSBSU19kb2NzIFdIRVJFIHZlcmlmaWVkIGlzIE51bGwpJycnCiAgICAgICAgcmVzX2RvY3NfYmFyY29kZSA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LE5vbmUsVHJ1ZSkKICAgICAgICByZXNfZG9jc19iYXJjb2RlID0gcmVwbGFzZV9nc19pbl9yZXMocmVzX2RvY3NfYmFyY29kZSkKICAgICAgICBxdGV4dCA9IGYnJycKICAgICAgICAgICAgU0VMRUNUICogRlJPTSBSU19iYXJjX2Zsb3cgV0hFUkUgaWRfZG9jIGluICh7ZG9jX2xpc3R9KScnJyMgaW4gKAogICAgICAgICAgICAjU0VMRUNUIGlkX2RvYyBGUk9NIFJTX2RvY3MgV0hFUkUgdmVyaWZpZWQgaXMgTnVsbCknJycKICAgICAgICByZXNfZmxvdyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LE5vbmUsVHJ1ZSkKICAgICAgICByZXNfZmxvdyA9IHJlcGxhc2VfZ3NfaW5fcmVzKHJlc19mbG93KQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBzcWxfZXJyb3IgPSBUcnVlCiAgICAgICAgICAgICNlcnJvcl9wb29sLmFwcGVuZChlLmFyZ3NbMF0pCiAgICAgICAgICAgIHJldHVybiB7J0Vycm9yJzplLmFyZ3NbMF19CiAgICAjIGlmIGxlbihyZXMpID09IDA6CiAgICAjICAgICByZXR1cm4gTm9uZQoKICAgIGZvciBpdGVtIGluIHJlczoKICAgICAgICBmaWx0ZXJlZF9saXN0ID0gW2QgZm9yIGQgaW4gcmVzX2RvY3NfdGFibGUgaWYgZFsnaWRfZG9jJ10gPT0gaXRlbVsnaWRfZG9jJ11dCiAgICAgICAgaXRlbVsnUlNfZG9jc190YWJsZSddID0gZmlsdGVyZWRfbGlzdAoKICAgICAgICBmaWx0ZXJlZF9saXN0ID0gW2QgZm9yIGQgaW4gcmVzX2RvY3NfYmFyY29kZSBpZiBkWydpZF9kb2MnXSA9PSBpdGVtWydpZF9kb2MnXV0KICAgICAgICBpdGVtWydSU19kb2NzX2JhcmNvZGVzJ10gPSBmaWx0ZXJlZF9saXN0CgogICAgICAgIGZpbHRlcmVkX2xpc3QgPSBbZCBmb3IgZCBpbiByZXNfZmxvdyBpZiBkWydpZF9kb2MnXSA9PSBpdGVtWydpZF9kb2MnXV0KICAgICAgICBpdGVtWydSU19iYXJjX2Zsb3cnXSA9IGZpbHRlcmVkX2xpc3QKICAgICPQkNC00YDQtdGB0L3QvtC1INGF0YDQsNC90LXQvdC40LUKICAgIHRyeToKICAgICAgICBxdGV4dCA9IGYnJycKICAgICAgICBTRUxFQ1QgKiBGUk9NIFJTX2Fkcl9kb2NzIFdIRVJFIGlkX2RvYyBpbiAoe2RvY19saXN0fSknJycKICAgICAgICByZXNfYWRyID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsTm9uZSxUcnVlKQogICAgICAgIHF0ZXh0ID0gZicnJwogICAgICAgICAgICBTRUxFQ1QgKiBGUk9NIFJTX2Fkcl9kb2NzX3RhYmxlIFdIRVJFIGlkX2RvYyBpbiAoe2RvY19saXN0fSknJycjIGluICgKICAgICAgICAgICAgI1NFTEVDVCBpZF9kb2MgRlJPTSBSU19kb2NzIFdIRVJFIHZlcmlmaWVkIGlzIE51bGwpJycnCiAgICAgICAgcmVzX2Fkcl9kb2NzX3RhYmxlID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsTm9uZSxUcnVlKQoKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgc3FsX2Vycm9yID0gVHJ1ZQogICAgICAgICAgICAjZXJyb3JfcG9vbC5hcHBlbmQoZS5hcmdzWzBdKQogICAgICAgICAgICByZXR1cm4geydFcnJvcic6ZS5hcmdzWzBdfQogICAgIyBpZiBsZW4ocmVzKSA9PSAwOgogICAgIyAgICAgcmV0dXJuIE5vbmUKCiAgICBmb3IgaXRlbSBpbiByZXNfYWRyOgogICAgICAgIGZpbHRlcmVkX2xpc3QgPSBbZCBmb3IgZCBpbiByZXNfYWRyX2RvY3NfdGFibGUgaWYgZFsnaWRfZG9jJ10gPT0gaXRlbVsnaWRfZG9jJ11dCiAgICAgICAgaXRlbVsnUlNfYWRyX2RvY3NfdGFibGUnXSA9IGZpbHRlcmVkX2xpc3QKCgoKICAgIGlmIGxlbihyZXMpICsgbGVuKHJlc19hZHIpID09IDA6CiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICByZXR1cm4ganNvbi5kdW1wcyhyZXMgKyByZXNfYWRyKQoKCmRlZiBwb3N0X2NoYW5nZXNfdG9fc2VydmVyKGRvY19saXN0LCBodHBwYXJhbXMpOgogICAgdXJsID0gaHRwcGFyYW1zWyd1cmwnXQogICAgdXNlcm5hbWUgPSBodHBwYXJhbXNbJ3VzZXInXQogICAgcGFzc3dvcmQgPSBodHBwYXJhbXNbJ3Bhc3MnXQogICAgYW5kcm9pZF9pZCA9IGh0cHBhcmFtc1snYW5kcm9pZF9pZCddCiAgICByZXMgPSBnZXRfYWxsX2NoYW5nZXNfZnJvbV9kYXRhYmFzZShkb2NfbGlzdCkKICAgIGlmIHR5cGUocmVzKSA9PSB0eXBlKGRpY3QpIGFuZCByZXMuZ2V0KCdFcnJvcicpOgogICAgICAgIGFuc3dlciA9IHsnZW1wdHknOiBUcnVlLCAnRXJyb3InOnJlcy5nZXQoJ0Vycm9yJyl9CgogICAgICAgIHJldHVybiBhbnN3ZXIKICAgIGFuc3dlciA9IHsnZW1wdHknOlRydWV9CiAgICBpZiByZXMgaXMgbm90IE5vbmU6CgogICAgICAgIHIgPSByZXF1ZXN0cy5wb3N0KHVybCArICcvc2ltcGxlX2FjY291bnRpbmcvZG9jdW1lbnRzP2FuZHJvaWRfaWQ9JyArIGFuZHJvaWRfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoPUhUVFBCYXNpY0F1dGgodXNlcm5hbWUsIHBhc3N3b3JkLCApLAogICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycz17J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgnfSwKICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcz17J3VzZXJfbmFtZSc6IGh0cHBhcmFtc1sndXNlcl9uYW1lJ10sICdkZXZpY2VfbW9kZWwnOiBodHBwYXJhbXNbJ2RldmljZV9tb2RlbCddfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhPXJlcyApCiAgICAgICAgYW5zd2VyWydzdGF0dXNfY29kZSddID1yLnN0YXR1c19jb2RlCiAgICAgICAgaWYgci5zdGF0dXNfY29kZSA9PSAyMDA6CiAgICAgICAgICAgIGFuc3dlclsnZW1wdHknXT1GYWxzZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFuc3dlclsnZW1wdHknXSA9IFRydWUKICAgICAgICAgICAgYW5zd2VyWydFcnJvciddID0gci50ZXh0CgogICAgcmV0dXJuIGFuc3dlcgoKCmRlZiBwb3N0X2dvb2RzX3RvX3NlcnZlcihkb2NfaWQsIGh0dHBfcGFyYW1zKToKICAgIGhzX3NlcnZpY2UgPSBIc1NlcnZpY2UoaHR0cF9wYXJhbXMpCiAgICBkb2Nfc2VydmljZSA9IERvY1NlcnZpY2UoZG9jX2lkKQoKICAgIHJlcyA9IGRvY19zZXJ2aWNlLmdldF9sYXN0X2VkaXRlZF9nb29kcyh0b19qc29uPUZhbHNlKQoKICAgIGlmIGlzaW5zdGFuY2UocmVzLCBkaWN0KSBhbmQgcmVzLmdldCgnRXJyb3InKToKICAgICAgICBhbnN3ZXIgPSB7J2VtcHR5JzogVHJ1ZSwgJ0Vycm9yJzogcmVzLmdldCgnRXJyb3InKX0KICAgICAgICByZXR1cm4gYW5zd2VyCiAgICBlbGlmIHJlczoKICAgICAgICBoc19zZXJ2aWNlLnNlbmRfZG9jdW1lbnRzKHJlcykKICAgICAgICBpZiBub3QgcmVzIG9yIChpc2luc3RhbmNlKHJlcywgZGljdCkgYW5kIHJlcy5nZXQoJ0Vycm9yJykpOgogICAgICAgICAgICBhbnN3ZXIgPSB7J2VtcHR5JzogVHJ1ZSwgJ0Vycm9yJzogcmVzLmdldCgnRXJyb3InKX0KICAgICAgICAgICAgcmV0dXJuIGFuc3dlcgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRvY19zZXJ2aWNlLnVwZGF0ZV9zZW50X2RhdGEocmVzKQoKICAgIHRpbWVyX3NlcnZlcl9sb2FkX2RhdGEoaHR0cF9wYXJhbXMpCgoKZGVmIHRpbWVyX3NlcnZlcl9sb2FkX2RhdGEoaHR0cF9wYXJhbXMpOgogICAgaHNfc2VydmljZSA9IEhzU2VydmljZShodHRwX3BhcmFtcykKICAgIGRvY19zZXJ2aWNlID0gRG9jU2VydmljZSgnJykKCiAgICBkb2NzX2RhdGEgPSBoc19zZXJ2aWNlLmdldF9kYXRhKCkKICAgIGlmIGRvY3NfZGF0YS5nZXQoJ2RhdGEnKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGRvY19zZXJ2aWNlLnVwZGF0ZV9kYXRhX2Zyb21fanNvbihkb2NzX2RhdGFbJ2RhdGEnXSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHJhaXNlIGUKICAgICAgICAgICAgIyByZXR1cm4geydlbXB0eSc6IFRydWUsICdFcnJvcic6IGUuYXJnc1swXX0KCgojCiMgYWRyX3N0cmluZz1pbnB1dCgn0JLQstC10LTQuNGC0LUg0LDQtNGA0LXRgTogJykKIyBhZHJfc3RyaW5nLnJlcGxhY2UoJ1xcJywnLycpCiMgYWRyX3N0cnVjdCA9IGFkcl9zdHJpbmcuc3BsaXQoc2VwPScvJykKIyBhZHJfZm9ybWF0ID17J3Byb3RvY29sJzooJ2h0dHA6LycsJ2h0dHBzOi8nKSwgJ0Jhc2VOYW1lJzonJywgJ2hzX3ByZWYnOidocyd9CiMgcGFzcwojICNpcGFkZHJlc3MuaXBfYWRkcmVzcygpCiMgaWYgYWRyX3N0cnVjdCBpbiBhZHJfZm9ybWF0Wydwcm90b2NvbCddOgojICAgICByZXNfYWRyID1bJ2h0dHA6LyddCiMKIwojIGVsc2U6CgoKIwojIHNlcnZlcl9sb2FkX2pzb24oKQojIHBvc3RfY2hhbmdlc190b19zZXJ2ZXIoTm9uZSkKCgojCiMgLS0tLS0tLS0tLS0tLS0tLS0tLSDQkdC70L7QuiDQt9Cw0LPRgNGD0LfQutC4INC00LDQvdC90YvRhSAtLS0tLS0tLS0tLS0tLS0tLS0tCiMgaHR0cF9zZXR0aW5ncyA9IHsKIyAndXJsJyA6ICdodHRwOi8vMTkyLjE2OC4xLjc3L01hcmsvaHMvJywKIyAndXNlcicgOiAnQURNJywKIyAncGFzcycgOiAnMScsCiMgJ2RldmljZV9tb2RlbCcgOiAnUHl0aG9uJywKIyAnYW5kcm9pZF9pZCc6J2YwNTU5NDc2YjhhMjY4NzcnLCAjJ2M1MTEzMzQ4ODU2OGM5MmInLAojICd1c2VyX25hbWUnOiAnR2VyYWxkJ30KIyB4PTAKIyB3aGlsZSB4IDwgMjoKIwojICAgICAjIHVybCA9CiMgICAgICMgYW5kcm9pZF9pZCA9ICdjNTExMzM0ODg1NjhjOTJiJyAjJzdiMWJjOTEzMzU4YjcwNDknCiMgICAgIHJlc3VsdCA9IHNlcnZlcl9sb2FkX2RhdGEoaHR0cF9zZXR0aW5ncykKIyAgICAgI2lmIG5vdCByZXN1bHQgPT0gJ29rJzoKIyAgICAgaWYgcmVzdWx0LmdldCgncmVzX2Zvcl9zcWwnKSBpcyBub3QgTm9uZToKIyAgICAgICAgIGVycm9yX3Bvb2wgPVtdCiMgICAgICAgICBmb3Iga2V5IGluIHJlc3VsdFsncmVzX2Zvcl9zcWwnXToKIyAgICAgICAgICAgICB0cnk6CiMgICAgICAgICAgICAgICAgIHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KGtleSkKIyAgICAgICAgICAgICAgICAgIyByZXR1cm4gJ29rJwojICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKIyAgICAgICAgICAgICAgICAgc3FsX2Vycm9yID0gVHJ1ZQojICAgICAgICAgICAgICAgICBlcnJvcl9wb29sLmFwcGVuZChlLmFyZ3NbMF0pCiMgICAgICAgICAgICAgICAgIHByaW50KGUuYXJnc1swXSkKIyAgICAgZWxzZToKIyAgICAgICAgIHByaW50KHJlc3VsdCkKIwojICAgICB4Kz0xCiMgICAgIHRpbWUuc2xlZXAoMTApCiMgICAgIHByaW50KCfQptC40LrQuzogJysgc3RyKHgpKQojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKCiMgLS0tLS0tLS0tINCj0LTQsNC70LXQvdC40LUg0LTQsNC90L3Ri9GFINC40Lcg0LLRgdC10YUg0YLQsNCx0LvQuNGGIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIHF0ZXh0ID0gJycnCiMgU0VMRUNUIG5hbWUgRlJPTSBzcWxpdGVfbWFzdGVyIFdIRVJFIHR5cGU9J3RhYmxlJwojICcnJwojIHJlcyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0KQojIGZvciBlbCBpbiByZXM6CiMgICAgIGRlbF90ZXh0ID0gJ0RFTEVURSBGUk9NICcgKyBlbFswXQojICAgICB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChkZWxfdGV4dCkK"
            },
            {
                "file_path": "D:\\projects\\simple UI\\sui_keep_0_1_0_8_1\\ui_barcodes.py",
                "PyFileKey": "ui_barcodes",
                "PyFileData": "IyDQnNC+0LTRg9C70Ywg0L/QsNGA0YHQuNGCINGI0YLRgNC40YXQutC+0LQg0LjQu9C4INC00LDRgtCw0LzQsNGC0YDQuNC60YEg0L3QsCDRgdC+0YHRgtCw0LLQu9GP0Y7RidC40LUgMTEKCmltcG9ydCByZQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQoKCmRlZiBwYXJzZV9iYXJjb2RlKGJhcmNvZGUpOgogICAgaWYgYmFyY29kZToKICAgICAgICAjINCf0YDQvtGB0YLQvtC5IEVBTjEzCiAgICAgICAgaWYgbm90IHJlLmZ1bGxtYXRjaChyJ1xkezEzfScsIGJhcmNvZGUpIGlzIE5vbmUgYW5kIHJlLmZ1bGxtYXRjaChyJ1xkezEzfScsIGJhcmNvZGUpLnN0cmluZyA9PSBiYXJjb2RlOgoKICAgICAgICAgICAgcmVzID0geydTQ0hFTUUnOiAnRUFOMTMnLCAnQkFSQ09ERSc6IGJhcmNvZGUsICdHVElOJzogYmFyY29kZSwgJ1NFUklBTCc6ICcnfQoKICAgICAgICBlbGlmIGxlbihiYXJjb2RlKSA9PSAyOTogICMg0K3RgtC+INC00LDRgtCw0LzQsNGC0YDQuNC60YEg0KLQsNCx0LDQuiwg0J/QsNGH0LrQsAogICAgICAgICAgICAjIHJlcyA9IHBhcnNlX3RvYmFjY28oYmFyY29kZSkKICAgICAgICAgICAgcmVzID0geydTQ0hFTUUnOiAnR1MxJywgJ0dUSU4nOiBiYXJjb2RlWzA6MTRdLCAnU0VSSUFMJzogYmFyY29kZVsxNDoyMV0sICdNUkMnOiBiYXJjb2RlWzIxOjI1XSwKICAgICAgICAgICAgICAgICAgICdDSEVDSyc6IGJhcmNvZGVbMjU6MjldfQoKICAgICAgICBlbGlmIGNocigyOSkgaW4gYmFyY29kZTogICMgRGF0YW1hdHJpeAoKICAgICAgICAgICAgcmVzID0gZGF0YW1hdHJpeChiYXJjb2RlKQogICAgICAgICAgICByZXNbJ0Z1bGxDb2RlJ10gPSBiYXJjb2RlCiAgICAgICAgZWxpZiAnPEdTPicgaW4gYmFyY29kZToKICAgICAgICAgICAgcmVzID0gZGF0YW1hdHJpeChiYXJjb2RlKQogICAgICAgICAgICByZXNbJ0Z1bGxDb2RlJ10gPSBiYXJjb2RlCiAgICAgICAgZWxzZTogICMg0J3QtdC40LfQstC10YHRgtC90YvQuSDRgtC40L8g0LrQvtC00LAKICAgICAgICAgICAgcmVzID0geydTQ0hFTUUnOiAnVU5LTk9XTicsICdCQVJDT0RFJzogYmFyY29kZSwgJ0dUSU4nOiBiYXJjb2RlLCAnU0VSSUFMJzogJyd9CgogICAgICAgIHJldHVybiByZXMKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIHsnU0NIRU1FJzogJ1VOS05PV04nLCAnQkFSQ09ERSc6IGJhcmNvZGUsICdHVElOJzogJycsICdTRVJJQUwnOiAnJywgJ0VSUk9SJzogJ0VtcHR5IGJhcmNvZGUnfQoKCmRlZiBkYXRhbWF0cml4KGJhcmNvZGU6IHN0cikgLT4gZGljdDoKICAgICIiIgogICAgVGhlIGZ1bmN0aW9uIHRha2VzIGJhcmNvZGUgc3RyaW5nIGFuZCByZXR1cm4gcGFyc2VkIG9iamVjdHMgaW4gYSBgZGljdGAuCiAgICBPcHRpb25hbGx5IHVzZXIgY2FuIHBhc3MgYm9vbCB2YWx1ZSB0byB2YWxpZGF0ZSB0aGUgYmFyY29kZQogICAgUGFyYW1ldGVyczoKICAgICAgICBiYXJjb2RlOiBzdHJpbmcgdHlwZS4gVGhpcyBpcyB0aGUgYmFyY29kZSBzdHJpbmcgd2l0aCB0aGUgPEdTPiBzZXBlcmF0b3JzLgoKICAgIFJldHVybnM6CiAgICAgICAgZGljdDogUmV0dXJucyBkaWN0aW9uYXJ5IG9iamVjdCB3aXRoIFNDSEVNRSwgUFBOLCBHVElOLCBFWFBJUlksIEJBVENILCBTRVJJQUwgJiBOSFJOIGFzIGtleXMgZm9yIHZhbGlkIHJlcXVlc3RzCiAgICAgICAgb3IgcmVsZXZhbnQgZXJyb3Igc3RyaW5ncy4KICAgICIiIgoKICAgIGlmIGJhcmNvZGVbCiAgICAgICA6M10gPT0gIl1kMiI6ICAjIE1vc3QgYmFyY29kZSBzY2FubmVycyBwcmVwZW5kICddZDInIGlkZW50aWZpZXIgZm9yIHRoZSBHUzEgZGF0YW1hdHJpeC4gVGhpcyBzZWN0aW9uIHJlbW92ZXMgdGhlIGlkZW50aWZpZXIuCiAgICAgICAgYmFyY29kZSA9IGJhcmNvZGVbMzpdCiAgICAgICAgcmVzdWx0ID0gZ3MxX2d0aW4oYmFyY29kZSkKCiAgICBlbGlmIGJhcmNvZGVbOjJdIGluIFsnMDEnLCAnMjEnLCAnMTcnLCAnMTAnLCAnNzEnXToKICAgICAgICByZXN1bHQgPSBnczFfZ3RpbihiYXJjb2RlKQoKICAgIGVsaWYgYmFyY29kZVswXSA9PSBjaHIoMjkpOiAgIyBTaG9ydCBHUzEgYmFyY29kZQogICAgICAgIHJlc3VsdCA9IGdzMV9ndGluKGJhcmNvZGUpCgogICAgZWxpZiBiYXJjb2RlWzo2XSA9PSAoJ1spPicgKyBjaHIoMzApICsgJzA2Jykgb3IgKCdbKT4nICsgY2hyKDMwKSArICcwNScpOiAgIyBNQUNSTyAwNiBvciBNQUNSTyAwNQogICAgICAgIGJhcmNvZGUgPSBiYXJjb2RlWzc6XSAgIyBSZW1vdmVzIHRoZSBsZWFkaW5nIEFTQ0lJIHNlcGVyYXRvciBhZnRlciB0aGUgc2NoZW1lIGlkZW50aWZpZXIuCiAgICAgICAgcmVzdWx0ID0gaWZhX3BwbihiYXJjb2RlKQoKICAgIGVsc2U6CiAgICAgICAgcmVzdWx0ID0geydFUlJPUic6ICdJTlZBTElEIEZPUk1BVCcsICdCQVJDT0RFJzogYmFyY29kZX0KCiAgICByZXR1cm4gcmVzdWx0CgoKZGVmIGd0aW5fY2hlY2soZ3Rpbjogc3RyKToKICAgIHJldmVyc2VfZ3RpbiA9IGd0aW5bLTI6Oi0xXSAgIyBSZXZlcnNpbmcgdGhlIHN0cmluZyB3aXRob3V0IHRoZSBjaGVjay1kaWdpdAogICAgZGlnaXRfbXVsdGlwbGVyMyA9IFtdCiAgICBkaWdpdF9tdWx0aXBsZXIxID0gW10KCiAgICBmb3IgaSwgbCBpbiBlbnVtZXJhdGUocmV2ZXJzZV9ndGluKToKICAgICAgICBpZiBpICUgMiA9PSAwOgogICAgICAgICAgICBkaWdpdF9tdWx0aXBsZXIzLmFwcGVuZChpbnQobCkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZGlnaXRfbXVsdGlwbGVyMS5hcHBlbmQoaW50KGwpKQoKICAgIGRpZ2l0X3N1bSA9IChzdW0oZGlnaXRfbXVsdGlwbGVyMykgKiAzKSArIHN1bShkaWdpdF9tdWx0aXBsZXIxKQogICAgbmVhcmVzdF90ZW4gPSByb3VuZChkaWdpdF9zdW0gLyAxMCkgKiAxMAogICAgY2hlY2tfc3VtX2RpZ2l0ID0gbmVhcmVzdF90ZW4gLSBkaWdpdF9zdW0KICAgIGlmIGNoZWNrX3N1bV9kaWdpdCA8IDA6CiAgICAgICAgY2hlY2tfc3VtX2RpZ2l0ID0gMTAgKyBjaGVja19zdW1fZGlnaXQKICAgIHJldHVybiBjaGVja19zdW1fZGlnaXQgPT0gaW50KGd0aW5bLTFdKQoKCnNyZXN1bHQgPSB7J1NDSEVNRSc6ICdHUzEnfQoKCmRlZiBnczFfZ3RpbihiYXJjb2RlOiBzdHIpIC0+IGRpY3Q6CiAgICBpZiBjaHIoMjkpIGluIGJhcmNvZGU6CgogICAgICAgIHdoaWxlIGJhcmNvZGU6CiAgICAgICAgICAgIGlmIGJhcmNvZGVbOjJdID09ICcwMSc6CiAgICAgICAgICAgICAgICBzcmVzdWx0WydHVElOJ10gPSBiYXJjb2RlWzI6MTZdCiAgICAgICAgICAgICAgICBpZiBsZW4oYmFyY29kZSkgPiAxNjoKICAgICAgICAgICAgICAgICAgICBiYXJjb2RlID0gYmFyY29kZVsxNjpdCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBOb25lCgogICAgICAgICAgICBlbGlmIGJhcmNvZGVbOjNdID09IGNocigyOSkgKyAnMDEnOgogICAgICAgICAgICAgICAgc3Jlc3VsdFsnR1RJTiddID0gYmFyY29kZVszOjE3XQogICAgICAgICAgICAgICAgaWYgbGVuKGJhcmNvZGUpID4gMTc6CiAgICAgICAgICAgICAgICAgICAgYmFyY29kZSA9IGJhcmNvZGVbMTc6XQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBiYXJjb2RlID0gTm9uZQogICAgICAgICAgICBlbGlmIGJhcmNvZGVbOjJdID09ICcxNyc6CiAgICAgICAgICAgICAgICBzcmVzdWx0WydFWFBJUlknXSA9IGJhcmNvZGVbMjo4XQogICAgICAgICAgICAgICAgaWYgbGVuKGJhcmNvZGUpID4gODoKICAgICAgICAgICAgICAgICAgICBiYXJjb2RlID0gYmFyY29kZVs4Ol0KICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgYmFyY29kZSA9IE5vbmUKCiAgICAgICAgICAgIGVsaWYgYmFyY29kZVs6Ml0gPT0gJzEwJzoKICAgICAgICAgICAgICAgIGlmIGNocigyOSkgaW4gYmFyY29kZToKICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGJhcmNvZGUuaW5kZXgoY2hyKDI5KSkKICAgICAgICAgICAgICAgICAgICBzcmVzdWx0WydCQVRDSCddID0gYmFyY29kZVsyOmluZGV4XQogICAgICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBiYXJjb2RlW2luZGV4ICsgMTpdCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHNyZXN1bHRbJ0JBVENIJ10gPSBiYXJjb2RlWzI6XQogICAgICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBOb25lCgogICAgICAgICAgICBlbGlmIGJhcmNvZGVbOjJdID09ICcyMSc6CiAgICAgICAgICAgICAgICBpZiBjaHIoMjkpIGluIGJhcmNvZGU6CiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBiYXJjb2RlLmluZGV4KGNocigyOSkpCiAgICAgICAgICAgICAgICAgICAgc3Jlc3VsdFsnU0VSSUFMJ10gPSBiYXJjb2RlWzI6aW5kZXhdCiAgICAgICAgICAgICAgICAgICAgYmFyY29kZSA9IGJhcmNvZGVbaW5kZXggKyAxOl0KICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgc3Jlc3VsdFsnU0VSSUFMJ10gPSBiYXJjb2RlWzI6XQogICAgICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBOb25lCgogICAgICAgICAgICBlbGlmIGJhcmNvZGVbOjJdID09ICc5MSc6CiAgICAgICAgICAgICAgICBpZiBjaHIoMjkpIGluIGJhcmNvZGU6CiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBiYXJjb2RlLmluZGV4KGNocigyOSkpCiAgICAgICAgICAgICAgICAgICAgc3Jlc3VsdFsnTkhSTiddID0gYmFyY29kZVsyOmluZGV4XQogICAgICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBiYXJjb2RlW2luZGV4ICsgMTpdCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHNyZXN1bHRbJ05IUk4nXSA9IGJhcmNvZGVbMjo2XQogICAgICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBOb25lCgogICAgICAgICAgICBlbGlmIGJhcmNvZGVbOjJdID09ICc5Myc6ICAjINCc0L7Qu9C+0YfQutCwLCDQstC+0LTQsAogICAgICAgICAgICAgICAgc3Jlc3VsdFsnQ0hFQ0snXSA9IGJhcmNvZGVbMjo2XQogICAgICAgICAgICAgICAgYmFyY29kZSA9IGJhcmNvZGVbNzpdCgogICAgICAgICAgICBlbGlmIGJhcmNvZGVbOjJdID09ICc5Mic6ICAjINCU0LDQu9C10LUg0YHQu9C10LTRg9C10YIg0LrQvtC0INC/0YDQvtCy0LXRgNC60LgsIDQ0INGB0LjQvNCy0L7Qu9CwCiAgICAgICAgICAgICAgICAjIGlmIGxlbihiYXJjb2RlWzI6XSk9PTQ0OgogICAgICAgICAgICAgICAgc3Jlc3VsdFsnQ0hFQ0snXSA9IGJhcmNvZGVbMjpdCiAgICAgICAgICAgICAgICBiYXJjb2RlID0gTm9uZQogICAgICAgICAgICBlbGlmIGJhcmNvZGVbOjRdID09ICc4MDA1JzogICMg0KLQsNCx0LDQuiwg0JHQu9C+0LoKICAgICAgICAgICAgICAgIHNyZXN1bHRbJ05IUk4nXSA9IGJhcmNvZGVbNToxMV0KICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBiYXJjb2RlWzExOl0KICAgICAgICAgICAgZWxpZiBiYXJjb2RlWzo0XSA9PSAnMzEwMyc6ICAjINCc0L7Qu9C+0YfQutCwINGBINCS0LXRgdC+0LwKCiAgICAgICAgICAgICAgICBzcmVzdWx0WydXRUlHSFQnXSA9IGJhcmNvZGVbNDpdCiAgICAgICAgICAgICAgICBiYXJjb2RlID0gTm9uZQoKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiB7J0VSUk9SJzogJ0lOVkFMSUQgQkFSQ09ERScsICdCQVJDT0RFJzogc3Jlc3VsdH0KICAgIGVsc2U6CiAgICAgICAgc3Jlc3VsdFsnRVJST1InXSA9ICdObyBHUyBTZXBhcmF0b3InCiAgICAgICAgcmV0dXJuIHNyZXN1bHQKCiAgICAjIGlmICgnR1RJTicgLCAnQkFUQ0gnICwgJ0VYUElSWScgLCAnU0VSSUFMJykgaW4gcmVzdWx0LmtleXMoKToKICAgICMgICAgIGlmIGd0aW5fY2hlY2socmVzdWx0WydHVElOJ10pID09IEZhbHNlIGFuZCBleHBpcnlfZGF0ZV9jaGVjayhyZXN1bHRbJ0VYUElSWSddKSA9PSBGYWxzZToKICAgICMgICAgICAgICByZXR1cm4geydFUlJPUic6ICdJTlZBTElEIEdUSU4gJiBFWFBJUlkgREFURScsICdCQVJDT0RFJzogcmVzdWx0fQogICAgIyAgICAgZWxpZiBleHBpcnlfZGF0ZV9jaGVjayhyZXN1bHRbJ0VYUElSWSddKSA9PSBGYWxzZToKICAgICMgICAgICAgICByZXR1cm4geydFUlJPUic6ICdJTlZBTElEIEVYUElSWSBEQVRFJywgJ0JBUkNPREUnOiByZXN1bHR9CiAgICAjICAgICBlbGlmIGd0aW5fY2hlY2socmVzdWx0WydHVElOJ10pID09IEZhbHNlOgogICAgIyAgICAgICAgIHJldHVybiB7J0VSUk9SJzogJ0lOVkFMSUQgR1RJTicsICdCQVJDT0RFJzogcmVzdWx0fQogICAgIyAgICAgZWxzZToKICAgICMgICAgICAgICByZXR1cm4gcmVzdWx0CiAgICAjIGVsc2U6CiAgICAjICAgICByZXR1cm4geydFUlJPUic6ICdJTkNPTVBMRVRFIERBVEEnLCAnQkFSQ09ERSc6IHJlc3VsdH0KICAgIHJldHVybiBzcmVzdWx0CgoKZGVmIGV4cGlyeV9kYXRlX2NoZWNrKGU6IHN0cik6CiAgICBteV95ZWFyID0gZVs6Ml0KICAgIG15X21vbnRoID0gZVsyOjRdCiAgICBteV9kYXRlID0gZVs0Ol0KCiAgICBpZiBpbnQobXlfbW9udGgpIG5vdCBpbiByYW5nZSgxLCAxMyk6CiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBlbGlmIGludChteV9kYXRlKSBub3QgaW4gcmFuZ2UoMzIpOgogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGlmIG15X2RhdGUgPT0gJzAwJzoKICAgICAgICBpZiBteV9tb250aCA9PSAnMDInIGFuZCBpbnQobXlfeWVhcikgJSA0ID09IDA6CiAgICAgICAgICAgIG15X2RhdGUgPSAnMjknCiAgICAgICAgZWxpZiBteV9tb250aCA9PSAnMDInIGFuZCBpbnQobXlfeWVhcikgJSA0ICE9IDA6CiAgICAgICAgICAgIG15X2RhdGUgPSAnMjgnCiAgICAgICAgZWxpZiBteV9tb250aCBpbiBbJzAxJywgJzAzJywgJzA1JywgJzA3JywgJzA4JywgJzEwJywgJzEyJ106CiAgICAgICAgICAgIG15X2RhdGUgPSAnMzEnCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbXlfZGF0ZSA9ICczMCcKCiAgICBpZiBteV9tb250aCA9PSAnMDInIGFuZCBpbnQobXlfeWVhcikgJSA0ID09IDAgYW5kIG15X2RhdGUgPD0gJzI5JzoKICAgICAgICBwYXNzCiAgICBlbGlmIG15X21vbnRoID09ICcwMicgYW5kIGludChteV95ZWFyKSAlIDQgIT0gMCBhbmQgbXlfZGF0ZSA8PSAnMjgnOgogICAgICAgIHBhc3MKICAgIGVsaWYgbXlfbW9udGggaW4gWycwMScsICcwMycsICcwNScsICcwNycsICcwOCcsICcxMCcsICcxMiddIGFuZCBteV9kYXRlIDw9ICczMSc6CiAgICAgICAgcGFzcwogICAgZWxpZiBteV9tb250aCBpbiBbJzA0JywgJzA2JywgJzA5JywgJzExJ10gYW5kIG15X2RhdGUgPD0gJzMwJzoKICAgICAgICBwYXNzCiAgICBlbHNlOgogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGFjdHVhbF9kYXRlID0gbXlfeWVhciArIG15X21vbnRoICsgbXlfZGF0ZQogICAgaWYgYWN0dWFsX2RhdGUgPiBkYXRldGltZS50b2RheSgpLnN0cmZ0aW1lKCcleSVtJWQnKToKICAgICAgICByZXR1cm4gVHJ1ZQogICAgZWxzZToKICAgICAgICByZXR1cm4gRmFsc2UKCgpkZWYgaWZhX3BwbihiYXJjb2RlOiBzdHIpIC0+IGRpY3Q6CiAgICBzcmVzdWx0ID0geydTQ0hFTUUnOiAnSUZBJ30KICAgIHdoaWxlIGJhcmNvZGU6CgogICAgICAgIGlmIGJhcmNvZGVbOjJdID09ICc5Tic6CiAgICAgICAgICAgIHNyZXN1bHRbJ1BQTiddID0gYmFyY29kZVsyOjE0XQogICAgICAgICAgICBpZiBsZW4oYmFyY29kZSkgPiAxNDoKICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBiYXJjb2RlWzE1Ol0KICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBOb25lCgogICAgICAgIGVsaWYgYmFyY29kZVs6MV0gPT0gJ0QnOgogICAgICAgICAgICBzcmVzdWx0WydFWFBJUlknXSA9IGJhcmNvZGVbMTo3XQogICAgICAgICAgICBpZiBsZW4oYmFyY29kZSkgPiA3OgogICAgICAgICAgICAgICAgYmFyY29kZSA9IGJhcmNvZGVbODpdCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBiYXJjb2RlID0gTm9uZQoKICAgICAgICBlbGlmIGJhcmNvZGVbOjJdID09ICcxVCc6CiAgICAgICAgICAgIGlmIGNocigyOSkgaW4gYmFyY29kZToKICAgICAgICAgICAgICAgIGluZGV4ID0gYmFyY29kZS5pbmRleChjaHIoMjkpKQogICAgICAgICAgICAgICAgc3Jlc3VsdFsnQkFUQ0gnXSA9IGJhcmNvZGVbMjppbmRleF0KICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBiYXJjb2RlW2luZGV4ICsgMTpdCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpbmRleCA9IGJhcmNvZGUuaW5kZXgoY2hyKDMwKSkKICAgICAgICAgICAgICAgIHNyZXN1bHRbJ0JBVENIJ10gPSBiYXJjb2RlWzI6aW5kZXhdCiAgICAgICAgICAgICAgICBiYXJjb2RlID0gTm9uZQoKICAgICAgICBlbGlmIGJhcmNvZGVbOjFdID09ICdTJzoKICAgICAgICAgICAgaWYgY2hyKDI5KSBpbiBiYXJjb2RlOgogICAgICAgICAgICAgICAgaW5kZXggPSBiYXJjb2RlLmluZGV4KGNocigyOSkpCiAgICAgICAgICAgICAgICBzcmVzdWx0WydTRVJJQUwnXSA9IGJhcmNvZGVbMTppbmRleF0KICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBiYXJjb2RlW2luZGV4ICsgMTpdCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpbmRleCA9IGJhcmNvZGUuaW5kZXgoY2hyKDMwKSkKICAgICAgICAgICAgICAgIHNyZXN1bHRbJ1NFUklBTCddID0gYmFyY29kZVsxOmluZGV4XQogICAgICAgICAgICAgICAgYmFyY29kZSA9IE5vbmUKCiAgICAgICAgZWxpZiBiYXJjb2RlWzoyXSA9PSAnOFAnOgogICAgICAgICAgICBzcmVzdWx0WydHVElOJ10gPSBiYXJjb2RlWzI6MTZdCiAgICAgICAgICAgIGlmIGxlbihiYXJjb2RlKSA+IDE2OgogICAgICAgICAgICAgICAgYmFyY29kZSA9IGJhcmNvZGVbMTc6XQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgYmFyY29kZSA9IE5vbmUKCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIHsnRVJST1InOiAnSU5WQUxJRCBCQVJDT0RFJywgJ0JBUkNPREUnOiBzcmVzdWx0fQoKICAgIGlmICdQUE4nIGFuZCAnQkFUQ0gnIGFuZCAnRVhQSVJZJyBhbmQgJ1NFUklBTCcgaW4gc3Jlc3VsdC5rZXlzKCk6CiAgICAgICAgaWYgcHBuX2NoZWNrKHNyZXN1bHRbJ1BQTiddKSBpcyBGYWxzZSBhbmQgZXhwaXJ5X2RhdGVfY2hlY2soc3Jlc3VsdFsnRVhQSVJZJ10pIGlzIEZhbHNlOgogICAgICAgICAgICByZXR1cm4geydFUlJPUic6ICdJTlZBTElEIFBQTiAmIEVYUElSWSBEQVRFJywgJ0JBUkNPREUnOiBzcmVzdWx0fQogICAgICAgIGVsaWYgZXhwaXJ5X2RhdGVfY2hlY2soc3Jlc3VsdFsnRVhQSVJZJ10pIGlzIEZhbHNlOgogICAgICAgICAgICByZXR1cm4geydFUlJPUic6ICdJTlZBTElEIEVYUElSWSBEQVRFJywgJ0JBUkNPREUnOiBzcmVzdWx0fQogICAgICAgIGVsaWYgbm90IHBwbl9jaGVjayhzcmVzdWx0WydQUE4nXSk6CiAgICAgICAgICAgIHJldHVybiB7J0VSUk9SJzogJ0lOVkFMSUQgUFBOJywgJ0JBUkNPREUnOiBzcmVzdWx0fQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBzcmVzdWx0CiAgICBlbHNlOgogICAgICAgIHJldHVybiB7J0VSUk9SJzogJ0lOQ09NUExFVEUgREFUQScsICdCQVJDT0RFJzogc3Jlc3VsdH0KCgpkZWYgcHBuX2NoZWNrKHBwbjogc3RyKSAtPiBib29sOgogICAgIyBpID0gMAogICAgd2VpZ2h0ID0gMgogICAgZGlnaXRfc3VtID0gMAogICAgZm9yIGkgaW4gcmFuZ2UoMTApOgogICAgICAgIGRpZ2l0X3N1bSArPSAob3JkKHBwbltpXSkgKiB3ZWlnaHQpCiAgICAgICAgd2VpZ2h0ICs9IDEKICAgIGNoZWNrX2RpZ2l0ID0gZGlnaXRfc3VtICUgOTcKICAgIHJldHVybiBjaGVja19kaWdpdCA9PSBpbnQocHBuWy0yOl0pICAjIFBQTiBsYXN0IHR3byBjaGFycyBhcmUgY29udmVydGVkIHRvIGludCB0byByZW1vdmUgYW55IGxlYWRpbmcgemVyby4KCiMgcGFyc2VfYmFyY29kZSgnMDEwMzA0MTA5NDc4NzQ0MzIxNVFiYWchPEdTPjkzWmpxdycpCg=="
            },
            {
                "file_path": "D:\\projects\\simple UI\\sui_keep_0_1_0_8_1\\ui_csv.py",
                "PyFileKey": "ui_csv",
                "PyFileData": "aW1wb3J0IGNzdgppbXBvcnQgb3MKaW1wb3J0IHJlCgppbXBvcnQgdWlfYmFyY29kZXMKaW1wb3J0IHVpX2dsb2JhbApmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQoKCmRlZiBnZXRfcXVlcnlfdGV4dChxX25hbWU9JycpIC0+IHN0cjoKICAgIGlmIHFfbmFtZSA9PSAnUlNfZ29vZHMnOgogICAgICAgIHJldHVybiAnUkVQTEFDRSBJTlRPIFJTX2dvb2RzICggIGlkLCBjb2RlLCBhcnQsIG5hbWUsIHVuaXQsIHR5cGVfZ29vZCwgZGVzY3JpcHRpb24pIFZBTFVFUyAoPyw/LD8sPyw/LD8sPyknCiAgICBlbGlmIHFfbmFtZSA9PSAnUlNfcHJvcGVydGllcyc6CiAgICAgICAgcmV0dXJuICdSRVBMQUNFIElOVE8gUlNfcHJvcGVydGllcyAoICBpZCAsIGlkX293bmVyLCBuYW1lKSBWQUxVRVMgJwogICAgZWxpZiBxX25hbWUgPT0gJ1JTX3VuaXRzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU191bml0cyAoICBpZCxpZF9vd25lciwgY29kZSwgbmFtZSwgbm9taW5hdG9yLCBkZW5vbWluYXRvciwgaW50X3JlZHVjdGlvbikgVkFMVUVTICg/LD8sPyw/LD8sPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU190eXBlc19nb29kcyc6CiAgICAgICAgcmV0dXJuICdSRVBMQUNFIElOVE8gUlNfdHlwZXNfZ29vZHMgKCAgaWQsIG5hbWUpIFZBTFVFUyAoPyw/KScgICMgKD8sPykKICAgIGVsaWYgcV9uYW1lID09ICdSU19zZXJpZXMnOgogICAgICAgIHJldHVybiAnUkVQTEFDRSBJTlRPIFJTX3NlcmllcyAoICBpZCwgbmFtZSwgYmVzdF9iZWZvcmUsIHR5cGVfZ29vZHMsIG51bWJlciwgcHJvZHVjdGlvbl9kYXRlKSBWQUxVRVMnCiAgICBlbGlmIHFfbmFtZSA9PSAnUlNfY291bnRyYWdlbnRzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19jb3VudHJhZ2VudHMgKCAgaWQsIG5hbWUsIGZ1bGxfbmFtZSwgaW5uLCBrcHApIFZBTFVFUyAnCiAgICBlbGlmIHFfbmFtZSA9PSAnUlNfd2FyZWhvdXNlcyc6CiAgICAgICAgcmV0dXJuICdSRVBMQUNFIElOVE8gUlNfd2FyZWhvdXNlcyAoICBpZCwgbmFtZSkgVkFMVUVTICg/LD8pJwogICAgZWxpZiBxX25hbWUgPT0gJ1JTX3ByaWNlX3R5cGVzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19wcmljZV90eXBlcyAoaWQsIG5hbWUpIFZBTFVFUyAoPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU19iYXJjb2Rlcyc6CiAgICAgICAgcmV0dXJuICdSRVBMQUNFIElOVE8gUlNfYmFyY29kZXMgKGlkLCBiYXJjb2RlLCBpZF9nb29kLCBpZF9wcm9wZXJ0eSwgaWRfc2VyaWVzLCBpZF91bml0KSBWQUxVRVMgKD8sPyw/LD8sPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU19tYXJraW5nX2NvZGVzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19tYXJraW5nX2NvZGVzIChpZCwgbWFya19jb2RlLCBpZF9nb29kLCBpZF9wcm9wZXJ0eSwgaWRfc2VyaWVzLCBpZF91bml0KSBWQUxVRVMgKD8sPyw/LD8sPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU19wcmljZXMnOgogICAgICAgIHJldHVybiAnUkVQTEFDRSBJTlRPIFJTX3ByaWNlcyAoaWRfcHJpY2VfdHlwZXMsIGlkX2dvb2RzLCBpZF9wcm9wZXJ0aWVzLCBwcmljZSwgaWRfdW5pdCkgVkFMVUVTICcKICAgIGVsaWYgcV9uYW1lID09ICdSU19kb2NzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19kb2NzIChpZF9kb2MsIGRvY190eXBlLCBkb2NfbiwgZG9jX2RhdGUsIGlkX2NvdW50cmFnZW50cywgaWRfd2FyZWhvdXNlKSBWQUxVRVMgKD8sPyw/LD8sPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU19kb2NzX3RhYmxlJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19kb2NzX3RhYmxlIChpZF9kb2MsIGlkX2dvb2QsIGlkX3Byb3BlcnRpZXMsIGlkX3NlcmllcywgaWRfdW5pdCwgcXR0eSwgcXR0eV9wbGFuLCBwcmljZSwgaWRfcHJpY2UpIFZBTFVFUyAoPyw/LD8sPyw/LD8sPyw/LD8pJwogICAgZWxpZiBxX25hbWUgPT0gJ1JTX2RvY3NfYmFyY29kZXMnOgogICAgICAgIHJldHVybiAnUkVQTEFDRSBJTlRPIFJTX2RvY3NfYmFyY29kZXMgKGlkX2RvYywgaWRfYmFyY29kZSwgaXNfcGxhbikgVkFMVUVTICg/LD8sPyknCgoKZGVmIGdldF9xdWVyeV90ZXh0X2V4cG9ydCgpOgogICAgcmV0dXJuICcnJwogICAgICAgICBTRUxFQ1QgCiAgICAgICAgJzAnIEFTIEdUSU4sCiAgICAgICAgUlNfbWFya2luZy5pZF9nb29kLAogICAgICAgIFJTX21hcmtpbmcubmFtZSwgCiAgICAgICAgMSBhcyBEZWNsYXJlZFF1YW50aXR5LAogICAgICAgIENBU0UgYXBwcm92ZWQKICAgICAgICAgICAgV0hFTiAnMScgVEhFTiAxCiAgICAgICAgICAgIEVMU0UgMAogICAgICAgIEVORCBBUyBDdXJyZW50UXVhbnRpdHksCiAgICAgICAgYmFyY29kZV9mcm9tX3NjYW5uZXIgYXMg0JzQsNGA0LrQsCwKICAgICAgICBSU19tYXJraW5nLm1hcmtfY29kZSBBUyDQnNCw0YDQutCw0JjQodCc0J8sCiAgICAgICAgUlNfbWFya2luZy5pZF9wcm9wZXJ0eSBhcyDQmNC90LLQvtC50YEsCiAgICAgICAgJ9Cn0YPQttC+0LknIGFzINCf0YDQuNC90LDQtNC70LXQttC90L7RgdGC0YwgCgogICAgICAgIEZST00gUlNfZG9jc19iYXJjb2RlcyAKCiAgICAgICAgTEVGVCBKT0lOIChTRUxFQ1QgCiAgICAgICAgICAgICAgICAgICAgaWQgQVMgaWRfYmFyY29kZSwKICAgICAgICAgICAgICAgICAgICBtYXJrX2NvZGUgQVMgbWFya19jb2RlLAogICAgICAgICAgICAgICAgICAgIGlkX2dvb2QsCiAgICAgICAgICAgICAgICAgICAgaWRfcHJvcGVydHksCiAgICAgICAgICAgICAgICAgICAgaWRfc2VyaWVzLAogICAgICAgICAgICAgICAgICAgIGlkX3VuaXQsCiAgICAgICAgICAgICAgICAgICAgUlNfZ29vZHMubmFtZSwKICAgICAgICAgICAgICAgICAgICBSU19nb29kcy5jb2RlCgogICAgICAgICAgICAgICAgICAgIEZST00gUlNfbWFya2luZ19jb2RlcwogICAgICAgICAgICAgICAgICAgIExFRlQgSk9JTiBSU19nb29kcyAKICAgICAgICAgICAgICAgICAgICBPTiBSU19nb29kcy4gIGlkICA9IFJTX21hcmtpbmdfY29kZXMuaWRfZ29vZAogICAgICAgICAgICAgICAgICAgIFdIRVJFIFJTX21hcmtpbmdfY29kZXMuaWQgSU4gCiAgICAgICAgICAgICAgICAgICAgICAgIChTRUxFQ1QgaWRfYmFyY29kZSBGUk9NIFJTX2RvY3NfYmFyY29kZXMgCiAgICAgICAgICAgICAgICAgICAgICAgIFdIRVJFIFJTX2RvY3NfYmFyY29kZXMuaWRfZG9jID0gOmlkX2RvYykpIEFTIFJTX21hcmtpbmcKICAgICAgICBPTiBSU19kb2NzX2JhcmNvZGVzLmlkX2JhcmNvZGUgPSBSU19tYXJraW5nLmlkX2JhcmNvZGUgIAoKICAgICAgICBXSEVSRSBSU19kb2NzX2JhcmNvZGVzLmlkX2RvYyA9IDppZF9kb2MKJycnCgoKZGVmIG5vcm1hbGl6ZV9ndGluKGd0aW46IHN0cikgLT4gc3RyOgogICAgYSA9IGxlbihndGluKQogICAgaWYgYSA+IDE0OgogICAgICAgIHJldHVybiBndGluWzotMTRdCiAgICBlbHNlOgogICAgICAgIHJldHVybiAnMCcgKiAoMTQgLSBhKSArIGd0aW4KCgpkZWYgbG9hZF9mcm9tX2NzdihwYXRoPScnLCBmaWxlPScnKToKICAgICMgcmUuZnVsbG1hdGNoKHInXGR7MTN9JywgYmFyY29kZSkuc3RyaW5nID09IGJhcmNvZGU6CiAgICBjdXJyZW50X2RhdGUgPSBkYXRldGltZS5ub3coKS5zdHJmdGltZSgiJWQtJW0tJVkiKQogICAgIyBmaWxlID0gZmlsZSArICgiICIgKiAxNSkgI9GH0YLQvtCx0Ysg0L3QtSDQvdCw0YLRi9C60LDRgtGM0YHRjyDQvdCwIG91dCBvZiByYW5nZSDQsiDRgtC10LrRgdGC0L7QstC+0Lwg0LjQvNC10L3QuCAtINC00L7QsdCw0LLQuNC8IDE1INC/0YDQvtCx0LXQu9C+0LIKICAgIGlmIGZpbGVbOjZdID09ICdkb2NfaW4nOgogICAgICAgICMg0JfQsNCz0YDRg9C20LDQtdC8INC00L7QutGD0LzQtdC90YLRiwogICAgICAgIHdpdGggb3BlbihwYXRoLCAncicsIG5ld2xpbmU9JycsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGNzdmZpbGU6CgogICAgICAgICAgICBteV9yZWFkZXIgPSBjc3YucmVhZGVyKGNzdmZpbGUsIGRpYWxlY3Q9J2V4Y2VsJywgZGVsaW1pdGVyPSc7JywgcXVvdGVjaGFyPSciJykKCiAgICAgICAgICAgIHJzX2RvY19kYXRhID0gW10KICAgICAgICAgICAgcnNfZG9jX3RhYmxlX2RhdGEgPSBbXQogICAgICAgICAgICByc19kb2NfYmFyY29kZSA9IFtdCiAgICAgICAgICAgIHJzX21hcmtpbmdfY29kZXMgPSBbXQogICAgICAgICAgICByc19wcm9wZXJ0aWVzID0gW10KICAgICAgICAgICAgdGVtcF9kb2NfbiA9ICcnCiAgICAgICAgICAgIHRlbXBfZ29vZCA9ICcnCiAgICAgICAgICAgIGRvY19udW0gPSB1aV9nbG9iYWwuUnNfZG9jLmdldF9uZXdfaWQoJycpCiAgICAgICAgICAgIGZvciByb3cgaW4gbXlfcmVhZGVyOgogICAgICAgICAgICAgICAgaWYgbXlfcmVhZGVyLmxpbmVfbnVtID4gNTogICMg0JfQsNCz0L7Qu9C+0LLQutC4INGC0LDQsdC70LjRhtGLCiAgICAgICAgICAgICAgICAgICAgIyBpZiB0ZW1wX2RvY19uICE9IHJvd1s4XToKICAgICAgICAgICAgICAgICAgICAjICAgICAjIFJTX2RvY3MgKGlkX2RvYywgZG9jX3R5cGUsIGRvY19uLCBkb2NfZGF0ZSwgaWRfY291bnRyYWdlbnRzLCBpZF93YXJlaG91c2UpCiAgICAgICAgICAgICAgICAgICAgIyAgICAgcnNfZG9jX2RhdGUuYXBwZW5kKChkb2NfbnVtLCAn0JjQvdCy0L7QudGBJywgZG9jX251bSwgY3VycmVudF9kYXRlLCAnMDAxJywgJzAwMScpKQogICAgICAgICAgICAgICAgICAgICMgICAgIHRlbXBfZG9jX24gPSByb3dbOF0KICAgICAgICAgICAgICAgICAgICAjIFJTX2RvY3NfdGFibGUoaWRfZG9jLCBpZF9nb29kLCBpZF9wcm9wZXJ0aWVzLCBpZF9zZXJpZXMsIGlkX3VuaXQsIHF0dHksIHF0dHlfcGxhbiwgcHJpY2UsIGlkX3ByaWNlKQogICAgICAgICAgICAgICAgICAgIGlmIHRlbXBfZ29vZCAhPSByb3dbMF06CiAgICAgICAgICAgICAgICAgICAgICAgIHJzX2RvY190YWJsZV9kYXRhLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NfbnVtLCByb3dbMF0sIHJvd1s4XSwgJycsIHJvd1sxXSArIHJvd1swXSwgaW50KHJvd1s3XSksIGludChyb3dbNl0pLCAnJywgJycpKQogICAgICAgICAgICAgICAgICAgICAgICBjdXJyX2NvdW50ID0gcnNfZG9jX3RhYmxlX2RhdGEuX19sZW5fXygpIC0gMQogICAgICAgICAgICAgICAgICAgICAgICB0ZW1wX2dvb2QgPSByb3dbMF0KICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAjINC00L7QsdCw0LLQuNC8INC60L7Qu9C40YfQtdGB0YLQstC+INCyINGB0YLRgNC+0LrRgywg0LTQu9GPINGN0YLQvtCz0L4g0L/RgNC10L7QsdGA0LDQt9GD0LXQvCDQtdC1INCyINCb0LjRgdGCLCDQv9C+0LzQtdC90Y/QtdC8INC60L7Qu9C40YfQtdGB0YLQstC+INC4INC30LDRgdGD0L3QtdC8INC+0LHRgNCw0YLQvdC+INCyINC60L7RgNGC0LXQtgogICAgICAgICAgICAgICAgICAgICAgICBsc3QgPSBsaXN0KHJzX2RvY190YWJsZV9kYXRhW2N1cnJfY291bnRdKQogICAgICAgICAgICAgICAgICAgICAgICBsc3RbNl0gPSBpbnQobHN0WzZdKSArIGludChyb3dbNl0pCiAgICAgICAgICAgICAgICAgICAgICAgIHJzX2RvY190YWJsZV9kYXRhW2N1cnJfY291bnRdID0gdHVwbGUobHN0KQogICAgICAgICAgICAgICAgICAgICAgICAjIHJzX2RvY190YWJsZV9kYXRhW2N1cnJfY291bnRdWzZdPWludChyc19kb2NfdGFibGVfZGF0YVtjdXJyX2NvdW50XVs2XSkgKyBpbnQocm93WzZdKQogICAgICAgICAgICAgICAgICAgIGlmIHJvd1s1XToKICAgICAgICAgICAgICAgICAgICAgICAgIyBSU19kb2NzX2JhcmNvZGVzIChpZF9kb2MsIGlkX2JhcmNvZGUsIGlzX3BsYW4pCiAgICAgICAgICAgICAgICAgICAgICAgIHJzX2RvY19iYXJjb2RlLmFwcGVuZCgoZG9jX251bSwgcm93WzVdLCAnMScpKQogICAgICAgICAgICAgICAgICAgICAgICAjIFJTX21hcmtpbmdfY29kZXMoaWQsIG1hcmtfY29kZSwgaWRfZ29vZCwgaWRfcHJvcGVydHksIGlkX3NlcmllcywgaWRfdW5pdCkgVkFMVUVTKD8sID8sID8sID8sID8sID8pCiAgICAgICAgICAgICAgICAgICAgICAgIHJzX21hcmtpbmdfY29kZXMuYXBwZW5kKChyb3dbNV0sIHJvd1s1XSwgcm93WzBdLCByb3dbOF0sICcnLCByb3dbMV0gKyByb3dbMF0pKQoKICAgICAgICAgICAgICAgIGVsaWYgbXlfcmVhZGVyLmxpbmVfbnVtID09IDM6CiAgICAgICAgICAgICAgICAgICAgaWYgcm93WzBdOgogICAgICAgICAgICAgICAgICAgICAgICBkb2NfbnVtID0gcm93WzBdCiAgICAgICAgICAgICAgICAgICAgcnNfZG9jX2RhdGEuYXBwZW5kKChkb2NfbnVtLCAn0JjQvdCy0L7QudGBJywgZG9jX251bSwgY3VycmVudF9kYXRlLCAnMDAxJywgJzAwMScpKQogICAgICAgICAgICAgICAgZWxpZiBteV9yZWFkZXIubGluZV9udW0gPT0gNToKICAgICAgICAgICAgICAgICAgICBsaXN0X2hlYWRlcnMgPSByb3cuY29weSgpCgogICAgICAgICMg0JfQsNC/0L7Qu9C90Y/QtdC8INGC0LDQsdC70LjRhtGLCiAgICAgICAgdWlfZ2xvYmFsLmJ1bGtfcXVlcnlfcmVwbGFjZShnZXRfcXVlcnlfdGV4dCgnUlNfZG9jcycpLCByc19kb2NfZGF0YSkKICAgICAgICB1aV9nbG9iYWwuYnVsa19xdWVyeV9yZXBsYWNlKGdldF9xdWVyeV90ZXh0KCdSU19kb2NzX3RhYmxlJyksIHJzX2RvY190YWJsZV9kYXRhKQogICAgICAgIHVpX2dsb2JhbC5idWxrX3F1ZXJ5X3JlcGxhY2UoZ2V0X3F1ZXJ5X3RleHQoJ1JTX2RvY3NfYmFyY29kZXMnKSwgcnNfZG9jX2JhcmNvZGUpCiAgICAgICAgdWlfZ2xvYmFsLmJ1bGtfcXVlcnlfcmVwbGFjZShnZXRfcXVlcnlfdGV4dCgnUlNfbWFya2luZ19jb2RlcycpLCByc19tYXJraW5nX2NvZGVzKQoKICAgICAgICAjINCf0L4g0LTQvtC60YPQvNC10L3RgtCw0LwsINCz0LTQtSDQtdGB0YLRjCDQt9Cw0L/Qu9Cw0L3QuNGA0L7QstCw0L3QvdGL0LUg0LzQsNGA0LrQuCwg0LTQvtCx0LDQstC40Lwg0L/RgNC40LfQvdCw0LoKICAgICAgICBxdGV4dCA9ICdTRUxFQ1QgaWRfZG9jLCBDT1VOVChpc19wbGFuKSBhcyBpc19wbGFuIEZST00gUlNfZG9jc19iYXJjb2RlcyBXSEVSRSBpc19wbGFuID0gIjEiICcKICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgJycsIFRydWUpCiAgICAgICAgcXRleHQgPSAnVVBEQVRFIFJTX2RvY3MgU0VUIGFkZF9tYXJrX3NlbGVjdGlvbiA9ID8gV0hFUkUgaWRfZG9jID0gPycKICAgICAgICAjIC0tLQogICAgICAgIGZvciBlbCBpbiByZXM6CiAgICAgICAgICAgIGlmIGVsWydpc19wbGFuJ10gPiAwOgogICAgICAgICAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsICgxLCBlbFsnaWRfZG9jJ10pKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsICgwLCBlbFsnaWRfZG9jJ10pKQogICAgICAgIHJldHVybiAyMDAKCgoKCiAgICBlbGlmIGZpbGVbOjE0XSA9PSAnaW5pdGlhbF9kaWN0c18nOgogICAgICAgICMg0JTQvtCx0LDQstC40Lwg0YLQuNC/INGC0L7QstCw0YDQsCDQtNC70Y8g0LLRgdC10YUg0YLQsNCx0LvQuNGGCiAgICAgICAgcXRleHQgPSAnUkVQTEFDRSBJTlRPIFJTX3R5cGVzX2dvb2RzICggIGlkLCBuYW1lKSBWQUxVRVMgKD8sPyknCiAgICAgICAgdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsICgn0KLQvtCy0LDRgCcsICfQotC+0LLQsNGAJykpCgogICAgICAgIHdpdGggb3BlbihwYXRoLCAncicsIG5ld2xpbmU9JycsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGNzdmZpbGU6CgogICAgICAgICAgICBteV9yZWFkZXIgPSBjc3YucmVhZGVyKGNzdmZpbGUsIGRpYWxlY3Q9J2V4Y2VsJywgZGVsaW1pdGVyPSc7JywgcXVvdGVjaGFyPSciJykKCiAgICAgICAgICAgIHJzX2dvb2RzX2RhdGEgPSBbXQogICAgICAgICAgICByc19iYXJjb2Rlc19kYXRhID0gW10KICAgICAgICAgICAgcnNfdW5pdHNfZGF0YSA9IFtdCiAgICAgICAgICAgICMgUlNfd2FyZWhvdXNlcyggIGlkLCBuYW1lKQogICAgICAgICAgICByc193YXJlaG91c2VzID0gW1snMDAxJywgJ9Ce0YHQvdC+0LLQvdC+0LknXV0KICAgICAgICAgICAgIyBSU190eXBlc19nb29kcyAoICBpZCwgbmFtZSkKICAgICAgICAgICAgcnNfdHlwZXNfZ29vZHNfZGF0YSA9IFtbJzAwMScsICfQotC+0LLQsNGAJ11dCiAgICAgICAgICAgIHBhcnRfY291bnQgPSAxMDAwCgogICAgICAgICAgICBmb3Igcm93IGluIG15X3JlYWRlcjoKICAgICAgICAgICAgICAgIGlmIG15X3JlYWRlci5saW5lX251bSA9PSAxOiAgIyDQl9Cw0LPQvtC70L7QstC60Lgg0YLQsNCx0LvQuNGG0YsKICAgICAgICAgICAgICAgICAgICBsaXN0X2hlYWRlcnMgPSByb3cuY29weSgpCiAgICAgICAgICAgICAgICBlbHNlOiAgIyDQt9Cw0L/QvtC70L3Rj9C10Lwg0YLQsNCx0LvQuNGG0Ysg0L/QsNGA0LDQvNC10YLRgNC+0LIg0LfQsNC/0YDQvtGB0LAg0LogU1FMCiAgICAgICAgICAgICAgICAgICAgIyAgIGlkLCBjbyBkZSwgYXJ0LCBuYW1lLCB1bml0LCB0eXBlX2dvb2QsIGRlc2NyaXB0aW9uCiAgICAgICAgICAgICAgICAgICAgcnNfZ29vZHNfZGF0YS5hcHBlbmQoKHJvd1syXSwgcm93WzNdLCByb3dbNV0sIHJvd1s0XSwgcm93WzFdLCAn0KLQvtCy0LDRgCcsIHJvd1sxNV0pKQogICAgICAgICAgICAgICAgICAgICMgICBpZCwgaWRfb3duZXIsIGNvZGUsIG5hbWUsIG5vbWluYXRvciwgZGVub21pbmF0b3IsIGludF9yZWR1Y3Rpb24KICAgICAgICAgICAgICAgICAgICByc191bml0c19kYXRhLmFwcGVuZCgocm93WzFdICsgcm93WzJdLCByb3dbMl0sIHJvd1sxXSwgcm93WzFdLCAxLCAxLCByb3dbMV0pKQogICAgICAgICAgICAgICAgICAgICMgYmFyY29kZSwgaWRfZ29vZCwgaWRfcHJvcGVydHksIGlkX3NlcmllcywgaWRfdW5pdAogICAgICAgICAgICAgICAgICAgIGd0aW4gPSBub3JtYWxpemVfZ3Rpbihyb3dbMF0pCiAgICAgICAgICAgICAgICAgICAgcnNfYmFyY29kZXNfZGF0YS5hcHBlbmQoKGd0aW4sIGd0aW4sIHJvd1syXSwgJycsICcnLCByb3dbMV0gKyByb3dbMl0pKQoKICAgICAgICAgICAgICAgICMg0JrQsNC20LTRi9C1IDEwMDAg0YHRgtGA0L7QuiDQt9Cw0L/QuNGB0YvQstCw0LXQvCDQsiDQsdCw0LfRgwogICAgICAgICAgICAgICAgaWYgbXlfcmVhZGVyLmxpbmVfbnVtID09IHBhcnRfY291bnQ6CiAgICAgICAgICAgICAgICAgICAgcGFydF9jb3VudCArPSAxMDAwCiAgICAgICAgICAgICAgICAgICAgdWlfZ2xvYmFsLmJ1bGtfcXVlcnlfcmVwbGFjZShnZXRfcXVlcnlfdGV4dCgnUlNfZ29vZHMnKSwgcnNfZ29vZHNfZGF0YSkKICAgICAgICAgICAgICAgICAgICB1aV9nbG9iYWwuYnVsa19xdWVyeV9yZXBsYWNlKGdldF9xdWVyeV90ZXh0KCdSU191bml0cycpLCByc191bml0c19kYXRhKQogICAgICAgICAgICAgICAgICAgIHVpX2dsb2JhbC5idWxrX3F1ZXJ5X3JlcGxhY2UoZ2V0X3F1ZXJ5X3RleHQoJ1JTX2JhcmNvZGVzJyksIHJzX2JhcmNvZGVzX2RhdGEpCiAgICAgICAgICAgICAgICAgICAgcnNfZ29vZHNfZGF0YSA9IFtdCiAgICAgICAgICAgICAgICAgICAgcnNfYmFyY29kZXNfZGF0YSA9IFtdCiAgICAgICAgICAgICAgICAgICAgcnNfdW5pdHNfZGF0YSA9IFtdCgogICAgICAgIHVpX2dsb2JhbC5idWxrX3F1ZXJ5X3JlcGxhY2UoZ2V0X3F1ZXJ5X3RleHQoJ1JTX3dhcmVob3VzZXMnKSwgcnNfd2FyZWhvdXNlcykKICAgICAgICB1aV9nbG9iYWwuYnVsa19xdWVyeV9yZXBsYWNlKGdldF9xdWVyeV90ZXh0KCdSU190eXBlc19nb29kcycpLCByc190eXBlc19nb29kc19kYXRhKQogICAgICAgIHVpX2dsb2JhbC5idWxrX3F1ZXJ5X3JlcGxhY2UoZ2V0X3F1ZXJ5X3RleHQoJ1JTX2dvb2RzJyksIHJzX2dvb2RzX2RhdGEpCiAgICAgICAgdWlfZ2xvYmFsLmJ1bGtfcXVlcnlfcmVwbGFjZShnZXRfcXVlcnlfdGV4dCgnUlNfdW5pdHMnKSwgcnNfdW5pdHNfZGF0YSkKICAgICAgICB1aV9nbG9iYWwuYnVsa19xdWVyeV9yZXBsYWNlKGdldF9xdWVyeV90ZXh0KCdSU19iYXJjb2RlcycpLCByc19iYXJjb2Rlc19kYXRhKQoKICAgICAgICByZXR1cm4gMjAwCgoKZGVmIGxpc3RfZm9sZGVyKHBhdGg6IHN0ciwgZGVsZXRlX2ZpbGVzOiBib29sKToKICAgICMgdHJ5OgogICAgYWEgPSAwCiAgICB0b3RhbCA9IDAKICAgIGZvciBmaWxlIGluIG9zLmxpc3RkaXIocGF0aCk6CiAgICAgICAgdG90YWwgKz0gMQogICAgICAgIGlmIGZpbGUuZW5kc3dpdGgoIi5jc3YiKToKICAgICAgICAgICAgZmlsZW5hbWUgPSBmaWxlICsgKCIgIiAqIDE1KSAgIyDRh9GC0L7QsdGLINC90LUg0L3QsNGC0YvQutCw0YLRjNGB0Y8g0L3QsCBvdXQgb2YgcmFuZ2Ug0LIg0YLQtdC60YHRgtC+0LLQvtC8INC40LzQtdC90LggLSDQtNC+0LHQsNCy0LjQvCAxNSDQv9GA0L7QsdC10LvQvtCyCiAgICAgICAgICAgIGlmIGZpbGVuYW1lWzo2XSA9PSAnZG9jX2luJyBvciBmaWxlbmFtZVs6MTRdID09ICdpbml0aWFsX2RpY3RzXyc6CiAgICAgICAgICAgICAgICBhYSArPSAxCiAgICAgICAgICAgICAgICBhbnMgPSBsb2FkX2Zyb21fY3N2KHBhdGggKyBmaWxlLCBmaWxlKQogICAgICAgICAgICAgICAgaWYgYW5zID09IDIwMCBhbmQgZGVsZXRlX2ZpbGVzID09ICd0cnVlJzoKICAgICAgICAgICAgICAgICAgICBvcy5yZW1vdmUocGF0aCArIGZpbGUpCgogICAgcmV0dXJuICfQl9Cw0LPRgNGD0LfQutCwINC30LDQstC10YDRiNC10L3QsCwg0LfQsNCz0YDRg9C20LXQvdC+ICcgKyBzdHIoYWEpICsgJyDRhNCw0LnQu9C+0LIg0LjQtyAnICsgc3RyKHRvdGFsKQogICAgIyBleGNlcHQ6CiAgICAjICAgcmV0dXJuICfQntGI0LjQsdC60LAg0L/RgNC4INC30LDQs9GA0YPQt9C60LUg0YTQsNC50LvQsCcKCgpkZWYgZXhwb3J0X2NzdihwYXRoLCBJUCwgQW5kcm9pZElEKToKICAgIGRvY3MgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgnU0VMRUNUIGlkX2RvYywgZG9jX24gZnJvbSBSU19kb2NzIFdoZXJlIHZlcmlmaWVkID0gMScpCiAgICBjb3VudCA9IDAKICAgIGZvciBkb2NfaXRlbSBpbiBkb2NzOgogICAgICAgIHF0ZXh0ID0gZ2V0X3F1ZXJ5X3RleHRfZXhwb3J0KCkKCiAgICAgICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsIChkb2NfaXRlbVswXSwpLCBUcnVlKQogICAgICAgIGNvdW50ICs9IDEKICAgICAgICB3aXRoIG9wZW4ocGF0aCArICdkb2Nfb3V0XycgKyBkb2NfaXRlbVsxXSArICcuY3N2JywgJ3cnLCBuZXdsaW5lPScnLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBjc3ZmaWxlOgogICAgICAgICAgICBteV9yZWFkZXIgPSBjc3Yud3JpdGVyKGNzdmZpbGUsIGRpYWxlY3Q9J2V4Y2VsJywgZGVsaW1pdGVyPSc7JywgcXVvdGVjaGFyPSciJykKICAgICAgICAgICAgbXlfcmVhZGVyLndyaXRlcm93KCgnTmFtZScsICdVc2VyTmFtZScsICdEZXZpY2VJZCcsICdEZXZpY2VJUCcpKQogICAgICAgICAgICBteV9yZWFkZXIud3JpdGVyb3coKCfQn9GA0LjRhdC+0LQg0L3QsCDRgdC60LvQsNC0ICcgKyBkb2NfaXRlbVsxXSwgJ9Cc0L7RgdC60LLQsDEnLCBBbmRyb2lkSUQsIElQKSkKICAgICAgICAgICAgbXlfcmVhZGVyLndyaXRlcm93KCgnR1RJTicsICfQmtC+0LTQktCj0YfQtdGC0L3QvtC50KHQuNGB0YLQtdC80LUnLCAn0J3QsNC40LzQtdC90L7QstCw0L3QuNC1JywgJ0RlY2xhcmVkUXVhbnRpdHknLCAnQ3VycmVudFF1YW50aXR5JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAn0JrQvtGA0L7QsdC60LAnLCAn0JzQsNGA0LrQsCcsICfQnNCw0YDQutCw0JjQodCc0J8nLCAn0JjQvdCy0L7QudGBJywgJ9Cf0YDQuNC90LDQtNC70LXQttC90L7RgdGC0YwnKSkKICAgICAgICAgICAgZm9yIGVsIGluIHJlczoKICAgICAgICAgICAgICAgIGd0aW4gPSB1aV9iYXJjb2Rlcy5nZXRfZ3Rpbl9zZXJpYWxfZnJvbV9kYXRhbWF0cml4KGVsWyfQnNCw0YDQutCw0JjQodCc0J8nXSkKICAgICAgICAgICAgICAgIGVsWydHVElOJ10gPSBndGluWydHVElOJ10KICAgICAgICAgICAgICAgIG15X3JlYWRlci53cml0ZXJvdygoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxbJ0dUSU4nXSwgZWxbJ2lkX2dvb2QnXSwgZWxbJ25hbWUnXSwgZWxbJ0RlY2xhcmVkUXVhbnRpdHknXSwgZWxbJ0N1cnJlbnRRdWFudGl0eSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsWyfQnNCw0YDQutCwJ10sIGVsWyfQnNCw0YDQutCw0JjQodCc0J8nXSwgZWxbJ9CY0L3QstC+0LnRgSddLCBlbFsn0J/RgNC40L3QsNC00LvQtdC20L3QvtGB0YLRjCddKSkKCiAgICByZXR1cm4gc3RyKGNvdW50KSArICcg0LTQvtC60YPQvNC10L3RgtC+0LInCiMgZXhwb3J0X2Nzdign0J7QsdC80LXQvdCi0KHQlC/QndCQLycpICMnCgoKIyBvcGVuX2ZpbGVzX25ldCgnJywgJ0Q6L1B5dGhvblByb2plY3RzL1JpZ2h0U2Nhbi9TVUltYWluL9Ce0LHQvNC10L3QotCh0JQv0J3QkC9pbml0aWFsX2RpY3RzXzAxLmNzdicsICdpbml0aWFsX2RpY3RzXzAxLmNzdicpCiMgb3Blbl9maWxlc19uZXQoJycsICdEOi9QeXRob25Qcm9qZWN0cy9SaWdodFNjYW4vU1VJbWFpbi/QntCx0LzQtdC90KLQodCUL9Cd0JAvZG9jXzEuY3N2JywnZG9jXzEuY3N2JykK"
            },
            {
                "file_path": "D:\\projects\\simple UI\\sui_keep_0_1_0_8_1\\ui_form_data.py",
                "PyFileKey": "ui_form_data",
                "PyFileData": "aW1wb3J0IGpzb24KaW1wb3J0IHdpZGdldHMKCmRlZiBnZXRfZG9jX2NhcmQoc2V0dGluZ3NfZ2xvYmFsLCBBZGRNZW51PScnKToKICAgIGRvY19saXN0ID0geyJjdXN0b21jYXJkcyI6IHsKICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgfSwKICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAiVmFsdWUiOiAiIiwKICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkNoZWNrQm94IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAY29tcGxldGVkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICJDaGVja0JveDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjMyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjREI3MDkzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkB0eXBlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgiVGl0bGVUZXh0U2l6ZSIpICMiMTgiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlBvcHVwTWVudUJ1dHRvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6IGYi0KPQtNCw0LvQuNGC0Yw70J/QvtC00YLQstC10YDQtNC40YLRjDvQntGH0LjRgdGC0LjRgtGMINC00LDQvdC90YvQtSDQv9C10YDQtdGB0YfQtdGC0LB7QWRkTWVudX0iLCAgIzvQodC60LDQvdC40YDQvtCy0LDRgtGMINGI0YLRgNC40YXQutC+0LTRiyDQv9C+0YLQvtC60L7QvAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAibWVudV9kZWxldGUiCgogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQG51bWJlciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkVGl0bGVUZXh0U2l6ZScpICAjIjIwIgogICAgICAgICAgICAgICAgICAgICAgICB9IywKICAgICAgICAgICAgICAgICAgICAgICAgIyB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgIlZhbHVlIjogIkBkYXRhIiwKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0NhcmREYXRlVGV4dFNpemUnKQogICAgICAgICAgICAgICAgICAgICAgICAjIH0KICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAY291bnRyYWdlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkRGF0ZVRleHRTaXplJykKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkB3YXJlaG91c2UiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkRGF0ZVRleHRTaXplJykKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH0KICAgIH19CgogICAgcmV0dXJuIGRvY19saXN0CgoKZGVmIGdldF9kb2NfY2FyZF9uZXcoc2V0dGluZ3NfZ2xvYmFsLCB0YWJsZV9kYXRhKToKICAgIGRvY19saXN0ID0gd2lkZ2V0cy5DdXN0b21DYXJkcygKICAgICAgICB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KAogICAgICAgICAgICAgICAgICAgIHdlaWdodD04LAogICAgICAgICAgICAgICAgICAgIHdpZHRoPSdtYXRjaF9wYXJlbnQnLAogICAgICAgICAgICAgICAgICAgIFZhbHVlPSdAdHlwZScsCiAgICAgICAgICAgICAgICAgICAgZ3Jhdml0eV9ob3Jpem9udGFsPSdyaWdodCcsCiAgICAgICAgICAgICAgICAgICAgVGV4dFNpemU9c2V0dGluZ3NfZ2xvYmFsLmdldCgiVGl0bGVUZXh0U2l6ZSIpLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHdpZGdldHMuUG9wdXBNZW51QnV0dG9uKAogICAgICAgICAgICAgICAgICAgIHdlaWdodD0yLAogICAgICAgICAgICAgICAgICAgIFZhbHVlPSfQo9C00LDQu9C40YLRjCcsCiAgICAgICAgICAgICAgICAgICAgVmFyaWFibGU9Im1lbnVfZGVsZXRlIgogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uPSdob3Jpem9udGFsJywKICAgICAgICAgICAgICAgIHdpZHRoPSdtYXRjaF9wYXJlbnQnCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHdpZGdldHMuTGluZWFyTGF5b3V0KAogICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldygKICAgICAgICAgICAgICAgICAgICBWYWx1ZT0nQG51bWJlcicsCiAgICAgICAgICAgICAgICAgICAgVGV4dEJvbGQ9VHJ1ZSwKICAgICAgICAgICAgICAgICAgICBUZXh0U2l6ZT1zZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkVGl0bGVUZXh0U2l6ZScpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHdpZGdldHMuTGluZWFyTGF5b3V0KAogICAgICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldygKICAgICAgICAgICAgICAgICAgICBWYWx1ZT0nQGNvdW50cmFnZW50JywKICAgICAgICAgICAgICAgICAgICBUZXh0U2l6ZT1zZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkRGF0ZVRleHRTaXplJykKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KAogICAgICAgICAgICAgICAgICAgIFZhbHVlPSdAd2FyZWhvdXNlJywKICAgICAgICAgICAgICAgICAgICBUZXh0U2l6ZT1zZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkRGF0ZVRleHRTaXplJykKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKSwKICAgICAgICAgICAgd2lkdGg9Im1hdGNoX3BhcmVudCIKICAgICAgICApLAogICAgICAgIG9wdGlvbnM9d2lkZ2V0cy5PcHRpb25zKCkub3B0aW9ucywKICAgICAgICBjYXJkc2RhdGE9dGFibGVfZGF0YQogICAgKQoKICAgIHJldHVybiBkb2NfbGlzdC50b19qc29uKCkKCgpkZWYgZ2V0X2RvY19xdWVyeShhcmc9JycpOgogICAgcXVlcnlfdGV4dCA9ICIiIgogICAgU0VMRUNUIFJTX2RvY3MuaWRfZG9jLAogICAgUlNfZG9jcy5kb2NfdHlwZSwKICAgIFJTX2RvY3MuZG9jX24sCiAgICBSU19kb2NzLmRvY19kYXRlLAogICAgUlNfZG9jcy5pZF9jb3VudHJhZ2VudHMsCiAgICBSU19kb2NzLmlkX3dhcmVob3VzZSwKICAgIGlmbnVsbChSU19jb3VudHJhZ2VudHMuZnVsbF9uYW1lLCcnKSBhcyBSU19jb3VudHJhZ2VudCwKICAgIGlmbnVsbChSU193YXJlaG91c2VzLm5hbWUsJycpIGFzIFJTX3dhcmVob3VzZSwKICAgIFJTX2RvY3MudmVyaWZpZWQsCiAgICBSU19kb2NzLnNlbnQsCiAgICBSU19kb2NzLmFkZF9tYXJrX3NlbGVjdGlvbgoKICAgICBGUk9NIFJTX2RvY3MKICAgICBMRUZUIEpPSU4gUlNfY291bnRyYWdlbnRzIGFzIFJTX2NvdW50cmFnZW50cwogICAgIE9OIFJTX2NvdW50cmFnZW50cy5pZCA9IFJTX2RvY3MuaWRfY291bnRyYWdlbnRzCiAgICAgTEVGVCBKT0lOIFJTX3dhcmVob3VzZXMgYXMgUlNfd2FyZWhvdXNlcwogICAgIE9OIFJTX3dhcmVob3VzZXMuaWQ9UlNfZG9jcy5pZF93YXJlaG91c2UKICAgICAiIiIKICAgIGlmIG5vdCAoYXJnID09ICcnIG9yIGFyZyA9PSAn0JLRgdC1Jyk6CiAgICAgICAgcXVlcnlfdGV4dCA9IHF1ZXJ5X3RleHQgKyAnJycKICAgICAgICBXaGVyZSBSU19kb2NzLmRvY190eXBlPT8nJycKCiAgICBxdWVyeV90ZXh0ID0gcXVlcnlfdGV4dCArICIiIgogICAgT1JERVIKICAgIEJZCiAgICBSU19kb2NzLmRvY19kYXRlIiIiCiAgICByZXR1cm4gcXVlcnlfdGV4dAoKZGVmIGdldF9hZHJfZG9jX3F1ZXJ5KGFyZz0nJyk6CiAgICBxdWVyeV90ZXh0ID0gIiIiCiAgICBTRUxFQ1QgUlNfYWRyX2RvY3MuaWRfZG9jLAogICAgUlNfYWRyX2RvY3MuZG9jX3R5cGUsCiAgICBSU19hZHJfZG9jcy5kb2NfbiwKICAgIFJTX2Fkcl9kb2NzLmRvY19kYXRlLAogICAgUlNfYWRyX2RvY3MuaWRfd2FyZWhvdXNlLAogICAgaWZudWxsKFJTX3dhcmVob3VzZXMubmFtZSwnJykgYXMgUlNfd2FyZWhvdXNlLAogICAgUlNfYWRyX2RvY3MudmVyaWZpZWQsCiAgICBSU19hZHJfZG9jcy5zZW50LAogICAgUlNfYWRyX2RvY3MuYWRkX21hcmtfc2VsZWN0aW9uCgogICAgIEZST00gUlNfYWRyX2RvY3MKCiAgICAgTEVGVCBKT0lOIFJTX3dhcmVob3VzZXMgYXMgUlNfd2FyZWhvdXNlcwogICAgIE9OIFJTX3dhcmVob3VzZXMuaWQ9UlNfYWRyX2RvY3MuaWRfd2FyZWhvdXNlCiAgICAgIiIiCiAgICBpZiBub3QgKGFyZyA9PSAnJyBvciBhcmcgPT0gJ9CS0YHQtScpOgogICAgICAgIHF1ZXJ5X3RleHQgPSBxdWVyeV90ZXh0ICsgJycnCiAgICAgICAgV2hlcmUgUlNfYWRyX2RvY3MuZG9jX3R5cGU9PycnJwoKICAgIHF1ZXJ5X3RleHQgPSBxdWVyeV90ZXh0ICsgIiIiCiAgICBPUkRFUgogICAgQlkKICAgIFJTX2Fkcl9kb2NzLmRvY19kYXRlIiIiCiAgICByZXR1cm4gcXVlcnlfdGV4dAoKZGVmIGdldF9kb2NfdHlwZV9xdWVyeSgpOgogICAgbHMgPSAnU0VMRUNUIERJU1RJTkNUIGRvY190eXBlIGZyb20gUlNfZG9jcycKICAgIHJldHVybiBscwoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3QotC+0LLQsNGA0YsKZGVmIGdldF9nb29kc19jYXJkKHNldHRpbmdzX2dsb2JhbCk6CiAgICBsaXN0ID0geyJjdXN0b21jYXJkcyI6IHsKICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgfSwKICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQG5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkVGl0bGVUZXh0U2l6ZScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAY29kZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0NhcmRUZXh0U2l6ZScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAR1RJTiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0NhcmRUZXh0U2l6ZScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAdHlwZV9uYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnQ2FyZFRleHRTaXplJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkB1bml0X25hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdDYXJkVGV4dFNpemUnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH0KCiAgICB9CiAgICB9CiAgICByZXR1cm4gbGlzdAoKZGVmIGZpZWxkc19hbGlhc19kaWN0KCk6CiAgICAjICgiVGl0bGVUZXh0U2l6ZSIsICIxOCIsIFRydWUpCiAgICAjICgidGl0bGVEb2NUeXBlQ2FyZFRleHRTaXplIiwgIjE4IiwgVHJ1ZSkKICAgICMgKCJDYXJkVGl0bGVUZXh0U2l6ZSIsICIyMCIsIFRydWUpCiAgICAjICgiQ2FyZERhdGVUZXh0U2l6ZSIsICIxMCIsIFRydWUpCiAgICAjICgiQ2FyZFRleHRTaXplIiwgIjE1IiwgVHJ1ZSkKICAgICMgKCJHb29kc0NhcmRUaXRsZVRleHRTaXplIiwgIjE4IiwgVHJ1ZSkKICAgICMgKCJnb29kc1RleHRTaXplIiwgIjE4IiwgVHJ1ZSkKICAgICMgKCJTZXJpZXNQcm9wZXJ0aWVzVGV4dFNpemUiLCAiMTYiLCBUcnVlKQogICAgIyAoIkRvY1R5cGVDYXJkVGV4dFNpemUiLCAiMTUiLCBUcnVlKQogICAgCiAgICByZXR1cm4gewogICAgICAgICdpZF9nb29kJzp7J25hbWUnOifQndC+0LzQtdC90LrQu9Cw0YLRg9GA0LAnLCAndGV4dF9zaXplJzonVGl0bGVUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IFRydWV9LAogICAgICAgICd0eXBlX2dvb2QnOiB7J25hbWUnOifQotC40L8g0L3QvtC80LXQvdC60LvQsNGC0YPRgNGLJywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAndW5pdCc6eyduYW1lJzogJ9CV0LTQuNC90LjRhtCwINC40LfQvNC10YDQtdC90LjRjycsICd0ZXh0X3NpemUnOidDYXJkVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0sCiAgICAgICAgJ2lkX3Byb3BlcnR5Jzp7J25hbWUnOiAn0KXQsNGA0LDQutGC0LXRgNC40YHRgtC40LrQsCcsICd0ZXh0X3NpemUnOidDYXJkVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0sCiAgICAgICAgJ2lkX3Nlcmllcyc6IHsnbmFtZSc6J9Ch0LXRgNC40Y8nLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdpZF91bml0Jzp7J25hbWUnOiAn0JXQtNC40L3QuNGG0LAg0LjQt9C80LXRgNC10L3QuNGPJywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAnaWRfY291bnRyYWdlbnRzJzp7J25hbWUnOiAn0JrQvtC90YLRgNCw0LPQtdC90YInLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdpZF93YXJlaG91c2UnOnsnbmFtZSc6ICfQodC60LvQsNC0JywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAnaWRfZG9jJzp7J25hbWUnOiAn0J3QvtC80LXQvdC60LvQsNGC0YPRgNCwJywgJ3RleHRfc2l6ZSc6J1RpdGxlVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBUcnVlfSwKICAgICAgICAnaWRfY2VsbCc6eyduYW1lJzogJ9Cv0YfQtdC50LrQsCcsICd0ZXh0X3NpemUnOidDYXJkVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0sCiAgICAgICAgJ2lkJzp7J25hbWUnOiAna2V5JywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAnbmFtZSc6eyduYW1lJzogJ9Cd0LDQuNC80LXQvdC+0LLQsNC90LjQtScsICd0ZXh0X3NpemUnOidUaXRsZVRleHRTaXplJywgIlRleHRCb2xkIjogVHJ1ZX0sCiAgICAgICAgJ2NvZGUnOnsnbmFtZSc6ICfQmtC+0LQnLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdhcnQnOnsnbmFtZSc6ICfQkNGA0YLQuNC60YPQuycsICd0ZXh0X3NpemUnOidDYXJkVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0sCiAgICAgICAgJ2Rlc2NyaXB0aW9uJzp7J25hbWUnOiAn0J7Qv9C40YHQsNC90LjQtScsICd0ZXh0X3NpemUnOidDYXJkRGF0ZVRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdxdHR5Jzp7J25hbWUnOiAn0JrQvtC70LjRh9C10YHRgtCy0L4nLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogVHJ1ZX0sCiAgICAgICAgJ3F0dHlfcGxhbic6eyduYW1lJzogJ9Ca0L7Qu9C40YfQtdGB0YLQstC+INC/0LvQsNC9JywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IFRydWV9LAogICAgICAgICdiYXJjb2RlJzp7J25hbWUnOiAn0KjRgtGA0LjRhdC60L7QtCcsICd0ZXh0X3NpemUnOidDYXJkVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0sCiAgICAgICAgJ2Z1bGxfbmFtZSc6eyduYW1lJzogJ9Cf0L7Qu9C90L7QtSDQvdCw0LjQvNC10L3QvtCy0LDQvdC40LUnLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdpbm4nOnsnbmFtZSc6ICfQmNCd0J0nLCAndGV4dF9zaXplJzonVGl0bGVUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAna3BwJzp7J25hbWUnOiAn0JrQn9CfJywgJ3RleHRfc2l6ZSc6J1RpdGxlVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0sCiAgICAgICAgJ21hcmtfY29kZSc6eyduYW1lJzogJ9Co0YLRgNC40YXQutC+0LQnLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdpZF9wcmljZV90eXBlcyc6eyduYW1lJzogJ9Ci0LjQvyDRhtC10L3RiycsICd0ZXh0X3NpemUnOidUaXRsZVRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICdwcmljZSc6eyduYW1lJzogJ9Cm0LXQvdCwJywgJ3RleHRfc2l6ZSc6J1RpdGxlVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBUcnVlfSwKICAgICAgICAnaWRfb3duZXInOnsnbmFtZSc6ICfQktC70LDQtNC10LvQtdGGJywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAnYmVzdF9iZWZvcmUnOnsnbmFtZSc6ICfQk9C+0LTQtdC9INC00L46JywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAnbnVtYmVyJzp7J25hbWUnOifQndC+0LzQtdGAJywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAncHJvZHVjdGlvbl9kYXRlJzp7J25hbWUnOifQlNCw0YLQsCDQv9GA0L7QuNC30LLQvtC00YHRgtCy0LAnLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogRmFsc2V9LAogICAgICAgICd1c2VfbWFyayc6eyduYW1lJzon0JjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINC80LDRgNC60LjRgNC+0LLQutGDJywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IEZhbHNlfSwKICAgICAgICAnbm9taW5hdG9yJzp7J25hbWUnOifQndC+0LzQuNC90LDRgtC+0YAnLCAndGV4dF9zaXplJzonQ2FyZFRleHRTaXplJywgIlRleHRCb2xkIjogVHJ1ZX0sCiAgICAgICAgJ2Rlbm9taW5hdG9yJzp7J25hbWUnOifQlNC10L3QvtC80LjQvdCw0YLQvtGAJywgJ3RleHRfc2l6ZSc6J0NhcmRUZXh0U2l6ZScsICJUZXh0Qm9sZCI6IFRydWV9LAogICAgICAgICdsb2cnOiB7J25hbWUnOiAn0J7RiNC40LHQutCwJywgJ3RleHRfc2l6ZSc6ICdDYXJkVGV4dFNpemUnLCAiVGV4dEJvbGQiOiBGYWxzZX0KICAgICAgICB9CgoKZGVmIHRhYmxlX25hbWVzX2RpY3QoKToKICAgIHJldHVybiB7CiAgICAgICAgJ2lkX2dvb2QnOidSU19nb29kcycsCiAgICAgICAgJ3R5cGVfZ29vZCc6ICdSU190eXBlc19nb29kcycsCiAgICAgICAgJ3VuaXQnOiAnUlNfdW5pdHMnLAogICAgICAgICdpZF9wcm9wZXJ0eSc6ICdSU19wcm9wZXJ0aWVzJywKICAgICAgICAnaWRfc2VyaWVzJzogJ1JTX3NlcmllcycsCiAgICAgICAgJ2lkX3VuaXQnOiAnUlNfdW5pdHMnLAogICAgICAgICdpZF9jb3VudHJhZ2VudHMnOiAnUlNfY291bnRyYWdlbnRzJywKICAgICAgICAnaWRfd2FyZWhvdXNlJzogJ1JTX3dhcmVob3VzZXMnLAogICAgICAgICdpZF9kb2MnOiAnUlNfZG9jcycsCiAgICAgICAgJ2lkX2NlbGwnOiAnUlNfY2VsbHMnLAogICAgICAgICdpZF9vd25lcic6ICdSU19nb29kcycsCiAgICAgICAgJ2lkX3ByaWNlX3R5cGVzJzogJ1JTX3ByaWNlX3R5cGVzJwogICAgICAgICAgICB9CmRlZiBnZXRfZWxlbV9kaWN0KHRleHRfc2l6ZSk6CiAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQG5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiB0ZXh0X3NpemUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgpkZWYgZ2V0X3VuaXZlcnNhbF9jYXJkKCkgLT4gb2JqZWN0OgoKICAgIGxpc3QgPSB7ImN1c3RvbWNhcmRzIjogewogICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBUcnVlLAogICAgICAgICAgICAnb3ZlcnJpZGVfc2VhcmNoJzogVHJ1ZSwKICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgfSwKICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2VpZ2h0IjogIjAiLAoKICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH0KCiAgICB9CiAgICB9CgoKICAgIHJldHVybiBsaXN0CgoKZGVmIGdldF9nb29kc19xdWVyeSgpOgogICAgcXVlcnlfdGV4dCA9ICIiIgogICAgU0VMRUNUIFJTX2dvb2RzLmlkLAogICAgUlNfZ29vZHMuY29kZSwKICAgIFJTX2dvb2RzLmFydCwKICAgIFJTX2dvb2RzLm5hbWUsCiAgICBSU19nb29kcy50eXBlX2dvb2QsCiAgICBSU190eXBlc19nb29kcy5uYW1lIEFTIHR5cGVzX2dvb2RzLAogICAgUlNfZ29vZHMudW5pdCwKICAgIFJTX3VuaXRzLm5hbWUKICAgIEZST00gUlNfZ29vZHMKICAgIExFRlQgSk9JTiBSU190eXBlc19nb29kcwogICAgT04gUlNfdHlwZXNfZ29vZHMuaWQgPSBSU19nb29kcy50eXBlX2dvb2QKICAgIExFRlQgSk9JTiBSU191bml0cwogICAgT04gUlNfdW5pdHMuaWRfb3duZXIgPSBSU19nb29kcy5pZCIiIgogICAgcmV0dXJuIHF1ZXJ5X3RleHQKCgpkZWYgZ2V0X3ByaWNlX2NhcmQoc2V0dGluZ3NfZ2xvYmFsKToKICAgIHR4dCA9IHsiY3VzdG9tY2FyZHMiOiB7CiAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IEZhbHNlLAogICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKICAgICAgICB9LAogICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAiVmFsdWUiOiAiIiwKICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIyIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwcmljZV90eXBlIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0NhcmRUaXRsZVRleHRTaXplJykKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHByaWNlIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0NhcmRUZXh0U2l6ZScpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgXQogICAgfQogICAgfQogICAgcmV0dXJuIHR4dAoKCmRlZiBnZXRfZG9jX2RldGFpbHNfcXVlcnkoaXNBZHIgPSBGYWxzZSwgY3VyQ2VsbCA9IEZhbHNlKToKICAgIGlmIGlzQWRyOgogICAgICAgIHF1ZXJ5X3RleHQgPSAnJycKICAgICAgICAgICAgU0VMRUNUCiAgICAgICAgICAgIFJTX2Fkcl9kb2NzX3RhYmxlLmlkLAogICAgICAgICAgICBSU19hZHJfZG9jc190YWJsZS5pZF9kb2MsCiAgICAgICAgICAgIFJTX2Fkcl9kb2NzX3RhYmxlLmlkX2dvb2QsCiAgICAgICAgICAgIGlmbnVsbChSU19nb29kcy5uYW1lLCA6TnVsbFZhbHVlKSBhcyBnb29kX25hbWUsCiAgICAgICAgICAgIGlmbnVsbChSU19nb29kcy5jb2RlLCA6RW1wdHlTdHJpbmcpIGFzIGNvZGUsCiAgICAgICAgICAgIGlmbnVsbChSU19nb29kcy5hcnQsIDpFbXB0eVN0cmluZykgYXMgYXJ0LAogICAgICAgICAgICBpZm51bGwoUlNfYWRyX2RvY3NfdGFibGUuaWRfcHJvcGVydGllcywgOkVtcHR5U3RyaW5nKSBhcyBpZF9wcm9wZXJ0aWVzLAogICAgICAgICAgICBpZm51bGwoUlNfcHJvcGVydGllcy5uYW1lLCA6RW1wdHlTdHJpbmcpIGFzIHByb3BlcnRpZXNfbmFtZSwKICAgICAgICAgICAgaWZudWxsKFJTX2Fkcl9kb2NzX3RhYmxlLmlkX3NlcmllcywgOkVtcHR5U3RyaW5nKSBhcyBpZF9zZXJpZXMsCiAgICAgICAgICAgIGlmbnVsbChSU19zZXJpZXMubmFtZSwgOkVtcHR5U3RyaW5nKSBhcyBzZXJpZXNfbmFtZSwKICAgICAgICAgICAgaWZudWxsKFJTX2Fkcl9kb2NzX3RhYmxlLmlkX3VuaXQsIDpFbXB0eVN0cmluZykgYXMgaWRfdW5pdCwKICAgICAgICAgICAgaWZudWxsKFJTX3VuaXRzLm5hbWUsIDpFbXB0eVN0cmluZykgYXMgdW5pdHNfbmFtZSwKICAgICAgICAgICAgUlNfYWRyX2RvY3NfdGFibGUucXR0eSBhcyBxdHR5LAogICAgICAgICAgICBSU19hZHJfZG9jc190YWJsZS5xdHR5X3BsYW4gYXMgcXR0eV9wbGFuLAogICAgICAgICAgICBSU19hZHJfZG9jc190YWJsZS5xdHR5X3BsYW4gLSBSU19hZHJfZG9jc190YWJsZS5xdHR5IGFzIElzRG9uZSwKICAgICAgICAgICAgaWZudWxsKFJTX2Fkcl9kb2NzX3RhYmxlLmlkX2NlbGwsIDpFbXB0eVN0cmluZykgYXMgaWRfY2VsbCwKICAgICAgICAgICAgaWZudWxsKFJTX2NlbGxzLm5hbWUsIDpOdWxsVmFsdWUpIGFzIGNlbGxfbmFtZQogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIEZST00gUlNfYWRyX2RvY3NfdGFibGUgCgogICAgICAgICAgICBMRUZUIEpPSU4gUlNfZ29vZHMgCiAgICAgICAgICAgIE9OIFJTX2dvb2RzLmlkPVJTX2Fkcl9kb2NzX3RhYmxlLmlkX2dvb2QKICAgICAgICAgICAgTEVGVCBKT0lOIFJTX3Byb3BlcnRpZXMKICAgICAgICAgICAgT04gUlNfcHJvcGVydGllcy5pZCA9IFJTX2Fkcl9kb2NzX3RhYmxlLmlkX3Byb3BlcnRpZXMKICAgICAgICAgICAgTEVGVCBKT0lOIFJTX3NlcmllcwogICAgICAgICAgICBPTiBSU19zZXJpZXMuaWQgPSBSU19hZHJfZG9jc190YWJsZS5pZF9zZXJpZXMKICAgICAgICAgICAgTEVGVCBKT0lOIFJTX3VuaXRzCiAgICAgICAgICAgIE9OIFJTX3VuaXRzLmlkPVJTX2Fkcl9kb2NzX3RhYmxlLmlkX3VuaXQKICAgICAgICAgICAgTEVGVCBKT0lOIFJTX2NlbGxzCiAgICAgICAgICAgIE9OIFJTX2NlbGxzLmlkPVJTX2Fkcl9kb2NzX3RhYmxlLmlkX2NlbGwKCiAgICAgICAgICAgIFdIRVJFIGlkX2RvYyA9IDppZF9kb2MgYW5kIHRhYmxlX3R5cGUgPSA6dGFibGVfdHlwZQogICAgICAgICAgICAKICAgICAgICAgICAgJycnCgogICAgICAgIGlmIGN1ckNlbGw6CiAgICAgICAgICAgIHF1ZXJ5X3RleHQgPSBxdWVyeV90ZXh0ICsgJycnCiAgICAgICAgICAgICBhbmQgKGlkX2NlbGw9OmN1cnJlbnRfY2VsbCBPUiBpZF9jZWxsPSIiIE9SIGlkX2NlbGwgaXMgTnVsbCkKICAgICAgICAgICAgJycnCgogICAgICAgIHF1ZXJ5X3RleHQgPSBxdWVyeV90ZXh0ICsgJyBPUkRFUiBCWSBSU19jZWxscy5uYW1lLCBSU19hZHJfZG9jc190YWJsZS5sYXN0X3VwZGF0ZWQgREVTQycKCiAgICBlbHNlOgogICAgICAgIHF1ZXJ5X3RleHQgPSAiIiIKICAgICAgICBTRUxFQ1QKICAgICAgICBSU19kb2NzX3RhYmxlLmlkLAogICAgICAgIFJTX2RvY3NfdGFibGUuaWRfZG9jLAogICAgICAgIFJTX2RvY3NfdGFibGUuaWRfZ29vZCwKICAgICAgICBSU19nb29kcy5uYW1lIGFzIGdvb2RfbmFtZSwKICAgICAgICBSU19nb29kcy5jb2RlLAogICAgICAgIFJTX2dvb2RzLmFydCwKICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3Byb3BlcnRpZXMsCiAgICAgICAgUlNfcHJvcGVydGllcy5uYW1lIGFzIHByb3BlcnRpZXNfbmFtZSwKICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3NlcmllcywKICAgICAgICBSU19zZXJpZXMubmFtZSBhcyBzZXJpZXNfbmFtZSwKICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3VuaXQsCiAgICAgICAgUlNfdW5pdHMubmFtZSBhcyB1bml0c19uYW1lLAogICAgICAgIFJTX2RvY3NfdGFibGUucXR0eSwKICAgICAgICBSU19kb2NzX3RhYmxlLnF0dHlfcGxhbiwKICAgICAgICBSU19kb2NzX3RhYmxlLnByaWNlLAogICAgICAgIFJTX3ByaWNlX3R5cGVzLm5hbWUgYXMgcHJpY2VfbmFtZSwKICAgICAgICBSU19kb2NzX3RhYmxlLnF0dHlfcGxhbiAtIFJTX2RvY3NfdGFibGUucXR0eSBhcyBJc0RvbmUKICAgICAgICBGUk9NIFJTX2RvY3NfdGFibGUgCiAgICAKICAgICAgICBMRUZUIEpPSU4gUlNfZ29vZHMgCiAgICAgICAgT04gUlNfZ29vZHMuaWQ9UlNfZG9jc190YWJsZS5pZF9nb29kCiAgICAgICAgTEVGVCBKT0lOIFJTX3Byb3BlcnRpZXMKICAgICAgICBPTiBSU19wcm9wZXJ0aWVzLmlkID0gUlNfZG9jc190YWJsZS5pZF9wcm9wZXJ0aWVzCiAgICAgICAgTEVGVCBKT0lOIFJTX3NlcmllcwogICAgICAgIE9OIFJTX3Nlcmllcy5pZCA9IFJTX2RvY3NfdGFibGUuaWRfc2VyaWVzCiAgICAgICAgTEVGVCBKT0lOIFJTX3VuaXRzCiAgICAgICAgT04gUlNfdW5pdHMuaWQ9UlNfZG9jc190YWJsZS5pZF91bml0CiAgICAgICAgTEVGVCBKT0lOIFJTX3ByaWNlX3R5cGVzCiAgICAgICAgT04gUlNfcHJpY2VfdHlwZXMuaWQgPSBSU19kb2NzX3RhYmxlLmlkX3ByaWNlCiAgICAgICAgV0hFUkUgaWRfZG9jID0gJGFyZzEKICAgICAgICBPUkRFUiBCWSBSU19kb2NzX3RhYmxlLmxhc3RfdXBkYXRlZCBERVNDIAogICAgICAgICIiIgoKICAgIHJldHVybiBxdWVyeV90ZXh0CgoKCgpkZWYgZ2V0X2RvY19kZXRhaWxfY2FyZHModXNlX3NlcmllcywgdXNlX3Byb3BlcnRpZXMsIHNldHRpbmdzX2dsb2JhbCwgaXNBZHIgPSBGYWxzZSk6CiAgICBjZWxsTWVudUNvbW1hbmQgPSAnO9CY0LfQvNC10L3QuNGC0Ywg0Y/Rh9C10LnQutGDJyBpZiBpc0FkciBlbHNlICcnCiAgICBsaXN0ID0gewogICAgICAgICJjdXN0b21jYXJkcyI6IHsKICAgICAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBUcnVlLAogICAgICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBnb29kX25hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdHb29kc0NhcmRUaXRsZVRleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwaWN0dXJlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjI1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIjREI3MDkzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRkZGRkZGIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICIyNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiUG9wdXBNZW51QnV0dG9uIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6IGYi0KPQtNCw0LvQuNGC0Ywg0YHRgtGA0L7QutGDe2NlbGxNZW51Q29tbWFuZH0iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICJtZW51X2dvb2Rfc3RyaW5nIgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAY29kZV9hcnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHVuaXRfbmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiZ29yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQn9C70LDQvSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcXR0eV9wbGFuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCk0LDQutGCIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBxdHR5IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCm0LXQvdCwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwcmljZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBpZiB1c2Vfc2VyaWVzID09ICd0cnVlJyBvciB1c2Vfc2VyaWVzID09ICcxJzoKICAgICAgICBsaXN0WydjdXN0b21jYXJkcyddWydsYXlvdXQnXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXS5pbnNlcnQoMSwgeyd0eXBlJzogJ1RleHRWaWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZScpLCAjMTYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzaG93X2J5X2NvbmRpdGlvbic6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZhbHVlJzogJ0BzZXJpZXNfbmFtZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm9SZWZyZXNoJzogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZG9jdW1lbnRfdHlwZSc6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hc2snOiAnJywgJ1ZhcmlhYmxlJzogJyd9KQogICAgaWYgdXNlX3Byb3BlcnRpZXMgPT0gJ3RydWUnIG9yIHVzZV9wcm9wZXJ0aWVzID09ICcxJzoKICAgICAgICBsaXN0WydjdXN0b21jYXJkcyddWydsYXlvdXQnXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXS5pbnNlcnQoMSwgeyd0eXBlJzogJ1RleHRWaWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZScpLCAjJzE2JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzaG93X2J5X2NvbmRpdGlvbic6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZhbHVlJzogJ0Bwcm9wZXJ0aWVzX25hbWUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ05vUmVmcmVzaCc6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RvY3VtZW50X3R5cGUnOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXNrJzogJycsICdWYXJpYWJsZSc6ICcnfSkKICAgIGlmIGlzQWRyOgogICAgICAgIGxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2xheW91dCddWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddLmluc2VydCgxLCB7J3R5cGUnOiAnVGV4dFZpZXcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VyaWVzUHJvcGVydGllc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjICcxNicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2hvd19ieV9jb25kaXRpb24nOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWYWx1ZSc6ICdAY2VsbF9uYW1lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdOb1JlZnJlc2gnOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkb2N1bWVudF90eXBlJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFzayc6ICcnLCAnVmFyaWFibGUnOiAnJ30pCgogICAgICAgIHBhc3MKCiAgICByZXR1cm4gbGlzdAoKCmRlZiBnZXRfZG9jX2RldGFpbF9jYXJkc19uZXcoc2V0dGluZ3NfZ2xvYmFsLCBjYXJkc19kYXRhOiBsaXN0LCBhZGRfbGFiZWxzOiBsaXN0ID0gW10pOgogICAgZ29vZHNfdGV4dF9zaXplID0gc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpCiAgICBoZWFkZXIgPSB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICBvcmllbnRhdGlvbj0naG9yaXpvbnRhbCcsCiAgICAgICAgaGVpZ2h0PSdtYXRjaF9wYXJlbnQnLAogICAgICAgIHdpZHRoPSdtYXRjaF9wYXJlbnQnLAogICAgKQoKICAgICMgc2VyaWVzX25hbWUsIHByb3BlcnRpZXNfbmFtZSwgY2VsbF9uYW1lCiAgICBmb3IgbGFiZWwgaW4gYWRkX2xhYmVsczoKICAgICAgICBoZWFkZXIuYXBwZW5kKAogICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KFZhbHVlPWYnQHtsYWJlbH0nLCBUZXh0U2l6ZT1zZXR0aW5nc19nbG9iYWwuZ2V0KCdTZXJpZXNQcm9wZXJ0aWVzVGV4dFNpemUnKSksCiAgICAgICAgKQoKICAgIGhlYWRlci5hcHBlbmQoCiAgICAgICAgd2lkZ2V0cy5UZXh0VmlldygKICAgICAgICAgICAgVmFsdWU9J0Bnb29kX25hbWUnLAogICAgICAgICAgICBUZXh0Qm9sZD1UcnVlLAogICAgICAgICAgICBUZXh0U2l6ZT1zZXR0aW5nc19nbG9iYWwuZ2V0KCdHb29kc0NhcmRUaXRsZVRleHRTaXplJyksCiAgICAgICAgICAgIHdlaWdodD0nMScKICAgICAgICApLAogICAgICAgIHdpZGdldHMuVGV4dFZpZXcoCiAgICAgICAgICAgIFZhbHVlPSdAcGljdHVyZScsCiAgICAgICAgICAgIFRleHRTaXplPScyNScsCiAgICAgICAgICAgIFRleHRDb2xvcj0nI0RCNzA5MycsCiAgICAgICAgICAgIEJhY2tncm91bmRDb2xvcj0iI0ZGRkZGRiIsCiAgICAgICAgICAgIHdlaWdodD0xLAogICAgICAgICAgICBoZWlnaHQ9MjUsCiAgICAgICAgKSwKICAgICkKCiAgICBjb2RlX2FydCA9IHdpZGdldHMuVGV4dFZpZXcoVmFsdWU9J0Bjb2RlX2FydCcsIFRleHRTaXplPXNldHRpbmdzX2dsb2JhbC5nZXQoJ2dvb2RzVGV4dFNpemUnKSkKICAgIHVuaXRfbmFtZSA9IHdpZGdldHMuVGV4dFZpZXcoVmFsdWU9J0B1bml0X25hbWUnLCBUZXh0U2l6ZT1zZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJykpCiAgICBmb290ZXIgPSB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldyhWYWx1ZT0n0J/Qu9Cw0L0nLCBUZXh0U2l6ZT1nb29kc190ZXh0X3NpemUpLAogICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KFZhbHVlPSdAcXR0eV9wbGFuJywgVGV4dFNpemU9Z29vZHNfdGV4dF9zaXplKSwKICAgICAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcsCiAgICAgICAgICAgIHdlaWdodD0xLAogICAgICAgICksCiAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgIHdpZGdldHMuVGV4dFZpZXcoVmFsdWU9J9Ck0LDQutGCJywgVGV4dFNpemU9Z29vZHNfdGV4dF9zaXplKSwKICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldyhWYWx1ZT0nQHF0dHknLCBUZXh0U2l6ZT1nb29kc190ZXh0X3NpemUpLAogICAgICAgICAgICB3aWR0aD0nbWF0Y2hfcGFyZW50JywKICAgICAgICAgICAgd2VpZ2h0PTEsCiAgICAgICAgKSwKICAgICAgICB3aWRnZXRzLkxpbmVhckxheW91dCgKICAgICAgICAgICAgd2lkZ2V0cy5UZXh0VmlldyhWYWx1ZT0n0KbQtdC90LAnLCBUZXh0U2l6ZT1nb29kc190ZXh0X3NpemUpLAogICAgICAgICAgICB3aWRnZXRzLlRleHRWaWV3KFZhbHVlPSdAcHJpY2UnLCBUZXh0U2l6ZT1nb29kc190ZXh0X3NpemUpLAogICAgICAgICAgICB3aWR0aD0nbWF0Y2hfcGFyZW50JywKICAgICAgICAgICAgd2VpZ2h0PTEsCiAgICAgICAgKSwKICAgICAgICBoZWlnaHQ9J21hdGNoX3BhcmVudCcsCiAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcsCiAgICAgICAgb3JpZW50YXRpb249J2hvcml6b250YWwnLAogICAgICAgIHdlaWdodD0xLAogICAgKQoKICAgIGRldGFpbF9jYXJkcyA9IHdpZGdldHMuQ3VzdG9tQ2FyZHMoCiAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgIHdpZGdldHMuTGluZWFyTGF5b3V0KAogICAgICAgICAgICAgICAgd2lkZ2V0cy5MaW5lYXJMYXlvdXQoCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyLAogICAgICAgICAgICAgICAgICAgIGNvZGVfYXJ0LAogICAgICAgICAgICAgICAgICAgIHVuaXRfbmFtZSwKICAgICAgICAgICAgICAgICAgICBmb290ZXIsCiAgICAgICAgICAgICAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0PScxJwogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIGhlaWdodD0nbWF0Y2hfcGFyZW50JywKICAgICAgICAgICAgICAgIHdpZHRoPSdtYXRjaF9wYXJlbnQnLAogICAgICAgICAgICAgICAgb3JpZW50YXRpb249J2hvcml6b250YWwnCiAgICAgICAgICAgICksCiAgICAgICAgICAgIGhlaWdodD0nbWF0Y2hfcGFyZW50JywKICAgICAgICAgICAgd2lkdGg9J21hdGNoX3BhcmVudCcKICAgICAgICApLAogICAgICAgIG9wdGlvbnM9d2lkZ2V0cy5PcHRpb25zKCkub3B0aW9ucywKICAgICAgICBjYXJkc2RhdGE9Y2FyZHNfZGF0YQogICAgKQoKICAgIHJldHVybiBkZXRhaWxfY2FyZHMudG9fanNvbigpCgoKZGVmIGdldF9kb2NfYmFyY19mbG93X3F1ZXJ5KCk6CiAgICByZXR1cm4gJycnCiAgICBTZWxlY3QgKiBmcm9tIFJTX2JhcmNfZmxvdyBXSGVyZSBpZF9kb2MgPT8KICAgICcnJwoKZGVmIGRvY19iYXJjX2Zsb3dfY2FyZChzZXR0aW5nc19nbG9iYWwpOgogICAgbGlzdCA9IHsKICAgICAgICAiY3VzdG9tY2FyZHMiOiB7CiAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICJzYXZlX3Bvc2l0aW9uIjogVHJ1ZQogICAgICAgICAgICB9LAogICAgICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGJhcmNvZGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0dvb2RzQ2FyZFRpdGxlVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCgogICAgcmV0dXJuIGxpc3QKCmRlZiBnZXRfcHJpY2VfcXVlcnkoKToKICAgIHR4dCA9ICIiIgogICAgU0VMRUNUICosCiAgICBSU19wcmljZV90eXBlcy5uYW1lCiAgICAgZnJvbSBSU19wcmljZXMgCiAgICAgTEVGVCBKT0lOIFJTX3ByaWNlX3R5cGVzIE9OIFJTX3ByaWNlX3R5cGVzLmlkPVJTX3ByaWNlcy5pZF9wcmljZV90eXBlcwogICAgIHdoZXJlIGlkX2dvb2RzPT8iIiIKICAgIHJldHVybiB0eHQKCgojINCh0L7QstGA0LXQvNC10L3QvdC+0LUg0L/QvtC70LUg0LLQstC+0LTQsCwg0L3QtSDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8KZGVmIGdldF9udW1fZmllbGRfZGVzY3IocXR0eSk6CiAgICBqc29uX2Rlc2NyID0gewogICAgICAgICJoaW50IjogJ9C60L7Qu9C40YfQtdGB0YLQstC+JywKICAgICAgICAiZGVmYXVsdF90ZXh0IjogcXR0eSwKICAgICAgICAnaW5wdXRUeXBlICc6ICdUWVBFX0NMQVNTX05VTUJFUicKICAgIH0KICAgIHJldHVybiBqc29uX2Rlc2NyCgoKIyBkZWYgZ2V0X2JhcmNvZGVfcXVlcnkoKToKIyAgICAgcXVlcnlfdGV4dCA9ICdTRUxFQ1QgKiBGUk9NIFJTX2RvY3NfYmFyY29kZXMgV2hlcmUgUlNfZG9jc19iYXJjb2Rlcy5pZF9kb2MgPSA/JwojICAgICByZXR1cm4gcXVlcnlfdGV4dAoKCiMg0JfQsNC/0YDQvtGBINC90LDRhdC+0LTQuNGCINCy0YHQtSDQt9Cw0L/QuNGB0Lgg0YLQsNCx0LvQuNGG0Ysg0LTQvtC60YPQvNC10L3RgtCwIFJTX2RvY3NfYmFyY29kZXMg0L/QviDQv9C+0LvQvdC+0LzRgyDRgdC+0LLQv9Cw0LTQtdC90LjRjiDRiNGC0YDQuNGF0LrQvtC00LAg0LjQu9C4INGC0L7Qu9GM0LrQviDQv9C+IEdUSU4KZGVmIGdldF9xdWVyeV9tYXJrX2ZpbmRfaW5fZG9jKCk6CiAgICBxdWVyeSA9ICcnJwogICAgU0VMRUNUIAogICAgaWQsCiAgICBpZF9kb2MsCiAgICBJRk5VTEwoR1RJTiwgJzAnKSBBUyBHVElOLAogICAgSUZOVUxMKFNlcmllcywgJzAnKSBBUyBTZXJpZXMsCiAgICBJRk5VTEwoaWRfZ29vZCwgJycpIEFTIGlkX2dvb2QsCiAgICBJRk5VTEwoaWRfcHJvcGVydHksICcnKSBBUyBpZF9wcm9wZXJ0eSAsCiAgICBJRk5VTEwoaWRfc2VyaWVzLCAnJykgQVMgaWRfc2VyaWVzLAogICAgSUZOVUxMKGlkX3VuaXQsICcnKSAgQVMgaWRfdW5pdCwKICAgIGlzX3BsYW4sCiAgICBhcHByb3ZlZAoKICAgIEZST00gUlNfZG9jc19iYXJjb2RlcwoKICAgIFdIRVJFIGlkX2RvYyA9IDppZF9kb2MgIGFuZCBHVElOID0gOkdUSU4gQW5kIFNlcmllcyA9IDpTZXJpZXMnJycKCiAgICAjCiAgICAjCiAgICAjICAgICAnJycKICAgICMgU0VMRUNUICogRlJPTSAoCiAgICAjCiAgICAjIFNFTEVDVAogICAgIyBSU19kb2NzX2JhcmNvZGVzLmlkLAogICAgIyBSU19kb2NzX2JhcmNvZGVzLmlkX2RvYywKICAgICMKICAgICMgUlNfZG9jc19iYXJjb2Rlcy5pZF9iYXJjb2RlLAogICAgIwogICAgIyBJRk5VTEwoUlNfbWFya2luZ19jb2Rlcy5tYXJrX2NvZGUsICcwJykgQVMgbWFya19jb2RlLAogICAgIyBJRk5VTEwoUlNfbWFya2luZ19jb2Rlcy5pZF9nb29kLCAnJykgQVMgaWRfZ29vZCwKICAgICMgSUZOVUxMKFJTX21hcmtpbmdfY29kZXMuaWRfcHJvcGVydHksICcnKSBBUyBpZF9wcm9wZXJ0eSAsCiAgICAjIElGTlVMTChSU19tYXJraW5nX2NvZGVzLmlkX3NlcmllcywgJycpIEFTIGlkX3NlcmllcywKICAgICMgSUZOVUxMKFJTX21hcmtpbmdfY29kZXMuaWRfdW5pdCwgJycpICBBUyBpZF91bml0LAogICAgIwogICAgIyBSU19kb2NzX2JhcmNvZGVzLmlzX3BsYW4sCiAgICAjIFJTX2RvY3NfYmFyY29kZXMuYXBwcm92ZWQKICAgICMKICAgICMgRlJPTSBSU19kb2NzX2JhcmNvZGVzCiAgICAjCiAgICAjICAgICBMRUZUIEpPSU4gUlNfbWFya2luZ19jb2RlcyBBcyBSU19tYXJraW5nX2NvZGVzCiAgICAjICAgICBPTiBSU19tYXJraW5nX2NvZGVzLmlkID0gUlNfZG9jc19iYXJjb2Rlcy5pZF9iYXJjb2RlCiAgICAjCiAgICAjIFdIRVJFIGlkX2RvYyA9IDppZF9kb2MgIGFuZCBSU19tYXJraW5nX2NvZGVzLm1hcmtfY29kZSA9IDpzZXRfYmFyY29kZSkKICAgICMgJycnCiAgICAjCiAgICAjIFNFTEVDVCAqIEZST00gKAogICAgIyAgICAgU0VMRUNUCiAgICAjICAgICAnb25fR1RJTicgYXMgVHlwZU9mVW5pb24sCiAgICAjICAgICBSU19kb2NzX2JhcmNvZGVzLmlkLAogICAgIyAgICAgUlNfZG9jc19iYXJjb2Rlcy5pZF9kb2MsCiAgICAjICAgICBSU19kb2NzX2JhcmNvZGVzLmJhcmNvZGUsCiAgICAjICAgICBSU19kb2NzX2JhcmNvZGVzLmlkX2JhcmNvZGUsCiAgICAjICAgICBSU19iYXJjb2Rlcy5HVElOLAogICAgIyAgICAgUlNfYmFyY29kZXMuaWRfZ29vZCwKICAgICMgICAgIFJTX2JhcmNvZGVzLmlkX3Byb3BlcnR5LAogICAgIyAgICAgUlNfYmFyY29kZXMuaWRfc2VyaWVzLAogICAgIyAgICAgUlNfYmFyY29kZXMuaWRfdW5pdCwKICAgICMgICAgIFJTX2RvY3NfYmFyY29kZXMuaXNfcGxhbiwKICAgICMgICAgIFJTX2RvY3NfYmFyY29kZXMuYXBwcm92ZWQKICAgICMgICAgIEZST00gUlNfZG9jc19iYXJjb2RlcwogICAgIyAgICAgICAgIExFRlQgSk9JTiAoU2VsZWN0IFJTX2JhcmNvZGVzLmJhcmNvZGUgYXMgR1RJTiwKICAgICMgICAgICAgICBSU19iYXJjb2Rlcy5pZF9nb29kLAogICAgIyAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3Byb3BlcnR5LAogICAgIyAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3NlcmllcywKICAgICMgICAgICAgICBSU19iYXJjb2Rlcy5pZF91bml0IEZST00gUlNfYmFyY29kZXMKICAgICMgICAgICAgICBXSEVSRSBSU19iYXJjb2Rlcy5iYXJjb2RlPTpndGluIExJTUlUIDEpIEFTIFJTX2JhcmNvZGVzCiAgICAjICAgICAgICAgT04gVFJVRQogICAgIyAgICAgICAgIExFRlQgSk9JTiBSU19iYXJjb2RlcyBhcyBGdWxsQmFyY29kZQogICAgIyAgICAgICAgIE9OIEZ1bGxCYXJjb2RlLmJhcmNvZGUgPSBSU19kb2NzX2JhcmNvZGVzLmJhcmNvZGUKICAgICMKICAgICMgICAgIFdIRVJFIGlkX2RvYyA9IDppZF9kb2MgIGFuZCBSU19kb2NzX2JhcmNvZGVzLmJhcmNvZGUgTGlrZSAnJScrOmd0aW4gKyAnJScKICAgICMKICAgICMgICAgIFVOSU9OIEFMTAogICAgIwogICAgIyAgICAgU0VMRUNUCiAgICAjICAgICAnRnVsbE1hdGNoJywKICAgICMgICAgIFJTX2RvY3NfYmFyY29kZXMuaWQsCiAgICAjICAgICBSU19kb2NzX2JhcmNvZGVzLmlkX2RvYywKICAgICMgICAgIFJTX2RvY3NfYmFyY29kZXMuYmFyY29kZSwKICAgICMgICAgIFJTX2RvY3NfYmFyY29kZXMuaWRfYmFyY29kZSwKICAgICMgICAgIElGTlVMTChSU19iYXJjb2Rlcy5iYXJjb2RlLFJTX2JhcmNvZGVzX2luYWNjdXJhdGUuR1RJTiksCiAgICAjICAgICBJRk5VTEwoUlNfYmFyY29kZXMuaWRfZ29vZCxSU19iYXJjb2Rlc19pbmFjY3VyYXRlLmlkX2dvb2QpLAogICAgIyAgICAgSUZOVUxMKFJTX2JhcmNvZGVzLmlkX3Byb3BlcnR5LFJTX2JhcmNvZGVzX2luYWNjdXJhdGUuaWRfcHJvcGVydHkpLAogICAgIyAgICAgSUZOVUxMKFJTX2JhcmNvZGVzLmlkX3NlcmllcyxSU19iYXJjb2Rlc19pbmFjY3VyYXRlLmlkX3NlcmllcyksCiAgICAjICAgICBJRk5VTEwoUlNfYmFyY29kZXMuaWRfdW5pdCxSU19iYXJjb2Rlc19pbmFjY3VyYXRlLmlkX3VuaXQpLAogICAgIyAgICAgUlNfZG9jc19iYXJjb2Rlcy5pc19wbGFuLAogICAgIyAgICAgUlNfZG9jc19iYXJjb2Rlcy5hcHByb3ZlZAogICAgIyAgICAgRlJPTSBSU19kb2NzX2JhcmNvZGVzCiAgICAjICAgICAgICAgTEVGVCBKT0lOIFJTX2JhcmNvZGVzCiAgICAjICAgICAgICAgT04gUlNfYmFyY29kZXMuYmFyY29kZSA9IFJTX2RvY3NfYmFyY29kZXMuYmFyY29kZQogICAgIyAgICAgICAgIExFRlQgSk9JTiAoU2VsZWN0IFJTX2JhcmNvZGVzLmJhcmNvZGUgYXMgR1RJTiwKICAgICMgICAgICAgICBSU19iYXJjb2Rlcy5pZF9nb29kLAogICAgIyAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3Byb3BlcnR5LAogICAgIyAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3NlcmllcywKICAgICMgICAgICAgICBSU19iYXJjb2Rlcy5pZF91bml0IEZST00gUlNfYmFyY29kZXMKICAgICMgICAgICAgICBXSEVSRSBSU19iYXJjb2Rlcy5iYXJjb2RlIExpa2UgJyUnKzpndGluICsgJyUnIExJTUlUIDEpIEFTIFJTX2JhcmNvZGVzX2luYWNjdXJhdGUKICAgICMgICAgICAgICBPTiBUUlVFCiAgICAjICAgICAgICAgTEVGVCBKT0lOIFJTX2JhcmNvZGVzIGFzIEZ1bGxCYXJjb2RlCiAgICAjICAgICAgICAgT04gRnVsbEJhcmNvZGUuYmFyY29kZSA9IFJTX2RvY3NfYmFyY29kZXMuYmFyY29kZQogICAgIwogICAgIyAgICAgV0hFUkUgaWRfZG9jID0gOmlkX2RvYyAgYW5kIFJTX2RvY3NfYmFyY29kZXMuYmFyY29kZSA9IDpzZXRfYmFyY29kZSkKICAgICMKICAgICMgT1JERVIgIEJZIFR5cGVPZlVuaW9uCiAgICAjICcnJwogICAgcmV0dXJuIHF1ZXJ5CgoKZGVmIGdldF9iYXJjb2RlX2NhcmQoc2V0dGluZ3NfZ2xvYmFsKToKICAgIGxzID0geyJjdXN0b21jYXJkcyI6IHsKICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogRmFsc2UsCiAgICAgICAgICAgICJzYXZlX3Bvc2l0aW9uIjogVHJ1ZQogICAgICAgIH0sCiAgICAgICAgImxheW91dCI6IHsKICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAYmFyY29kZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHBpY3R1cmUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIjREI3MDkzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0ZGRkZGRiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiYnRuX3RzdDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjYXJkQ29ybmVyUmFkaXVzIjogIjE1ZHAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgfV19CgogICAgICAgICAgICBdCiAgICAgICAgfX0KICAgIH0KICAgIHJldHVybiBscwoKCmRlZiBnZXRfZG9jX2JhcmNvZGVfcXVlcnkoKToKICAgIGxzID0gJycnCiAgICBTRUxFQ1QKICAgICIoMDEpIiB8fCBHVElOIHx8ICIoMjEpIiB8fCBTZXJpZXMgYXMgbWFya19jb2RlLAogICAgYXBwcm92ZWQKICAgIEZST00gUlNfZG9jc19iYXJjb2RlcwogICAgV2hlcmUKICAgIGlkX2RvYyA9IDppZF9kb2MgQU5ECiAgICBpZF9nb29kID0gOmlkX2dvb2QgQU5ECiAgICBpZF9wcm9wZXJ0eSA9IDppZF9wcm9wZXJ0eSBBTkQKICAgIGlkX3NlcmllcyA9IDppZF9zZXJpZXMgCiAgICAtLUFORCAgaWRfdW5pdCA9IDppZF91bml0CiAnJycKICAgIHJldHVybiBscwoKCmRlZiBnZXRfZG9jX2JhcmNvZGVfcXVlcnlfbm9fUlNfbWFya2NvZGVzKCk6CiAgICByZXR1cm4gJycnCiAgICBTRUxFQ1QgCiAgICBpZF9iYXJjb2RlLAogICAgUlNfbWFya2luZ19jb2Rlcy5tYXJrX2NvZGUgYXMgbWFya19jb2RlLAogICAgYXBwcm92ZWQKICAgIEZST00gUlNfZG9jc19iYXJjb2RlcwoKICAgIEpPSU4gUlNfbWFya2luZ19jb2RlcyAKICAgIE9OIFJTX21hcmtpbmdfY29kZXMuaWQgPSBSU19kb2NzX2JhcmNvZGVzLmlkX2JhcmNvZGUgQU5ECiAgICBSU19tYXJraW5nX2NvZGVzLmlkX2dvb2QgPSA6aWRfZ29vZCBBTkQKICAgIFJTX21hcmtpbmdfY29kZXMuaWRfcHJvcGVydHkgPSA6aWRfcHJvcGVydHkgQU5ECiAgICBSU19tYXJraW5nX2NvZGVzLmlkX3NlcmllcyA9IDppZF9zZXJpZXMgQU5ECiAgICBSU19tYXJraW5nX2NvZGVzLmlkX3VuaXQgPSA6aWRfdW5pdCAKCiAgICAgV0hFUkUgUlNfZG9jc19iYXJjb2Rlcy5pZF9kb2MgPSA6aWRfZG9jICcnJwoKCmRlZiBnZXRfbWFya2NvZGVfcXVlcnkoKToKICAgIHJldHVybiAnJycKICAgIFNFTEVDVCAKICAgIFJTX2RvY3NfYmFyY29kZXMuaWQgYXMgQ3VyU3RyLAogICAgUlNfZG9jc19iYXJjb2Rlcy5HVElOLAogICAgUlNfZG9jc19iYXJjb2Rlcy5TZXJpZXMsCiAgICBSU19kb2NzX2JhcmNvZGVzLmFwcHJvdmVkLAogICAgUlNfZG9jc19iYXJjb2Rlcy5pZF9nb29kLAogICAgUlNfZG9jc19iYXJjb2Rlcy5pZF9wcm9wZXJ0eSBhcyBpZF9wcm9wZXJ0eSwKICAgIFJTX2RvY3NfYmFyY29kZXMuaWRfc2VyaWVzLAogICAgUlNfZG9jc19iYXJjb2Rlcy5pZF91bml0LAogICAgUlNfZ29vZHMubmFtZSBhcyBnb29kX25hbWUsCiAgICBSU19wcm9wZXJ0aWVzLm5hbWUgYXMgcHJvcGVydGllcywKICAgIFJTX3Nlcmllcy5uYW1lIGFzIHNlcmllcywKICAgIFJTX3VuaXRzLm5hbWUgYXMgdW5pdCwKICAgIFJTX2dvb2RzLmNvZGUgQVMgZ29vZF9jb2RlLAogICAgUlNfZG9jc19iYXJjb2Rlcy5pc19wbGFuCgogRlJPTSBSU19kb2NzX2JhcmNvZGVzIAoKIExFRlQgSk9JTiBSU19nb29kcyAKICAgIE9OIFJTX2dvb2RzLmlkPVJTX2RvY3NfYmFyY29kZXMuaWRfZ29vZAogICAgTEVGVCBKT0lOIFJTX3Byb3BlcnRpZXMKICAgIE9OIFJTX3Byb3BlcnRpZXMuaWQgPSBSU19kb2NzX2JhcmNvZGVzLmlkX3Byb3BlcnR5CiAgICBMRUZUIEpPSU4gUlNfc2VyaWVzCiAgICBPTiBSU19zZXJpZXMuaWQgPSBSU19kb2NzX2JhcmNvZGVzLmlkX3NlcmllcwogICAgTEVGVCBKT0lOIFJTX3VuaXRzCiAgICBPTiBSU191bml0cy5pZD1SU19kb2NzX2JhcmNvZGVzLmlkX3VuaXQKCiAgICAgV0hFUkUgUlNfZG9jc19iYXJjb2Rlcy5pZF9kb2MgPSA6aWRfZG9jIEFORCBHVElOID0gOkdUSU4gQW5kIFNlcmllcyA9IDpTZXJpZXMnJycKCgojICAgICAnJycKIyAgICAgU0VMRUNUCiMgICAgIFRlbXBfcXVlcnkuQ3VyU3RyIGFzIEN1clN0ciwKIyAgICAgVGVtcF9xdWVyeS5pZF9iYXJjb2RlLAojICAgICBUZW1wX3F1ZXJ5Lm1hcmtfY29kZSwKIyAgICAgVGVtcF9xdWVyeS5hcHByb3ZlZCwKIyAgICAgVGVtcF9xdWVyeS5pZF9nb29kLAojICAgICBUZW1wX3F1ZXJ5LmlkX3Byb3BlcnRpZXMgYXMgaWRfcHJvcGVydHksCiMgICAgIFRlbXBfcXVlcnkuaWRfc2VyaWVzLAojICAgICBUZW1wX3F1ZXJ5LmlkX3VuaXQsCiMgICAgIFJTX2dvb2RzLm5hbWUgYXMgZ29vZF9uYW1lLAojICAgICBSU19wcm9wZXJ0aWVzLm5hbWUgYXMgcHJvcGVydGllcywKIyAgICAgUlNfc2VyaWVzLm5hbWUgYXMgc2VyaWVzLAojICAgICBSU191bml0cy5uYW1lIGFzIHVuaXQsCiMgICAgIFJTX2dvb2RzLmNvZGUgQVMgZ29vZF9jb2RlLAojICAgICBUZW1wX3F1ZXJ5LmlzX3BsYW4KIwojCiMgIEZST00gKAojIFNFTEVDVAojICAgICBSU19kb2NzX2JhcmNvZGVzLmlkIGFzIEN1clN0ciwKIyAgICAgaWRfYmFyY29kZSwKIyAgICAgUlNfbWFya2luZ19jb2Rlcy5tYXJrX2NvZGUsCiMgICAgIGFwcHJvdmVkLAojICAgICBSU19tYXJraW5nX2NvZGVzLmlkX2dvb2QsCiMgICAgIFJTX21hcmtpbmdfY29kZXMuaWRfcHJvcGVydHkgYXMgaWRfcHJvcGVydGllcywKIyAgICAgUlNfbWFya2luZ19jb2Rlcy5pZF9zZXJpZXMsCiMgICAgIFJTX21hcmtpbmdfY29kZXMuaWRfdW5pdCwKIyAgICAgUlNfZG9jc19iYXJjb2Rlcy5pc19wbGFuCiMKIyAgICAgRlJPTSBSU19kb2NzX2JhcmNvZGVzCiMKIyAgICAgSk9JTiBSU19tYXJraW5nX2NvZGVzCiMgICAgIE9OIFJTX21hcmtpbmdfY29kZXMuaWQgPSBSU19kb2NzX2JhcmNvZGVzLmlkX2JhcmNvZGUKIwojICAgICAgV0hFUkUgUlNfZG9jc19iYXJjb2Rlcy5pZF9kb2MgPSA6aWRfZG9jIEFORCBpZF9iYXJjb2RlID0gOmlkX2JhcmNvZGUpIEFTIFRlbXBfcXVlcnkKIwojICBMRUZUIEpPSU4gUlNfZ29vZHMKIyAgICAgT04gUlNfZ29vZHMuaWQ9VGVtcF9xdWVyeS5pZF9nb29kCiMgICAgIExFRlQgSk9JTiBSU19wcm9wZXJ0aWVzCiMgICAgIE9OIFJTX3Byb3BlcnRpZXMuaWQgPSBUZW1wX3F1ZXJ5LmlkX3Byb3BlcnRpZXMKIyAgICAgTEVGVCBKT0lOIFJTX3NlcmllcwojICAgICBPTiBSU19zZXJpZXMuaWQgPSBUZW1wX3F1ZXJ5LmlkX3NlcmllcwojICAgICBMRUZUIEpPSU4gUlNfdW5pdHMKIyAgICAgT04gUlNfdW5pdHMuaWQ9VGVtcF9xdWVyeS5pZF91bml0CiMgICAgICcnJwoKCmRlZiBnZXRfYmFyY29kZV9xdWVyeSgpIC0+IHN0cjoKICAgIHJldHVybiAnJycKICAgIFdpdGggYmFyYyBhcyAoClNFTEVDVCAKYmFyY29kZSwKaWRfZ29vZCwKUlNfZ29vZHMudHlwZV9nb29kLAppZF9wcm9wZXJ0eSwKaWRfc2VyaWVzLAppZF91bml0CiBGUk9NIFJTX2JhcmNvZGVzIAogTGVmdCBKb2luIFJTX2dvb2RzCiBPTiBSU19iYXJjb2Rlcy5pZF9nb29kID0gUlNfZ29vZHMuaWQKV0hFUkUgYmFyY29kZSA9ID8pCgpTZWxlY3QgKiBGcm9tIGJhcmMKTGVmdCBKT0lOIFJTX3R5cGVzX2dvb2RzCk9OIFJTX3R5cGVzX2dvb2RzLmlkID0gYmFyYy50eXBlX2dvb2QKCicnJwoKCmRlZiBnZXRfbWFya19xdHR5X2NvbmZvcm1pdHkoKToKICAgIHJldHVybiAnJycKICAgIFNFTEVDVCBpZm51bGwoZG9jX3RhYmxlLnF0dHlfcGxhbiwwKSAtIGlmbnVsbCh0bXAucXR0eV9vZl9tYXJrLDApICBGUk9NIAoKICAgIChTRUxFQ1QgcXR0eV9wbGFuCiAgICBGUk9NIFJTX2RvY3NfdGFibGUKICAgIFdIRVJFIAogICAgaWRfZG9jID0gOmlkRG9jIAogICAgQU5EIGlkX2dvb2QgPSA6aWRfZ29vZAogICAgQU5EIGlkX3Byb3BlcnRpZXMgPSA6aWRfcHJvcGVydGllcwogICAgQU5EIGlkX3NlcmllcyA9IDppZF9zZXJpZXMKICAgICkgQXMgZG9jX3RhYmxlICAtLUFORCBpZF91bml0ID0gOmlkX3VuaXQKICAgICAgIExFRlQgSk9JTiAoU0VMRUNUIENvdW50KGlkX2JhcmNvZGUpIEFzIHF0dHlfb2ZfbWFyawogICAgICAgIEZST00gUlNfZG9jc19iYXJjb2RlcyAKICAgICAgICBXSEVSRSBpZF9kb2M9OmlkRG9jIAogICAgICAgIEFORCBpZF9iYXJjb2RlIExJa2UgOmJhcmNvZGUgQU5EIGFwcHJvdmVkID0gOmFwcHJvdmVkKSBBcyB0bXAKICAgICAgICBPTiBUUlVFCiAgICAnJycKCgpkZWYgZ2V0X3BsYW5fZ29vZF9mcm9tX2RvYygpOgogICAgcmV0dXJuICcnJwoKICAgIFNFTEVDVCBpZm51bGwocXR0eV9wbGFuLDApIGFzIHF0dHlfcGxhbiwKICAgIGlmbnVsbChxdHR5LDApIGFzIHF0dHksIGlkX2dvb2QKICAgIEZST00gUlNfZG9jc190YWJsZQogICAgV0hFUkUgCiAgICBpZF9kb2MgPSA6aWREb2MgCiAgICBBTkQgaWRfZ29vZCA9IDppZF9nb29kCiAgICBBTkQgaWRfcHJvcGVydGllcyA9IDppZF9wcm9wZXJ0aWVzCiAgICBBTkQgaWRfc2VyaWVzID0gOmlkX3NlcmllcwogICAgLS1BTkQgaWRfdW5pdCA9IDppZF91bml0CiAgICAnJycKCgojICAgICAgcyA9ICAgICcnJwojICAgIHdpdGggdG1wIGFzICgKIyAgICAgU0VMRUNUIGlmbnVsbChxdHR5X3BsYW4sMCkgYXMgcXR0eV9wbGFuLAojICAgICBpZm51bGwocXR0eSwwKSBhcyBxdHR5LCBpZF9nb29kCiMgICAgIEZST00gUlNfZG9jc190YWJsZQojICAgICBXSEVSRQojICAgICBpZF9kb2MgPSA6aWREb2MKIyAgICAgQU5EIGlkX2dvb2QgPSA6aWRfZ29vZAojICAgICBBTkQgaWRfcHJvcGVydGllcyA9IDppZF9wcm9wZXJ0aWVzCiMgIC0tICAgQU5EIGlkX3NlcmllcyA9IDppZF9zZXJpZXMKIyAgLS0gICBBTkQgaWRfdW5pdCA9IDppZF91bml0CiMgICAgICkKIwojIFNlbGVjdCBzdW0ocXR0eV9wbGFuLXF0dHkpIGFzIGNvbmZvcm1pdHkgZnJvbSB0bXAKIwojCiMgICAgICcnJwoKZGVmIGdldF9xdHR5X2FkZF9tYXJrX3RleHQoKToKICAgIHJldHVybiAnJycKICAgIFNFTEVDVCBSU19kb2NzLmFkZF9tYXJrX3NlbGVjdGlvbiBBcyBNYXJrZWQsCiAgICBUbXAuUXR0eSAKICAgIGZyb20gUlNfZG9jcyAKICAgIExlZnQgSm9pbiAoU2VsZWN0IFN1bShSU19kb2NzX3RhYmxlLnF0dHlfcGxhbikgYXMgUXR0eSBGcm9tIFJTX2RvY3NfdGFibGUgV2hlcmUgUlNfZG9jc190YWJsZS5pZF9kb2M9IDppZF9kb2MpIEFzIFRtcAogICAgT04gVHJ1ZQogICAgV0hFUkUgaWRfZG9jID0gOmlkX2RvYycnJwoKCmRlZiBnZXRfcXR0eV9zdHJpbmdfY291bnRfcXVlcnkoKToKICAgIHJldHVybiAnJycKICAgIFNFTEVDVCBkaXN0aW5jdCBjb3VudChpZCkgYXMgY29sX3N0ciwKICAgIHN1bShpZm51bGwocXR0eV9wbGFuLDApKSBhcyBxdHR5X3BsYW4KICAgIGZyb20gUlNfZG9jc190YWJsZSBXaGVyZSBpZF9kb2MgPSA6aWRfZG9jJycnCgoKZGVmIGdldF9oYXZlX21hcmtfY29kZXNfcXVlcnkoKTogICMg0JfQsNC/0YDQvtGBINCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC60L7Qu9C40YfQtdGB0YLQstC+INC60L7QtNC+0LIg0LzQsNGA0LrQuNGA0L7QstC60LggItCf0LvQsNC9IiAo0YIu0LUuINC30LDQs9GA0YPQttC10L3QvdGL0YUg0LjQtyDRg9GH0LXRgtC90L7QuQogICAgIyDRgdC40YHRgtC10LzRiykKICAgIHJldHVybiAnJycKICAgIFNFTEVDVCBkaXN0aW5jdCBjb3VudChpZCkgYXMgY29sX3N0cgogICAgZnJvbSBSU19kb2NzX2JhcmNvZGVzIFdoZXJlIGlkX2RvYyA9IDppZF9kb2MgQU5EIGlzX3BsYW4gPSA6aXNfcGxhbicnJwoKCmRlZiBnZXRfZG9jc19zdGF0X3F1ZXJ5KCk6CiAgICByZXR1cm4gJycnCiAgIHdpdGggdG1wIGFzICgKICAgIFNlbGVjdCAKICAgIGRvY190eXBlLAogICAgUlNfZG9jcy5pZF9kb2MsCiAgICAxIGFzIGRvY19Db3VudCwKICAgIGlmbnVsbChSU19kb2NzLnNlbnQsMCkgYXMgc2VudCwKICAgIGlmbnVsbCh2ZXJpZmllZCwwKSBhcyB2ZXJpZmllZCwgCiAgICBDQVNFCiAgICBXSEVOIGlmbnVsbCh2ZXJpZmllZCwwKT0wIFRIRU4gY291bnQoUlNfZG9jc190YWJsZS5pZCkKICAgIGVsc2UgMCBFTkQgYXMgY291bnRfdmVyaWZpZWQsCiAgICBDQVNFCiAgICBXSEVOIGlmbnVsbCh2ZXJpZmllZCwwKT0xIFRIRU4gY291bnQoUlNfZG9jc190YWJsZS5pZCkKICAgIGVsc2UgMCBFTkQgYXMgY291bnRfdW52ZXJpZmllZCwKICAgIENBU0UKICAgICAgICBXSEVOIGlmbnVsbCh2ZXJpZmllZCwwKT0wIFRIRU4gc3VtKFJTX2RvY3NfdGFibGUucXR0eV9wbGFuKQogICAgZWxzZSAwIEVORCBhcyBxdHR5X3BsYW5fdmVyaWZpZWQsCiAgICBDQVNFCiAgICAgICAgV0hFTiBpZm51bGwodmVyaWZpZWQsMCk9MSBUSEVOIHN1bShSU19kb2NzX3RhYmxlLnF0dHlfcGxhbikKICAgIGVsc2UgMCBFTkQgYXMgcXR0eV9wbGFuX3VudmVyaWZpZWQKICAgICBmcm9tIFJTX2RvY3MKICAgIExlZnQgSm9pbiBSU19kb2NzX3RhYmxlIAogICAgT04gUlNfZG9jc190YWJsZS5pZF9kb2MgPSBSU19kb2NzLmlkX2RvYwogICAgR3JvdXAgYnkgUlNfZG9jcy5pZF9kb2MKICAgICkKICAgU2VsZWN0IGRvY190eXBlIGFzIGRvY1R5cGUsIAogICBjb3VudChpZF9kb2MpLAogICBzdW0oZG9jX0NvdW50KSBhcyBjb3VudCwgCiAgIHN1bShzZW50KSBhcyBzZW50LCAKICAgc3VtKHZlcmlmaWVkKSBhcyB2ZXJpZmllZCwKICAgc3VtKGNvdW50X3ZlcmlmaWVkKSBhcyBjb3VudF92ZXJpZmllZCwKICAgc3VtKGNvdW50X3VudmVyaWZpZWQpIGFzIGNvdW50X3VudmVyaWZpZWQsCiAgIHN1bShxdHR5X3BsYW5fdmVyaWZpZWQpIGFzIHF0dHlfcGxhbl92ZXJpZmllZCwKICAgc3VtKHF0dHlfcGxhbl91bnZlcmlmaWVkKSBhcyBxdHR5X3BsYW5fdW52ZXJpZmllZAogICAgZnJvbSB0bXAKICAgIGdyb3VwIGJ5IGRvY190eXBlCiAgICcnJwoKCmRlZiBnZXRfZG9jX3RpbGVzKHNldHRpbmdzX2dsb2JhbCk6CgogICAgc21hbGxfdGlsZSA9IHsKICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICJhdXRvU2l6ZVRleHRUeXBlIiA6ICJ1bmlmb3JtIiwKICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGRvY05hbWUiLAogICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ3RpdGxlRG9jVHlwZUNhcmRUZXh0U2l6ZScpLCAjICIyNSIsCiAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMwMDAwMDAiLAogICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogMCwKICAgICAgICAgICAgICAgICJncmF2aXR5X2hvcml6b250YWwiOiAiY2VudGVyIgogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBRdHR5T2ZEb2NzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnRG9jVHlwZUNhcmRUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMzMzMzMzMiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICJGRkNDOTkiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQodGC0YDQvtC6OiAiLAogICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdEb2NUeXBlQ2FyZFRleHRTaXplJyksICMiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMzMzMzMzMiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICJGRkNDOTkiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGNvdW50X3ZlcmlmaWVkIiwKICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnRG9jVHlwZUNhcmRUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMzMzMzMzMiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICJGRkNDOTkiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQotC+0LLQsNGA0L7QsjogIiwKICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnRG9jVHlwZUNhcmRUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMzMzMzMzMiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICJGRkNDOTkiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHF0dHlfcGxhbl92ZXJpZmllZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ0RvY1R5cGVDYXJkVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIjMzMzMzMzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiRkZDQzk5IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KCiAgICAgICAgXQogICAgfQoKICAgIHJldHVybiBzbWFsbF90aWxlCgpjbGFzcyBNb2Rlcm5GaWVsZDoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBoaW50PU5vbmUsIGRlZmF1bHRfdGV4dD1Ob25lLCBwYXNzd29yZD1GYWxzZSk6ICAjIGNvdW50ZXI9RmFsc2UsIGNvdW50ZXJfbWF4PU5vbmUsIGlucHV0X3R5cGU9IDEgLAogICAgICAgIHNlbGYuaGludCA9IGhpbnQKICAgICAgICBzZWxmLmRlZmF1bHRfdGV4dCA9IGRlZmF1bHRfdGV4dAogICAgICAgICNzZWxmLmNvdW50ZXIgPSBjb3VudGVyCiAgICAgICAgI3NlbGYuY291bnRlcl9tYXggPSBjb3VudGVyX21heAogICAgICAgICNzZWxmLmlucHV0X3R5cGUgPSBpbnB1dF90eXBlCiAgICAgICAgc2VsZi5wYXNzd29yZCA9IHBhc3N3b3JkCgogICAgZGVmIHRvX2pzb24oc2VsZik6CiAgICAgICAgcmV0ID0gewogICAgICAgICAgICAiaGludCI6IHNlbGYuaGludCwKICAgICAgICAgICAgImRlZmF1bHRfdGV4dCI6IHNlbGYuZGVmYXVsdF90ZXh0fQogICAgICAgICMgImNvdW50ZXIiOiBzZWxmLmNvdW50ZXIsCiAgICAgICAgIyAiY291bnRlcl9tYXgiOiBzZWxmLmNvdW50ZXJfbWF4LAogICAgICAgICMgImlucHV0X3R5cGUiOiBzZWxmLmlucHV0X3R5cGUsCiAgICAgICAgaWYgc2VsZi5wYXNzd29yZDoKICAgICAgICAgICAgcmV0WyJwYXNzd29yZCJdID0gc2VsZi5wYXNzd29yZAoKICAgICAgICByZXR1cm4ganNvbi5kdW1wcyhyZXQpCgoKIyBodHRwX3NldHRpbmdzID0geyd1cmwnOicxOTInLCAndXNlcic6J0FNRCcsICdwYXNzJzonMTIzJ30KIyBwcmludChNb2Rlcm5GaWVsZChoaW50PSd1cmwnLCBkZWZhdWx0X3RleHQ9aHR0cF9zZXR0aW5nc1sndXJsJ10sIHBhc3N3b3JkPUZhbHNlKS50b19qc29uKCkpCiMgcHJpbnQoTW9kZXJuRmllbGQoaGludD0ndXNlcicsIGRlZmF1bHRfdGV4dD1odHRwX3NldHRpbmdzWyd1c2VyJ10sIHBhc3N3b3JkPUZhbHNlKS50b19qc29uKCkpCiMgcHJpbnQoTW9kZXJuRmllbGQoaGludD0ncGFzcycsIGRlZmF1bHRfdGV4dD1odHRwX3NldHRpbmdzWydwYXNzJ10sIHBhc3N3b3JkPVRydWUpLnRvX2pzb24oKSk="
            },
            {
                "file_path": "D:\\projects\\simple UI\\sui_keep_0_1_0_8_1\\ui_form_data2.py",
                "PyFileKey": "ui_form_data2",
                "PyFileData": "Z29vZHNfY3VzdG9tX3RhYmxlX2NlbGwgPSB7ImN1c3RvbXRhYmxlIjogewogICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IFRydWUsCiAgICAgICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0K/Rh9C10LnQutCwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCi0L7QstCw0YAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0JrQvtC70LjRh9C10YHRgtCy0L4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0KXQsNGA0LDQutGC0LXRgNC40YHRgtC40LrQuCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIH0KCnRib2R5X3JlbWFpbnNfbGF5b3V0X2NlbGwgPSB7CiAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGNlbGwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAaXRlbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBxdWFudGl0eSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwcm9wZXJ0aWVzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgfQoKZ29vZHNfY3VzdG9tX3RhYmxlX3doID0geyJjdXN0b210YWJsZSI6IHsKICAgICAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0KHQutC70LDQtCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCi0L7QstCw0YAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQmtC+0LvQuNGH0LXRgdGC0LLQviIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCl0LDRgNCw0LrRgtC10YDQuNGB0YLQuNC60LgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKdGJvZHlfcmVtYWluc19sYXlvdXRfd2ggPSB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHdhcmVob3VzZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGl0ZW0iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBxdWFudGl0eSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHByb3BlcnRpZXMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KCnByaWNlc19jdXN0b21fdGFibGUgPSB7ImN1c3RvbXRhYmxlIjogewogICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBUcnVlLAogICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKICAgICAgICB9LAoKICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCi0L7QstCw0YAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCl0LDRgNCw0LrRgtC10YDQuNGB0YLQuNC60LgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCm0LXQvdCwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQotC40L8g0YbQtdC90YsiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCj0L/QsNC60L7QstC60LAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH0KICAgIH0KICAgIH0KCnRib2R5X3ByaWNlc19sYXlvdXQgPSB7CiAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGdvb2QiLAogICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTQiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHByb3BlcnR5IiwKICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE0IiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwcmljZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcHJpY2VfdHlwZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAdW5pdCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICBdCiAgICB9Cgpwcm9wZXJ0eV9saXN0X2NhcmRzID0geyJjdXN0b21jYXJkcyI6IHsKICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCgogICAgICAgIH0sCiAgICAgICAgImxheW91dCI6IHsKICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQG5hbWUiLAogICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIi0xIiwKICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiM2RjkzOTMiLAogICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0KICAgICAgICB9CgogICAgfQogICAgfQoKcHJpY2VfdHlwZXNfbGlzdF9jYXJkcyA9IHsiY3VzdG9tY2FyZHMiOiB7CiAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IFRydWUsCiAgICAgICAgICAgICJzYXZlX3Bvc2l0aW9uIjogVHJ1ZQoKICAgICAgICB9LAogICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBuYW1lIiwKICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICItMSIsCiAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIjNkY5MzkzIiwKICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgfQoKICAgIH0KICAgIH0KCndoX2xpc3RfY2FyZHMgPSB7ImN1c3RvbWNhcmRzIjogewogICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IFRydWUsCiAgICAgICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAbmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICItMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIzZGOTM5MyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgfQoKY2VsbF9saXN0X2NhcmRzID0geyJjdXN0b21jYXJkcyI6IHsKICAgICAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBUcnVlLAogICAgICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCgogICAgICAgICAgICB9LAogICAgICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQG5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiLTEiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiM2RjkzOTMiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CgogICAgICAgIH0KICAgIH0KCnVuaXRfbGlzdF9jYXJkcyA9IHsiY3VzdG9tY2FyZHMiOiB7CiAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IFRydWUsCiAgICAgICAgICAgICJzYXZlX3Bvc2l0aW9uIjogVHJ1ZQoKICAgICAgICB9LAogICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBuYW1lIiwKICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICItMSIsCiAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIjNkY5MzkzIiwKICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgfQoKICAgIH0KICAgIH0KCmJhcmNvZGVfY2FyZHMgPSB7ImN1c3RvbWNhcmRzIjogewogICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBUcnVlLAogICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKICAgICAgICB9LAoKICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0YwRjhGRiIsCiAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHByb3BlcnRpZXMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRjBGOEZGIiwKICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAdW5pdCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAYmFyY29kZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGMEY4RkYiLAogICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBzZXJpZXMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH0KICAgIH0KICAgIH0KCgpkZWYgZ2V0X2RvY19kZXRhaWxfdGFibGVfaGVhZCgpOgoKICAgIGhlYWRfbGluZSA9IHsKICAgICAgICAiY3VzdG9tdGFibGUiOiB7CiAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICJzYXZlX3Bvc2l0aW9uIjogVHJ1ZQogICAgICAgICAgICB9LAogICAgICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRkZGRkZGIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCd0LDQt9Cy0LDQvdC40LUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQn9C70LDQvSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCk0LDQutGCIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiBoZWFkX2xpbmUKCgpkZWYgZ2V0X2RvY19kZXRhaWxfdGFibGVfYm9keV9sYXlvdXQodXNlX3NlcmllcywgdXNlX3Byb3BlcnRpZXMsIHNldHRpbmdzX2dsb2JhbCwgaXNBZHI9RmFsc2UpOgoKICAgIGNlbGxNZW51Q29tbWFuZCA9ICc70JjQt9C80LXQvdC40YLRjCDRj9GH0LXQudC60YMnIGlmIGlzQWRyIGVsc2UgJycKICAgIGRvY19kZXRhaWxfYm9keV9sYXlvdXQgPSB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjAiLAogICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRkZGRkZGIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBnb29kX25hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBnb29kX2luZm8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAbGFzdF91cGRhdGVkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBxdHR5X3BsYW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBxdHR5IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF0KICAgIH0KCiAgICAiIiJpZiB1c2Vfc2VyaWVzID09ICd0cnVlJyBvciB1c2Vfc2VyaWVzID09ICcxJzoKICAgICAgICBkb2NfZGV0YWlsX2JvZHlfbGF5b3V0WydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddLmluc2VydCgxLCB7J3R5cGUnOiAnVGV4dFZpZXcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VyaWVzUHJvcGVydGllc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIDE2CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2hvd19ieV9jb25kaXRpb24nOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWYWx1ZSc6ICdAc2VyaWVzX25hbWUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ05vUmVmcmVzaCc6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RvY3VtZW50X3R5cGUnOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXNrJzogJycsICdWYXJpYWJsZSc6ICcnfSkKICAgIGlmIHVzZV9wcm9wZXJ0aWVzID09ICd0cnVlJyBvciB1c2VfcHJvcGVydGllcyA9PSAnMSc6CiAgICAgICAgZG9jX2RldGFpbF9ib2R5X2xheW91dFsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXS5pbnNlcnQoMSwgeyd0eXBlJzogJ1RleHRWaWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyAnMTYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Nob3dfYnlfY29uZGl0aW9uJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmFsdWUnOiAnQHByb3BlcnRpZXNfbmFtZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm9SZWZyZXNoJzogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZG9jdW1lbnRfdHlwZSc6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hc2snOiAnJywgJ1ZhcmlhYmxlJzogJyd9KQogICAgaWYgaXNBZHI6CiAgICAgICAgZG9jX2RldGFpbF9ib2R5X2xheW91dFsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXS5pbnNlcnQoMSwgeyd0eXBlJzogJ1RleHRWaWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyAnMTYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Nob3dfYnlfY29uZGl0aW9uJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmFsdWUnOiAnQGNlbGxfbmFtZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm9SZWZyZXNoJzogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZG9jdW1lbnRfdHlwZSc6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hc2snOiAnJywgJ1ZhcmlhYmxlJzogJyd9KSIiIgoKICAgIHJldHVybiBkb2NfZGV0YWlsX2JvZHlfbGF5b3V0CgoKZGVmIGdldF9kb2NfZGV0YWlsX2NhcmRzX21vZCh1c2Vfc2VyaWVzLCB1c2VfcHJvcGVydGllcywgc2V0dGluZ3NfZ2xvYmFsLCBpc0FkciA9IEZhbHNlKToKICAgIGNlbGxNZW51Q29tbWFuZCA9ICc70JjQt9C80LXQvdC40YLRjCDRj9GH0LXQudC60YMnIGlmIGlzQWRyIGVsc2UgJycKICAgIGxpc3QgPSB7CiAgICAgICAgImN1c3RvbWNhcmRzIjogewogICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IFRydWUsCiAgICAgICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgImxheW91dCI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAZ29vZF9uYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdHb29kc0NhcmRUaXRsZVRleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBnb29kX2luZm8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ2dvb2RzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ3Jhdml0eV9ob3Jpem9udGFsIjogImNlbnRlciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHBpY3R1cmUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMjUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiNEQjcwOTMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGRkZGRkYiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlBvcHVwTWVudUJ1dHRvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiBmItCj0LTQsNC70LjRgtGMINGB0YLRgNC+0LrRg3tjZWxsTWVudUNvbW1hbmR9IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAibWVudV9nb29kX3N0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkB1bml0X25hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImdvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0J/Qu9Cw0L0iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ2dvb2RzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHF0dHlfcGxhbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQpNCw0LrRgiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcXR0eSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQptC10L3QsCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnZ29vZHNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcHJpY2UiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ2dvb2RzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgaWYgdXNlX3NlcmllcyA9PSAndHJ1ZScgb3IgdXNlX3NlcmllcyA9PSAnMSc6CiAgICAgICAgbGlzdFsnY3VzdG9tY2FyZHMnXVsnbGF5b3V0J11bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ10uaW5zZXJ0KDEsIHsndHlwZSc6ICdUZXh0VmlldycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdTZXJpZXNQcm9wZXJ0aWVzVGV4dFNpemUnKSwgIzE2CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2hvd19ieV9jb25kaXRpb24nOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWYWx1ZSc6ICdAc2VyaWVzX25hbWUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ05vUmVmcmVzaCc6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RvY3VtZW50X3R5cGUnOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXNrJzogJycsICdWYXJpYWJsZSc6ICcnfSkKICAgIGlmIHVzZV9wcm9wZXJ0aWVzID09ICd0cnVlJyBvciB1c2VfcHJvcGVydGllcyA9PSAnMSc6CiAgICAgICAgbGlzdFsnY3VzdG9tY2FyZHMnXVsnbGF5b3V0J11bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ10uaW5zZXJ0KDEsIHsndHlwZSc6ICdUZXh0VmlldycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdTZXJpZXNQcm9wZXJ0aWVzVGV4dFNpemUnKSwgIycxNicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2hvd19ieV9jb25kaXRpb24nOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWYWx1ZSc6ICdAcHJvcGVydGllc19uYW1lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdOb1JlZnJlc2gnOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkb2N1bWVudF90eXBlJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFzayc6ICcnLCAnVmFyaWFibGUnOiAnJ30pCiAgICBpZiBpc0FkcjoKICAgICAgICBsaXN0WydjdXN0b21jYXJkcyddWydsYXlvdXQnXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXS5pbnNlcnQoMSwgeyd0eXBlJzogJ1RleHRWaWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyAnMTYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Nob3dfYnlfY29uZGl0aW9uJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmFsdWUnOiAnQGNlbGxfbmFtZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm9SZWZyZXNoJzogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZG9jdW1lbnRfdHlwZSc6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hc2snOiAnJywgJ1ZhcmlhYmxlJzogJyd9KQoKICAgICAgICBwYXNzCgogICAgcmV0dXJuIGxpc3QKCgoKZGVmIGdldF9kb2NfZGV0YWlsX3RhYmxlX2hlYWQoKToKCiAgICBoZWFkX2xpbmUgPSB7CiAgICAgICAgImN1c3RvbXRhYmxlIjogewogICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IFRydWUsCiAgICAgICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgImxheW91dCI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0ZGRkZGRiIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQndCw0LfQstCw0L3QuNC1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0J/Qu9Cw0L0iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQpNCw0LrRgiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gaGVhZF9saW5lCgoKZGVmIGdldF9kb2NfZGV0YWlsX3RhYmxlX2JvZHlfbGF5b3V0KHVzZV9zZXJpZXMsIHVzZV9wcm9wZXJ0aWVzLCBzZXR0aW5nc19nbG9iYWwsIGlzQWRyPUZhbHNlKToKCiAgICBjZWxsTWVudUNvbW1hbmQgPSAnO9CY0LfQvNC10L3QuNGC0Ywg0Y/Rh9C10LnQutGDJyBpZiBpc0FkciBlbHNlICcnCiAgICBkb2NfZGV0YWlsX2JvZHlfbGF5b3V0ID0gewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIwIiwKICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiI0ZGRkZGRiIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjMiLAogICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlBhZGRpbmciOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlN0cm9rZVdpZHRoIjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUGFkZGluZyI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJTdHJva2VXaWR0aCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAZ29vZF9uYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAZ29vZF9pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGxhc3RfdXBkYXRlZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcXR0eV9wbGFuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJQYWRkaW5nIjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAiU3Ryb2tlV2lkdGgiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcXR0eSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCYWNrZ3JvdW5kQ29sb3IiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBdCiAgICB9CgogICAgIiIiaWYgdXNlX3NlcmllcyA9PSAndHJ1ZScgb3IgdXNlX3NlcmllcyA9PSAnMSc6CiAgICAgICAgZG9jX2RldGFpbF9ib2R5X2xheW91dFsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXS5pbnNlcnQoMSwgeyd0eXBlJzogJ1RleHRWaWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1Nlcmllc1Byb3BlcnRpZXNUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyAxNgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Nob3dfYnlfY29uZGl0aW9uJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmFsdWUnOiAnQHNlcmllc19uYW1lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdOb1JlZnJlc2gnOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkb2N1bWVudF90eXBlJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFzayc6ICcnLCAnVmFyaWFibGUnOiAnJ30pCiAgICBpZiB1c2VfcHJvcGVydGllcyA9PSAndHJ1ZScgb3IgdXNlX3Byb3BlcnRpZXMgPT0gJzEnOgogICAgICAgIGRvY19kZXRhaWxfYm9keV9sYXlvdXRbJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ10uaW5zZXJ0KDEsIHsndHlwZSc6ICdUZXh0VmlldycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTZXJpZXNQcm9wZXJ0aWVzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgJzE2JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzaG93X2J5X2NvbmRpdGlvbic6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZhbHVlJzogJ0Bwcm9wZXJ0aWVzX25hbWUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ05vUmVmcmVzaCc6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RvY3VtZW50X3R5cGUnOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXNrJzogJycsICdWYXJpYWJsZSc6ICcnfSkKICAgIGlmIGlzQWRyOgogICAgICAgIGRvY19kZXRhaWxfYm9keV9sYXlvdXRbJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ10uaW5zZXJ0KDEsIHsndHlwZSc6ICdUZXh0VmlldycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTZXJpZXNQcm9wZXJ0aWVzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgJzE2JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzaG93X2J5X2NvbmRpdGlvbic6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZhbHVlJzogJ0BjZWxsX25hbWUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ05vUmVmcmVzaCc6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RvY3VtZW50X3R5cGUnOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXNrJzogJycsICdWYXJpYWJsZSc6ICcnfSkiIiIKCiAgICByZXR1cm4gZG9jX2RldGFpbF9ib2R5X2xheW91dAoKCmRlZiBnZXRfZG9jX2RldGFpbF9jYXJkc19tb2QodXNlX3NlcmllcywgdXNlX3Byb3BlcnRpZXMsIHNldHRpbmdzX2dsb2JhbCwgaXNBZHIgPSBGYWxzZSk6CiAgICBjZWxsTWVudUNvbW1hbmQgPSAnO9CY0LfQvNC10L3QuNGC0Ywg0Y/Rh9C10LnQutGDJyBpZiBpc0FkciBlbHNlICcnCiAgICBsaXN0ID0gewogICAgICAgICJjdXN0b21jYXJkcyI6IHsKICAgICAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBUcnVlLAogICAgICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGdvb2RfbmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnR29vZHNDYXJkVGl0bGVUZXh0U2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAZ29vZF9pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImdyYXZpdHlfaG9yaXpvbnRhbCI6ICJjZW50ZXIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwaWN0dXJlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjI1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIjREI3MDkzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRkZGRkZGIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJQb3B1cE1lbnVCdXR0b24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogZiLQo9C00LDQu9C40YLRjCDRgdGC0YDQvtC60YN7Y2VsbE1lbnVDb21tYW5kfSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIm1lbnVfZ29vZF9zdHJpbmciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAdW5pdF9uYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ2dvb2RzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJnb3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCf0LvQsNC9IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBxdHR5X3BsYW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ2dvb2RzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0KTQsNC60YIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ2dvb2RzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHF0dHkiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ2dvb2RzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0KbQtdC90LAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6IHNldHRpbmdzX2dsb2JhbC5nZXQoJ2dvb2RzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHByaWNlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KCdnb29kc1RleHRTaXplJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGlmIHVzZV9zZXJpZXMgPT0gJ3RydWUnIG9yIHVzZV9zZXJpZXMgPT0gJzEnOgogICAgICAgIGxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2xheW91dCddWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddLmluc2VydCgxLCB7J3R5cGUnOiAnVGV4dFZpZXcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnU2VyaWVzUHJvcGVydGllc1RleHRTaXplJyksICMxNgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Nob3dfYnlfY29uZGl0aW9uJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmFsdWUnOiAnQHNlcmllc19uYW1lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdOb1JlZnJlc2gnOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkb2N1bWVudF90eXBlJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFzayc6ICcnLCAnVmFyaWFibGUnOiAnJ30pCiAgICBpZiB1c2VfcHJvcGVydGllcyA9PSAndHJ1ZScgb3IgdXNlX3Byb3BlcnRpZXMgPT0gJzEnOgogICAgICAgIGxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2xheW91dCddWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddLmluc2VydCgxLCB7J3R5cGUnOiAnVGV4dFZpZXcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogc2V0dGluZ3NfZ2xvYmFsLmdldCgnU2VyaWVzUHJvcGVydGllc1RleHRTaXplJyksICMnMTYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Nob3dfYnlfY29uZGl0aW9uJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmFsdWUnOiAnQHByb3BlcnRpZXNfbmFtZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm9SZWZyZXNoJzogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZG9jdW1lbnRfdHlwZSc6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hc2snOiAnJywgJ1ZhcmlhYmxlJzogJyd9KQogICAgaWYgaXNBZHI6CiAgICAgICAgbGlzdFsnY3VzdG9tY2FyZHMnXVsnbGF5b3V0J11bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ11bMF1bJ0VsZW1lbnRzJ10uaW5zZXJ0KDEsIHsndHlwZSc6ICdUZXh0VmlldycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiBzZXR0aW5nc19nbG9iYWwuZ2V0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTZXJpZXNQcm9wZXJ0aWVzVGV4dFNpemUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgJzE2JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzaG93X2J5X2NvbmRpdGlvbic6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZhbHVlJzogJ0BjZWxsX25hbWUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ05vUmVmcmVzaCc6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RvY3VtZW50X3R5cGUnOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXNrJzogJycsICdWYXJpYWJsZSc6ICcnfSkKCiAgICAgICAgcGFzcwoKICAgIHJldHVybiBsaXN0Cgo="
            },
            {
                "file_path": "D:\\projects\\simple UI\\sui_keep_0_1_0_8_1\\ui_global.py",
                "PyFileKey": "ui_global",
                "PyFileData": "aW1wb3J0IGNvbGxlY3Rpb25zCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmltcG9ydCBzcWxpdGUzCmZyb20gc3FsaXRlMyBpbXBvcnQgRXJyb3IKaW1wb3J0IHVpX2JhcmNvZGVzCmltcG9ydCBvcwppbXBvcnQgdWlfZm9ybV9kYXRhCmltcG9ydCB0aHJlYWRpbmcKaW1wb3J0IHF1ZXVlCgpxdWVyeV9saXN0ID0gcXVldWUuUXVldWUoKQojINCS0L7RgiDRgtCw0LrQuNC8INC90LXQt9Cw0YLQtdC50LvQuNCy0YvQvCDQvNC10YLQvtC00L7QvCDQvtC/0YDQtdC00LXQu9GP0LXQvCwg0LzRiyDQt9Cw0L/Rg9GB0YLQuNC70LjRgdGMINC90LAg0LrQvtC80L/QtSDQuNC70Lgg0L3QsCDQotCh0JQgKioKIyDQndGDINC4INCyINC30LDQstC40YHQuNC80L7RgdGC0Lgg0L7Rgiwg0LjRgdC/0L7Qu9GM0LfRg9C10Lwg0LHQsNC30YMgKioqKgppZiBvcy5wYXRoLmV4aXN0cygnLy9kYXRhL2RhdGEvcnUudHJhdmVsZm9vZC5zaW1wbGVfdWkvZGF0YWJhc2VzLycpOiAj0LvQvtC60LDQu9GM0L3QvgogICAgZGJfcGF0aCA9ICcvL2RhdGEvZGF0YS9ydS50cmF2ZWxmb29kLnNpbXBsZV91aS9kYXRhYmFzZXMvU2ltcGxlS2VlcCcgICMgcmlnaHRzY2FuJwplbHNlOgogICAgZGJfcGF0aCA9ICdyaWdodHNjYW41LmRiJyAgIyBEOlxQeXRob25Qcm9qZWN0c1xSaWdodFNjYW5cU1VJX25vUG9ueVwKCmNvbm4gPSBOb25lCgpkZWYgdGV4dF90b19ib29sKHZhbCk6CiAgICBwYXNzCgojINCk0YPQvdC60YbQuNGPINC/0L7Qu9GD0YfQsNC10YIg0YHRgtGA0L7QutC4INC80LDRgNC60LjRgNC+0LLQutC4INC00L7QutGD0LzQtdC90YLQsCDQv9C+INC30L3QsNGH0LXQvdC40Y4g0LzQsNGA0LrQuNGA0L7QstC60LgKZGVmIGZpbmRfYmFyY29kZV9pbl9tYXJraW5nX2NvZGVzX3RhYmxlKHNlbGYsIHN0cnVjdF9iYXJjb2RlOiBsaXN0KSAtPiBjb2xsZWN0aW9ucy5JdGVyYWJsZToKICAgIHF1ZXJ5X3RleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X3F1ZXJ5X21hcmtfZmluZF9pbl9kb2MoKQogICAgYXJnc19kaWN0ID0ge30KICAgIGFyZ3NfZGljdFsnR1RJTiddID0gc3RydWN0X2JhcmNvZGVbJ0dUSU4nXQogICAgYXJnc19kaWN0WydTZXJpZXMnXSA9IHN0cnVjdF9iYXJjb2RlWydTRVJJQUwnXQogICAgYXJnc19kaWN0WydpZF9kb2MnXSA9IHNlbGYuaWRfZG9jCgogICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCBhcmdzX2RpY3QsIFRydWUpCiAgICByZXR1cm4gcmVzCgoKZGVmIGZpbmRfYmFyY29kZV9pbl9iYXJjb2RlX3RhYmxlKGJhcmNvZGU6IHN0cikgLT4gY29sbGVjdGlvbnMuSXRlcmFibGU6CiAgICBxdWVyeV90ZXh0ID0gdWlfZm9ybV9kYXRhLmdldF9iYXJjb2RlX3F1ZXJ5KCkKICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCwgKGJhcmNvZGUsKSwgVHJ1ZSkKICAgIHJldHVybiByZXMKCgojINCh0YDQsNCy0L3QuNCy0LDQtdGCINC60L7Qu9C40YfQtdGB0YLQstC+LdC/0LvQsNC9INGC0L7QstCw0YDQsCDQsiDQtNC+0LrRg9C80LXQvdGC0LUg0Lgg0LrQvtC70LjRh9C10YHRgtCy0L4g0LzQsNGA0L7Quiwg0L/QviDRjdGC0L7QvNGDINGC0L7QstCw0YDRgyDRgtCw0Lwg0LbQtS4KIyDQktC+0LfQstGA0LDRidCw0LXRgiBUcnVlLCDQtdGB0LvQuCDQutC+0LvQuNGH0LXRgdGC0LLQviDQvNCw0YDQvtC6INC80LXQvdGM0YjQtSDQv9C70LDQvdCwCmRlZiBjaGVja19tYXJrX2NvZGVfY29tcGxpYW5jZShlbF9kaWN0OiBkaWN0LCBpZF9kb2MsIGd0aW4pOgogICAgcXVlcnlfdGV4dCA9IHVpX2Zvcm1fZGF0YS5nZXRfbWFya19xdHR5X2NvbmZvcm1pdHkoKQogICAgYXJnc19kaWN0ID0ge30KICAgIGFyZ3NfZGljdFsnaWREb2MnXSA9IGlkX2RvYwogICAgYXJnc19kaWN0WydiYXJjb2RlJ10gPSAnMDEnICsgZ3RpbiArICclJwogICAgYXJnc19kaWN0WydpZF9nb29kJ10gPSBlbF9kaWN0WydpZF9nb29kJ10KICAgIGFyZ3NfZGljdFsnaWRfcHJvcGVydGllcyddID0gZWxfZGljdFsnaWRfcHJvcGVydHknXQogICAgYXJnc19kaWN0WydpZF9zZXJpZXMnXSA9IGVsX2RpY3RbJ2lkX3NlcmllcyddCiAgICAjYXJnc19kaWN0WydpZF91bml0J10gPSBlbF9kaWN0WydpZF91bml0J10KICAgIGFyZ3NfZGljdFsnYXBwcm92ZWQnXSA9ICcxJwogICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCBhcmdzX2RpY3QpCiAgICBpZiByZXM6CiAgICAgICAgaWYgcmVzWzBdWzBdID4gMDoKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbGlmIHJlc1swXVswXSA9PSAwOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgcmV0dXJuIFRydWUKCgpkZWYgY2hlY2tfYmFyY29kZV9jb21wbGlhbmNlKGVsX2RpY3Q6IGRpY3QsIGlkX2RvYyk6CiAgICAjIDEg0KLQsNC60L7QuSDRgtC+0LLQsNGAINCyINC/0YDQuNC90YbQuNC/0LUg0LXRgdGC0Ywg0LIg0LTQvtC60YPQvNC10L3RgtC1CgogICAgcXVlcnlfdGV4dCA9IHVpX2Zvcm1fZGF0YS5nZXRfcGxhbl9nb29kX2Zyb21fZG9jKCkKICAgIGFyZ3NfZGljdCA9IHt9CiAgICBhcmdzX2RpY3RbJ2lkRG9jJ10gPSBpZF9kb2MKICAgIGFyZ3NfZGljdFsnaWRfZ29vZCddID0gZWxfZGljdFsnaWRfZ29vZCddCiAgICBhcmdzX2RpY3RbJ2lkX3Byb3BlcnRpZXMnXSA9IGVsX2RpY3RbJ2lkX3Byb3BlcnR5J10KICAgIGFyZ3NfZGljdFsnaWRfc2VyaWVzJ10gPSBlbF9kaWN0WydpZF9zZXJpZXMnXQogICAgI2FyZ3NfZGljdFsnaWRfdW5pdCddID0gZWxfZGljdFsnaWRfdW5pdCddCgogICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCBhcmdzX2RpY3QsIFRydWUpCgogICAgcmV0dXJuIHJlcwoKCmRlZiBjaGVja19hZHJfYmFyY29kZV9jb21wbGlhbmNlKGVsX2RpY3Q6IGRpY3QsIGlkX2RvYyk6CiAgICAjIDEg0KLQsNC60L7QuSDRgtC+0LLQsNGAINCyINC/0YDQuNC90YbQuNC/0LUg0LXRgdGC0Ywg0LIg0LTQvtC60YPQvNC10L3RgtC1CgogICAgcXVlcnlfdGV4dCA9ICAnJycKICAgIFNFTEVDVCBpZm51bGwocXR0eV9wbGFuLDApIGFzIHF0dHlfcGxhbiwKICAgIGlmbnVsbChxdHR5LDApIGFzIHF0dHksIGlkX2dvb2QKICAgIEZST00gUlNfYWRyX2RvY3NfdGFibGUKICAgIFdIRVJFIAogICAgaWRfZG9jID0gOmlkRG9jIAogICAgQU5EIGlkX2dvb2QgPSA6aWRfZ29vZAogICAgQU5EIGlkX3Byb3BlcnRpZXMgPSA6aWRfcHJvcGVydGllcwogICAgQU5EIGlkX3NlcmllcyA9IDppZF9zZXJpZXMKICAgIEFORCBpZF9jZWxsID0gOmlkX2NlbGwgb3IgaWRfY2VsbCA9ICIiIE9SIGlkX2NlbGwgaXMgTnVsbAogICAgJycnCiAgICBhcmdzX2RpY3QgPSB7fQogICAgYXJnc19kaWN0WydpZERvYyddID0gaWRfZG9jCiAgICBhcmdzX2RpY3RbJ2lkX2dvb2QnXSA9IGVsX2RpY3RbJ2lkX2dvb2QnXQogICAgYXJnc19kaWN0WydpZF9wcm9wZXJ0aWVzJ10gPSBlbF9kaWN0WydpZF9wcm9wZXJ0eSddCiAgICBhcmdzX2RpY3RbJ2lkX3NlcmllcyddID0gZWxfZGljdFsnaWRfc2VyaWVzJ10KICAgIGFyZ3NfZGljdFsnaWRfY2VsbCddID0gZWxfZGljdFsnaWRfY2VsbCddCiAgICAjYXJnc19kaWN0WydpZF91bml0J10gPSBlbF9kaWN0WydpZF91bml0J10KCiAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsIGFyZ3NfZGljdCwgVHJ1ZSkKCiAgICByZXR1cm4gcmVzCiMKCgpkZWYgZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0OiBvYmplY3QsIGFyZ3M6IG9iamVjdCA9ICIiLCByZXR1cm5fZGljdD1GYWxzZSkgLT4gbGlzdDoKICAgICMgKioqKioqKioqKioqKioqKioqKioqKgoKICAgICMgZ2xvYmFsIGNvbm4KICAgICMgZ2V0X2RhdGFiYXNlX2Nvbm5lY3Rpb24oKQogICAgdHJ5OgogICAgICAgIGNvbm4gPSBzcWxpdGUzLmNvbm5lY3QoZGJfcGF0aCkKCiAgICBleGNlcHQgRXJyb3I6CgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ05vIGNvbm5lY3Rpb24gd2l0aCBkYXRhYmFzZScpCgogICAgY3Vyc29yID0gY29ubi5jdXJzb3IoKQogICAgdHJ5OgogICAgICAgIGlmIGFyZ3M6CiAgICAgICAgICAgIGN1cnNvci5leGVjdXRlKHF1ZXJ5X3RleHQsIGFyZ3MpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY3Vyc29yLmV4ZWN1dGUocXVlcnlfdGV4dCkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICByYWlzZSBlCgoKICAgICMg0JXRgdC70Lgg0L3QsNC00L4gLSDQstC+0LfQstGA0LDRidCw0LXQvCDQvdC1INGA0LXQt9GD0LvRjNGC0LDRgiDQt9Cw0L/RgNC+0YHQsCwg0LAg0YHQu9C+0LLQsNGA0Ywg0YEg0LjQvNC/0L7RgNGC0LjRgNC+0LLQsNC90L3Ri9C8INGA0LXQt9GD0LvRjNGC0LDRgtC+0LwKICAgIGlmIHJldHVybl9kaWN0OgogICAgICAgIHJlcyA9IFtkaWN0KGxpbmUpIGZvciBsaW5lIGluCiAgICAgICAgICAgICAgIFt6aXAoW2NvbHVtblswXSBmb3IgY29sdW1uIGluIGN1cnNvci5kZXNjcmlwdGlvbl0sIHJvdykgZm9yIHJvdyBpbiBjdXJzb3IuZmV0Y2hhbGwoKV1dCiAgICBlbHNlOgogICAgICAgIHJlcyA9IGN1cnNvci5mZXRjaGFsbCgpCiAgICBjb25uLmNvbW1pdCgpCiAgICBjb25uLmNsb3NlKCkKICAgIHJldHVybiByZXMKCgpkZWYgZXhlY3V0ZV9zY3JpcHQocXVlcnlfdGV4dCk6CiAgICAjIGdsb2JhbCBjb25uICAjID0gTm9uZQogICAgIyBnZXRfZGF0YWJhc2VfY29ubmVjdGlvbigpCiAgICB0cnk6CiAgICAgICAgY29ubiA9IHNxbGl0ZTMuY29ubmVjdChkYl9wYXRoKQoKICAgIGV4Y2VwdCBFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdObyBjb25uZWN0aW9uIHdpdGggZGF0YWJhc2UnKQoKICAgIGN1cnNvciA9IGNvbm4uY3Vyc29yKCkKICAgIHRyeToKICAgICAgICBjdXJzb3IuZXhlY3V0ZXNjcmlwdChxdWVyeV90ZXh0KQogICAgICAgIGNvbm4uY29tbWl0KCkKICAgIGV4Y2VwdCBzcWxpdGUzLkVycm9yIGFzIGVyOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZXIpCiAgICBjb25uLmNsb3NlKCkKCgpkZWYgYnVsa19xdWVyeV9yZXBsYWNlKHF1ZXJ5X3RleHQ6IHN0ciwgYXJnczogb2JqZWN0ID0gIiIpIC0+IG9iamVjdDoKICAgICMgKioqKioqKioqKioqKioqKioqKioqKgogICAgIyBnbG9iYWwgY29ubgogICAgIyBnZXRfZGF0YWJhc2VfY29ubmVjdGlvbigpCiAgICBjb25uID0gTm9uZQogICAgdHJ5OgogICAgICAgIGNvbm4gPSBzcWxpdGUzLmNvbm5lY3QoZGJfcGF0aCkKCiAgICBleGNlcHQgRXJyb3I6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignTm8gY29ubmVjdGlvbiB3aXRoIGRhdGFiYXNlJykKCiAgICBjdXJzb3IgPSBjb25uLmN1cnNvcigpCiAgICB0cnk6CiAgICAgICAgaWYgYXJnczoKICAgICAgICAgICAgY3Vyc29yLmV4ZWN1dGVtYW55KHF1ZXJ5X3RleHQsIGFyZ3MpCgogICAgICAgIGNvbm4uY29tbWl0KCkKICAgIGV4Y2VwdCBzcWxpdGUzLkVycm9yIGFzIGVyOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZXIpCgogICAgcmVzID0gY3Vyc29yLmZldGNoYWxsKCkKCiAgICBjb25uLmNsb3NlKCkKICAgIHJldHVybiByZXMKCgpkZWYgZ2V0X25hbWVfbGlzdChzdHJfZW50dHkpOgogICAgcXVlcnkgPSAiU0VMRUNUIG5hbWUgRlJPTSAiICsgc3RyX2VudHR5CiAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5KQogICAgbGlzdF9lbCA9IFtdCiAgICAjIGxpc3RfZWwuYXBwZW5kKG5hbWUgZm9yIG5hbWUgaW4gcmVzKQogICAgZm9yIGVsIGluIHJlczoKICAgICAgICBsaXN0X2VsLmFwcGVuZChlbFswXSkKICAgIHJldHVybiAiOyIuam9pbihsaXN0X2VsKQoKCmRlZiBnZXRfYnlfbmFtZShmbGQsIHRhYmxlKToKICAgIHF1ZXJ5ID0gIlNFTEVDVCBpZCBGUk9NICIgKyB0YWJsZSArICcgV0hFUkUgbmFtZSA9ID8nCiAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoZmxkLCkpCgogICAgaWYgbGVuKHJlcykgPT0gMDoKICAgICAgICByZXR1cm4gIiIKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIHJlc1swXVswXQoKCmRlZiBnZXRfY29uc3RhbnRzKG5lZWRfY29uc3Q9JycpOgogICAgc3FsX3RleHQgPSAnU2VsZWN0ICogZnJvbSBSU19jb25zdGFudHMnCiAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHNxbF90ZXh0KQoKICAgICMg0LjQvdC40YbQuNCw0LvQuNC30LjRgNGD0LXQvCDQutC+0L3RgdGC0LDQvdGC0YsKICAgIGlmIG5vdCByZXM6ICAjIGxlbihyZXMpID09IDA6CiAgICAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdCgKICAgICAgICAgICAgJ0lOU0VSVCBJTlRPIFJTX2NvbnN0YW50cyAodXNlX3NlcmllcywgdXNlX3Byb3BlcnRpZXMsIHVzZV9tYXJrLCBhZGRfaWZfbm90X2luX3BsYW4sIHBhdGgsIGRlbGV0ZV9maWxlcywgcmVzZXJ2ZWQsIGFsbG93X292ZXJzY2FuKSBWQUxVRVMgKD8sPyw/LD8sPyw/LD8sPyknLAogICAgICAgICAgICAoJzAnLCAnMCcsICcwJywgJzAnLCAnLy9zdG9yYWdlL2VtdWxhdGVkLzAvQW5kcm9pZC9kYXRhL3J1LnRyYXZlbGZvb2Quc2ltcGxlX3VpLycsICcwJywKICAgICAgICAgICAgICcwJywgJzAnKSkgICMgLy9zdG9yYWdlL2VtdWxhdGVkLzAvZG93bmxvYWQvCgogICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQoc3FsX3RleHQpCgogICAgZWxzZTogICMgbGVuKHJlcyk+MDoKICAgICAgICBpZiBuZWVkX2NvbnN0OgogICAgICAgICAgICBscyA9IFsnaWQnLCAndXNlX3NlcmllcycsICd1c2VfcHJvcGVydGllcycsICd1c2VfbWFyaycsICdhZGRfaWZfbm90X2luX3BsYW4nLCAncGF0aCcsICdkZWxldGVfZmlsZXMnLAogICAgICAgICAgICAgICAgICAncmVzZXJ2ZWQnLCAnYWxsb3dfb3ZlcnNjYW4nLCAncmVsZWFzZSddCiAgICAgICAgICAgIHggPSBscy5pbmRleChuZWVkX2NvbnN0KQoKICAgICAgICAgICAgaWYgeCA+IDA6CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzWzBdW3hdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIHJlc1swXQoKCgpkZWYgcHV0X2NvbnN0YW50cyhhcmdzKToKICAgIHNxbF91cGRhdGVfcXVlcnkgPSAiIiJVcGRhdGUgUlNfY29uc3RhbnRzIHNldCB1c2Vfc2VyaWVzID0gPywgdXNlX3Byb3BlcnRpZXMgPSA/LCB1c2VfbWFyayA9ID8sIGFkZF9pZl9ub3RfaW5fcGxhbj0/LCBwYXRoID0gPywKICAgICBkZWxldGVfZmlsZXMgPSA/LCBhbGxvd19vdmVyc2NhbiA9ID8gIiIiCiAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHNxbF91cGRhdGVfcXVlcnksIGFyZ3MpCgoKZGVmIElkX3RvX0hFWChndWlkKToKICAgIHgxID0gZ3VpZFsxOToyM10KICAgIHgyID0gZ3VpZFsyNDogMzZdCiAgICB4MyA9IGd1aWRbMTQ6IDE4XQogICAgeDQgPSBndWlkWzk6MTNdCiAgICB4NSA9IGd1aWRbMDogOF0KCiAgICBzdHJfZ3VpZCA9IHgxICsgeDIgKyB4MyArIHg0ICsgeDUKICAgIHJldHVybiBpbnQoc3RyX2d1aWQsIDE2KQoKCgojCmNsYXNzIFJzX2RvYygpOgogICAgaWRfZG9jID0gJycgICMgc3RyKQogICAgaWRfc3RyID0gJycgICMgc3RyKQogICAgcXR0eSA9ICcnICAjIHN0cikKCiAgICBkZWYgdXBkYXRlX2RvY19zdHIoc2VsZiwgcHJpY2U9MCk6CiAgICAgICAgcXVlcnkgPSAiIiIKICAgICAgICBVUERBVEUgUlNfZG9jc190YWJsZQogICAgICAgIFNFVCBxdHR5PT8sIHByaWNlPT8KICAgICAgICBXaGVyZSBpZD0/ICIiIgogICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnksIChzZWxmLnF0dHksIHByaWNlLCBzZWxmLmlkX3N0cikpCiAgICAgICAgcmV0dXJuIHJlcwoKICAgIGRlZiBkZWxldGVfZG9jKHNlbGYpOgogICAgICAgIHF1ZXJ5X2RvY190YWJsZSA9ICdERUxFVEUgRlJPTSBSU19kb2NzX3RhYmxlIFdIRVJFIGlkX2RvYyA9ID8nCiAgICAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV9kb2NfdGFibGUsIChzZWxmLmlkX2RvYywpKQogICAgICAgIHF1ZXJ5X2RvY190YWJsZSA9ICdERUxFVEUgRlJPTSBSU19kb2NzX2JhcmNvZGVzIFdIRVJFIGlkX2RvYyA9ID8nCiAgICAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV9kb2NfdGFibGUsIChzZWxmLmlkX2RvYywpKQogICAgICAgIHF1ZXJ5X2RvYyA9ICdERUxFVEUgRlJPTSBSU19kb2NzIFdIRVJFIGlkX2RvYyA9ID8nCiAgICAgICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV9kb2MsIChzZWxmLmlkX2RvYywpKQoKICAgICAgICByZXR1cm4gcmVzCiAgICBkZWYgY2xlYXJfYmFyY29kZV9kYXRhKHNlbGYpOgogICAgICAgIHF1ZXJ5X3RleHQgPSAoJ1VwZGF0ZSBSU19kb2NzX2JhcmNvZGVzIFNldCBhcHByb3ZlZCA9IDAgV2hlcmUgaWRfZG9jPTppZF9kb2MnLAogICAgICAgICdEZWxldGUgRnJvbSBSU19kb2NzX2JhcmNvZGVzIFdoZXJlICBpZF9kb2M9OmlkX2RvYyBBbmQgaXNfcGxhbiA9IDAnLAogICAgICAgICdVcGRhdGUgUlNfZG9jc190YWJsZSBTZXQgcXR0eSA9IDAgV2hlcmUgaWRfZG9jPTppZF9kb2MnLAogICAgICAgICdEZWxldGUgRnJvbSBSU19kb2NzX3RhYmxlIFdoZXJlIGlkX2RvYz06aWRfZG9jIGFuZCBpc19wbGFuID0gIkZhbHNlIicpCiAgICAgICAgZm9yIGVsIGluIHF1ZXJ5X3RleHQ6CiAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQoZWwsICh7J2lkX2RvYyc6c2VsZi5pZF9kb2N9KSkKCiAgICBkZWYgbWFya19mb3JfdXBsb2FkKHNlbGYpOgogICAgICAgIHF1ZXJ5ID0gIiIiCiAgICAgICAgVVBEQVRFIFJTX2RvY3NfdGFibGUKICAgICAgICBTRVQgc2VudD0xCiAgICAgICAgV2hlcmUgaWQ9PyAiIiIKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoc2VsZi5pZF9kb2MpKQoKICAgICAgICByZXR1cm4gcmVzCgogICAgZGVmIG1hcmtfdmVyaWZpZWQoc2VsZiwga2V5KToKICAgICAgICBxdWVyeSA9ICIiIgogICAgICAgICAgICAgICAgVVBEQVRFIFJTX2RvY3MKICAgICAgICAgICAgICAgIFNFVCB2ZXJpZmllZD0/CiAgICAgICAgICAgICAgICBXaGVyZSBpZF9kb2M9PyAiIiIKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoaW50KGtleSksIHNlbGYuaWRfZG9jKSkKCiAgICBkZWYgZmluZF9iYXJjb2RlX2luX3RhYmxlKHNlbGYsIHNlYXJjaF92YWx1ZTogc3RyLCBmdW5jX2NvbXBhcmVkPSc9PycpIC0+IG9iamVjdDoKCiAgICAgICAgcXVlcnkgPSAnJycKICAgICAgICAgICAgICAgICBTRUxFQ1QKICAgICAgICAgICAgICAgICBSU19iYXJjb2Rlcy5pZF9nb29kLAogICAgICAgICAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3Byb3BlcnR5LAogICAgICAgICAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3NlcmllcywKICAgICAgICAgICAgICAgICBSU19iYXJjb2Rlcy5pZF91bml0LAogICAgICAgICAgICAgICAgIFJTX2RvY3NfdGFibGUuaWQsCiAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5xdHR5ICAgICAgICAKICAgICAgICAgICAgICAgICBGUk9NIFJTX2JhcmNvZGVzCiAgICAgICAgICAgICAgICAgTGVmdCBqb2luIFJTX2RvY3NfdGFibGUgT04KICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX2dvb2Q9IFJTX2JhcmNvZGVzLmlkX2dvb2QgYW5kCiAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZF9wcm9wZXJ0aWVzPSBSU19iYXJjb2Rlcy5pZF9wcm9wZXJ0eSBhbmQKICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3VuaXQ9IFJTX2JhcmNvZGVzLmlkX3VuaXQgQW5kCiAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZF9kb2M9PwogICAgICAgICAgICAgICAgIHdoZXJlIGJhcmNvZGUgJycnICsgZnVuY19jb21wYXJlZAogICAgICAgICMgcXVlcnkgPSBxdWVyeSArIGZ1bmNfY29tcGFyZWQKCiAgICAgICAgcmV0dXJuIGdldF9xdWVyeV9yZXN1bHQocXVlcnksIChzZWxmLmlkX2RvYywgc2VhcmNoX3ZhbHVlKSwgVHJ1ZSkKCiAgICBkZWYgZmluZF9iYXJjb2RlX2luX21hcmtfdGFibGUoc2VsZiwgc2VhcmNoX3ZhbHVlOiBzdHIsIGZ1bmNfY29tcGFyZWQ9Jz0/JykgLT4gb2JqZWN0OgogICAgICAgIHF1ZXJ5ID0gJycnCiAgICAgICAgICAgICAgICAgICAgICAgIFNFTEVDVAogICAgICAgICAgICAgICAgICAgICAgICBSU19tYXJraW5nX2NvZGVzLmlkX2dvb2QsCiAgICAgICAgICAgICAgICAgICAgICAgIFJTX21hcmtpbmdfY29kZXMuaWRfcHJvcGVydHksCiAgICAgICAgICAgICAgICAgICAgICAgIFJTX21hcmtpbmdfY29kZXMuaWRfc2VyaWVzLAogICAgICAgICAgICAgICAgICAgICAgICBSU19tYXJraW5nX2NvZGVzLmlkX3VuaXQsCiAgICAgICAgICAgICAgICAgICAgICAgIFJTX2RvY3NfdGFibGUuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIFJTX2RvY3NfdGFibGUucXR0eSAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIEZST00gUlNfbWFya2luZ19jb2RlcwogICAgICAgICAgICAgICAgICAgICAgICBMZWZ0IGpvaW4gUlNfZG9jc190YWJsZSBPTgogICAgICAgICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX2dvb2Q9IFJTX21hcmtpbmdfY29kZXMuaWRfZ29vZCBhbmQKICAgICAgICAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZF9wcm9wZXJ0aWVzPSBSU19tYXJraW5nX2NvZGVzLmlkX3Byb3BlcnR5IGFuZAogICAgICAgICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3VuaXQ9IFJTX21hcmtpbmdfY29kZXMuaWRfdW5pdCBBbmQKICAgICAgICAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZF9kb2M9PwogICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXJrX2NvZGUgICcnJyArIGZ1bmNfY29tcGFyZWQKICAgICAgICAjIHF1ZXJ5ID0gcXVlcnkgKyBmdW5jX2NvbXBhcmVkCgogICAgICAgIHJldHVybiBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoc2VsZi5pZF9kb2MsIHNlYXJjaF92YWx1ZSksIFRydWUpCgogICAgZGVmIHVwZGF0ZV9kb2NfdGFibGVfZGF0YShzZWxmLCBlbGVtX2Zvcl9hZGQ6IGRpY3QsIHF0dHk9MSk6CiAgICAgICAgIyDQodC90LDRh9Cw0LvQsCDQvtC/0YDQtdC00LXQu9C40LwsINC10YHRgtGMINC70Lgg0LIg0YHQv9C40YHQutC1INGC0L7QstCw0YDQvtCyINC00L7QutGD0LzQtdC90YLQsCDQvdCw0Ygg0YLQvtCy0LDRgDoKICAgICAgICBxdGV4dCA9ICdTZWxlY3QgKiBmcm9tIFJTX2RvY3NfdGFibGUgV2hlcmUgaWRfZG9jPT8gYW5kIGlkX2dvb2QgPSA/IGFuZCBpZF9wcm9wZXJ0aWVzID0gPyBhbmQgaWRfc2VyaWVzID0gPyAnICNhbmQgaWRfdW5pdCA9ID8KICAgICAgICBhcmdzID0gKHNlbGYuaWRfZG9jLCBlbGVtX2Zvcl9hZGRbJ2lkX2dvb2QnXSwgZWxlbV9mb3JfYWRkWydpZF9wcm9wZXJ0eSddLCBlbGVtX2Zvcl9hZGRbJ2lkX3NlcmllcyddKSAjLGVsZW1fZm9yX2FkZFsnaWRfdW5pdCddCiAgICAgICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgYXJncywgVHJ1ZSkKICAgICAgICBpZiByZXM6ICAjINCd0LDRiNC70Lgg0YHRgtGA0L7QutC4INC00L7QutGD0LzQtdC90YLQsCwg0LTQvtCx0LDQstC70Y/QtdC8INC60L7Qu9C40YfQtdGB0YLQstC+CgogICAgICAgICAgICBlbCA9IHJlc1swXQogICAgICAgICAgICAjIGlmIGVsWydxdHR5J10rcXR0eSA9PSAwOgogICAgICAgICAgICAjICAgICBxdGV4dCA9ICdERUxFVEUgRlJPTSBSU19kb2NzX3RhYmxlICBXSEVSRSBpZCA9ID8nCiAgICAgICAgICAgICMgICAgIGdldF9xdWVyeV9yZXN1bHQocXRleHQsIChlbFsnaWQnXSwpKQogICAgICAgICAgICAjIGVsc2U6CiAgICAgICAgICAgIHF0ZXh0ID0gJ1VQREFURSBSU19kb2NzX3RhYmxlIFNFVCBxdHR5PXF0dHkrPywgbGFzdF91cGRhdGVkID0gPywgc2VudCA9IDAgIFdIRVJFIGlkID0gPycKICAgICAgICAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgKHF0dHksICBkYXRldGltZS5ub3coKS5zdHJmdGltZSgiJVktJW0tJWQgJUg6JU06JVMiKSwgZWxbJ2lkJ10pKQogICAgICAgIGVsc2U6ICAjINCi0LDQutC+0Lkg0YHRgtGA0L7QutC4INC90LXRgiwg0L3QsNC00L4g0LTQvtCx0LDQstC40YLRjAogICAgICAgICAgICBxdGV4dCA9ICdSRVBMQUNFIElOVE8gUlNfZG9jc190YWJsZShpZF9kb2MsIGlkX2dvb2QsIGlkX3Byb3BlcnRpZXMsaWRfc2VyaWVzLCBpZF91bml0LCBxdHR5LCBwcmljZSwgaWRfcHJpY2UsIGlzX3BsYW4sIHNlbnQpIFZBTFVFUyAoPyw/LD8sPyw/LD8sPyw/LD8sPyknCiAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocXRleHQsICgKICAgICAgICAgICAgICAgIHNlbGYuaWRfZG9jLCBlbGVtX2Zvcl9hZGRbJ2lkX2dvb2QnXSwgZWxlbV9mb3JfYWRkWydpZF9wcm9wZXJ0eSddLCBlbGVtX2Zvcl9hZGRbJ2lkX3NlcmllcyddLAogICAgICAgICAgICAgICAgZWxlbV9mb3JfYWRkLmdldCgnaWRfdW5pdCcpLCBxdHR5LCAwLCAnJywgJ0ZhbHNlJywgMCkpCgogICAgICAgIHJldHVybiByZXMKCiAgICAjINCk0YPQs9C60YbQuNGPINC00L7QsdCw0LLQu9GP0LXRgiDRgdGC0YDQvtC60YMg0LIg0LzQsNGA0LrQuNGA0L7QstC60YMg0LTQvtC60YPQvNC10L3RgtCwINC90LAg0L7RgdC90L7QstCw0L3QuNC4INCx0LDRgNC60L7QtNCwIChkYXRhTWF0cml4KQogICAgZGVmIGFkZF9tYXJrZWRfY29kZXNfaW5fZG9jKHNlbGYsIGJhcmNvZGVfaW5mbyk6CiAgICAgICAgcXRleHQgPSAnU0VMRUNUICogRlJPTSBSU19tYXJraW5nX2NvZGVzIFdoZXJlIG1hcmtfY29kZSA9PycKICAgICAgICBxX2RvY190ZXh0ID0gJ1JFUExBQ0UgSU5UTyBSU19kb2NzX2JhcmNvZGVzIChpZF9kb2MsIGlkX2JhcmNvZGUsIGJhcmNvZGVfZnJvbV9zY2FubmVyLCBpc19wbGFuLCBhcHByb3ZlZCkgVkFMVUVTICg/LD8sPyw/LD8pJwogICAgICAgICMg0JjRidC10Lwg0LrQvtC0INC80LDRgNC60LjRgNC+0LLQutC4INCyINGC0LDQsdC70LjRhtC1IFJTX21hcmtpbmdfY29kZXMg0L/QviBHVElOINC4IFNFUklBTAogICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXRleHQsICgnMDEnICsgYmFyY29kZV9pbmZvWydHVElOJ10gKyAnMjEnICsgYmFyY29kZV9pbmZvWydTRVJJQUwnXSwpLCBUcnVlKQogICAgICAgIGlmIHJlczoKICAgICAgICAgICAgIyDQndCw0YjQu9C4INGC0LDQutC+0Lkg0LHQsNGA0LrQvtC0INCyINGB0L/QuNGB0LrQtSDQvNCw0YDQutC40YDQvtCy0LrQuCwg0LfQsNC/0L7Qu9C90Y/QtdC8INGB0YLRgNC+0LrRgyDQvNCw0YDQutC40YDQvtCy0LrQuCDQtNC+0LrRg9C80LXQvdGC0LAKCiAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocV9kb2NfdGV4dCwgKHNlbGYuaWRfZG9jLCByZXNbMF1bJ2lkJ10sIGJhcmNvZGVfaW5mb1snRnVsbEJhcmNvZGUnXSwgJzAnLCAnMScpLCBUcnVlKQogICAgICAgICAgICByZXR1cm4gcmVzWzBdCiAgICAgICAgZWxzZTogICMg0J3QtSDQvdCw0YjQu9C4IC0g0L/RgNC+0LHRg9C10Lwg0LjRgdC60LDRgtGMINC/0L4gR1RJTiDQsiDRgtCw0LHQu9C40YbQtSDQsdCw0YDQutC+0LTQvtCyCiAgICAgICAgICAgIHJlcyA9IHNlbGYuZmluZF9iYXJjb2RlX2luX21hcmtfdGFibGUoc2VsZiwgJzAxJyArIGJhcmNvZGVfaW5mb1snR1RJTiddICsgJyUnLCAnTGlrZSA/JykKICAgICAgICAgICAgaWYgcmVzOiAgIyDQndCw0YjQu9C4INC/0L4gR1RJTiwg0LfQsNC/0L7Qu9C90Y/QtdC8INC00L7QutGD0LzQtdC90YIKICAgICAgICAgICAgICAgIGVsID0gcmVzWzBdCiAgICAgICAgICAgICAgICAjINCh0L3QsNGH0LDQu9CwINC30LDQv9C+0LvQvdC40Lwg0YLQsNCx0LvQuNGG0YMgUlNfbWFya2luZ19jb2RlcwogICAgICAgICAgICAgICAgcXRleHQgPSAnUkVQTEFDRSBJTlRPIFJTX21hcmtpbmdfY29kZXMgKGlkLCBtYXJrX2NvZGUsIGlkX2dvb2QsIGlkX3Byb3BlcnR5LCBpZF9zZXJpZXMsIGlkX3VuaXQpIFZBTFVFUyAoPyw/LD8sPyw/LD8pJwogICAgICAgICAgICAgICAgbWFya19jb2RlID0gJzAxJyArIGJhcmNvZGVfaW5mb1snR1RJTiddICsgJzIxJyArIGJhcmNvZGVfaW5mb1snU0VSSUFMJ10KICAgICAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocXRleHQsICgKICAgICAgICAgICAgICAgICAgICBtYXJrX2NvZGUsIG1hcmtfY29kZSwgZWxbJ2lkX2dvb2QnXSwgZWxbJ2lkX3Byb3BlcnR5J10sIGVsWydpZF9zZXJpZXMnXSwgZWxbJ2lkX3VuaXQnXSkpCiAgICAgICAgICAgICAgICAjINCYINGC0LXQv9C10YDRjCDRgtCw0LHQu9C40YbRgyDQtNC+0LrRg9C80LXQvdGC0LAg0YHQviDRgdGB0YvQu9C60L7QuSDQvdCwIFJTX21hcmtpbmdfY29kZXMKICAgICAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocV9kb2NfdGV4dCwgKHNlbGYuaWRfZG9jLCBtYXJrX2NvZGUsIGJhcmNvZGVfaW5mb1snRnVsbEJhcmNvZGUnXSwgJzAnLCAnMScpKQogICAgICAgICAgICAgICAgZWxbJ21hcmtfY29kZSddID0gbWFya19jb2RlCiAgICAgICAgICAgICAgICByZXR1cm4gZWwKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiBOb25lCgoKICAgIGRlZiBhZGRfbmV3X2JhcmNvZGVfaW5fZG9jX2JhcmNvZGVzX3RhYmxlKHNlbGYsIGVsLCBiYXJjb2RlX2luZm8pOgogICAgICAgIHF1ZXJ5X3RleHQgPSAnJycKICAgICAgICBJbnNlcnQgSW50byBSU19kb2NzX2JhcmNvZGVzICgKICAgICAgICBpZF9kb2MsCiAgICAgICAgaWRfZ29vZCwKICAgICAgICBpZF9wcm9wZXJ0eSwKICAgICAgICBpZF9zZXJpZXMsCiAgICAgICAgaWRfdW5pdCwKICAgICAgICBiYXJjb2RlX2Zyb21fc2Nhbm5lciwKICAgICAgICBhcHByb3ZlZCAsCiAgICAgICAgR1RJTiwKICAgICAgICBTZXJpZXMpIFZBTFVFUyAoPyw/LD8sPyw/LD8sPyw/LD8pJycnCiAgICAgICAgYXJncyA9IChzZWxmLmlkX2RvYywgZWxbJ2lkX2dvb2QnXSxlbFsnaWRfcHJvcGVydHknXSxlbFsnaWRfc2VyaWVzJ10sZWxbJ2lkX3VuaXQnXSxiYXJjb2RlX2luZm9bJ0Z1bGxDb2RlJ10sJzEnLCBiYXJjb2RlX2luZm9bJ0dUSU4nXSwgYmFyY29kZV9pbmZvWydTRVJJQUwnXSkKICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsIGFyZ3MpCgoKCiAgICAjINCV0YHRgtGMINC/0LvQsNC9INC/0L4g0LrQvtC70LjRh9C10YHRgtCy0YMgIC0gaGF2ZV9xdHR5X3BsYW4KICAgICMg0JXRgdGC0Ywg0L/Qu9Cw0L0g0L/QviDRgdC/0LjRgdC60YMg0YLQvtCy0LDRgNC+0LIgaGF2ZV96ZXJvX3BsYW4KICAgICMg0JrQntC90YLRgNC+0LvRjCDQv9C70LDQvdC+0LIg0LIg0LTQvtC60YPQvNC10L3RgtC1IC0gY29udHJvbAogICAgIyDQldGB0YLRjCDQv9C70LDQvSDQv9C+INC80LDRgNC60LjRgNGD0LXQvNC+0Lkg0L/RgNC+0LTRg9C60YbQuNC4IGhhdmVfbWFya19wbGFuCiAgICBkZWYgcHJvY2Vzc190aGVfYmFyY29kZShzZWxmLCBiYXJjb2RlLCBoYXZlX3F0dHlfcGxhbiA9IEZhbHNlLCBoYXZlX3plcm9fcGxhbiA9IEZhbHNlLCBjb250cm9sID0gRmFsc2UsIGhhdmVfbWFya19wbGFuID0gRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtID0gTm9uZSk6ICMgYWRkX2lmX25vdF9mb3VuZD1GYWxzZSwgYWRkX2lmX25vdF9pbl9wbGFuPUZhbHNlKToKICAgICAgICAjINCf0L7Qu9GD0YfQuNC8INGB0YLRgNGD0LrRgtGD0YDRgyDQsdCw0YDQutC+0LTQsAogICAgICAgIGlmIGJhcmNvZGVbMF0gPT0gY2hyKDI5KSBhbmQgbGVuKGJhcmNvZGUpID4gMzE6ICAjIFJlbW92ZSBmaXJzdCBHUzEgY2hhciBmcm9tIGJhcmNvZGUKICAgICAgICAgICAgYmFyY29kZSA9IGJhcmNvZGVbMTpdCiAgICAgICAgYmFyY29kZV9pbmZvID0gdWlfYmFyY29kZXMucGFyc2VfYmFyY29kZShiYXJjb2RlKQogICAgICAgIGlmIGJhcmNvZGVfaW5mby5fX2NvbnRhaW5zX18oJ0VSUk9SJyk6CiAgICAgICAgICAgIHJldHVybiB7J0Vycm9yJzogJ0ludmFsaWQgQmFyY29kZScsICdEZXNjcic6ICfQndC10LLQtdGA0L3Ri9C5INGI0YLRgNC40YXQutC+0LQnLAogICAgICAgICAgICAgICAgICAgICdCYXJjb2RlJzogYmFyY29kZV9pbmZvLCAnZG9jX2luZm8nOiBzZWxmLmlkX2RvY30KICAgICAgICAjIC4uLiDQuCDQvdCw0LnQtNC10Lwg0L/QviDQvdC10LzRgyDQstGB0LUg0YfRgtC+INC10YHRgtGMINCyINCx0LDQt9C1CiAgICAgICAgc2hlbWEgPSBiYXJjb2RlX2luZm9bJ1NDSEVNRSddCiAgICAgICAgaWYgc2hlbWEgaW4gWydFQU4xMycsICdVTktOT1dOJ106CiAgICAgICAgICAgIHNlYXJjaF92YWx1ZSA9IGJhcmNvZGVfaW5mb1snQkFSQ09ERSddCiAgICAgICAgZWxpZiBzaGVtYSA9PSAnR1MxJzoKICAgICAgICAgICAgc2VhcmNoX3ZhbHVlID0gYmFyY29kZV9pbmZvWydHVElOJ10KICAgICAgICBlbHNlOiAgIyAqKioqKioqKioqKioqKioqKirQodGO0LTQsCDQvNC+0LbQvdC+INC00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQtSDQstC40LTRiyDRiNGC0YDQuNGF0LrQvtC00L7QsiAqKioqKioqKioqKioqKioqKioqKgogICAgICAgICAgICBzZWFyY2hfdmFsdWUgPSBiYXJjb2RlX2luZm9bJ0JBUkNPREUnXQoKICAgICAgICByZXMgPSBmaW5kX2JhcmNvZGVfaW5fYmFyY29kZV90YWJsZShzZWFyY2hfdmFsdWUpICAjINCY0YnQtdGCINCx0LDRgNC60L7QtCDQuNC70Lgg0JPQotCY0JjQnSDQv9C+INC+0LHRidC10Lkg0YLQsNCx0LvQuNGG0LUg0YjRgtGA0LjRhdC60L7QtNC+0LIuINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINGC0L7QstCw0YAsINC10LPQviDQstC40LQsINGF0LDRgNCw0LrRgtC10YDQuNGB0YLQuNC60YMg0YHQtdGA0LjRjiDQuNGC0L8uCiAgICAgICAgaWYgbm90IGxlbihyZXMpID09IDA6CiAgICAgICAgICAgIGVsZW0gPSByZXNbMF0gI9CR0LXRgNC10Lwg0L/QtdGA0LLRi9C5INGA0LXQt9GD0LvRjNGC0LDRgi4g0JIg0L/RgNCw0LLQuNC70YzQvdC+0Lwg0YHQv9C40YHQutC1INGI0YLRgNC40YXQutC+0LTQvtCyINC90LUg0LzQvtC20LXRgiDQsdGL0YLRjCDQv9C+0LLRgtC+0YDQtdC90LjQuQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiB7J0Vycm9yJzogJ05vdEZvdW5kJywgJ0Rlc2NyJzogJ9Co0YLRgNC40YXQutC+0LQg0L3QtSDQvdCw0LnQtNC10L0g0LIg0LHQsNC30LUnLCAnQmFyY29kZSc6IGJhcmNvZGV9CgogICAgICAgIHVzZV9tYXJrID0gZ2V0X2NvbnN0YW50cygndXNlX21hcmsnKSA9PSAndHJ1ZScgYW5kIGVsZW1bJ3VzZV9tYXJrJ10gPT0gMQoKICAgICAgICAjINCf0YDQvtCy0LXRgNGP0LXQvCDQvNCw0YDQutC40YDQvtCy0LrRgwogICAgICAgIGlmIHVzZV9tYXJrOgogICAgICAgICAgICBpZiBzaGVtYSA9PSAnR1MxJzoKICAgICAgICAgICAgICAgIGVsX21hcmtlZCA9IE5vbmUKICAgICAgICAgICAgICAgICMg0JjRgdC/0L7Qu9GM0LfRg9C10Lwg0LzQsNGA0LrQuNGA0L7QstC60YMg0Lgg0YLQvtCy0LDRgCDQvNCw0YDQutC40YDRg9C10YLRgdGPCiAgICAgICAgICAgICAgICAjINCd0LDRiNC70Lgg0LIg0LTQvtC60YPQvNC10L3RgtC1IEdUSU4gKyDRgdC10YDQuNGPCiAgICAgICAgICAgICAgICByZXMgPSBmaW5kX2JhcmNvZGVfaW5fbWFya2luZ19jb2Rlc190YWJsZShzZWxmLCBiYXJjb2RlX2luZm8pCgogICAgICAgICAgICAgICAgaWYgcmVzOgogICAgICAgICAgICAgICAgICAgIGVsX21hcmtlZCA9IHJlc1swXSAj0JLRi9Cx0LjRgNCw0LXQvCDQv9C10YDQstGD0Y4g0YHRgtGA0L7QutGDINC40Lcg0YHQv9C40YHQutCwICjQtdGB0LvQuCDQsiDRgtCw0LHQu9C40YbQtSDRiNGC0YDQuNGF0LrQvtC00L7QsiDQv9C+0YDRj9C00L7Quiwg0LIg0YDQtdGBINCy0YHQtdCz0LTQsCDRgtC+0LvRjNC60L4g0L7QtNC90LAg0YHRgtGA0L7QutCwKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAjINCd0LUg0L3QsNGI0LvQuCwg0L/RgNC+0LLQtdGA0Y/QtdC8INC10YHRgtGMINC70Lgg0LIg0LTQvtC60YPQvNC10L3RgtC1INC/0LvQsNC9INC4INC60L7QvdGC0YDQvtC70YwKICAgICAgICAgICAgICAgICAgICBpZiBoYXZlX21hcmtfcGxhbiBhbmQgY29udHJvbDogI9CV0YHRgtGM0J/Qu9Cw0L3QmtCe0LTQvtCy0JzQsNGA0LrQuNGA0L7QstC60Lgg0Lgg0LrQvtC90YLRgNC+0LvRjAogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geydFcnJvcic6ICdOb3RGb3VuZCcsICdEZXNjcic6ICfQnNCw0YDQutCwINC90LUg0L3QsNC50LTQtdC90LAg0LIg0LTQvtC60YPQvNC10L3RgtC1JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQmFyY29kZSc6IGJhcmNvZGVfaW5mbywgJ2RvY19pbmZvJzogc2VsZi5pZF9kb2N9CgogICAgICAgICAgICAgICAgIyAqKioqKioqKioqKioKCiAgICAgICAgICAgICAgICBpZiBlbF9tYXJrZWQgYW5kIGVsX21hcmtlZFsnaWRfZ29vZCddOiAgIyDQvdCw0YjQu9C4INGB0YLRgNC+0LrRgyDQv9C+INC/0L7Qu9C90L7QvNGDINGB0L7QstC/0LDQtNC10L3QuNGOIEdUSU4g0Lgg0YHQtdGA0LjRjywg0YHRgdGL0LvQutCwINC90LAg0YLQvtCy0LDRgAoKICAgICAgICAgICAgICAgICAgICBpZiBlbF9tYXJrZWRbJ2FwcHJvdmVkJ10gPT0gJzEnOiAgIyDQotCw0LrQsNGPINC80LDRgNC60LAg0YPQttC1INCx0YvQu9CwINC+0YLRgdC60LDQvdC40YDQvtCy0LDQvdCwCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7J0Vycm9yJzogJ0FscmVhZHlTY2FubmVkJywgJ0Rlc2NyJzogJ9Ci0LDQutCw0Y8g0LzQsNGA0LrQsCDRg9C20LUg0LHRi9C70LAg0L7RgtGB0LrQsNC90LjRgNC+0LLQsNC90LAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdCYXJjb2RlJzogYmFyY29kZV9pbmZvLCAnZG9jX2luZm8nOiBlbF9tYXJrZWR9CgogICAgICAgICAgICAgICAgIyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCgogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIHsnRXJyb3InOiAnTm90VmFsaWRCYXJjb2RlJywKICAgICAgICAgICAgICAgICAgICAgICAgJ0Rlc2NyJzogJ9Ci0L7QstCw0YAg0L/QvtC00LvQtdC20LjRgiDQvNCw0YDQutC40YDQvtCy0LrQtSwg0LAg0L/QviDQvdC10LzRgyDQvtGC0YHQutCw0L3QuNGA0L7QstCw0L0g0L7QsdGL0YfQvdGL0Lkg0YjRgtGA0LjRhdC60L7QtCcsCiAgICAgICAgICAgICAgICAgICAgICAgICdCYXJjb2RlJzogYmFyY29kZX0KCiAgICAgICAgI9Ci0L7QstCw0YAg0LIg0YLQsNCx0LvQuNGG0LUg0LTQvtC60YPQvNC10L3RgtCwICjQotC+0LLQsNGAINC90LDQudC00LXQvSDQsiDQtNC+0LrRg9C80LXQvdGC0LUpCiAgICAgICAgcmVzID0gY2hlY2tfYmFyY29kZV9jb21wbGlhbmNlKGVsZW0sIHNlbGYuaWRfZG9jKSAgI9Cf0L7Qu9GD0YfQsNC10Lwg0YHRgtGA0L7QutGDINGC0LDQsdC70LjRhtGLINGC0L7QstCw0YDRiyDQtNC+0LrRg9C80LXQvdGC0LAKICAgICAgICBpZiByZXM6ICPQotC+0LLQsNGAINC90LDQudC00LXQvSDQsiDQtNC+0LrRg9C80LXQvdGC0LUKICAgICAgICAgICAgaWYgaGF2ZV9xdHR5X3BsYW46ICPQldGB0YLRjCDQv9C70LDQvSDQv9C+INC60L7Qu9C40YfQtdGB0YLQstGDCiAgICAgICAgICAgICAgICBpZiByZXNbMF1bJ3F0dHlfcGxhbiddIDw9IHJlc1swXVsncXR0eSddOiAj0JrQvtC70LjRh9C10YHRgtCy0L4g0YLQvtCy0LDRgNCwINCyINC00L7QutGD0LzQtdC90YLQtSDRg9C20LUg0L3QsNCx0YDQsNC90L4sINC4INC80Ysg0L/RgNC10LLRi9GI0LDQtdC8INC/0LvQsNC9CiAgICAgICAgICAgICAgICAgICAgaWYgY29udHJvbDoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsnUmVzdWx0JzogJ9Ca0L7Qu9C40YfQtdGB0YLQstC+INC/0LvQsNC9INC/0YDQtdCy0YvRiNC10L3Qviwg0LHQvtC70YzRiNC1INGC0L7QstCw0YAg0LIg0LTQsNC90L3Ri9C5INC00L7QutGD0LzQtdC90YIg0LTQvtCx0LDQstC40YLRjCDQvdC10LvRjNC30Y8nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdFcnJvcic6ICdRdWFudGl0eVBsYW5SZWFjaGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmFyY29kZSc6IGJhcmNvZGUsICdEZXNjcic6ICfQmtC+0LvQuNGH0LXRgdGC0LLQviDQv9C70LDQvSDQv9GA0LXQstGL0YjQtdC90L4sINCx0L7Qu9GM0YjQtSDRgtC+0LLQsNGAINCyINC00LDQvdC90YvQuSDQtNC+0LrRg9C80LXQvdGCINC00L7QsdCw0LLQuNGC0Ywg0L3QtdC70YzQt9GPJ30KCiAgICAgICAgZWxzZTogI9Ci0L7QstCw0YAg0L3QtSDQvdCw0LnQtNC10L0g0LIg0LTQvtC60YPQvNC10L3RgtC1CiAgICAgICAgICAgIGlmIGhhdmVfemVyb19wbGFuIGFuZCBjb250cm9sOgogICAgICAgICAgICAgICAgcmV0dXJuIHsnUmVzdWx0JzogJ9CSINC00LDQvdC90YvQuSDQtNC+0LrRg9C80LXQvdGCINC90LXQu9GM0LfRjyDQtNC+0LHQsNCy0LjRgtGMINGC0L7QstCw0YAg0L3QtSDQuNC3INGB0L/QuNGB0LrQsCcsCiAgICAgICAgICAgICAgICAgICAgICAgICdFcnJvcic6ICdaZXJvX3BsYW5fZXJyb3InLAogICAgICAgICAgICAgICAgICAgICAgICAnYmFyY29kZSc6IGJhcmNvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICdEZXNjcic6ICfQkiDQtNCw0L3QvdGL0Lkg0LTQvtC60YPQvNC10L3RgiDQvdC10LvRjNC30Y8g0LTQvtCx0LDQstC40YLRjCDRgtC+0LLQsNGAINC90LUg0LjQtyDRgdC/0LjRgdC60LAnfQoKCiAgICAgICAgIyDQkdC70L7QuiDQtNC+0LHQsNCy0LvQtdC90LjRjyDRgtC+0LLQsNGA0LAg0LIg0LTQvtC60YPQvNC10L3RggogICAgICAgIGlmIHVzZV9tYXJrOgogICAgICAgICAgICAjINCU0L7QsdCw0LLQu9GP0LXQvCDRgtC+0LLQsNGAINCyINGC0LDQsdC70LjRhtGDINC80LDRgNC60LjRgNC+0LLQutC4CiAgICAgICAgICAgIGlmIGVsX21hcmtlZCBhbmQgZWxfbWFya2VkWydpZF9nb29kJ106ICPQotC+0LLQsNGAINCx0YvQuyDQvdCw0LnQtNC10L0sINGC0L7Qu9GM0LrQviDQvtCx0L3QvtCy0LvRj9C10Lwg0YPQttC1INC90LDQudC00LXQvdC90YPRjiDRgdGC0YDQvtC60YMKICAgICAgICAgICAgICAgIHF1ZXJ5X3RleHQgPSAnVXBkYXRlICBSU19kb2NzX2JhcmNvZGVzIFNFVCBhcHByb3ZlZD0/LCBiYXJjb2RlX2Zyb21fc2Nhbm5lcj0/IFdoZXJlIGlkPT8nCiAgICAgICAgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsICgnMScsIGJhcmNvZGUsIGludChlbF9tYXJrZWRbJ2lkJ10pKSkKICAgICAgICAgICAgZWxzZTogI9CU0L7QsdCw0LLQu9GP0LXQvCDQvdC+0LLRg9GOINGB0YLRgNC+0LrRgyDQsiDRgtCw0LHQu9C40YbRgyDQsdCw0YDQutC+0LTQvtCyINC00L7QutGD0LzQtdC90YLQsAogICAgICAgICAgICAgICAgc2VsZi5hZGRfbmV3X2JhcmNvZGVfaW5fZG9jX2JhcmNvZGVzX3RhYmxlKHNlbGYsIGVsZW0gLCBiYXJjb2RlX2luZm8pCgoKICAgICAgICAjINCe0LHQvdC+0LLQu9GP0LXQvCDRgtCw0LHQu9C40YbRgyDRgtC+0LLQsNGA0YsKICAgICAgICBzZWxmLnVwZGF0ZV9kb2NfdGFibGVfZGF0YShzZWxmLCBlbGVtLCAxKQoKICAgICAgICByZXR1cm4geydSZXN1bHQnOiAn0JzQsNGA0LrQsCDQtNC+0LHQsNCy0LvQtdC90LAg0LIg0LTQvtC60YPQvNC10L3RgicsICdFcnJvcic6IE5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICdiYXJjb2RlJzogYmFyY29kZV9pbmZvWydHVElOJ10gKyBiYXJjb2RlX2luZm9bJ1NFUklBTCddfQoKCiAgICBkZWYgYWRkKHNlbGYsIGFyZ3MpOgogICAgICAgIHF1ZXJ5ID0gJ0lOU0VSVCBJTlRPIFJTX2RvY3MoaWRfZG9jLCBkb2NfdHlwZSwgZG9jX24sIGRvY19kYXRlLCBpZF9jb3VudHJhZ2VudHMsIGlkX3dhcmVob3VzZSwgdmVyaWZpZWQsIHNlbnQpIFZBTFVFUyAoPyw/LD8sPyw/LD8sMCwwKScKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCBhcmdzKQoKICAgIGRlZiBnZXRfbmV3X2lkKHNlbGYpOgogICAgICAgIHF1ZXJ5ID0gJ3NlbGVjdCBtYXhfaWRfZG9jIGZyb20gUlNfY29uc3RhbnRzJwogICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnkpCiAgICAgICAgaWYgbGVuKHJlcykgPT0gMDoKICAgICAgICAgICAgcmV0dXJuICcxJwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHZhbCA9IHJlc1swXVswXQogICAgICAgICAgICBpZiB2YWwgaXMgTm9uZToKICAgICAgICAgICAgICAgIHJldHVybiAnMScKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHF1ZXJ5ID0gJ1VQREFURSBSU19jb25zdGFudHMgU0VUIG1heF9pZF9kb2MgPSA/JwogICAgICAgICAgICAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSwgKGludCh2YWwpICsgMSwpKQogICAgICAgICAgICAgICAgcmV0dXJuIHN0cihpbnQodmFsKSArIDEpCgpjbGFzcyBSc19hZHJfZG9jKCk6CiAgICBpZF9kb2MgPSAnJyAgIyBzdHIpCiAgICBpZF9zdHIgPSAnJyAgIyBzdHIpCiAgICBxdHR5ID0gJycgICMgc3RyKQoKICAgIGRlZiB1cGRhdGVfZG9jX3N0cihzZWxmKToKICAgICAgICBxdWVyeSA9ICIiIgogICAgICAgIFVQREFURSBSU19hZHJfZG9jc190YWJsZQogICAgICAgIFNFVCBxdHR5PT8KICAgICAgICBXaGVyZSBpZD0/ICIiIgogICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnksIChzZWxmLnF0dHksIHNlbGYuaWRfc3RyKSkKICAgICAgICByZXR1cm4gcmVzCgoKICAgIGRlZiBjbGVhcl9iYXJjb2RlX2RhdGEoc2VsZik6CiAgICAgICAgcXVlcnlfdGV4dCA9ICgnVXBkYXRlIFJTX2Fkcl9kb2NzX3RhYmxlIFNldCBxdHR5ID0gMCBXaGVyZSBpZF9kb2M9OmlkX2RvYycsCiAgICAgICAgJ0RlbGV0ZSBGcm9tIFJTX2Fkcl9kb2NzX3RhYmxlIFdoZXJlIGlkX2RvYz06aWRfZG9jIGFuZCBpc19wbGFuID0gIkZhbHNlIicpCiAgICAgICAgZm9yIGVsIGluIHF1ZXJ5X3RleHQ6CiAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQoZWwsICh7J2lkX2RvYyc6c2VsZi5pZF9kb2N9KSkKCgogICAgZGVmIGRlbGV0ZV9kb2Moc2VsZik6CiAgICAgICAgcXVlcnlfZG9jX3RhYmxlID0gJ0RFTEVURSBGUk9NIFJTX2Fkcl9kb2NzX3RhYmxlIFdIRVJFIGlkX2RvYyA9ID8nCiAgICAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV9kb2NfdGFibGUsIChzZWxmLmlkX2RvYywpKQogICAgICAgICMgcXVlcnlfZG9jX3RhYmxlID0gJ0RFTEVURSBGUk9NIFJTX2RvY3NfYmFyY29kZXMgV0hFUkUgaWRfZG9jID0gPycKICAgICAgICAjIGdldF9xdWVyeV9yZXN1bHQocXVlcnlfZG9jX3RhYmxlLCAoc2VsZi5pZF9kb2MsKSkKICAgICAgICBxdWVyeV9kb2MgPSAnREVMRVRFIEZST00gUlNfYWRyX2RvY3MgV0hFUkUgaWRfZG9jID0gPycKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X2RvYywgKHNlbGYuaWRfZG9jLCkpCgogICAgICAgIHJldHVybiByZXMKICAgICMgZGVmIGNsZWFyX2JhcmNvZGVfZGF0YShzZWxmKToKICAgICMgICAgIHF1ZXJ5X3RleHQgPSAoJ1VwZGF0ZSBSU19kb2NzX2JhcmNvZGVzIFNldCBhcHByb3ZlZCA9IDAgV2hlcmUgaWRfZG9jPTppZF9kb2MnLAogICAgIyAgICAgJ0RlbGV0ZSBGcm9tIFJTX2RvY3NfYmFyY29kZXMgV2hlcmUgIGlkX2RvYz06aWRfZG9jIEFuZCBpc19wbGFuID0gMCcsCiAgICAjICAgICAnVXBkYXRlIFJTX2RvY3NfdGFibGUgU2V0IHF0dHkgPSAwIFdoZXJlIGlkX2RvYz06aWRfZG9jJywKICAgICMgICAgICdEZWxldGUgRnJvbSBSU19kb2NzX3RhYmxlIFdoZXJlIGlkX2RvYz06aWRfZG9jIGFuZCBpc19wbGFuID0gIkZhbHNlIicpCiAgICAjICAgICBmb3IgZWwgaW4gcXVlcnlfdGV4dDoKICAgICMgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KGVsLCAoeydpZF9kb2MnOnNlbGYuaWRfZG9jfSkpCgogICAgZGVmIG1hcmtfZm9yX3VwbG9hZChzZWxmKToKICAgICAgICBxdWVyeSA9ICIiIgogICAgICAgIFVQREFURSBSU19hZHJfZG9jc190YWJsZQogICAgICAgIFNFVCBzZW50PTEKICAgICAgICBXaGVyZSBpZD0/ICIiIgogICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnksIChzZWxmLmlkX2RvYykpCgogICAgICAgIHJldHVybiByZXMKCiAgICBkZWYgbWFya192ZXJpZmllZChzZWxmLCBrZXkpOgogICAgICAgIHF1ZXJ5ID0gIiIiCiAgICAgICAgICAgICAgICBVUERBVEUgUlNfYWRyX2RvY3MKICAgICAgICAgICAgICAgIFNFVCB2ZXJpZmllZD0/CiAgICAgICAgICAgICAgICBXaGVyZSBpZF9kb2M9PyAiIiIKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoaW50KGtleSksIHNlbGYuaWRfZG9jKSkKCiAgICBkZWYgZmluZF9iYXJjb2RlX2luX3RhYmxlKHNlbGYsIHNlYXJjaF92YWx1ZTogc3RyLCBmdW5jX2NvbXBhcmVkPSc9PycpIC0+IG9iamVjdDoKCiAgICAgICAgcXVlcnkgPSAnJycKICAgICAgICAgICAgICAgICBTRUxFQ1QKICAgICAgICAgICAgICAgICBSU19iYXJjb2Rlcy5pZF9nb29kLAogICAgICAgICAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3Byb3BlcnR5LAogICAgICAgICAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3NlcmllcywKICAgICAgICAgICAgICAgICBSU19iYXJjb2Rlcy5pZF91bml0LAogICAgICAgICAgICAgICAgIFJTX2RvY3NfYWRyX3RhYmxlLmlkLAogICAgICAgICAgICAgICAgIFJTX2RvY3NfYWRyX3RhYmxlLnF0dHkgICAgICAgIAogICAgICAgICAgICAgICAgIEZST00gUlNfYmFyY29kZXMKICAgICAgICAgICAgICAgICBMZWZ0IGpvaW4gUlNfZG9jc19hZHJfdGFibGUgT04KICAgICAgICAgICAgICAgICBSU19kb2NzX2Fkcl90YWJsZS5pZF9nb29kPSBSU19iYXJjb2Rlcy5pZF9nb29kIGFuZAogICAgICAgICAgICAgICAgIFJTX2RvY3NfYWRyX3RhYmxlLmlkX3Byb3BlcnRpZXM9IFJTX2JhcmNvZGVzLmlkX3Byb3BlcnR5IGFuZAogICAgICAgICAgICAgICAgIFJTX2RvY3NfYWRyX3RhYmxlLmlkX3VuaXQ9IFJTX2JhcmNvZGVzLmlkX3VuaXQgQW5kCiAgICAgICAgICAgICAgICAgUlNfZG9jc19hZHJfdGFibGUuaWRfZG9jPT8KICAgICAgICAgICAgICAgICB3aGVyZSBiYXJjb2RlICcnJyArIGZ1bmNfY29tcGFyZWQKICAgICAgICAjIHF1ZXJ5ID0gcXVlcnkgKyBmdW5jX2NvbXBhcmVkCgogICAgICAgIHJldHVybiBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoc2VsZi5pZF9kb2MsIHNlYXJjaF92YWx1ZSksIFRydWUpCgogICAgIyBkZWYgZmluZF9iYXJjb2RlX2luX21hcmtfdGFibGUoc2VsZiwgc2VhcmNoX3ZhbHVlOiBzdHIsIGZ1bmNfY29tcGFyZWQ9Jz0/JykgLT4gb2JqZWN0OgogICAgIyAgICAgcXVlcnkgPSAnJycKICAgICMgICAgICAgICAgICAgICAgICAgICBTRUxFQ1QKICAgICMgICAgICAgICAgICAgICAgICAgICBSU19tYXJraW5nX2NvZGVzLmlkX2dvb2QsCiAgICAjICAgICAgICAgICAgICAgICAgICAgUlNfbWFya2luZ19jb2Rlcy5pZF9wcm9wZXJ0eSwKICAgICMgICAgICAgICAgICAgICAgICAgICBSU19tYXJraW5nX2NvZGVzLmlkX3NlcmllcywKICAgICMgICAgICAgICAgICAgICAgICAgICBSU19tYXJraW5nX2NvZGVzLmlkX3VuaXQsCiAgICAjICAgICAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZCwKICAgICMgICAgICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLnF0dHkKICAgICMgICAgICAgICAgICAgICAgICAgICBGUk9NIFJTX21hcmtpbmdfY29kZXMKICAgICMgICAgICAgICAgICAgICAgICAgICBMZWZ0IGpvaW4gUlNfZG9jc190YWJsZSBPTgogICAgIyAgICAgICAgICAgICAgICAgICAgIFJTX2RvY3NfdGFibGUuaWRfZ29vZD0gUlNfbWFya2luZ19jb2Rlcy5pZF9nb29kIGFuZAogICAgIyAgICAgICAgICAgICAgICAgICAgIFJTX2RvY3NfdGFibGUuaWRfcHJvcGVydGllcz0gUlNfbWFya2luZ19jb2Rlcy5pZF9wcm9wZXJ0eSBhbmQKICAgICMgICAgICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3VuaXQ9IFJTX21hcmtpbmdfY29kZXMuaWRfdW5pdCBBbmQKICAgICMgICAgICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX2RvYz0/CiAgICAjICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWFya19jb2RlICAnJycgKyBmdW5jX2NvbXBhcmVkCiAgICAgICAgIyBxdWVyeSA9IHF1ZXJ5ICsgZnVuY19jb21wYXJlZAoKICAgICAgICByZXR1cm4gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSwgKHNlbGYuaWRfZG9jLCBzZWFyY2hfdmFsdWUpLCBUcnVlKQoKICAgIGRlZiB1cGRhdGVfZG9jX3RhYmxlX2RhdGEoc2VsZiwgZWxlbV9mb3JfYWRkOiBkaWN0LCBxdHR5PTEsIGNlbGxfaWQgPSBOb25lLCB0YWJsZV90eXBlID0gJ291dCcpOgogICAgICAgICPQmNGJ0LXQvCDRj9GH0LXQudC60YMg0L/QviDQuNC80LXQvdC4LCDQvdCw0Lwg0L3Rg9C20LXQvSBJRAogICAgICAgICMgcmVzICA9IGdldF9xdWVyeV9yZXN1bHQoJ1NlbGVjdCBpZCBGcm9tIFJTX2NlbGxzIFdoZXJlIG5hbWUgPSA/JywoY2VsbF9uYW1lLCkpCiAgICAgICAgIwogICAgICAgICMgY2VsbF9pZCA9IHJlc1swXVswXSBpZiByZXMgZWxzZSBOb25lCgogICAgICAgICMg0KHQvdCw0YfQsNC70LAg0L7Qv9GA0LXQtNC10LvQuNC8LCDQtdGB0YLRjCDQu9C4INCyINGB0L/QuNGB0LrQtSDRgtC+0LLQsNGA0L7QsiDQtNC+0LrRg9C80LXQvdGC0LAg0L3QsNGIINGC0L7QstCw0YA6CiAgICAgICAgcXRleHQgPSAnU2VsZWN0ICogZnJvbSBSU19hZHJfZG9jc190YWJsZSBXaGVyZSBpZF9kb2M9PyBhbmQgaWRfZ29vZCA9ID8gYW5kIGlkX3Byb3BlcnRpZXMgPSA/IGFuZCBpZF9zZXJpZXMgPSA/ICBhbmQgKGlkX2NlbGw9PyAgT1IgaWRfY2VsbD0gIiIgT1IgaWRfY2VsbCBpcyBOdWxsKScgICNhbmQgaWRfdW5pdCA9ID8KICAgICAgICBhcmdzID0gKHNlbGYuaWRfZG9jLCBlbGVtX2Zvcl9hZGRbJ2lkX2dvb2QnXSwgZWxlbV9mb3JfYWRkWydpZF9wcm9wZXJ0eSddLCBlbGVtX2Zvcl9hZGRbJ2lkX3NlcmllcyddLCBjZWxsX2lkKSAjLGVsZW1fZm9yX2FkZFsnaWRfdW5pdCddCiAgICAgICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgYXJncywgVHJ1ZSkKICAgICAgICBpZiByZXM6ICAjINCd0LDRiNC70Lgg0YHRgtGA0L7QutC4INC00L7QutGD0LzQtdC90YLQsCwg0LTQvtCx0LDQstC70Y/QtdC8INC60L7Qu9C40YfQtdGB0YLQstC+CgogICAgICAgICAgICBlbCA9IHJlc1swXQogICAgICAgICAgICAjIGlmIGVsWydxdHR5J10rcXR0eSA9PSAwOgogICAgICAgICAgICAjICAgICBxdGV4dCA9ICdERUxFVEUgRlJPTSBSU19kb2NzX3RhYmxlICBXSEVSRSBpZCA9ID8nCiAgICAgICAgICAgICMgICAgIGdldF9xdWVyeV9yZXN1bHQocXRleHQsIChlbFsnaWQnXSwpKQogICAgICAgICAgICAjIGVsc2U6CiAgICAgICAgICAgIHF0ZXh0ID0gJ1VQREFURSBSU19hZHJfZG9jc190YWJsZSBTRVQgcXR0eT1xdHR5Kz8sIGxhc3RfdXBkYXRlZCA9ID8sIGlkX2NlbGwgPSA/ICBXSEVSRSBpZCA9ID8nCiAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocXRleHQsIChxdHR5LCAgZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoIiVZLSVtLSVkICVIOiVNOiVTIiksY2VsbF9pZCwgZWxbJ2lkJ10pKQogICAgICAgIGVsc2U6ICAjINCi0LDQutC+0Lkg0YHRgtGA0L7QutC4INC90LXRgiwg0L3QsNC00L4g0LTQvtCx0LDQstC40YLRjAogICAgICAgICAgICBxdGV4dCA9ICdSRVBMQUNFIElOVE8gUlNfYWRyX2RvY3NfdGFibGUoaWRfZG9jLCBpZF9nb29kLCBpZF9wcm9wZXJ0aWVzLGlkX3NlcmllcywgaWRfdW5pdCwgcXR0eSwgaXNfcGxhbiwgaWRfY2VsbCwgdGFibGVfdHlwZSkgVkFMVUVTICg/LD8sPyw/LD8sPyw/LD8sPyknCiAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocXRleHQsICgKICAgICAgICAgICAgICAgIHNlbGYuaWRfZG9jLCBlbGVtX2Zvcl9hZGRbJ2lkX2dvb2QnXSwgZWxlbV9mb3JfYWRkWydpZF9wcm9wZXJ0eSddLCBlbGVtX2Zvcl9hZGRbJ2lkX3NlcmllcyddLAogICAgICAgICAgICAgICAgZWxlbV9mb3JfYWRkWydpZF91bml0J10sIHF0dHksICdGYWxzZScsY2VsbF9pZCwgdGFibGVfdHlwZSkpCgogICAgICAgIHJldHVybiByZXMKCgogICAgIyDQldGB0YLRjCDQv9C70LDQvSDQv9C+INC60L7Qu9C40YfQtdGB0YLQstGDICAtIGhhdmVfcXR0eV9wbGFuCiAgICAjINCV0YHRgtGMINC/0LvQsNC9INC/0L4g0YHQv9C40YHQutGDINGC0L7QstCw0YDQvtCyIGhhdmVfemVyb19wbGFuCiAgICAjINCa0J7QvdGC0YDQvtC70Ywg0L/Qu9Cw0L3QvtCyINCyINC00L7QutGD0LzQtdC90YLQtSAtIGNvbnRyb2wKICAgICMg0JXRgdGC0Ywg0L/Qu9Cw0L0g0L/QviDQvNCw0YDQutC40YDRg9C10LzQvtC5INC/0YDQvtC00YPQutGG0LjQuCBoYXZlX21hcmtfcGxhbgogICAgZGVmIHByb2Nlc3NfdGhlX2JhcmNvZGUoc2VsZiwgYmFyY29kZSwgaGF2ZV9xdHR5X3BsYW4gPSBGYWxzZSwgaGF2ZV96ZXJvX3BsYW4gPSBGYWxzZSwgY29udHJvbCA9IEZhbHNlLCBjZWxsX2lkID0gTm9uZSk6ICMgYWRkX2lmX25vdF9mb3VuZD1GYWxzZSwgYWRkX2lmX25vdF9pbl9wbGFuPUZhbHNlKToKICAgICAgICAjINCf0L7Qu9GD0YfQuNC8INGB0YLRgNGD0LrRgtGD0YDRgyDQsdCw0YDQutC+0LTQsAogICAgICAgIGlmIGJhcmNvZGVbMF0gPT0gY2hyKDI5KSBhbmQgbGVuKGJhcmNvZGUpID4gMzE6ICAjIFJlbW92ZSBmaXJzdCBHUzEgY2hhciBmcm9tIGJhcmNvZGUKICAgICAgICAgICAgYmFyY29kZSA9IGJhcmNvZGVbMTpdCiAgICAgICAgYmFyY29kZV9pbmZvID0gdWlfYmFyY29kZXMucGFyc2VfYmFyY29kZShiYXJjb2RlKQogICAgICAgIGlmIGJhcmNvZGVfaW5mby5fX2NvbnRhaW5zX18oJ0VSUk9SJyk6CiAgICAgICAgICAgIHJldHVybiB7J0Vycm9yJzogJ0ludmFsaWQgQmFyY29kZScsICdEZXNjcic6ICfQndC10LLQtdGA0L3Ri9C5INGI0YLRgNC40YXQutC+0LQnLAogICAgICAgICAgICAgICAgICAgICdCYXJjb2RlJzogYmFyY29kZV9pbmZvLCAnZG9jX2luZm8nOiBzZWxmLmlkX2RvY30KICAgICAgICAjIC4uLiDQuCDQvdCw0LnQtNC10Lwg0L/QviDQvdC10LzRgyDQstGB0LUg0YfRgtC+INC10YHRgtGMINCyINCx0LDQt9C1CiAgICAgICAgc2hlbWEgPSBiYXJjb2RlX2luZm9bJ1NDSEVNRSddCiAgICAgICAgaWYgc2hlbWEgaW4gWydFQU4xMycsICdVTktOT1dOJ106CiAgICAgICAgICAgIHNlYXJjaF92YWx1ZSA9IGJhcmNvZGVfaW5mb1snQkFSQ09ERSddCiAgICAgICAgZWxpZiBzaGVtYSA9PSAnR1MxJzoKICAgICAgICAgICAgc2VhcmNoX3ZhbHVlID0gYmFyY29kZV9pbmZvWydHVElOJ10KICAgICAgICBlbHNlOiAgIyAqKioqKioqKioqKioqKioqKirQodGO0LTQsCDQvNC+0LbQvdC+INC00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQtSDQstC40LTRiyDRiNGC0YDQuNGF0LrQvtC00L7QsiAqKioqKioqKioqKioqKioqKioqKgogICAgICAgICAgICBzZWFyY2hfdmFsdWUgPSBiYXJjb2RlX2luZm9bJ0JBUkNPREUnXQoKICAgICAgICByZXMgPSBmaW5kX2JhcmNvZGVfaW5fYmFyY29kZV90YWJsZShzZWFyY2hfdmFsdWUpICAjINCY0YnQtdGCINCx0LDRgNC60L7QtCDQuNC70Lgg0JPQotCY0JjQnSDQv9C+INC+0LHRidC10Lkg0YLQsNCx0LvQuNGG0LUg0YjRgtGA0LjRhdC60L7QtNC+0LIuINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINGC0L7QstCw0YAsINC10LPQviDQstC40LQsINGF0LDRgNCw0LrRgtC10YDQuNGB0YLQuNC60YMg0YHQtdGA0LjRjiDQuNGC0L8uCiAgICAgICAgaWYgbm90IGxlbihyZXMpID09IDA6CiAgICAgICAgICAgIGVsZW0gPSByZXNbMF0gI9CR0LXRgNC10Lwg0L/QtdGA0LLRi9C5INGA0LXQt9GD0LvRjNGC0LDRgi4g0JIg0L/RgNCw0LLQuNC70YzQvdC+0Lwg0YHQv9C40YHQutC1INGI0YLRgNC40YXQutC+0LTQvtCyINC90LUg0LzQvtC20LXRgiDQsdGL0YLRjCDQv9C+0LLRgtC+0YDQtdC90LjQuQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiB7J0Vycm9yJzogJ05vdEZvdW5kJywgJ0Rlc2NyJzogJ9Co0YLRgNC40YXQutC+0LQg0L3QtSDQvdCw0LnQtNC10L0g0LIg0LHQsNC30LUnLCAnQmFyY29kZSc6IGJhcmNvZGV9CgogICAgICAgIGVsZW1bJ2lkX2NlbGwnXSA9IGNlbGxfaWQKCiAgICAgICAgI9Ci0L7QstCw0YAg0LIg0YLQsNCx0LvQuNGG0LUg0LTQvtC60YPQvNC10L3RgtCwICjQotC+0LLQsNGAINC90LDQudC00LXQvSDQsiDQtNC+0LrRg9C80LXQvdGC0LUpCiAgICAgICAgcmVzID0gY2hlY2tfYWRyX2JhcmNvZGVfY29tcGxpYW5jZShlbGVtLCBzZWxmLmlkX2RvYykgICPQn9C+0LvRg9GH0LDQtdC8INGB0YLRgNC+0LrRgyDRgtCw0LHQu9C40YbRiyDRgtC+0LLQsNGA0Ysg0LTQvtC60YPQvNC10L3RgtCwCiAgICAgICAgaWYgcmVzOiAj0KLQvtCy0LDRgCDQvdCw0LnQtNC10L0g0LIg0LTQvtC60YPQvNC10L3RgtC1CiAgICAgICAgICAgIGlmIGhhdmVfcXR0eV9wbGFuOiAj0JXRgdGC0Ywg0L/Qu9Cw0L0g0L/QviDQutC+0LvQuNGH0LXRgdGC0LLRgwogICAgICAgICAgICAgICAgaWYgcmVzWzBdWydxdHR5X3BsYW4nXSA8PSByZXNbMF1bJ3F0dHknXTogI9Ca0L7Qu9C40YfQtdGB0YLQstC+INGC0L7QstCw0YDQsCDQsiDQtNC+0LrRg9C80LXQvdGC0LUg0YPQttC1INC90LDQsdGA0LDQvdC+LCDQuCDQvNGLINC/0YDQtdCy0YvRiNCw0LXQvCDQv9C70LDQvQogICAgICAgICAgICAgICAgICAgIGlmIGNvbnRyb2w6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7J1Jlc3VsdCc6ICfQmtC+0LvQuNGH0LXRgdGC0LLQviDQv9C70LDQvSDQv9GA0LXQstGL0YjQtdC90L4sINCx0L7Qu9GM0YjQtSDRgtC+0LLQsNGAINCyINC00LDQvdC90YvQuSDQtNC+0LrRg9C80LXQvdGCINC00L7QsdCw0LLQuNGC0Ywg0L3QtdC70YzQt9GPJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRXJyb3InOiAnUXVhbnRpdHlQbGFuUmVhY2hlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JhcmNvZGUnOiBiYXJjb2RlLCAnRGVzY3InOiAn0JrQvtC70LjRh9C10YHRgtCy0L4g0L/Qu9Cw0L0g0L/RgNC10LLRi9GI0LXQvdC+LCDQsdC+0LvRjNGI0LUg0YLQvtCy0LDRgCDQsiDQtNCw0L3QvdGL0Lkg0LTQvtC60YPQvNC10L3RgiDQtNC+0LHQsNCy0LjRgtGMINC90LXQu9GM0LfRjyd9CgogICAgICAgIGVsc2U6ICPQotC+0LLQsNGAINC90LUg0L3QsNC50LTQtdC9INCyINC00L7QutGD0LzQtdC90YLQtQogICAgICAgICAgICBpZiBoYXZlX3plcm9fcGxhbiBhbmQgY29udHJvbDoKICAgICAgICAgICAgICAgIHJldHVybiB7J1Jlc3VsdCc6ICfQkiDQtNCw0L3QvdGL0Lkg0LTQvtC60YPQvNC10L3RgiDQvdC10LvRjNC30Y8g0LTQvtCx0LDQstC40YLRjCDRgtC+0LLQsNGAINC90LUg0LjQtyDRgdC/0LjRgdC60LAnLAogICAgICAgICAgICAgICAgICAgICAgICAnRXJyb3InOiAnWmVyb19wbGFuX2Vycm9yJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2JhcmNvZGUnOiBiYXJjb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAnRGVzY3InOiAn0JIg0LTQsNC90L3Ri9C5INC00L7QutGD0LzQtdC90YIg0L3QtdC70YzQt9GPINC00L7QsdCw0LLQuNGC0Ywg0YLQvtCy0LDRgCDQvdC1INC40Lcg0YHQv9C40YHQutCwJ30KCgogICAgICAgICMg0J7QsdC90L7QstC70Y/QtdC8INGC0LDQsdC70LjRhtGDINGC0L7QstCw0YDRiwogICAgICAgIHNlbGYudXBkYXRlX2RvY190YWJsZV9kYXRhKHNlbGYsIGVsZW0sIDEsIGNlbGxfaWQpCgogICAgICAgIHJldHVybiB7J1Jlc3VsdCc6ICfQnNCw0YDQutCwINC00L7QsdCw0LLQu9C10L3QsCDQsiDQtNC+0LrRg9C80LXQvdGCJywgJ0Vycm9yJzogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgJ2JhcmNvZGUnOiBiYXJjb2RlX2luZm9bJ0dUSU4nXSArIGJhcmNvZGVfaW5mb1snU0VSSUFMJ119CgoKICAgIGRlZiBhZGQoc2VsZiwgYXJncyk6CiAgICAgICAgcXVlcnkgPSAnSU5TRVJUIElOVE8gUlNfYWRyX2RvY3MoaWRfZG9jLCBkb2NfdHlwZSwgZG9jX24sIGRvY19kYXRlLCBpZF93YXJlaG91c2UsIHZlcmlmaWVkLCBzZW50KSBWQUxVRVMgKD8sPyw/LD8sPywwLDApJwogICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnksIGFyZ3MpCgogICAgZGVmIGdldF9uZXdfaWQoc2VsZik6CiAgICAgICAgcXVlcnkgPSAnc2VsZWN0IG1heF9pZF9kb2MgZnJvbSBSU19jb25zdGFudHMnCiAgICAgICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSkKICAgICAgICBpZiBsZW4ocmVzKSA9PSAwOgogICAgICAgICAgICByZXR1cm4gJzEnCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdmFsID0gcmVzWzBdWzBdCiAgICAgICAgICAgIGlmIHZhbCBpcyBOb25lOgogICAgICAgICAgICAgICAgcmV0dXJuICcxJwogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcXVlcnkgPSAnVVBEQVRFIFJTX2NvbnN0YW50cyBTRVQgbWF4X2lkX2RvYyA9ID8nCiAgICAgICAgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoaW50KHZhbCkgKyAxLCkpCiAgICAgICAgICAgICAgICByZXR1cm4gc3RyKGludCh2YWwpICsgMSkKCgogICAgZGVmIGZpbmRfY2VsbChzZWxmLCBiYXJjb2RlKToKICAgICAgICBxdGV4dCA9ICcnJ1NlbGVjdCAqIGZyb20gUlNfY2VsbHMgV0hlcmUgUlNfY2VsbHMuYmFyY29kZSA9ID8nJycKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCAoYmFyY29kZSwgKSwgVHJ1ZSkKICAgICAgICByZXN1bHQgPSBOb25lCiAgICAgICAgaWYgcmVzOgogICAgICAgICAgICByZXN1bHQgPSByZXNbMF0KCiAgICAgICAgcmV0dXJuIHJlc3VsdAoKCmRlZiBleGVjdXRlX3F1ZXJ5KHFfaW5kZXgsIHFfdGV4dCwgYXJncywgaW5fZGljdCk6CiAgICBpZiBxdWVyeV9saXN0LmVtcHR5KCk6CiAgICAgICAgc3RhcnRfcXVldWUgPVRydWUKICAgIHF1ZXJ5X2xpc3QucHV0KHsncV9pbmRleCc6cV9pbmRleCwgJ3FfdGV4dCc6cV90ZXh0LCAnYXJncyc6YXJncywgJ2luX2RpY3QnOmluX2RpY3R9KQogICAgd2hpbGUgVHJ1ZToKICAgICAgICBpZiBzdGFydF9xdWV1ZToKICAgICAgICAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdCgpCgoKZGVmIHdyaXRlX2Vycm9yX29uX2xvZyhFcnJfdmFsdWUpOgogICAgaWYgRXJyX3ZhbHVlOgogICAgICAgIHF0ZXh0ID0gJ0luc2VydCBpbnRvIEVycm9yX2xvZyhsb2cpIFZhbHVlcyg/KScKICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCAoRXJyX3ZhbHVlLCkpCgoKCgoK"
            },
            {
                "file_path": "D:\\projects\\simple UI\\sui_keep_0_1_0_8_1\\ui_utils.py",
                "PyFileKey": "ui_utils",
                "PyFileData": "aW1wb3J0IGpzb24KZnJvbSB0eXBpbmcgaW1wb3J0IENhbGxhYmxlCmZyb20gZnVuY3Rvb2xzIGltcG9ydCB3cmFwcwoKZnJvbSBqYXZhIGltcG9ydCBqY2xhc3MKCm5vQ2xhc3MgPSBqY2xhc3MoInJ1LnRyYXZlbGZvb2Quc2ltcGxlX3VpLk5vU1FMIikKcnNfc2V0dGluZ3MgPSBub0NsYXNzKCJyc19zZXR0aW5ncyIpCgoKIyDQmtC70LDRgdGBLdC00LXQutC+0YDQsNGC0L7RgCDQtNC70Y8g0YPQtNC+0LHQvdC+0Lkg0YDQsNCx0L7RgtGLINGBIGhhc2hNYXAuINCi0LDQutC20LUg0LzQvtC20L3QviDQtNC+0LHQsNCy0LjRgtGMINC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdGD0Y4g0LvQvtCz0LjQutGDLgpjbGFzcyBIYXNoTWFwOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGhhc2hfbWFwPU5vbmUsIGRlYnVnOiBib29sID0gRmFsc2UpOgogICAgICAgIHNlbGYuaGFzaF9tYXAgPSBoYXNoX21hcAogICAgICAgIHNlbGYuZGVidWdfbW9kZSA9IGRlYnVnCgogICAgZGVmIF9fY2FsbF9fKHNlbGYsIGZ1bmM6IENhbGxhYmxlWy4uLiwgTm9uZV0pOgogICAgICAgIEB3cmFwcyhmdW5jKQogICAgICAgIGRlZiB3cmFwcGVyKGhhc2hNYXAsICphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgICAgIHNlbGYuaW5pdChoYXNoTWFwKQogICAgICAgICAgICBmdW5jKHNlbGYpCiAgICAgICAgICAgIHJldHVybiBoYXNoTWFwCgogICAgICAgIHJldHVybiB3cmFwcGVyCgogICAgZGVmIGluaXQoc2VsZiwgaGFzaE1hcCk6CiAgICAgICAgc2VsZi5oYXNoX21hcCA9IGhhc2hNYXAKCiAgICBkZWYgdG9hc3Qoc2VsZiwgdGV4dCwgYWRkX3RvX2xvZz1GYWxzZSk6CiAgICAgICAgc2VsZi5oYXNoX21hcC5wdXQoJ3RvYXN0Jywgc3RyKHRleHQpKQogICAgICAgIGlmIGFkZF90b19sb2c6CiAgICAgICAgICAgIHNlbGYuZXJyb3JfbG9nKHRleHQpCgogICAgZGVmIGRlYnVnKHNlbGYsIHRleHQpOgogICAgICAgIGlmIHNlbGYuZGVidWdfbW9kZToKICAgICAgICAgICAgc2VsZi50b2FzdCh0ZXh0LCBhZGRfdG9fbG9nPVRydWUpCgogICAgZGVmIHJlZnJlc2hfc2NyZWVuKHNlbGYpOgogICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCdSZWZyZXNoU2NyZWVuJywgJycpCgogICAgZGVmIHJ1bl9ldmVudChzZWxmLCBtZXRob2RfbmFtZSk6CiAgICAgICAgc2VsZlsnUnVuRXZlbnQnXSA9IGpzb24uZHVtcHMoc2VsZi5fZ2V0X2V2ZW50KG1ldGhvZF9uYW1lKSkKCiAgICBkZWYgcnVuX2V2ZW50X2FzeW5jKHNlbGYsIG1ldGhvZF9uYW1lKToKICAgICAgICBzZWxmWydSdW5FdmVudCddID0ganNvbi5kdW1wcyhzZWxmLl9nZXRfZXZlbnQobWV0aG9kX25hbWUsIFRydWUpKQoKICAgIGRlZiBfZ2V0X2V2ZW50KHNlbGYsIG1ldGhvZF9uYW1lLCBhc3luY19hY3Rpb249RmFsc2UpOgogICAgICAgIGV2dCA9IFt7CiAgICAgICAgICAgICdhY3Rpb24nOiAncnVuYXN5bmMnIGlmIGFzeW5jX2FjdGlvbiBlbHNlICdydW4nLAogICAgICAgICAgICAndHlwZSc6ICdweXRob24nLAogICAgICAgICAgICAnbWV0aG9kJzogbWV0aG9kX25hbWUsCiAgICAgICAgfV0KICAgICAgICByZXR1cm4gZXZ0CgogICAgZGVmIGVycm9yX2xvZyhzZWxmLCBlcnJfZGF0YSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBlcnJfZGF0YSA9IGpzb24uZHVtcHMoZXJyX2RhdGEsIGVuc3VyZV9hc2NpaT1GYWxzZSwgaW5kZW50PTIpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBlcnJfZGF0YSA9IHN0cihlcnJfZGF0YSkKCiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCdlcnJvcl9sb2cnLCBlcnJfZGF0YSwgVHJ1ZSkKCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgaXRlbSk6CiAgICAgICAgcmV0dXJuIHNlbGYuZ2V0KGl0ZW0sIEZhbHNlKQoKICAgIGRlZiBfX3NldGl0ZW1fXyhzZWxmLCBrZXksIHZhbHVlKToKICAgICAgICBzZWxmLnB1dChrZXksIHZhbHVlLCBGYWxzZSkKCiAgICBkZWYgZ2V0KHNlbGYsIGl0ZW0sIGZyb21fanNvbj1GYWxzZSk6CiAgICAgICAgaWYgZnJvbV9qc29uOgogICAgICAgICAgICByZXR1cm4ganNvbi5sb2FkcyhzZWxmLmhhc2hfbWFwLmdldChpdGVtKSkgaWYgc2VsZi5oYXNoX21hcC5nZXQoaXRlbSkgZWxzZSBOb25lCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuaGFzaF9tYXAuZ2V0KGl0ZW0pCgogICAgZGVmIHB1dChzZWxmLCBrZXksIHZhbHVlLCB0b19qc29uPUZhbHNlKToKICAgICAgICBpZiB0b19qc29uOgogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnB1dChrZXksIGpzb24uZHVtcHModmFsdWUpKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KGtleSwgc3RyKHZhbHVlKSkKCiAgICBkZWYgY29udGFpbnNLZXkoc2VsZiwga2V5KToKICAgICAgICByZXR1cm4gc2VsZi5oYXNoX21hcC5jb250YWluc0tleShrZXkpCgoKZGVmIGpzb25fdG9fc3FsaXRlX3F1ZXJ5KGRhdGEpOgogICAgdGFibGVfbGlzdCA9ICgKICAgICAgICAnUlNfZG9jX3R5cGVzJywgJ1JTX2dvb2RzJywgJ1JTX3Byb3BlcnRpZXMnLCAnUlNfdW5pdHMnLCAnUlNfdHlwZXNfZ29vZHMnLCAnUlNfc2VyaWVzJywgJ1JTX2NvdW50cmFnZW50cycsCiAgICAgICAgJ1JTX3dhcmVob3VzZXMnLCAnUlNfcHJpY2VfdHlwZXMnLCAnUlNfY2VsbHMnLCAnUlNfYmFyY29kZXMnLCAnUlNfcHJpY2VzJywgJ1JTX2RvY190eXBlcycsICdSU19kb2NzJywKICAgICAgICAnUlNfZG9jc190YWJsZScsICdSU19kb2NzX2JhcmNvZGVzJywgJ1JTX2Fkcl9kb2NzJywgJ1JTX2Fkcl9kb2NzX3RhYmxlJykgICMgLCwgJ1JTX2JhcmNfZmxvdycKICAgIHRhYmxlX2Zvcl9kZWxldGUgPSAoJ1JTX2RvY3NfdGFibGUnLCAnUlNfZG9jc19iYXJjb2RlcywgUlNfYWRyX2RvY3NfdGFibGUnKSAgIyAsICdSU19iYXJjX2Zsb3cnCgogICAgcXVlcmllcyA9IFtdCiAgICBkb2NfaWRfbGlzdCA9IFtdCgogICAgIyDQptC40LrQuyDQv9C+INC40LzQtdC90LDQvCDRgtCw0LHQu9C40YYKICAgIGZvciB0YWJsZV9uYW1lIGluIHRhYmxlX2xpc3Q6CiAgICAgICAgaWYgbm90IGRhdGEuZ2V0KHRhYmxlX25hbWUpOgogICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAjINCU0L7QsdCw0LLQuNC8INCyINC30LDQv9GA0L7RgdGLINGD0LTQsNC70LXQvdC40LUg0LjQtyDQsdCw0LfRiyDRgdGC0YDQvtC6INGC0LXRhSDQtNC+0LrRg9C80LXQvdGC0L7Qsiwg0YfRgtC+INC80Ysg0LfQsNCz0YDRg9C20LDQtdC8CiAgICAgICAgaWYgdGFibGVfbmFtZSBpbiB0YWJsZV9mb3JfZGVsZXRlOgogICAgICAgICAgICBxdWVyeSA9IGYiREVMRVRFIEZST00ge3RhYmxlX25hbWV9IFdIRVJFIGlkX2RvYyBpbiAoeycsICcuam9pbihkb2NfaWRfbGlzdCl9KSAiCiAgICAgICAgICAgIHF1ZXJpZXMuYXBwZW5kKHF1ZXJ5KQoKICAgICAgICBjb2x1bW5fbmFtZXMgPSBkYXRhW3RhYmxlX25hbWVdWzBdLmtleXMoKQogICAgICAgIGlmICdtYXJrX2NvZGUnIGluIGNvbHVtbl9uYW1lczoKICAgICAgICAgICAgcXVlcnlfY29sX25hbWVzID0gbGlzdChjb2x1bW5fbmFtZXMpCiAgICAgICAgICAgIHF1ZXJ5X2NvbF9uYW1lcy5hcHBlbmQoJ0dUSU4nKQogICAgICAgICAgICBxdWVyeV9jb2xfbmFtZXMuYXBwZW5kKCdTZXJpZXMnKQogICAgICAgICAgICBxdWVyeV9jb2xfbmFtZXMucmVtb3ZlKCdtYXJrX2NvZGUnKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHF1ZXJ5X2NvbF9uYW1lcyA9IGNvbHVtbl9uYW1lcwoKICAgICAgICBxdWVyeSA9IGYiUkVQTEFDRSBJTlRPIHt0YWJsZV9uYW1lfSAoeycsICcuam9pbihxdWVyeV9jb2xfbmFtZXMpfSkgVkFMVUVTICIKICAgICAgICB2YWx1ZXMgPSBbXQoKICAgICAgICBmb3Igcm93IGluIGRhdGFbdGFibGVfbmFtZV06CiAgICAgICAgICAgIHJvd192YWx1ZXMgPSBbXQogICAgICAgICAgICBsaXN0X3F1b3RlZF9maWVsZHMgPSAoJ25hbWUnLCAnZnVsbF9uYW1lJywgIm1hcmtfY29kZSIpCiAgICAgICAgICAgIGZvciBjb2wgaW4gY29sdW1uX25hbWVzOgogICAgICAgICAgICAgICAgaWYgY29sIGluIGxpc3RfcXVvdGVkX2ZpZWxkcyBhbmQgIlwiIiBpbiByb3dbY29sXToKICAgICAgICAgICAgICAgICAgICByb3dbY29sXSA9IHJvd1tjb2xdLnJlcGxhY2UoIlwiIiwgIlwiXCIiKQogICAgICAgICAgICAgICAgaWYgcm93W2NvbF0gaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICByb3dbY29sXSA9ICcnCiAgICAgICAgICAgICAgICBpZiBjb2wgPT0gJ21hcmtfY29kZSc6ICAjINCX0LDQvNC10L3Rj9C10Lwg0Y3RgtC+INC/0L7Qu9C1INC90LAg0L/QvtC70Y8gR1RJTiDQuCBTZXJpZXMKICAgICAgICAgICAgICAgICAgICBiYXJjX3N0cnVjdCA9IHBhcnNlX2JhcmNvZGUocm93W2NvbF0pCiAgICAgICAgICAgICAgICAgICAgcm93X3ZhbHVlcy5hcHBlbmQoYmFyY19zdHJ1Y3RbJ0dUSU4nXSkKICAgICAgICAgICAgICAgICAgICByb3dfdmFsdWVzLmFwcGVuZChiYXJjX3N0cnVjdFsnU2VyaWVzJ10pCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHJvd192YWx1ZXMuYXBwZW5kKHJvd1tjb2xdKSAgIyAoZicie3Jvd1tjb2xdfSInKQogICAgICAgICAgICAgICAgaWYgY29sID09ICdpZF9kb2MnIGFuZCB0YWJsZV9uYW1lID09ICdSU19kb2NzJzoKICAgICAgICAgICAgICAgICAgICBkb2NfaWRfbGlzdC5hcHBlbmQoJyInICsgcm93W2NvbF0gKyAnIicpCiAgICAgICAgICAgIGZvcm1hdHRlZF92YWwgPSBbZicie3h9IicgaWYgaXNpbnN0YW5jZSh4LCBzdHIpIGVsc2Ugc3RyKHgpIGZvciB4IGluIHJvd192YWx1ZXNdCiAgICAgICAgICAgIHZhbHVlcy5hcHBlbmQoZiIoeycsICcuam9pbihmb3JtYXR0ZWRfdmFsKX0pIikKICAgICAgICBxdWVyeSArPSAiLCAiLmpvaW4odmFsdWVzKQogICAgICAgIHF1ZXJpZXMuYXBwZW5kKHF1ZXJ5KQoKICAgIHJldHVybiBxdWVyaWVzCgoKZGVmIHBhcnNlX2JhcmNvZGUodmFsKToKICAgIGlmIGxlbih2YWwpIDwgMjE6CiAgICAgICAgcmV0dXJuIHsnR1RJTic6ICcnLCAnU2VyaWVzJzogJyd9CgogICAgdmFsLnJlcGxhY2UoJygwMSknLCcwMScpCiAgICB2YWwucmVwbGFjZSgnKDIxKScsICcyMScpCgogICAgaWYgdmFsWzoyXSA9PSAnMDEnOgogICAgICAgIEdUSU4gPSB2YWxbMjoxNl0KICAgICAgICBTZXJpZXMgPSB2YWxbMTg6XQogICAgZWxzZToKICAgICAgICBHVElOID0gdmFsWzoxNF0KICAgICAgICBTZXJpZXMgPSB2YWxbMTQ6XQoKICAgIHJldHVybiB7J0dUSU4nOiBHVElOLCAnU2VyaWVzJzogU2VyaWVzfQo="
            },
            {
                "file_path": "D:\\projects\\simple UI\\sui_keep_0_1_0_8_1\\widgets.py",
                "PyFileKey": "widgets",
                "PyFileData": "ZnJvbSBhYmMgaW1wb3J0IEFCQywgYWJzdHJhY3RtZXRob2QsIGFic3RyYWN0cHJvcGVydHkKZnJvbSB0eXBpbmcgaW1wb3J0IFVuaW9uLCBMaXN0CmltcG9ydCBqc29uCgp3cmFwX2NvbnRlbnQgPSAid3JhcF9jb250ZW50IgptYXRjaF9wYXJlbnQgPSAnbWF0Y2hfcGFyZW50JwoKCmNsYXNzIFdpZGdldChBQkMpOgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgX19pbml0X18oc2VsZiwgKiprd2FyZ3MpOgogICAgICAgIHNlbGYudHlwZTogc3RyCiAgICAgICAgc2VsZi5WYWx1ZTogc3RyCiAgICAgICAgc2VsZi5WYXJpYWJsZTogc3RyID0gJycKICAgICAgICBzZWxmLndpZHRoID0gIHdyYXBfY29udGVudAogICAgICAgIHNlbGYuaGVpZ2h0ID0gbWF0Y2hfcGFyZW50CiAgICAgICAgc2VsZi53ZWlnaHQgPSAwCgogICAgICAgIHNlbGYuc2hvd19ieV9jb25kaXRpb24gPSAnJwoKICAgICAgICAjIHNlbGYuZG9jdW1lbnRfdHlwZSA9ICcnCiAgICAgICAgIyBzZWxmLm1hc2sgPSAnJwoKICAgICAgICBpZiBrd2FyZ3M6CiAgICAgICAgICAgIGZvciBrZXksIHZhbHVlIGluIGt3YXJncy5pdGVtcygpOgogICAgICAgICAgICAgICAgc2VsZi5fX2RpY3RfX1trZXldID0gdmFsdWUKCiAgICBkZWYgdG9fanNvbihzZWxmKToKICAgICAgICByZXR1cm4ganNvbi5kdW1wcyhzZWxmLCBkZWZhdWx0PWxhbWJkYSB4OiB2YXJzKHgpLCBpbmRlbnQ9NCkKCmNsYXNzIFRleHRFbGVtZW50KFdpZGdldCk6CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5Ob1JlZnJlc2ggPSBGYWxzZQoKCmNsYXNzIFBpY3R1cmUoV2lkZ2V0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqKmt3YXJncyk6CiAgICAgICAgc2VsZi5WYWx1ZSA9ICdAcGljJwogICAgICAgIHN1cGVyKCkuX19pbml0X18oKiprd2FyZ3MpCiAgICAgICAgc2VsZi50eXBlID0gIlBpY3R1cmUiCgoKY2xhc3MgVGV4dFZpZXcoV2lkZ2V0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqKmt3YXJncyk6CiAgICAgICAgc2VsZi5WYWx1ZSA9ICdAdmFsdWUnCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygqKmt3YXJncykKICAgICAgICAjIHNlbGYuVGV4dFNpemUgPSAnMTInCiAgICAgICAgc2VsZi50eXBlID0gIlRleHRWaWV3IgoKCmNsYXNzIENoZWNrQm94KFdpZGdldCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgKiprd2FyZ3MpOgogICAgICAgIHNlbGYudHlwZSA9ICdDaGVja0JveCcKCgpjbGFzcyBQb3B1cE1lbnVCdXR0b24oV2lkZ2V0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqKmt3YXJncyk6CiAgICAgICAgc2VsZi5WYWx1ZSA9ICdAdmFsdWUnCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygqKmt3YXJncykKICAgICAgICBzZWxmLnR5cGUgPSAiUG9wdXBNZW51QnV0dG9uIgogICAgICAgIHNlbGYuc2hvd19ieV9jb25kaXRpb24gPSAnJwogICAgICAgIHNlbGYuTm9SZWZyZXNoID0gRmFsc2UKICAgICAgICBzZWxmLmRvY3VtZW50X3R5cGUgPSAnJwogICAgICAgIHNlbGYubWFzayA9ICcnCgoKY2xhc3MgTGluZWFyTGF5b3V0KFdpZGdldCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICBzZWxmLnR5cGUgPSAnTGluZWFyTGF5b3V0JwogICAgICAgIHNlbGYub3JpZW50YXRpb24gPSAidmVydGljYWwiCgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKiprd2FyZ3MpCiAgICAgICAgc2VsZi5FbGVtZW50cyA9IGxpc3QoYXJncykgb3IgW10KCiAgICBkZWYgYXBwZW5kKHNlbGYsICp3aWRnZXRzKToKICAgICAgICBmb3Igd2lkZ2V0IGluIHdpZGdldHM6CiAgICAgICAgICAgIHNlbGYuRWxlbWVudHMuYXBwZW5kKHdpZGdldCkKCgpjbGFzcyBPcHRpb25zOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHNlYXJjaF9lbmFibGVkPVRydWUsIHNhdmVfcG9zaXRpb249VHJ1ZSk6CiAgICAgICAgc2VsZi5vcHRpb25zID0gewogICAgICAgICAgICAnc2VhcmNoX2VuYWJsZWQnOiBzZWFyY2hfZW5hYmxlZCwKICAgICAgICAgICAgJ3NhdmVfcG9zaXRpb24nOiBzYXZlX3Bvc2l0aW9uCiAgICAgICAgfQoKCmNsYXNzIEN1c3RvbUNhcmRzOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGxheW91dDogTGluZWFyTGF5b3V0LCBvcHRpb25zOiBPcHRpb25zLCBjYXJkc2RhdGE6IExpc3RbZGljdF0gPSBbXSk6CiAgICAgICAgc2VsZi5jdXN0b21jYXJkcyA9IHsKICAgICAgICAgICAgJ2xheW91dCc6IGxheW91dCwKICAgICAgICAgICAgJ2NhcmRzZGF0YSc6IGNhcmRzZGF0YSwKICAgICAgICAgICAgJ29wdGlvbnMnOiBvcHRpb25zIG9yIE9wdGlvbnMoKQogICAgICAgIH0KCiAgICBkZWYgdG9fanNvbihzZWxmKToKICAgICAgICByZXR1cm4ganNvbi5kdW1wcyhzZWxmLCBkZWZhdWx0PWxhbWJkYSB4OiB2YXJzKHgpLCBpbmRlbnQ9NCwgZW5zdXJlX2FzY2lpPUZhbHNlKS5lbmNvZGUoJ3V0ZjgnKS5kZWNvZGUoKQoKCgoKY2xhc3MgQ3VzdG9tVGFibGU6CiAgICBkZWYgX19pbml0X18oc2VsZiwgbGF5b3V0OiBMaW5lYXJMYXlvdXQsIHRhYmxlZGF0YTogTGlzdFtkaWN0XSk6CiAgICAgICAgc2VsZi5jdXN0b210YWJsZSA9IHsKICAgICAgICAgICAgJ2xheW91dCc6IGxheW91dCwKICAgICAgICAgICAgJ3RhYmxlZGF0YSc6IHRhYmxlZGF0YQogICAgICAgIH0KCiAgICBkZWYgdG9fanNvbihzZWxmKToKICAgICAgICByZXR1cm4ganNvbi5kdW1wcyhzZWxmLCBkZWZhdWx0PWxhbWJkYSB4OiB2YXJzKHgpLCBpbmRlbnQ9NCwgZW5zdXJlX2FzY2lpPUZhbHNlKS5lbmNvZGUoJ3V0ZjgnKS5kZWNvZGUoKQo="
            },
            {
                "file_path": "D:\\projects\\simple UI\\sui_keep_0_1_0_8_1\\database_init_queryes.py",
                "PyFileKey": "database_init_queryes",
                "PyFileData": "I2ltcG9ydCB1aV9nbG9iYWwKZGVmIGRhdGFiYXNlX3NoZW1hKCk6CiAgICBScyA9IFtdCgoKICAgICPQmtC+0L3RgdGC0LDQvdGC0Ysg0Lgg0YXRgNCw0L3QuNC80YvQtSDQvdCw0YHRgtGA0L7QudC60LggUlNfY29uc3RhbnRzCiAgICBScy5hcHBlbmQoJycnCiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU19jb25zdGFudHMgKAogICAgICAgIGlkICAgICAgICAgICAgIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCwKICAgICAgICB1c2Vfc2VyaWVzICAgICBURVhUICAgIERFRkFVTFQgMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTk9UIE5VTEwsCiAgICAgICAgdXNlX3Byb3BlcnRpZXMgVEVYVCAgICBERUZBVUxUIDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5PVCBOVUxMLAogICAgICAgIHVzZV9tYXJrICAgICAgIFRFWFQgICAgREVGQVVMVCAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOT1QgTlVMTCwKICAgICAgICBhZGRfaWZfbm90X2luX3BsYW4gICAgIFRFWFQgICAgREVGQVVMVCAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOT1QgTlVMTCwKICAgICAgICBwYXRoICAgICAgICAgICBURVhUICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUICIvL3N0b3JhZ2UvZW11bGF0ZWQvMC9BbmRyb2lkL2RhdGEvcnUudHJhdmVsZm9vZC5zaW1wbGVfdWkvIiwKICAgICAgICBkZWxldGVfZmlsZXMgICBURVhUICAgIERFRkFVTFQgMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTk9UIE5VTEwsCiAgICAgICAgcmVzZXJ2ZWQgICAgICAgVEVYVCAgICBOT1QgTlVMTCwKICAgICAgICBtYXhfaWRfZG9jICAgICAgICAgSU5URUdFUiBOT1QgTlVMTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVCAoMSksCiAgICAgICAgYWxsb3dfb3ZlcnNjYW4gVEVYVCAgICBERUZBVUxUIDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5PVCBOVUxMLAogICAgICAgIHJlbGVhc2UgICAgICAgIFRFWFQKICAgICkKICAgICcnJykKCgogICAgIyDQmtC70LDRgdGB0LjRhNC40LrQsNGC0L7RgCDQtdC00LjQvdC40YYg0LjQt9C80LXRgNC10L3QuNGPIFJTX2NsYXNzaWZpZXJfdW5pdHMKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX2NsYXNzaWZpZXJfdW5pdHMgKAogICAgICAgIGlkIFRFWFQgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgUFJJTUFSWSBLRVksCiAgICAgICAgY29kZSAgICBURVhUIE5PVCBOVUxMLAogICAgICAgIG5hbWUgICAgVEVYVCBOT1QgTlVMTAogICAgKQogICAgJycnKQoKICAgICMg0JLQuNC00Ysg0L3QvtC80LXQvdC60LvQsNGC0YPRgNGLIFJTX3R5cGVzX2dvb2RzCiAgICBScy5hcHBlbmQoJycnCiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU190eXBlc19nb29kcyAoCiAgICBpZCAgICAgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZLAogICAgbmFtZSAgICAgVEVYVCBOT1QgTlVMTCwKICAgIHVzZV9tYXJrIElOVCAgREVGQVVMVCAoMCkgCiAgICApCiAgICAnJycpCgogICAgIyDQndC+0LzQtdC90LrQu9Cw0YLRg9GA0LAgUlNfZ29vZHMKICAgIFJzLmFwcGVuZCgnJycKICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU19nb29kcyAoCiAgICAgICAgICAgIGlkICAgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJJTUFSWSBLRVksCiAgICAgICAgICAgIGNvZGUgICAgICAgIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgIG5hbWUgICAgICAgIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgIGFydCAgICAgICAgIFRFWFQsCiAgICAgICAgICAgIHVuaXQgICAgICAgIFRFWFQgIFJFRkVSRU5DRVMgUlNfY2xhc3NpZmllcl91bml0cyAoaWQpLAogICAgICAgICAgICB0eXBlX2dvb2QgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVGRVJFTkNFUyBSU190eXBlc19nb29kcyAoaWQpIE9OIERFTEVURSBOTyBBQ1RJT04KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNQVRDSCBbRlVMTF0sCiAgICAgICAgICAgIGRlc2NyaXB0aW9uIFRFWFQKICAgICAgICApCiAgICAgICAgJycnKQoKCiAgICAjINCl0LDRgNCw0LrRgtC10YDQuNGB0YLQuNC60Lgg0L3QvtC80LXQvdC60LvQsNGC0YPRgNGLIFJTX3Byb3BlcnRpZXMKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX3Byb3BlcnRpZXMgKAogICAgaWQgICAgICAgVEVYVCBOT1QgTlVMTAogICAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSBPTiBDT05GTElDVCBSRVBMQUNFLAogICAgaWRfb3duZXIgVEVYVCBOT1QgTlVMTAogICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX2dvb2RzIChpZCkgT04gREVMRVRFIE5PIEFDVElPTgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT04gVVBEQVRFIE5PIEFDVElPTiwKICAgIG5hbWUgICAgIFRFWFQgTk9UIE5VTEwKICAgICkKICAgICcnJykKCgogICAgIyDQo9C/0LDQutC+0LLQutC4INCV0LTQuNC90LjRhtGLINC40LfQvNC10YDQtdC90LjRjyBSU191bml0cwogICAgUnMuYXBwZW5kKCcnJwogICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgUlNfdW5pdHMgKAogICAgICAgIGlkICAgICAgIFRFWFQgICAgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJJTUFSWSBLRVksCiAgICAgICAgaWRfb3duZXIgICAgICBURVhUICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfZ29vZHMgKGlkKSwKICAgICAgICBjb2RlICAgICAgICAgIFRFWFQgICAgTk9UIE5VTEwsCiAgICAgICAgbmFtZSAgICAgICAgICBURVhUICAgIE5PVCBOVUxMLAogICAgICAgIG5vbWluYXRvciAgICAgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICBkZW5vbWluYXRvciAgIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgaW50X3JlZHVjdGlvbiBURVhUICAgIE5PVCBOVUxMCiAgICApCiAgICAnJycpCgoKCiAgICAjINCh0LXRgNC40Lgg0L3QvtC80LXQvdC60LvQsNGC0YPRgNGLIFJTX3NlcmllcwogICAgUnMuYXBwZW5kKCcnJwogICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgUlNfc2VyaWVzICgKICAgICAgICBpZCAgICAgICAgIFRFWFQgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSwKICAgICAgICBuYW1lICAgICAgICAgICAgVEVYVCBOT1QgTlVMTCwKICAgICAgICBiZXN0X2JlZm9yZSAgICAgVEVYVCwKICAgICAgICB0eXBlX2dvb2RzICAgICAgVEVYVCBOT1QgTlVMTCwKICAgICAgICBudW1iZXIgICAgICAgICAgVEVYVCBOT1QgTlVMTCwKICAgICAgICBwcm9kdWN0aW9uX2RhdGUgVEVYVCBOT1QgTlVMTAogICAgKQogICAgJycnKQoKCiAgICAjINCo0YLRgNC40YXQutC+0LTRiyBSU19iYXJjb2RlcwogICAgUnMuYXBwZW5kKCAnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX2JhcmNvZGVzICgKICAgIGJhcmNvZGUgICAgIFRFWFQgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgUFJJTUFSWSBLRVksCiAgICBpZF9nb29kICAgICBURVhUIE5PVCBOVUxMLAogICAgaWRfcHJvcGVydHkgVEVYVCwKICAgIGlkX3NlcmllcyAgIFRFWFQsCiAgICBpZF91bml0ICAgICBURVhUCikKCiAgICAnJycpCgogICAgI9Ca0L7QtNGLINC80LDRgNC60LjRgNC+0LLQutC4IFJTX21hcmtpbmdfY29kZXMKICAgIFJzLmFwcGVuZCggJycnCiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU19tYXJraW5nX2NvZGVzICgKICAgICAgICBpZCAgICAgICAgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSwKICAgICAgICBtYXJrX2NvZGUgICBURVhUIE5PVCBOVUxMLAogICAgICAgIGlkX2dvb2QgICAgIFRFWFQgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfZ29vZHMgKGlkKSwKICAgICAgICBpZF9wcm9wZXJ0eSBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX3Byb3BlcnRpZXMgKGlkKSwKICAgICAgICBpZF9zZXJpZXMgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX3NlcmllcyAoaWQpLAogICAgICAgIGlkX3VuaXQgICAgIFRFWFQgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfdW5pdHMgKGlkKSAKICAgICkKICAgICcnJykKCgoKICAgICMg0JrQvtC90YLRgNCw0LPQtdC90YLRiyBSU19jb3VudHJhZ2VudHMKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX2NvdW50cmFnZW50cyAoCiAgICAgICAgaWQgICBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgUFJJTUFSWSBLRVksCiAgICAgICAgbmFtZSAgICAgIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgZnVsbF9uYW1lIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgaW5uICAgICAgIFRFWFQgTk9UIE5VTEwsCiAgICAgICAga3BwICAgICAgIFRFWFQgTk9UIE5VTEwKICAgICkKICAgICcnJykKCiAgICAjINCh0LrQu9Cw0LTRiyBSU193YXJlaG91c2VzCiAgICBScy5hcHBlbmQoJycnCiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU193YXJlaG91c2VzICgKICAgICAgICBpZCBURVhUIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZLAogICAgICAgIG5hbWUgICAgVEVYVCBOT1QgTlVMTAogICAgKQogICAgJycnKQoKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX2NlbGxzICgKICAgIGlkICAgVEVYVCBQUklNQVJZIEtFWQogICAgICAgICAgICAgIE5PVCBOVUxMLAogICAgbmFtZSBURVhUIE5PVCBOVUxMLAogICAgYmFyY29kZSBURVhUCiAgICApJycnKQoKICAgICMg0JLQuNC00Ysg0YbQtdC9INC90L7QvNC10L3QutC70LDRgtGD0YDRiyBSU19wcmljZV90eXBlcwogICAgUnMuYXBwZW5kKCcnJwogICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgUlNfcHJpY2VfdHlwZXMgKAogICAgICAgIGlkICAgVEVYVCBOT1QgTlVMTAogICAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSwKICAgICAgICBuYW1lIFRFWFQgTk9UIE5VTEwKICAgICkKICAgICcnJykKCiAgICAjINCm0LXQvdGLINC90L7QvNC10L3QutC70LDRgtGD0YDRiyBSU19wcmljZXMKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX3ByaWNlcyAoCiAgICAgICAgaWQgICAgICAgICAgICAgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULAogICAgICAgIGlkX3ByaWNlX3R5cGVzIFRFWFQgICAgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfcHJpY2VfdHlwZXMgKGlkKSwKICAgICAgICBpZF9nb29kcyAgICAgICBURVhUICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX2dvb2RzIChpZCksCiAgICAgICAgaWRfcHJvcGVydGllcyAgVEVYVCAgICBOT1QgTlVMTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVGRVJFTkNFUyBSU19wcm9wZXJ0aWVzIChpZCksCiAgICAgICAgcHJpY2UgICAgICAgICAgUkVBTCwKICAgICAgICBpZF91bml0ICAgICAgICBURVhUICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX3VuaXRzIChpZCkgCiAgICApCiAgICAnJycpCgogICAgUnMuYXBwZW5kKCcnJwogICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgUlNfZG9jX3R5cGVzICgKICAgIGRvY190eXBlIFRFWFQgUFJJTUFSWSBLRVkgT04gQ09ORkxJQ1QgUkVQTEFDRQogICAgICAgICAgICAgICAgTk9UIE5VTEwsCiAgICBpc19hZHJfc3RvcmFnZSBJTlQgIERFRkFVTFQgKDApIAogICAgKQogICAgJycnKQoKICAgICMg0JLRgdC1INC00L7QutGD0LzQtdC90YLRiyDRgdC/0LjRgdC60L7QvCBSU19kb2NzCiAgICBScy5hcHBlbmQoJycnCiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSU19kb2NzICgKICAgICAgICBpZF9kb2MgICAgICAgICAgICAgVEVYVCAgICAgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJJTUFSWSBLRVksCiAgICAgICAgZG9jX3R5cGUgICAgICAgICAgIFRFWFQgICAgIE5PVCBOVUxMLAogICAgICAgIGRvY19uICAgICAgICAgICAgICBURVhUICAgICBOT1QgTlVMTCwKICAgICAgICBkb2NfZGF0ZSAgICAgICAgICAgVEVYVCAgICAgTk9UIE5VTEwsCiAgICAgICAgaWRfY291bnRyYWdlbnRzICAgIFRFWFQgICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfY291bnRyYWdlbnRzIChpZCksCiAgICAgICAgaWRfd2FyZWhvdXNlICAgICAgIFRFWFQgICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfd2FyZWhvdXNlcyAoaWQpLAogICAgICAgIHZlcmlmaWVkICAgICAgICAgICBJTlRFR0VSLAogICAgICAgIHNlbnQgICAgICAgICAgICAgICBJTlRFR0VSLAogICAgICAgIGFkZF9tYXJrX3NlbGVjdGlvbiBJTlRFR0VSLAogICAgICAgIGNyZWF0ZWRfYXQgICAgICAgICBEQVRFVElNRSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLAogICAgICAgIGNvbnRyb2wgICAgICAgICAgICBURVhUIERFRkFVTFQgMAogICAgKQogICAgJycnKQoKCiAgICAjINCi0LDQsdC70LjRh9C90LDRjyDRh9Cw0YHRgtGMINC00L7QutGD0LzQtdC90YLQvtCyIFJTX2RvY3NfdGFibGUKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX2RvY3NfdGFibGUgKAogICAgICAgIGlkICAgICAgICAgICAgSU5URUdFUiAgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCwKICAgICAgICBpZF9kb2MgICAgICAgIFRFWFQgICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX2RvY3MgKGlkX2RvYykgT04gREVMRVRFIENBU0NBREUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPTiBVUERBVEUgU0VUIERFRkFVTFQsCiAgICAgICAgaWRfZ29vZCAgICAgICBURVhUICAgICBOT1QgTlVMTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVGRVJFTkNFUyBSU19nb29kcyAoaWQpLAogICAgICAgIGlkX3Byb3BlcnRpZXMgVEVYVCAgICAgUkVGRVJFTkNFUyBSU19wcm9wZXJ0aWVzIChpZCksCiAgICAgICAgaWRfc2VyaWVzICAgICBURVhUICAgICBSRUZFUkVOQ0VTIFJTX3NlcmllcyAoaWQpLAogICAgICAgIGlkX3VuaXQgICAgICAgVEVYVCAgICAgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfdW5pdHMgKGlkKSwKICAgICAgICBxdHR5ICAgICAgICAgIFJFQUwsCiAgICAgICAgcXR0eV9wbGFuICAgICBSRUFMLAogICAgICAgIHByaWNlICAgICAgICAgUkVBTCwKICAgICAgICBpZF9wcmljZSAgICAgIFRFWFQgICAgIFJFRkVSRU5DRVMgUlNfcHJpY2VfdHlwZXMgKGlkKSwKICAgICAgICBzZW50ICAgICAgICAgIElOVEVHRVIsCiAgICAgICAgbGFzdF91cGRhdGVkICBEQVRFVElNRSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLAogICAgICAgIGlzX3BsYW4gICAgICAgVEVYVCBERUZBVUxUICJUcnVlIiwKICAgICAgICBpZF9jZWxsICAgICAgICAgIFRFWFQgICAgIFJFRkVSRU5DRVMgUlNfY2VsbHMgKGlkKSAKICAgICkKICAgICcnJykKCgogICAgIyDQmtC+0LTRiyDQvNCw0YDQutC40YDQvtCy0LrQuCDQsiDQtNC+0LrRg9C80LXQvdGC0LUgUlNfZG9jc19iYXJjb2RlcwogICAgUnMuYXBwZW5kKCcnJwogICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgUlNfZG9jc19iYXJjb2RlcyAoCiAgICBpZCAgICAgICAgICAgICAgICAgICBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsCiAgICBpZF9kb2MgICAgICAgICAgICAgICBURVhUICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFRkVSRU5DRVMgUlNfZG9jcyAoaWRfZG9jKSwKICAgIGlkX2dvb2QgICAgIFRFWFQgTk9UIE5VTEwKICAgICAgICAgUkVGRVJFTkNFUyBSU19nb29kcyAoaWQpLAogICAgaWRfcHJvcGVydHkgVEVYVCBOT1QgTlVMTAogICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX3Byb3BlcnRpZXMgKGlkKSwKICAgIGlkX3NlcmllcyAgIFRFWFQgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgUkVGRVJFTkNFUyBSU19zZXJpZXMgKGlkKSwKICAgIGlkX3VuaXQgICAgIFRFWFQgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgUkVGRVJFTkNFUyBSU191bml0cyAoaWQpICwKICAgIC0tIyBpZF9iYXJjb2RlICAgICAgICAgICBURVhUICAgIE5PVCBOVUxMCiAgICAtLSMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX21hcmtpbmdfY29kZXMgKGlkKSwKICAgIGJhcmNvZGVfZnJvbV9zY2FubmVyIFRFWFQsCiAgICBpc19wbGFuICAgICAgICAgICAgICBURVhUICAgIERFRkFVTFQgMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOT1QgTlVMTCwKICAgIGFwcHJvdmVkICAgICAgICAgICAgIFRFWFQgICAgREVGQVVMVCAwLAogICAgR1RJTiAgICAgICAgICAgICAgICAgVEVYVCwKICAgIFNlcmllcyAgICAgICAgICAgICAgIFRFWFQKICAgICkKICAgICcnJykKCiAgICAj0J/QvtGC0L7QuiDQv9GA0L7QuNC30LLQvtC70YzQvdGL0YUg0YjRgtGA0LjRhdC60L7QtNC+0LIKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX2JhcmNfZmxvdyAoCiAgICBpZF9kb2MgIFRFWFQgUkVGRVJFTkNFUyBSU19kb2NzIChpZF9kb2MpLAogICAgYmFyY29kZSBURVhUCiAgICApCiAgICAnJycpCgogICAgUnMuYXBwZW5kKCcnJwogICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgUlNfYWRyX2RvY3MgKAogICAgaWRfZG9jICAgICAgICAgICAgIFRFWFQgICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJJTUFSWSBLRVksCiAgICBkb2NfdHlwZSAgICAgICAgICAgVEVYVCAgICAgTk9UIE5VTEwsCiAgICBkb2NfbiAgICAgICAgICAgICAgVEVYVCAgICAgTk9UIE5VTEwsCiAgICBkb2NfZGF0ZSAgICAgICAgICAgVEVYVCAgICAgTk9UIE5VTEwsCiAgICBpZF93YXJlaG91c2UgICAgICAgVEVYVCAgICAgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSRUZFUkVOQ0VTIFJTX3dhcmVob3VzZXMgKGlkKSwKICAgIHZlcmlmaWVkICAgICAgICAgICBJTlRFR0VSLAogICAgc2VudCAgICAgICAgICAgICAgIElOVEVHRVIsCiAgICBhZGRfbWFya19zZWxlY3Rpb24gSU5URUdFUiwKICAgIGNyZWF0ZWRfYXQgICAgICAgICBEQVRFVElNRSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLAogICAgY29udHJvbCAgICAgICAgICAgIFRFWFQgICAgIERFRkFVTFQgMAogICAgKQogICAgJycnKQoKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFJTX2Fkcl9kb2NzX3RhYmxlICgKICAgIGlkICAgICAgICAgICAgSU5URUdFUiAgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCwKICAgIGlkX2RvYyAgICAgICAgVEVYVCAgICAgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVGRVJFTkNFUyBSU19hZHJfZG9jcyAoaWRfZG9jKSBPTiBERUxFVEUgQ0FTQ0FERQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9OIFVQREFURSBTRVQgREVGQVVMVCwKICAgIGlkX2dvb2QgICAgICAgVEVYVCAgICAgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVGRVJFTkNFUyBSU19nb29kcyAoaWQpLAogICAgaWRfcHJvcGVydGllcyBURVhUICAgICBSRUZFUkVOQ0VTIFJTX3Byb3BlcnRpZXMgKGlkKSwKICAgIGlkX3NlcmllcyAgICAgVEVYVCAgICAgUkVGRVJFTkNFUyBSU19zZXJpZXMgKGlkKSwKICAgIGlkX3VuaXQgICAgICAgVEVYVCAgICAgUkVGRVJFTkNFUyBSU191bml0cyAoaWQpLAogICAgcXR0eSAgICAgICAgICBSRUFMLAogICAgcXR0eV9wbGFuICAgICBSRUFMLAogICAgc2VudCAgICAgICAgICBJTlRFR0VSLAogICAgbGFzdF91cGRhdGVkICBEQVRFVElNRSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLAogICAgaXNfcGxhbiAgICAgICBURVhUICAgICBERUZBVUxUIFRydWUsCiAgICBpZF9jZWxsICAgICAgIFRFWFQgICAgIFJFRkVSRU5DRVMgUlNfY2VsbHMgKGlkKSwgCiAgICB0YWJsZV90eXBlICAgIFRFWFQgICAgIE5PVCBOVUxMCiAgICAgICAgICAgICAgICAgICAgICAgICAgIERFRkFVTFQgJ291dCcKICAgICkKICAgICcnJykKCiAgICBScy5hcHBlbmQoJycnCiAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgRXJyb3JfbG9nICgKICAgICAgICBsb2cgICAgICAgVEVYVCAgICAgTk9UIE5VTEwKICAgICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVCAoJycpLAogICAgICAgIHRpbWVzdGFtcCBEQVRFVElNRSBERUZBVUxUIChDVVJSRU5UX1RJTUVTVEFNUCkpIAogICAgJycnKQoKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBJTkRFWCAgSUYgTk9UIEVYSVNUUyBjZWxsX25hbWUgT04gUlNfY2VsbHMgKAogICAgbmFtZQogICAgKQogICAgJycnKQoKICAgIFJzLmFwcGVuZCgnJycKICAgIENSRUFURSBJTkRFWCAgSUYgTk9UIEVYSVNUUyBjZWxsX25hbWUgT04gUlNfY2VsbHMgKAogICAgYmFyY29kZQogICAgKQogICAgJycnKQoKCiMgUlNfY29uc3RhbnRzICsgUlNfY2xhc3NpZmllcl91bml0cyArIFJTX3R5cGVzX2dvb2RzCiMgICAgIFJzID0gKyBSU19nb29kcyArIFJTX3Byb3BlcnRpZXNcCiMgICAgICAgICAgKyBSU19zZXJpZXMgKyBSU191bml0cyArIFJTX2JhcmNvZGVzICsgUlNfbWFya2luZ19jb2RlcyArIFJTX2RvY3MgKyBSU19kb2NzX2JhcmNvZGVzXAojICAgICAgICAgICsgUlNfZG9jc190YWJsZSArIFJTX3ByaWNlX3R5cGVzICsgUlNfcHJpY2VzICsgUlNfY291bnRyYWdlbnRzICsgUlNfd2FyZWhvdXNlcwoKICAgIHJldHVybiBScwojcHJpbnQoZGF0YWJhc2Vfc2hlbWEoKSkKICAgICMKICAgICMgUnMuYXBwZW5kKFJTX2NvbnN0YW50cykKICAgICMgUnMuYXBwZW5kKFJTX2NsYXNzaWZpZXJfdW5pdHMpCiAgICAjIFJzLmFwcGVuZChSU190eXBlc19nb29kcykKICAgICMKICAgICMgUnMuYXBwZW5kKFJTX2dvb2RzKQogICAgIyBScy5hcHBlbmQoUlNfcHJvcGVydGllcykKICAgICMgUnMuYXBwZW5kKFJTX3NlcmllcykKICAgICMgUnMuYXBwZW5kKFJTX3VuaXRzKQogICAgIwogICAgIyBScy5hcHBlbmQoUlNfYmFyY29kZXMpCiAgICAjIFJzLmFwcGVuZChSU19tYXJraW5nX2NvZGVzKQogICAgIwogICAgIyBScy5hcHBlbmQoUlNfZG9jcykKICAgICMgUnMuYXBwZW5kKFJTX2RvY3NfYmFyY29kZXMpCiAgICAjIFJzLmFwcGVuZChSU19kb2NzX3RhYmxlKQogICAgIwogICAgIyBScy5hcHBlbmQoUlNfcHJpY2VfdHlwZXMpCiAgICAjIFJzLmFwcGVuZChSU19wcmljZXMpCiAgICAjCiAgICAjIFJzLmFwcGVuZChSU19jb3VudHJhZ2VudHMpCiAgICAjIFJzLmFwcGVuZChSU193YXJlaG91c2VzKQogICAgI3VpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KFJzKQoK"
            }
        ],
        "StyleTemplates": [],
        "arch2": true,
        "CommonHandlers": [
            {
                "event": "onLaunch",
                "action": "run",
                "type": "python",
                "method": "app_on_start",
                "postExecute": "",
                "alias": "on_start"
            },
            {
                "event": "onWebServiceSyncCommand",
                "action": "run",
                "type": "python",
                "method": "event_service",
                "postExecute": "",
                "alias": "event_service"
            },
            {
                "event": "onWebServiceSyncCommand",
                "listener": "",
                "action": "run",
                "type": "python",
                "method": "put_notification",
                "postExecute": "",
                "alias": ""
            }
        ]
    }
}